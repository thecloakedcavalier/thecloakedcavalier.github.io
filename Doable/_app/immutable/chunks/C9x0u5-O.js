import{A as ge,r as he,n as T,g as Ee,E as me,a as ye,b as fe,c as Ie,t as xe,f as ve,p as Pe,N as Se,d as Ce,e as Ae,h as Re,j as _e,s as we,S as be,D as De,F as Fe,k as ke,m as Oe,o as $e,q as Ue,u as Ge,v as Me,w as Te,x as He,y as Le,z as Ne,B as je,C as ze,G as qe,H as Ke,I as Ve,J as Be,K as Je,L as We,M as Qe,O as Xe,P as Ye,Q as Ze,R as et,T as tt,U as nt,V as ot,W as rt,X as st,Y as it,Z as at,_ as d,$ as H,a0 as L}from"./BJ3Fxkwa.js";class ct{async sign(t,o,s){return t}}class dt extends ge{constructor({defaultNamespace:t,serviceTarget:o,awsQueryCompatible:s,jsonCodec:c}){super({defaultNamespace:t,serviceTarget:o,awsQueryCompatible:s,jsonCodec:c})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}const pt=async(e,t,o)=>({operation:Ee(t).operation,region:await T(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ut(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(t,o)=>({signingProperties:{config:t,context:o}})}}function S(e){return{schemeId:"smithy.api#noAuth"}}const lt=e=>{const t=[];switch(e.operation){case"GetCredentialsForIdentity":{t.push(S());break}case"GetId":{t.push(S());break}case"GetOpenIdToken":{t.push(S());break}case"UnlinkIdentity":{t.push(S());break}default:t.push(ut(e))}return t},gt=e=>{const t=he(e);return Object.assign(t,{authSchemePreference:T(e.authSchemePreference??[])})},ht=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),N={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Et="3.948.0",mt={version:Et},j="required",i="fn",a="argv",f="ref",w=!0,b="isSet",v="booleanEquals",y="error",g="endpoint",m="tree",A="PartitionResult",R="getAttr",I="stringEquals",D={[j]:!1,type:"string"},F={[j]:!0,default:!1,type:"boolean"},k={[f]:"Endpoint"},z={[i]:v,[a]:[{[f]:"UseFIPS"},!0]},q={[i]:v,[a]:[{[f]:"UseDualStack"},!0]},r={},x={[f]:"Region"},O={[i]:R,[a]:[{[f]:A},"supportsFIPS"]},K={[f]:A},$={[i]:v,[a]:[!0,{[i]:R,[a]:[K,"supportsDualStack"]}]},U=[z],G=[q],M=[x],yt={parameters:{Region:D,UseDualStack:F,UseFIPS:F,Endpoint:D},rules:[{conditions:[{[i]:b,[a]:[k]}],rules:[{conditions:U,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:y},{conditions:G,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:y},{endpoint:{url:k,properties:r,headers:r},type:g}],type:m},{conditions:[{[i]:b,[a]:M}],rules:[{conditions:[{[i]:"aws.partition",[a]:M,assign:A}],rules:[{conditions:[z,q],rules:[{conditions:[{[i]:v,[a]:[w,O]},$],rules:[{conditions:[{[i]:I,[a]:[x,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:r,headers:r},type:g},{conditions:[{[i]:I,[a]:[x,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:r,headers:r},type:g},{conditions:[{[i]:I,[a]:[x,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:r,headers:r},type:g},{conditions:[{[i]:I,[a]:[x,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:r,headers:r},type:g},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:r,headers:r},type:g}],type:m},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:y}],type:m},{conditions:U,rules:[{conditions:[{[i]:v,[a]:[O,w]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:r,headers:r},type:g}],type:m},{error:"FIPS is enabled but this partition does not support FIPS",type:y}],type:m},{conditions:G,rules:[{conditions:[$],rules:[{conditions:[{[i]:I,[a]:["aws",{[i]:R,[a]:[K,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:r,headers:r},type:g},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:r,headers:r},type:g}],type:m},{error:"DualStack is enabled but this partition does not support DualStack",type:y}],type:m},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:r,headers:r},type:g}],type:m}],type:m},{error:"Invalid Configuration: Missing Region",type:y}]},ft=yt,It=new me({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),xt=(e,t={})=>It.get(e,()=>ye(ft,{endpointParams:e,logger:t.logger}));Ie.aws=fe;const vt=e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??Re,base64Encoder:e?.base64Encoder??Ae,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??xt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??lt,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Ce},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ct}],logger:e?.logger??new Se,protocol:e?.protocol??new dt({defaultNamespace:"com.amazonaws.cognitoidentity",serviceTarget:"AWSCognitoIdentityService",awsQueryCompatible:!1}),serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??Pe,utf8Decoder:e?.utf8Decoder??ve,utf8Encoder:e?.utf8Encoder??xe}),Pt=e=>{const t=_e(e),o=()=>t().then(Te),s=vt(e);return{...s,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Ue,credentialDefaultProvider:e?.credentialDefaultProvider??(c=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??$e({serviceId:s.serviceId,clientVersion:mt.version}),maxAttempts:e?.maxAttempts??Oe,region:e?.region??ke("Region is missing"),requestHandler:Fe.create(e?.requestHandler??o),retryMode:e?.retryMode??(async()=>(await o()).retryMode||De),sha256:e?.sha256??be,streamCollector:e?.streamCollector??we,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(Me)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(Ge))}},St=e=>{const t=e.httpAuthSchemes;let o=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(c){const P=t.findIndex(C=>C.schemeId===c.schemeId);P===-1?t.push(c):t.splice(P,1,c)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(c){o=c},httpAuthSchemeProvider(){return o},setCredentials(c){s=c},credentials(){return s}}},Ct=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),At=(e,t)=>{const o=Object.assign(He(e),Le(e),Ne(e),St(e));return t.forEach(s=>s.configure(o)),Object.assign(e,je(o),ze(o),qe(o),Ct(o))};class $n extends Ke{config;constructor(...[t]){const o=Pt(t||{});super(o),this.initConfig=o;const s=ht(o),c=Ve(s),P=Be(c),C=Je(P),ce=Qe(C),de=We(ce),pe=gt(de),ue=At(pe,t?.extensions||[]);this.config=ue,this.middlewareStack.use(Xe(this.config)),this.middlewareStack.use(Ye(this.config)),this.middlewareStack.use(Ze(this.config)),this.middlewareStack.use(et(this.config)),this.middlewareStack.use(tt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(ot(this.config)),this.middlewareStack.use(rt(this.config,{httpAuthSchemeParametersProvider:pt,identityProviderConfigProvider:async le=>new st({"aws.auth#sigv4":le.credentials})})),this.middlewareStack.use(it(this.config))}destroy(){super.destroy()}}let p=class V extends at{constructor(t){super(t),Object.setPrototypeOf(this,V.prototype)}},Rt=class B extends p{name="InternalErrorException";$fault="server";constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),Object.setPrototypeOf(this,B.prototype)}},_t=class J extends p{name="InvalidParameterException";$fault="client";constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,J.prototype)}},wt=class W extends p{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,W.prototype)}},bt=class Q extends p{name="NotAuthorizedException";$fault="client";constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,Q.prototype)}},Dt=class X extends p{name="ResourceConflictException";$fault="client";constructor(t){super({name:"ResourceConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,X.prototype)}},Ft=class Y extends p{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,Y.prototype)}},kt=class Z extends p{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Z.prototype)}},Ot=class ee extends p{name="ExternalServiceException";$fault="client";constructor(t){super({name:"ExternalServiceException",$fault:"client",...t}),Object.setPrototypeOf(this,ee.prototype)}},$t=class te extends p{name="InvalidIdentityPoolConfigurationException";$fault="client";constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t}),Object.setPrototypeOf(this,te.prototype)}},Ut=class ne extends p{name="DeveloperUserAlreadyRegisteredException";$fault="client";constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t}),Object.setPrototypeOf(this,ne.prototype)}},Gt=class oe extends p{name="ConcurrentModificationException";$fault="client";constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),Object.setPrototypeOf(this,oe.prototype)}};const Mt="AccountId",Tt="AccessKeyId",re="Credentials",Ht="ConcurrentModificationException",Lt="CustomRoleArn",Nt="DeveloperUserAlreadyRegisteredException",jt="Expiration",zt="ExternalServiceException",qt="GetCredentialsForIdentity",Kt="GetCredentialsForIdentityInput",Vt="GetCredentialsForIdentityResponse",Bt="GetId",Jt="GetIdInput",Wt="GetIdResponse",Qt="InternalErrorException",_="IdentityId",Xt="InvalidIdentityPoolConfigurationException",Yt="InvalidParameterException",Zt="IdentityPoolId",en="IdentityProviderToken",se="Logins",tn="LimitExceededException",nn="LoginsMap",on="NotAuthorizedException",rn="ResourceConflictException",sn="ResourceNotFoundException",an="SecretKey",cn="SecretKeyString",dn="SessionToken",pn="TooManyRequestsException",h="client",u="error",E="httpError",l="message",un="server",ie="smithy.ts.sdk.synthetic.com.amazonaws.cognitoidentity",n="com.amazonaws.cognitoidentity";var ln=[0,n,en,8,0],gn=[0,n,cn,8,0],hn=[-3,n,Ht,{[u]:h,[E]:400},[l],[0]];d.for(n).registerError(hn,Gt);var En=[3,n,re,0,[Tt,an,dn,jt],[0,[()=>gn,0],0,4]],mn=[-3,n,Nt,{[u]:h,[E]:400},[l],[0]];d.for(n).registerError(mn,Ut);var yn=[-3,n,zt,{[u]:h,[E]:400},[l],[0]];d.for(n).registerError(yn,Ot);var fn=[3,n,Kt,0,[_,se,Lt],[0,[()=>ae,0],0]],In=[3,n,Vt,0,[_,re],[0,[()=>En,0]]],xn=[3,n,Jt,0,[Mt,Zt,se],[0,0,[()=>ae,0]]],vn=[3,n,Wt,0,[_],[0]],Pn=[-3,n,Qt,{[u]:un},[l],[0]];d.for(n).registerError(Pn,Rt);var Sn=[-3,n,Xt,{[u]:h,[E]:400},[l],[0]];d.for(n).registerError(Sn,$t);var Cn=[-3,n,Yt,{[u]:h,[E]:400},[l],[0]];d.for(n).registerError(Cn,_t);var An=[-3,n,tn,{[u]:h,[E]:400},[l],[0]];d.for(n).registerError(An,wt);var Rn=[-3,n,on,{[u]:h,[E]:403},[l],[0]];d.for(n).registerError(Rn,bt);var _n=[-3,n,rn,{[u]:h,[E]:409},[l],[0]];d.for(n).registerError(_n,Dt);var wn=[-3,n,sn,{[u]:h,[E]:404},[l],[0]];d.for(n).registerError(wn,kt);var bn=[-3,n,pn,{[u]:h,[E]:429},[l],[0]];d.for(n).registerError(bn,Ft);var Dn=[-3,ie,"CognitoIdentityServiceException",0,[],[]];d.for(ie).registerError(Dn,p);var ae=[2,n,nn,0,[0,0],[()=>ln,0]],Fn=[9,n,qt,0,()=>fn,()=>In],kn=[9,n,Bt,0,()=>xn,()=>vn];class Un extends H.classBuilder().ep(N).m(function(t,o,s,c){return[L(s,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").sc(Fn).build(){}class Gn extends H.classBuilder().ep(N).m(function(t,o,s,c){return[L(s,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").sc(kn).build(){}export{$n as CognitoIdentityClient,Un as GetCredentialsForIdentityCommand,Gn as GetIdCommand};
