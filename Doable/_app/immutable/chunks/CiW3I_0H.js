import"./DsnmJJEf.js";import{W as jn,o as Z,A as tc,Y as _i,p as nc,n as rc,I as g,ad as sc,T as oc,U as ic,V as ao,X as Hn,z as wt,ao as ac,aL as cc,w as pr,$ as lc,Z as We,aJ as Ai,i as Ii,aN as uc,al as mr,an as dc,a0 as Ci,a1 as fc,aR as hc,aS as Vn,y as Ri,aT as pc,aU as mc,aA as yc,aV as gc,aI as bc,aW as vc,ab as Ti,aX as Cr,a2 as wc,aY as Ec,aZ as Sc,v as xc,a_ as _c,a$ as Ac,b0 as Ic,a4 as Pi,b1 as Cc,b2 as Rc,b3 as Tc,aD as Ni,b4 as Pc,x as Et,t as Nc,e as ki,a3 as Oi,b5 as kc,aO as D,b6 as co,aa as v,am as St,M as et,u as Rr,B as Mi,C as cn,D as q,P as tt,N as Y,Q as S,S as _,R as w,b7 as $i,O as Re,b8 as lo,av as Ct,j as Di,a9 as Be,s as Oc}from"./DpjUxUlI.js";import{d as Ut,s as F,e as uo}from"./BSxS0Q91.js";import{_ as Li,p as qn,i as ue,b as Tr}from"./DdDKCqRJ.js";function Mc(e,t){return t}function $c(e,t,n){for(var r=e.items,s=[],o=t.length,i=0;i<o;i++)gc(t[i].e,s,!0);var a=o>0&&s.length===0&&n!==null;if(a){var l=n.parentNode;bc(l),l.append(n),r.clear(),ge(e,t[0].prev,t[o-1].next)}vc(s,()=>{for(var c=0;c<o;c++){var f=t[c];a||(r.delete(f.k),ge(e,f.prev,f.next)),Ri(f.e,!a)}})}function Ui(e,t,n,r,s,o=null){var i=e,a={flags:t,items:new Map,first:null};{var l=e;i=Z?jn(tc(l)):l.appendChild(_i())}Z&&nc();var c=null,f=!1,d=new Map,u=sc(()=>{var p=n();return Ii(p)?p:p==null?[]:Ai(p)}),h,y;function m(){Dc(y,h,a,d,i,s,t,r,n),o!==null&&(h.length===0?c?Ci(c):c=pr(()=>o(i)):c!==null&&fc(c,()=>{c=null}))}rc(()=>{y??=Ti,h=g(u);var p=h.length;if(f&&p===0)return;f=p===0;let b=!1;if(Z){var x=oc(i)===ic;x!==(p===0)&&(i=ao(),jn(i),Hn(!1),b=!0)}if(Z){for(var E=null,C,R=0;R<p;R++){if(wt.nodeType===ac&&wt.data===cc){i=wt,b=!0,Hn(!1);break}var O=h[R],H=r(O,R);C=yr(wt,a,E,null,O,H,R,s,t,n),a.items.set(H,C),E=C}p>0&&jn(ao())}if(Z)p===0&&o&&(c=pr(()=>o(i)));else if(lc()){var V=new Set,z=We;for(R=0;R<p;R+=1){O=h[R],H=r(O,R);var ie=a.items.get(H)??d.get(H);ie?Bi(ie,O,R):(C=yr(null,a,null,null,O,H,R,s,t,n,!0),d.set(H,C)),V.add(H)}for(const[re,fe]of a.items)V.has(re)||z.skipped_effects.add(fe.e);z.add_callback(m)}else m();b&&Hn(!0),g(u)}),Z&&(i=wt)}function Dc(e,t,n,r,s,o,i,a,l){var c=t.length,f=n.items,d=n.first,u=d,h,y=null,m=[],p=[],b,x,E,C;for(C=0;C<c;C+=1){if(b=t[C],x=a(b,C),E=f.get(x),E===void 0){var R=r.get(x);if(R!==void 0){r.delete(x),f.set(x,R);var O=y?y.next:u;ge(n,y,R),ge(n,R,O),Gn(R,O,s),y=R}else{var H=u?u.e.nodes_start:s;y=yr(H,n,y,y===null?n.first:y.next,b,x,C,o,i,l)}f.set(x,y),m=[],p=[],u=y.next;continue}if(Bi(E,b,C),(E.e.f&Vn)!==0&&Ci(E.e),E!==u){if(h!==void 0&&h.has(E)){if(m.length<p.length){var V=p[0],z;y=V.prev;var ie=m[0],re=m[m.length-1];for(z=0;z<m.length;z+=1)Gn(m[z],V,s);for(z=0;z<p.length;z+=1)h.delete(p[z]);ge(n,ie.prev,re.next),ge(n,y,ie),ge(n,re,V),u=V,y=re,C-=1,m=[],p=[]}else h.delete(E),Gn(E,u,s),ge(n,E.prev,E.next),ge(n,E,y===null?n.first:y.next),ge(n,y,E),y=E;continue}for(m=[],p=[];u!==null&&u.k!==x;)(u.e.f&Vn)===0&&(h??=new Set).add(u),p.push(u),u=u.next;if(u===null)continue;E=u}m.push(E),y=E,u=E.next}if(u!==null||h!==void 0){for(var fe=h===void 0?[]:Ai(h);u!==null;)(u.e.f&Vn)===0&&fe.push(u),u=u.next;var j=fe.length;if(j>0){var G=c===0?s:null;$c(n,fe,G)}}e.first=n.first&&n.first.e,e.last=y&&y.e;for(var se of r.values())Ri(se.e);r.clear()}function Bi(e,t,n,r){dc(e.v,t),e.i=n}function yr(e,t,n,r,s,o,i,a,l,c,f){var d=(l&pc)!==0,u=(l&mc)===0,h=d?u?uc(s,!1,!1):mr(s):s,y=(l&hc)===0?i:mr(i),m={i:y,v:h,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var p=document.createDocumentFragment();p.append(e=_i())}return m.e=pr(()=>a(e,h,y,c),Z),m.e.prev=n&&n.e,m.e.next=r&&r.e,n===null?f||(t.first=m):(n.next=m,n.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function Gn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var i=yc(o);s.before(o),o=i}}function ge(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const fo=[...` 	
\r\fÂ \v\uFEFF`];function Lc(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var o=s.length,i=0;(i=r.indexOf(s,i))>=0;){var a=i+o;(i===0||fo.includes(r[i-1]))&&(a===r.length||fo.includes(r[a]))?r=(i===0?"":r.substring(0,i))+r.substring(a+1):i=a}}return r===""?null:r}function Uc(e,t){return e==null?null:String(e)}function Fi(e,t,n,r,s,o){var i=e.__className;if(Z||i!==n||i===void 0){var a=Lc(n,r,o);(!Z||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):e.className=a),e.__className=n}else if(o&&s!==o)for(var l in o){var c=!!o[l];(s==null||c!==!!s[l])&&e.classList.toggle(l,c)}return o}function Bc(e,t,n,r){var s=e.__style;if(Z||s!==t){var o=Uc(t);(!Z||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}return r}function zi(e,t,n=!1){if(e.multiple){if(t==null)return;if(!Ii(t))return Ec();for(var r of e.options)r.selected=t.includes(Rt(r));return}for(r of e.options){var s=Rt(r);if(Sc(s,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Fc(e){var t=new MutationObserver(()=>{zi(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),xc(()=>{t.disconnect()})}function Ge(e,t,n=t){var r=!0;Cr(e,"change",s=>{var o=s?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(o),Rt);else{var a=e.querySelector(o)??e.querySelector("option:not([disabled])");i=a&&Rt(a)}n(i)}),wc(()=>{var s=t();if(zi(e,s,r),r&&s===void 0){var o=e.querySelector(":checked");o!==null&&(s=Rt(o),n(s))}e.__value=s,r=!1}),Fc(e)}function Rt(e){return"__value"in e?e.__value:e.value}const zc=Symbol("is custom element"),jc=Symbol("is html");function xt(e){if(Z){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;gr(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var s=e.checked;gr(e,"checked",null),e.checked=s}}};e.__on_r=n,Pi(n),Cc()}}function gr(e,t,n,r){var s=Hc(e);Z&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=n)&&(t==="loading"&&(e[Rc]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Vc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Hc(e){return e.__attributes??={[zc]:e.nodeName.includes("-"),[jc]:e.namespaceURI===_c}}var ho=new Map;function Vc(e){var t=e.getAttribute("is")||e.nodeName,n=ho.get(t);if(n)return n;ho.set(t,n=[]);for(var r,s=e,o=Element.prototype;o!==s;){r=Ic(s);for(var i in r)r[i].set&&n.push(i);s=Ac(s)}return n}const qc=()=>performance.now(),Ae={tick:e=>requestAnimationFrame(e),now:()=>qc(),tasks:new Set};function ji(){const e=Ae.now();Ae.tasks.forEach(t=>{t.c(e)||(Ae.tasks.delete(t),t.f())}),Ae.tasks.size!==0&&Ae.tick(ji)}function Gc(e){let t;return Ae.tasks.size===0&&Ae.tick(ji),{promise:new Promise(n=>{Ae.tasks.add(t={c:e,f:n})}),abort(){Ae.tasks.delete(t)}}}function po(e,t){Ni(()=>{e.dispatchEvent(new CustomEvent(t))})}function Kc(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Wc(e){const t={},n=e.split(";");for(const r of n){const[s,o]=r.split(":");if(!s||o===void 0)break;const i=Kc(s.trim());t[i]=o.trim()}return t}const Xc=e=>e;function Yc(e,t,n,r){var s=(e&Tc)!==0,o="out",i,a=t.inert;t.style.overflow;var l,c;function f(){return Ni(()=>i??=n()(t,r?.()??{},{direction:o}))}var d={is_global:s,in(){t.inert=a;{c?.abort(),c?.reset?.();return}},out(h){t.inert=!0,po(t,"outrostart"),c=Hi(t,f(),l,0,()=>{po(t,"outroend"),h?.()})},stop:()=>{c?.abort()}},u=Ti;(u.transitions??=[]).push(d)}function Hi(e,t,n,r,s){if(Pc(t)){var o,i=!1;return Pi(()=>{if(!i){var y=t({direction:"out"});o=Hi(e,y,n,r,s)}}),{abort:()=>{i=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(!t?.duration)return s(),{abort:Et,deactivate:Et,reset:Et,t:()=>r};const{delay:a=0,css:l,tick:c,easing:f=Xc}=t;var d=[],u=()=>1-r,h=e.animate(d,{duration:a,fill:"forwards"});return h.onfinish=()=>{h.cancel();var y=1-r,m=r-y,p=t.duration*Math.abs(m),b=[];if(p>0){var x=!1;if(l)for(var E=Math.ceil(p/16.666666666666668),C=0;C<=E;C+=1){var R=y+m*f(C/E),O=Wc(l(R,1-R));b.push(O),x||=O.overflow==="hidden"}x&&(e.style.overflow="hidden"),u=()=>{var H=h.currentTime;return y+m*f(H/p)},c&&Gc(()=>{if(h.playState!=="running")return!1;var H=u();return c(H,1-H),!0})}h=e.animate(b,{duration:p,fill:"forwards"}),h.onfinish=()=>{u=()=>r,c?.(r,1-r),s()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=Et)},deactivate:()=>{s=Et},reset:()=>{c?.(1,0)},t:()=>u()}}function It(e,t,n=t){var r=new WeakSet;Cr(e,"input",async s=>{var o=s?e.defaultValue:e.value;if(o=Kn(e)?Wn(o):o,n(o),We!==null&&r.add(We),await Nc(),o!==(o=t())){var i=e.selectionStart,a=e.selectionEnd;e.value=o??"",a!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(a,e.value.length))}}),(Z&&e.defaultValue!==e.value||ki(t)==null&&e.value)&&(n(Kn(e)?Wn(e.value):e.value),We!==null&&r.add(We)),Oi(()=>{var s=t();if(e===document.activeElement){var o=kc??We;if(r.has(o))return}Kn(e)&&s===Wn(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function mo(e,t,n=t){Cr(e,"change",r=>{var s=r?e.defaultChecked:e.checked;n(s)}),(Z&&e.defaultChecked!==e.checked||ki(t)==null)&&n(e.checked),Oi(()=>{var r=t();e.checked=!!r})}function Kn(e){var t=e.type;return t==="number"||t==="range"}function Wn(e){return e===""?null:+e}var kt;(function(e){e.HTTP="http",e.HTTPS="https"})(kt||(kt={}));var ln;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(ln||(ln={}));const br="__smithy_context",vn=e=>e[br]||(e[br]={}),xe=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},Vi="preferred",Qc=["disabled","preferred","required"];function Jc(e){return Qc.includes(e)}const Zc=e=>{const{accountIdEndpointMode:t}=e,n=xe(t??Vi);return Object.assign(e,{accountIdEndpointMode:async()=>{const r=await n();if(!Jc(r))throw new Error(`Invalid value for accountIdEndpointMode: ${r}. Valid values are: "required", "preferred", "disabled".`);return r}})},el=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,n){e.httpHandler?.updateHttpClientConfig(t,n)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),tl=e=>({httpHandler:e.httpHandler()});class de{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){const n=new de({...t,headers:{...t.headers}});return n.query&&(n.query=nl(n.query)),n}static isInstance(t){if(!t)return!1;const n=t;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return de.clone(this)}}function nl(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}},{})}class Ot{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const n=t;return typeof n.statusCode=="number"&&typeof n.headers=="object"}}function rl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xn,yo;function sl(){if(yo)return Xn;yo=1;function e(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}return e.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t},typeof Symbol<"u"&&(e.prototype[Symbol.iterator]=function(){return this}),e.of=function(){var t=arguments,n=t.length,r=0;return new e(function(){return r>=n?{done:!0}:{done:!1,value:t[r++]}})},e.empty=function(){var t=new e(null);return t.done=!0,t},e.is=function(t){return t instanceof e?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"},Xn=e,Xn}var Yn,go;function qi(){if(go)return Yn;go=1;var e=typeof ArrayBuffer<"u",t=typeof Symbol<"u";function n(r,s){var o,i,a,l,c;if(!r)throw new Error("obliterator/forEach: invalid iterable.");if(typeof s!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(r)||e&&ArrayBuffer.isView(r)||typeof r=="string"||r.toString()==="[object Arguments]"){for(a=0,l=r.length;a<l;a++)s(r[a],a);return}if(typeof r.forEach=="function"){r.forEach(s);return}if(t&&Symbol.iterator in r&&typeof r.next!="function"&&(r=r[Symbol.iterator]()),typeof r.next=="function"){for(o=r,a=0;c=o.next(),c.done!==!0;)s(c.value,a),a++;return}for(i in r)r.hasOwnProperty(i)&&s(r[i],i)}return n.forEachWithNullKeys=function(r,s){var o,i,a,l,c;if(!r)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof s!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(r)||e&&ArrayBuffer.isView(r)||typeof r=="string"||r.toString()==="[object Arguments]"){for(a=0,l=r.length;a<l;a++)s(r[a],null);return}if(r instanceof Set){r.forEach(function(f){s(f,null)});return}if(typeof r.forEach=="function"){r.forEach(s);return}if(t&&Symbol.iterator in r&&typeof r.next!="function"&&(r=r[Symbol.iterator]()),typeof r.next=="function"){for(o=r,a=0;c=o.next(),c.done!==!0;)s(c.value,null),a++;return}for(i in r)r.hasOwnProperty(i)&&s(r[i],i)},Yn=n,Yn}var Qn={},bo;function Gi(){return bo||(bo=1,(function(e){var t=Math.pow(2,8)-1,n=Math.pow(2,16)-1,r=Math.pow(2,32)-1,s=Math.pow(2,7)-1,o=Math.pow(2,15)-1,i=Math.pow(2,31)-1;e.getPointerArray=function(l){var c=l-1;return c<=t?Uint8Array:c<=n?Uint16Array:c<=r?Uint32Array:Float64Array},e.getSignedPointerArray=function(l){var c=l-1;return c<=s?Int8Array:c<=o?Int16Array:c<=i?Int32Array:Float64Array},e.getNumberType=function(l){return l===(l|0)?Math.sign(l)===-1?l<=127&&l>=-128?Int8Array:l<=32767&&l>=-32768?Int16Array:Int32Array:l<=255?Uint8Array:l<=65535?Uint16Array:Uint32Array:Float64Array};var a={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(l,c){var f=null,d=0,u,h,y,m,p;for(m=0,p=l.length;m<p;m++)y=c?c(l[m]):l[m],h=e.getNumberType(y),u=a[h.name],u>d&&(d=u,f=h);return f},e.isTypedArray=function(l){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(l)},e.concat=function(){var l=0,c,f,d;for(c=0,d=arguments.length;c<d;c++)l+=arguments[c].length;var u=new arguments[0].constructor(l);for(c=0,f=0;c<d;c++)u.set(arguments[c],f),f+=arguments[c].length;return u},e.indices=function(l){for(var c=e.getPointerArray(l),f=new c(l),d=0;d<l;d++)f[d]=d;return f}})(Qn)),Qn}var Ke={},vo;function ol(){if(vo)return Ke;vo=1;var e=qi(),t=Gi();function n(i){return Array.isArray(i)||t.isTypedArray(i)}function r(i){if(typeof i.length=="number")return i.length;if(typeof i.size=="number")return i.size}function s(i){var a=r(i),l=typeof a=="number"?new Array(a):[],c=0;return e(i,function(f){l[c++]=f}),l}function o(i){var a=r(i),l=typeof a=="number"?t.getPointerArray(a):Array,c=typeof a=="number"?new Array(a):[],f=typeof a=="number"?new l(a):[],d=0;return e(i,function(u){c[d]=u,f[d]=d++}),[c,f]}return Ke.isArrayLike=n,Ke.guessLength=r,Ke.toArray=s,Ke.toArrayWithIndices=o,Ke}var Jn,wo;function il(){if(wo)return Jn;wo=1;var e=sl(),t=qi(),n=Gi(),r=ol();function s(o,i,a){if(arguments.length<2&&(a=o,o=null,i=null),this.capacity=a,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var l=n.getPointerArray(a);this.forward=new l(a),this.backward=new l(a),this.K=typeof o=="function"?new o(a):new Array(a),this.V=typeof i=="function"?new i(a):new Array(a),this.size=0,this.head=0,this.tail=0,this.items={}}return s.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},s.prototype.splayOnTop=function(o){var i=this.head;if(this.head===o)return this;var a=this.backward[o],l=this.forward[o];return this.tail===o?this.tail=a:this.backward[l]=a,this.forward[a]=l,this.backward[i]=o,this.head=o,this.forward[o]=i,this},s.prototype.set=function(o,i){var a=this.items[o];if(typeof a<"u"){this.splayOnTop(a),this.V[a]=i;return}this.size<this.capacity?a=this.size++:(a=this.tail,this.tail=this.backward[a],delete this.items[this.K[a]]),this.items[o]=a,this.K[a]=o,this.V[a]=i,this.forward[a]=this.head,this.backward[this.head]=a,this.head=a},s.prototype.setpop=function(o,i){var a=null,l=null,c=this.items[o];return typeof c<"u"?(this.splayOnTop(c),a=this.V[c],this.V[c]=i,{evicted:!1,key:o,value:a}):(this.size<this.capacity?c=this.size++:(c=this.tail,this.tail=this.backward[c],a=this.V[c],l=this.K[c],delete this.items[this.K[c]]),this.items[o]=c,this.K[c]=o,this.V[c]=i,this.forward[c]=this.head,this.backward[this.head]=c,this.head=c,l?{evicted:!0,key:l,value:a}:null)},s.prototype.has=function(o){return o in this.items},s.prototype.get=function(o){var i=this.items[o];if(!(typeof i>"u"))return this.splayOnTop(i),this.V[i]},s.prototype.peek=function(o){var i=this.items[o];if(!(typeof i>"u"))return this.V[i]},s.prototype.forEach=function(o,i){i=arguments.length>1?i:this;for(var a=0,l=this.size,c=this.head,f=this.K,d=this.V,u=this.forward;a<l;)o.call(i,d[c],f[c],this),c=u[c],a++},s.prototype.keys=function(){var o=0,i=this.size,a=this.head,l=this.K,c=this.forward;return new e(function(){if(o>=i)return{done:!0};var f=l[a];return o++,o<i&&(a=c[a]),{done:!1,value:f}})},s.prototype.values=function(){var o=0,i=this.size,a=this.head,l=this.V,c=this.forward;return new e(function(){if(o>=i)return{done:!0};var f=l[a];return o++,o<i&&(a=c[a]),{done:!1,value:f}})},s.prototype.entries=function(){var o=0,i=this.size,a=this.head,l=this.K,c=this.V,f=this.forward;return new e(function(){if(o>=i)return{done:!0};var d=l[a],u=c[a];return o++,o<i&&(a=f[a]),{done:!1,value:[d,u]}})},typeof Symbol<"u"&&(s.prototype[Symbol.iterator]=s.prototype.entries),s.prototype.inspect=function(){for(var o=new Map,i=this.entries(),a;a=i.next(),!a.done;)o.set(a.value[0],a.value[1]);return Object.defineProperty(o,"constructor",{value:s,enumerable:!1}),o},typeof Symbol<"u"&&(s.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.prototype.inspect),s.from=function(o,i,a,l){if(arguments.length<2){if(l=r.guessLength(o),typeof l!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(l=i,i=null,a=null);var c=new s(i,a,l);return t(o,function(f,d){c.set(d,f)}),c},Jn=s,Jn}var al=il();const cl=rl(al);let ll=class{cache;constructor(t){this.cache=new cl(t)}getEndpoint(t){const n=this.get(t);if(!n||n.length===0)return;const r=n.map(s=>s.Address);return r[Math.floor(Math.random()*r.length)]}get(t){if(!this.has(t))return;const n=this.cache.get(t);if(!n)return;const r=Date.now(),s=n.filter(o=>r<o.Expires);if(s.length===0){this.delete(t);return}return s}set(t,n){const r=Date.now();this.cache.set(t,n.map(({Address:s,CachePeriodInMinutes:o})=>({Address:s,Expires:r+o*60*1e3})))}delete(t){this.cache.set(t,[])}has(t){if(!this.cache.has(t))return!1;const n=this.cache.peek(t);return n?n.length>0:!1}clear(){this.cache.clear()}};const ul=(e,{endpointDiscoveryCommandCtor:t})=>{const{endpointCacheSize:n,endpointDiscoveryEnabled:r,endpointDiscoveryEnabledProvider:s}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new ll(n??1e3),endpointDiscoveryEnabled:r!==void 0?()=>Promise.resolve(r):s,isClientEndpointDiscoveryEnabled:r!==void 0})};function iy(e){return e}const dl=e=>t=>async n=>{if(!de.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let o=r.hostname;r.port!=null&&(o+=`:${r.port}`),r.headers.host=o}return t(n)},fl={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},hl=e=>({applyToStack:t=>{t.add(dl(e),fl)}}),pl=()=>(e,t)=>async n=>{try{const r=await e(n),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:c}=a,f=l??t.inputFilterSensitiveLog,d=c??t.outputFilterSensitiveLog,{$metadata:u,...h}=r.output;return i?.info?.({clientName:s,commandName:o,input:f(n.input),output:d(h),metadata:u}),r}catch(r){const{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l}=a,c=l??t.inputFilterSensitiveLog;throw i?.error?.({clientName:s,commandName:o,input:c(n.input),error:r,metadata:r.$metadata}),r}},ml={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},yl=e=>({applyToStack:t=>{t.add(pl(),ml)}}),gl={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},bl=()=>e=>async t=>e(t),vl=e=>({applyToStack:t=>{t.add(bl(),gl)}}),wl=(e,t)=>{if(!t||t.length===0)return e;const n=[];for(const r of t)for(const s of e)s.schemeId.split("#")[1]===r&&n.push(s);for(const r of e)n.find(({schemeId:s})=>s===r.schemeId)||n.push(r);return n};function El(e){const t=new Map;for(const n of e)t.set(n.schemeId,n);return t}const Sl=(e,t)=>(n,r)=>async s=>{const o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,r,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=wl(o,i),l=El(e.httpAuthSchemes),c=vn(r),f=[];for(const d of a){const u=l.get(d.schemeId);if(!u){f.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}const h=u.identityProvider(await t.identityProviderConfigProvider(e));if(!h){f.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:y={},signingProperties:m={}}=d.propertiesExtractor?.(e,r)||{};d.identityProperties=Object.assign(d.identityProperties||{},y),d.signingProperties=Object.assign(d.signingProperties||{},m),c.selectedHttpAuthScheme={httpAuthOption:d,identity:await h(d.identityProperties),signer:u.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(f.join(`
`));return n(s)},xl={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},_l=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(Sl(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n}),xl)}}),Al=(e,t)=>(n,r)=>async s=>{const{response:o}=await n(s);try{const i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){const a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(Ot.isInstance(o)){const{headers:l={}}=o,c=Object.entries(l);i.$metadata={httpStatusCode:o.statusCode,requestId:Zn(/^x-[\w-]+-request-?id$/,c),extendedRequestId:Zn(/^x-[\w-]+-id-2$/,c),cfId:Zn(/^x-[\w-]+-cf-id$/,c)}}}catch{}}throw i}},Zn=(e,t)=>(t.find(([n])=>n.match(e))||[void 0,void 0])[1],Il=(e,t)=>(n,r)=>async s=>{const o=e,i=r.endpointV2?.url&&o.urlParser?async()=>o.urlParser(r.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const a=await t(s.input,{...e,endpoint:i});return n({...s,request:a})},Cl={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Ki={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function wn(e,t,n){return{applyToStack:r=>{r.add(Al(e,n),Cl),r.add(Il(e,t),Ki)}}}const Rl=e=>t=>{throw t},Tl=(e,t)=>{},Pl=e=>(t,n)=>async r=>{if(!de.isInstance(r.request))return t(r);const o=vn(n).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=o,c=await t({...r,request:await l.sign(r.request,a,i)}).catch((l.errorHandler||Rl)(i));return(l.successHandler||Tl)(c.response,i),c},Nl={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},kl=e=>({applyToStack:t=>{t.addRelativeTo(Pl(),Nl)}}),Tt=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},Wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eo=Object.entries(Wi).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),Ol=Wi.split(""),Qe=6,Pt=8,Ml=63,Pr=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let s=0;s<e.length;s+=4){let o=0,i=0;for(let c=s,f=s+3;c<=f;c++)if(e[c]!=="="){if(!(e[c]in Eo))throw new TypeError(`Invalid character ${e[c]} in base64 string.`);o|=Eo[e[c]]<<(f-c)*Qe,i+=Qe}else o>>=Qe;const a=s/4*3;o>>=i%Pt;const l=Math.floor(i/Pt);for(let c=0;c<l;c++){const f=(l-c-1)*Pt;r.setUint8(a+c,(o&255<<f)>>f)}}return new Uint8Array(n)},Je=e=>new TextEncoder().encode(e),Mt=e=>typeof e=="string"?Je(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Nr=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function Xi(e){let t;typeof e=="string"?t=Je(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let o=0;o<t.length;o+=3){let i=0,a=0;for(let c=o,f=Math.min(o+3,t.length);c<f;c++)i|=t[c]<<(f-c-1)*Pt,a+=Pt;const l=Math.ceil(a/Qe);i<<=l*Qe-a;for(let c=1;c<=l;c++){const f=(l-c)*Qe;s+=Ol[(i&Ml<<f)>>f]}s+="==".slice(0,4-l)}return s}function $l(e,t="utf-8"){return t==="base64"?Xi(e):Nr(e)}function Dl(e,t){return t==="base64"?Fe.mutate(Pr(e)):Fe.mutate(Je(e))}class Fe extends Uint8Array{static fromString(t,n="utf-8"){if(typeof t=="string")return Dl(t,n);throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,Fe.prototype),t}transformToString(t="utf-8"){return $l(this,t)}}const ze=e=>encodeURIComponent(e).replace(/[!'()*]/g,Ll),Ll=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function Ul(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=ze(n),Array.isArray(r))for(let s=0,o=r.length;s<o;s++)t.push(`${n}=${ze(r[s])}`);else{let s=n;(r||typeof r=="string")&&(s+=`=${ze(r)}`),t.push(s)}}return t.join("&")}function So(e,t){return new Request(e,t)}function Bl(e=0){return new Promise((t,n)=>{e&&setTimeout(()=>{const r=new Error(`Request did not complete within ${e} ms`);r.name="TimeoutError",n(r)},e)})}const er={supported:void 0};class kr{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new kr(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(n=>n||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),er.supported===void 0&&(er.supported=typeof Request<"u"&&"keepalive"in So("https://[::1]"))}destroy(){}async handle(t,{abortSignal:n,requestTimeout:r}={}){this.config||(this.config=await this.configProvider);const s=r??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(n?.aborted){const x=new Error("Request aborted");return x.name="AbortError",Promise.reject(x)}let a=t.path;const l=Ul(t.query||{});l&&(a+=`?${l}`),t.fragment&&(a+=`#${t.fragment}`);let c="";if(t.username!=null||t.password!=null){const x=t.username??"",E=t.password??"";c=`${x}:${E}@`}const{port:f,method:d}=t,u=`${t.protocol}//${c}${t.hostname}${f?`:${f}`:""}${a}`,h=d==="GET"||d==="HEAD"?void 0:t.body,y={body:h,headers:new Headers(t.headers),method:d,credentials:i};this.config?.cache&&(y.cache=this.config.cache),h&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=n),er.supported&&(y.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let m=()=>{};const p=So(u,y),b=[fetch(p).then(x=>{const E=x.headers,C={};for(const O of E.entries())C[O[0]]=O[1];return x.body!=null?{response:new Ot({headers:C,reason:x.statusText,statusCode:x.status,body:x.body})}:x.blob().then(O=>({response:new Ot({headers:C,reason:x.statusText,statusCode:x.status,body:O})}))}),Bl(s)];return n&&b.push(new Promise((x,E)=>{const C=()=>{const R=new Error("Request aborted");R.name="AbortError",E(R)};if(typeof n.addEventListener=="function"){const R=n;R.addEventListener("abort",C,{once:!0}),m=()=>R.removeEventListener("abort",C)}else n.onabort=C})),Promise.race(b).finally(m)}updateHttpClientConfig(t,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[t]=n,r))}httpHandlerConfigs(){return this.config??{}}}const Fl=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):zl(e):jl(e);async function zl(e){const t=await Hl(e),n=Pr(t);return new Uint8Array(n)}async function jl(e){const t=[],n=e.getReader();let r=!1,s=0;for(;!r;){const{done:a,value:l}=await n.read();l&&(t.push(l),s+=l.length),r=a}const o=new Uint8Array(s);let i=0;for(const a of t)o.set(a,i),i+=a.length;return o}function Hl(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));const s=r.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;t(s.substring(i))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)})}const Yi={},vr={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Yi[e]=t,vr[t]=e}function Vl(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(r in vr)t[n/2]=vr[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t}function je(e){let t="";for(let n=0;n<e.byteLength;n++)t+=Yi[e[n]];return t}const ql=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Fe.mutate(e);if(!e)return Fe.mutate(new Uint8Array);const n=t.streamCollector(e);return Fe.mutate(await n)},Zt=e=>typeof e=="function"?e():e;class Xe{namespace;schemas;exceptions;static registries=new Map;constructor(t,n=new Map,r=new Map){this.namespace=t,this.schemas=n,this.exceptions=r}static for(t){return Xe.registries.has(t)||Xe.registries.set(t,new Xe(t)),Xe.registries.get(t)}register(t,n){const r=this.normalizeShapeId(t);this.schemas.set(r,n)}getSchema(t){const n=this.normalizeShapeId(t);if(!this.schemas.has(n))throw new Error(`@smithy/core/schema - schema not found for ${n}`);return this.schemas.get(n)}registerError(t,n){this.exceptions.set(t,n)}getErrorCtor(t){return this.exceptions.get(t)}getBaseException(){for(const[t,n]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return n}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}}class $t{name;namespace;traits;static assign(t,n){const r=Object.assign(t,n);return Xe.for(r.namespace).register(r.name,r),r}static[Symbol.hasInstance](t){const n=this.prototype.isPrototypeOf(t);return!n&&typeof t=="object"&&t!==null?t.symbol===this.symbol:n}getName(){return this.namespace+"#"+this.name}}class Or extends $t{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=Or.symbol}class Mr extends $t{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=Mr.symbol}class $r extends $t{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=$r.symbol}function en(e){if(typeof e=="object")return e;e=e|0;const t={};let n=0;for(const r of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>n++&1)===1&&(t[r]=1);return t}class Ie{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=Ie.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,n){this.ref=t,this.memberName=n;const r=[];let s=t,o=t;for(this._isMemberSchema=!1;Array.isArray(s);)r.push(s[1]),s=s[0],o=Zt(s),this._isMemberSchema=!0;if(r.length>0){this.memberTraits={};for(let i=r.length-1;i>=0;--i){const a=r[i];Object.assign(this.memberTraits,en(a))}}else this.memberTraits=0;if(o instanceof Ie){const i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=n??o.memberName;return}if(this.schema=Zt(o),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(this.schema instanceof $t?this.schema.getName?.():void 0)??this.memberName??String(o),this._isMemberSchema&&!n)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){return $t[Symbol.hasInstance].bind(this)(t)}static of(t){const n=Zt(t);if(n instanceof Ie)return n;if(Array.isArray(n)){const[r,s]=n;if(r instanceof Ie)return Object.assign(r.getMergedTraits(),en(s)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new Ie(n)}getSchema(){return Zt(this.schema?.schemaRef??this.schema)}getName(t=!1){const{name:n}=this;return!t&&n&&n.includes("#")?n.split("#")[1]:n||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){const t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t instanceof Or}isMapSchema(){const t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t instanceof Mr}isStructSchema(){const t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof $r}isBlobSchema(){const t=this.getSchema();return t===21||t===42}isTimestampSchema(){const t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){const{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){const t=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:n,traits:r,memberTraits:s}=this;return t(n)||t(r)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return en(this.memberTraits)}getOwnTraits(){return en(this.traits)}getKeySchema(){const[t,n]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!n)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);const r=this.getSchema(),s=t?15:r?.keySchema??0;return _t([s,0],"key")}getValueSchema(){const t=this.getSchema(),[n,r,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof t=="number"?63&t:t&&typeof t=="object"&&(r||s)?t.valueSchema:n?15:void 0;if(o!=null)return _t([o,0],r?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){const n=this.getSchema();if(this.isStructSchema()&&n.memberNames.includes(t)){const r=n.memberNames.indexOf(t),s=n.memberList[r];return _t(Array.isArray(s)?s:[s,0],t)}if(this.isDocumentSchema())return _t([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){const t={};try{for(const[n,r]of this.structIterator())t[n]=r}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(const[t,n]of this.structIterator())if(n.isStreaming()&&n.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");const t=this.getSchema();for(let n=0;n<t.memberNames.length;++n)yield[t.memberNames[n],_t([t.memberList[n],0],t.memberNames[n])]}}function _t(e,t){if(e instanceof Ie)return Object.assign(e,{memberName:t,_isMemberSchema:!0});const n=Ie;return new n(e,t)}const tn=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&dn.warn(un(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const t=e.toLowerCase();if((t==="false"||t==="true")&&dn.warn(un(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},wr=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&dn.warn(un(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Gl=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},xo=e=>Kl(e,32),Kl=(e,t)=>{const n=Gl(e);if(n!==void 0&&Wl(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},Wl=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ay=(e,t)=>{if(e==null)throw new TypeError("Expected a non-null value");return e},Xl=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Ce=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return dn.warn(un(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Yl=e=>{if(e==null)return;const t=Xl(e),n=Object.entries(t).filter(([,r])=>r!=null).map(([r])=>r);if(n.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return t},cy=e=>wr(typeof e=="string"?Jl(e):e),Ql=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Jl=e=>{const t=e.match(Ql);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},He=e=>typeof e=="string"?Zl(e):wr(e),Zl=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},un=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),dn={warn:console.warn},_o=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Q=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),eu=()=>{if(_o)return _o();const e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Q[e[0]]+Q[e[1]]+Q[e[2]]+Q[e[3]]+"-"+Q[e[4]]+Q[e[5]]+"-"+Q[e[6]]+Q[e[7]]+"-"+Q[e[8]]+Q[e[9]]+"-"+Q[e[10]]+Q[e[11]]+Q[e[12]]+Q[e[13]]+Q[e[14]]+Q[e[15]]};function tu(e,t,n){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=n}class nu{authSchemes=new Map;constructor(t){for(const[n,r]of Object.entries(t))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(t){return this.authSchemes.get(t)}}const ru=e=>function(n){return Qi(n)&&n.expiration.getTime()-Date.now()<e},su=3e5,ou=ru(su),Qi=e=>e.expiration!==void 0,iu=(e,t,n)=>{if(e===void 0)return;const r=typeof e!="function"?async()=>Promise.resolve(e):e;let s,o,i,a=!1;const l=async c=>{o||(o=r(c));try{s=await o,i=!0,a=!1}finally{o=void 0}return s};return t===void 0?async c=>((!i||c?.forceRefresh)&&(s=await l(c)),s):async c=>((!i||c?.forceRefresh)&&(s=await l(c)),a?s:n(s)?(t(s)&&await l(c),s):(a=!0,s))},au=void 0;function cu(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function lu(e){const t=Tt(e.userAgentAppId??au),{customUserAgent:n}=e;return Object.assign(e,{customUserAgent:typeof n=="string"?[[n]]:n,userAgentAppId:async()=>{const r=await t();if(!cu(r)){const s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof r!="string"?s?.warn("userAgentAppId must be a string or undefined."):r.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return r}})}class uu{capacity;data=new Map;parameters=[];constructor({size:t,params:n}){this.capacity=t??50,n&&(this.parameters=n)}get(t,n){const r=this.hash(t);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){const s=this.data.keys();let o=0;for(;;){const{value:i,done:a}=s.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(t){let n="";const{parameters:r}=this;if(r.length===0)return!1;for(const s of r){const o=String(t[s]??"");if(o.includes("|;"))return!1;n+=o+"|;"}return n}}const du=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Ji=e=>du.test(e)||e.startsWith("[")&&e.endsWith("]"),fu=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Dr=(e,t=!1)=>{if(!t)return fu.test(e);const n=e.split(".");for(const r of n)if(!Dr(r))return!1;return!0},fn={},Dt="endpoints";function ke(e){return typeof e!="object"||e==null?e:"ref"in e?`$${ke(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(ke).join(", ")})`:JSON.stringify(e,null,2)}class oe extends Error{constructor(t){super(t),this.name="EndpointError"}}const hu=(e,t)=>e===t,pu=e=>{const t=e.split("."),n=[];for(const r of t){const s=r.indexOf("[");if(s!==-1){if(r.indexOf("]")!==r.length-1)throw new oe(`Path: '${e}' does not end with ']'`);const o=r.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new oe(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&n.push(r.slice(0,s)),n.push(o)}else n.push(r)}return n},Zi=(e,t)=>pu(t).reduce((n,r)=>{if(typeof n!="object")throw new oe(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},e),mu=e=>e!=null,yu=e=>!e,tr={[kt.HTTP]:80,[kt.HTTPS]:443},gu=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:u,port:h,protocol:y="",path:m="",query:p={}}=e,b=new URL(`${y}//${u}${h?`:${h}`:""}${m}`);return b.search=Object.entries(p).map(([x,E])=>`${x}=${E}`).join("&"),b}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;const l=i.slice(0,-1);if(!Object.values(kt).includes(l))return null;const c=Ji(s),f=n.includes(`${r}:${tr[l]}`)||typeof e=="string"&&e.includes(`${r}:${tr[l]}`),d=`${r}${f?`:${tr[l]}`:""}`;return{scheme:l,authority:d,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:c}},bu=(e,t)=>e===t,vu=(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),wu=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Eu={booleanEquals:hu,getAttr:Zi,isSet:mu,isValidHostLabel:Dr,not:yu,parseURL:gu,stringEquals:bu,substring:vu,uriEncode:wu},ea=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let s=0;for(;s<e.length;){const o=e.indexOf("{",s);if(o===-1){n.push(e.slice(s));break}n.push(e.slice(s,o));const i=e.indexOf("}",o);if(i===-1){n.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(n.push(e.slice(o+1,i)),s=i+2);const a=e.substring(o+1,i);if(a.includes("#")){const[l,c]=a.split("#");n.push(Zi(r[l],c))}else n.push(r[a]);s=i+1}return n.join("")},Su=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],En=(e,t,n)=>{if(typeof e=="string")return ea(e,n);if(e.fn)return ta(e,n);if(e.ref)return Su(e,n);throw new oe(`'${t}': ${String(e)} is not a string, function or reference.`)},ta=({fn:e,argv:t},n)=>{const r=t.map(o=>["boolean","number"].includes(typeof o)?o:En(o,"arg",n)),s=e.split(".");return s[0]in fn&&s[1]!=null?fn[s[0]][s[1]](...r):Eu[e](...r)},xu=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new oe(`'${e}' is already defined in Reference Record.`);const r=ta(t,n);return n.logger?.debug?.(`${Dt} evaluateCondition: ${ke(t)} = ${ke(r)}`),{result:r===""?!0:!!r,...e!=null&&{toAssign:{name:e,value:r}}}},Lr=(e=[],t)=>{const n={};for(const r of e){const{result:s,toAssign:o}=xu(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!s)return{result:s};o&&(n[o.name]=o.value,t.logger?.debug?.(`${Dt} assign: ${o.name} := ${ke(o.value)}`))}return{result:!0,referenceRecord:n}},_u=(e,t)=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:s.map(o=>{const i=En(o,"Header value entry",t);if(typeof i!="string")throw new oe(`Header '${r}' value '${i}' is not a string`);return i})}),{}),na=(e,t)=>{if(Array.isArray(e))return e.map(n=>na(n,t));switch(typeof e){case"string":return ea(e,t);case"object":if(e===null)throw new oe(`Unexpected endpoint property: ${e}`);return ra(e,t);case"boolean":return e;default:throw new oe(`Unexpected endpoint property type: ${typeof e}`)}},ra=(e,t)=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:na(s,t)}),{}),Au=(e,t)=>{const n=En(e,"Endpoint URL",t);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new oe(`Endpoint URL must be a string, got ${typeof n}`)},Iu=(e,t)=>{const{conditions:n,endpoint:r}=e,{result:s,referenceRecord:o}=Lr(n,t);if(!s)return;const i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:l,headers:c}=r;return t.logger?.debug?.(`${Dt} Resolving endpoint from template: ${ke(r)}`),{...c!=null&&{headers:_u(c,i)},...l!=null&&{properties:ra(l,i)},url:Au(a,i)}},Cu=(e,t)=>{const{conditions:n,error:r}=e,{result:s,referenceRecord:o}=Lr(n,t);if(s)throw new oe(En(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},Ru=(e,t)=>{const{conditions:n,rules:r}=e,{result:s,referenceRecord:o}=Lr(n,t);if(s)return sa(r,{...t,referenceRecord:{...t.referenceRecord,...o}})},sa=(e,t)=>{for(const n of e)if(n.type==="endpoint"){const r=Iu(n,t);if(r)return r}else if(n.type==="error")Cu(n,t);else if(n.type==="tree"){const r=Ru(n,t);if(r)return r}else throw new oe(`Unknown endpoint rule: ${n}`);throw new oe("Rules evaluation failed")},Tu=(e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${Dt} Initial EndpointParams: ${ke(n)}`);const i=Object.entries(s).filter(([,c])=>c.default!=null).map(([c,f])=>[c,f.default]);if(i.length>0)for(const[c,f]of i)n[c]=n[c]??f;const a=Object.entries(s).filter(([,c])=>c.required).map(([c])=>c);for(const c of a)if(n[c]==null)throw new oe(`Missing required parameter: '${c}'`);const l=sa(o,{endpointParams:n,logger:r,referenceRecord:{}});return t.logger?.debug?.(`${Dt} Resolved endpoint: ${ke(l)}`),l},oa=(e,t=!1)=>{if(t){for(const n of e.split("."))if(!oa(n))return!1;return!0}return!(!Dr(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Ji(e))},Ao=":",Pu="/",Nu=e=>{const t=e.split(Ao);if(t.length<6)return null;const[n,r,s,o,i,...a]=t;if(n!=="arn"||r===""||s===""||a.join(Ao)==="")return null;const l=a.map(c=>c.split(Pu)).flat();return{partition:r,service:s,region:o,accountId:i,resourceId:l}},ku=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],Ou={partitions:ku};let Mu=Ou;const $u=e=>{const{partitions:t}=Mu;for(const r of t){const{regions:s,outputs:o}=r;for(const[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(const r of t){const{regionRegex:s,outputs:o}=r;if(new RegExp(s).test(e))return{...o}}const n=t.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},ia={isVirtualHostableS3Bucket:oa,parseArn:Nu,partition:$u};fn.aws=ia;function Du(e){const t={};if(e=e.replace(/^\?/,""),e)for(const n of e.split("&")){let[r,s=null]=n.split("=");r=decodeURIComponent(r),s&&(s=decodeURIComponent(s)),r in t?Array.isArray(t[r])?t[r].push(s):t[r]=[t[r],s]:t[r]=s}return t}const hn=e=>{if(typeof e=="string")return hn(new URL(e));const{hostname:t,pathname:n,port:r,protocol:s,search:o}=e;let i;return o&&(i=Du(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:s,path:n,query:i}};function Lu(e,t,n){return e.$source||(e.$source={}),e.$source[t]=n,e}function me(e,t,n){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=n}const Io=e=>Ot.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,aa=e=>new Date(Date.now()+e),Uu=(e,t)=>Math.abs(aa(t).getTime()-e)>=3e5,Co=(e,t)=>{const n=Date.parse(e);return Uu(n,t)?n-Date.now():t},Nt=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Bu=async e=>{const t=Nt("context",e.context),n=Nt("config",e.config),r=t.endpointV2?.properties?.authSchemes?.[0],o=await Nt("signer",n.signer)(r),i=e?.signingRegion,a=e?.signingRegionSet,l=e?.signingName;return{config:n,signer:o,signingRegion:i,signingRegionSet:a,signingName:l}};class Fu{async sign(t,n,r){if(!de.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const s=await Bu(r),{config:o,signer:i}=s;let{signingRegion:a,signingName:l}=s;const c=r.context;if(c?.authSchemes?.length??!1){const[d,u]=c.authSchemes;d?.name==="sigv4a"&&u?.name==="sigv4"&&(a=u?.signingRegion??a,l=u?.signingName??l)}return await i.sign(t,{signingDate:aa(o.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(t){return n=>{const r=n.ServerTime??Io(n.$response);if(r){const s=Nt("config",t.config),o=s.systemClockOffset;s.systemClockOffset=Co(r,s.systemClockOffset),s.systemClockOffset!==o&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(t,n){const r=Io(t);if(r){const s=Nt("config",n.config);s.systemClockOffset=Co(r,s.systemClockOffset)}}}class Ur extends Error{name="ProviderError";tryNextLink;constructor(t,n=!0){let r,s=!0;typeof n=="boolean"?(r=void 0,s=n):n!=null&&typeof n=="object"&&(r=n.logger,s=n.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,Ur.prototype),r?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,n=!0){return Object.assign(new this(t.message,n),t)}}class nt extends Ur{name="CredentialsProviderError";constructor(t,n=!0){super(t,n),Object.setPrototypeOf(this,nt.prototype)}}const zu=(e,t,n)=>{let r,s,o,i=!1;const a=async()=>{s||(s=e());try{r=await s,o=!0,i=!1}finally{s=void 0}return r};return async l=>((!o||l?.forceRefresh)&&(r=await a()),r)},ju="X-Amz-Algorithm",Hu="X-Amz-Credential",ca="X-Amz-Date",Vu="X-Amz-SignedHeaders",qu="X-Amz-Expires",la="X-Amz-Signature",ua="X-Amz-Security-Token",da="authorization",fa=ca.toLowerCase(),Gu="date",Ku=[da,fa,Gu],Wu=la.toLowerCase(),Er="x-amz-content-sha256",Xu=ua.toLowerCase(),Yu={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Qu=/^proxy-/,Ju=/^sec-/,nr="AWS4-HMAC-SHA256",Zu="AWS4-HMAC-SHA256-PAYLOAD",ed="UNSIGNED-PAYLOAD",td=50,ha="aws4_request",nd=3600*24*7,nn={},rr=[],sr=(e,t,n)=>`${e}/${t}/${n}/${ha}`,rd=async(e,t,n,r,s)=>{const o=await Ro(e,t.secretAccessKey,t.accessKeyId),i=`${n}:${r}:${s}:${je(o)}:${t.sessionToken}`;if(i in nn)return nn[i];for(rr.push(i);rr.length>td;)delete nn[rr.shift()];let a=`AWS4${t.secretAccessKey}`;for(const l of[n,r,s,ha])a=await Ro(e,a,l);return nn[i]=a},Ro=(e,t,n)=>{const r=new e(t);return r.update(Mt(n)),r.digest()},To=({headers:e},t,n)=>{const r={};for(const s of Object.keys(e).sort()){if(e[s]==null)continue;const o=s.toLowerCase();(o in Yu||t?.has(o)||Qu.test(o)||Ju.test(o))&&(!n||n&&!n.has(o))||(r[o]=e[s].trim().replace(/\s+/g," "))}return r},sd=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",or=async({headers:e,body:t},n)=>{for(const r of Object.keys(e))if(r.toLowerCase()===Er)return e[r];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||sd(t)){const r=new n;return r.update(Mt(t)),je(await r.digest())}return ed};class od{format(t){const n=[];for(const o of Object.keys(t)){const i=Je(o);n.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}const r=new Uint8Array(n.reduce((o,i)=>o+i.byteLength,0));let s=0;for(const o of n)r.set(o,s),s+=o.byteLength;return r}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,t.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,t.value,!1),new Uint8Array(r.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":const o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);const i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":const a=Je(t.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const c=new Uint8Array(l.buffer);return c.set(a,3),c;case"timestamp":const f=new Uint8Array(9);return f[0]=8,f.set(Br.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!id.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(Vl(t.value.replace(/\-/g,"")),1),d}}}var Po;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Po||(Po={}));const id=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class Br{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,s=Math.abs(Math.round(t));r>-1&&s>0;r--,s/=256)n[r]=s;return t<0&&No(n),new Br(n)}valueOf(){const t=this.bytes.slice(0),n=t[0]&128;return n&&No(t),parseInt(je(t),16)*(n?-1:1)}toString(){return String(this.valueOf())}}function No(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}const ad=(e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1},cd=(e,t={})=>{const{headers:n,query:r={}}=de.clone(e);for(const s of Object.keys(n)){const o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(r[s]=n[s],delete n[s])}return{...e,headers:n,query:r}},ko=e=>{e=de.clone(e);for(const t of Object.keys(e.headers))Ku.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},ld=({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e)){if(r.toLowerCase()===Wu)continue;const s=ze(r);t.push(s);const o=e[r];typeof o=="string"?n[s]=`${s}=${ze(o)}`:Array.isArray(o)&&(n[s]=o.slice(0).reduce((i,a)=>i.concat([`${s}=${ze(a)}`]),[]).sort().join("&"))}return t.sort().map(r=>n[r]).filter(r=>r).join("&")},ud=e=>dd(e).toISOString().replace(/\.\d{3}Z$/,"Z"),dd=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class fd{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:n,region:r,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=xe(r),this.credentialProvider=xe(n)}createCanonicalRequest(t,n,r){const s=Object.keys(n).sort();return`${t.method}
${this.getCanonicalPath(t)}
${ld(t)}
${s.map(o=>`${o}:${n[o]}`).join(`
`)}

${s.join(";")}
${r}`}async createStringToSign(t,n,r,s){const o=new this.sha256;o.update(Mt(r));const i=await o.digest();return`${s}
${t}
${n}
${je(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const n=[];for(const o of t.split("/"))o?.length!==0&&o!=="."&&(o===".."?n.pop():n.push(o));const r=`${t?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&t?.endsWith("/")?"/":""}`;return ze(r).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){const n=ud(t).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}}class Oo extends fd{headerFormatter=new od;constructor({applyChecksum:t,credentials:n,region:r,service:s,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:n,region:r,service:s,sha256:o,uriEscapePath:i})}async presign(t,n={}){const{signingDate:r=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:l,signingRegion:c,signingService:f}=n,d=await this.credentialProvider();this.validateResolvedCredentials(d);const u=c??await this.regionProvider(),{longDate:h,shortDate:y}=this.formatDate(r);if(s>nd)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const m=sr(y,u,f??this.service),p=cd(ko(t),{unhoistableHeaders:i,hoistableHeaders:l});d.sessionToken&&(p.query[ua]=d.sessionToken),p.query[ju]=nr,p.query[Hu]=`${d.accessKeyId}/${m}`,p.query[ca]=h,p.query[qu]=s.toString(10);const b=To(p,o,a);return p.query[Vu]=this.getCanonicalHeaderList(b),p.query[la]=await this.getSignature(h,m,this.getSigningKey(d,u,y,f),this.createCanonicalRequest(p,b,await or(t,this.sha256))),p}async sign(t,n){return typeof t=="string"?this.signString(t,n):t.headers&&t.payload?this.signEvent(t,n):t.message?this.signMessage(t,n):this.signRequest(t,n)}async signEvent({headers:t,payload:n},{signingDate:r=new Date,priorSignature:s,signingRegion:o,signingService:i}){const a=o??await this.regionProvider(),{shortDate:l,longDate:c}=this.formatDate(r),f=sr(l,a,i??this.service),d=await or({headers:{},body:n},this.sha256),u=new this.sha256;u.update(t);const h=je(await u.digest()),y=[Zu,c,f,s,h,d].join(`
`);return this.signString(y,{signingDate:r,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:n=new Date,signingRegion:r,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:n,signingRegion:r,signingService:s,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:n=new Date,signingRegion:r,signingService:s}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const i=r??await this.regionProvider(),{shortDate:a}=this.formatDate(n),l=new this.sha256(await this.getSigningKey(o,i,a,s));return l.update(Mt(t)),je(await l.digest())}async signRequest(t,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:s,signingRegion:o,signingService:i}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const l=o??await this.regionProvider(),c=ko(t),{longDate:f,shortDate:d}=this.formatDate(n),u=sr(d,l,i??this.service);c.headers[fa]=f,a.sessionToken&&(c.headers[Xu]=a.sessionToken);const h=await or(c,this.sha256);!ad(Er,c.headers)&&this.applyChecksum&&(c.headers[Er]=h);const y=To(c,s,r),m=await this.getSignature(f,u,this.getSigningKey(a,l,d,i),this.createCanonicalRequest(c,y,h));return c.headers[da]=`${nr} Credential=${a.accessKeyId}/${u}, SignedHeaders=${this.getCanonicalHeaderList(y)}, Signature=${m}`,c}async getSignature(t,n,r,s){const o=await this.createStringToSign(t,n,s,nr),i=new this.sha256(await r);return i.update(Mt(o)),je(await i.digest())}getSigningKey(t,n,r,s){return rd(this.sha256,t,r,n,s||this.service)}}const hd=e=>{let t=e.credentials,n=!!e.credentials,r;Object.defineProperty(e,"credentials",{set(c){c&&c!==t&&c!==r&&(n=!0),t=c;const f=pd(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),d=md(e,f);n&&!d.attributed?(r=async u=>d(u).then(h=>Lu(h,"CREDENTIALS_CODE","e")),r.memoized=d.memoized,r.configBound=d.configBound,r.attributed=!0):r=d},get(){return r},enumerable:!0,configurable:!0}),e.credentials=t;const{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e;let a;return e.signer?a=Tt(e.signer):e.regionInfoProvider?a=()=>Tt(e.region)().then(async c=>[await e.regionInfoProvider(c,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},c]).then(([c,f])=>{const{signingRegion:d,signingService:u}=c;e.signingRegion=e.signingRegion||d||f,e.signingName=e.signingName||u||e.serviceId;const h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},y=e.signerConstructor||Oo;return new y(h)}):a=async c=>{c=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Tt(e.region)(),properties:{}},c);const f=c.signingRegion,d=c.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||d||e.serviceId;const u={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},h=e.signerConstructor||Oo;return new h(u)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:a})};function pd(e,{credentials:t,credentialDefaultProvider:n}){let r;return t?t?.memoized?r=t:r=iu(t,ou,Qi):n?r=Tt(n(Object.assign({},e,{parentClientConfig:e}))):r=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},r.memoized=!0,r}function md(e,t){if(t.configBound)return t;const n=async r=>t({...r,callerClientConfig:e});return n.memoized=t.memoized,n.configBound=!0,n}const Mo=typeof TextEncoder=="function"?new TextEncoder:null,yd=e=>{if(typeof e=="string"){if(Mo)return Mo.encode(e).byteLength;let t=e.length;for(let n=t-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},Le=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const r of t)n.push(r);return n},Pe=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,pn=()=>{let e=[],t=[],n=!1;const r=new Set,s=d=>d.sort((u,h)=>$o[h.step]-$o[u.step]||Do[h.priority||"normal"]-Do[u.priority||"normal"]),o=d=>{let u=!1;const h=y=>{const m=Le(y.name,y.aliases);if(m.includes(d)){u=!0;for(const p of m)r.delete(p);return!1}return!0};return e=e.filter(h),t=t.filter(h),u},i=d=>{let u=!1;const h=y=>{if(y.middleware===d){u=!0;for(const m of Le(y.name,y.aliases))r.delete(m);return!1}return!0};return e=e.filter(h),t=t.filter(h),u},a=d=>(e.forEach(u=>{d.add(u.middleware,{...u})}),t.forEach(u=>{d.addRelativeTo(u.middleware,{...u})}),d.identifyOnResolve?.(f.identifyOnResolve()),d),l=d=>{const u=[];return d.before.forEach(h=>{h.before.length===0&&h.after.length===0?u.push(h):u.push(...l(h))}),u.push(d),d.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?u.push(h):u.push(...l(h))}),u},c=(d=!1)=>{const u=[],h=[],y={};return e.forEach(p=>{const b={...p,before:[],after:[]};for(const x of Le(b.name,b.aliases))y[x]=b;u.push(b)}),t.forEach(p=>{const b={...p,before:[],after:[]};for(const x of Le(b.name,b.aliases))y[x]=b;h.push(b)}),h.forEach(p=>{if(p.toMiddleware){const b=y[p.toMiddleware];if(b===void 0){if(d)return;throw new Error(`${p.toMiddleware} is not found when adding ${Pe(p.name,p.aliases)} middleware ${p.relation} ${p.toMiddleware}`)}p.relation==="after"&&b.after.push(p),p.relation==="before"&&b.before.push(p)}}),s(u).map(l).reduce((p,b)=>(p.push(...b),p),[])},f={add:(d,u={})=>{const{name:h,override:y,aliases:m}=u,p={step:"initialize",priority:"normal",middleware:d,...u},b=Le(h,m);if(b.length>0){if(b.some(x=>r.has(x))){if(!y)throw new Error(`Duplicate middleware name '${Pe(h,m)}'`);for(const x of b){const E=e.findIndex(R=>R.name===x||R.aliases?.some(O=>O===x));if(E===-1)continue;const C=e[E];if(C.step!==p.step||p.priority!==C.priority)throw new Error(`"${Pe(C.name,C.aliases)}" middleware with ${C.priority} priority in ${C.step} step cannot be overridden by "${Pe(h,m)}" middleware with ${p.priority} priority in ${p.step} step.`);e.splice(E,1)}}for(const x of b)r.add(x)}e.push(p)},addRelativeTo:(d,u)=>{const{name:h,override:y,aliases:m}=u,p={middleware:d,...u},b=Le(h,m);if(b.length>0){if(b.some(x=>r.has(x))){if(!y)throw new Error(`Duplicate middleware name '${Pe(h,m)}'`);for(const x of b){const E=t.findIndex(R=>R.name===x||R.aliases?.some(O=>O===x));if(E===-1)continue;const C=t[E];if(C.toMiddleware!==p.toMiddleware||C.relation!==p.relation)throw new Error(`"${Pe(C.name,C.aliases)}" middleware ${C.relation} "${C.toMiddleware}" middleware cannot be overridden by "${Pe(h,m)}" middleware ${p.relation} "${p.toMiddleware}" middleware.`);t.splice(E,1)}}for(const x of b)r.add(x)}t.push(p)},clone:()=>a(pn()),use:d=>{d.applyToStack(f)},remove:d=>typeof d=="string"?o(d):i(d),removeByTag:d=>{let u=!1;const h=y=>{const{tags:m,name:p,aliases:b}=y;if(m&&m.includes(d)){const x=Le(p,b);for(const E of x)r.delete(E);return u=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),u},concat:d=>{const u=a(pn());return u.use(d),u.identifyOnResolve(n||u.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),u},applyToStack:a,identify:()=>c(!0).map(d=>{const u=d.step??d.relation+" "+d.toMiddleware;return Pe(d.name,d.aliases)+" - "+u}),identifyOnResolve(d){return typeof d=="boolean"&&(n=d),n},resolve:(d,u)=>{for(const h of c().map(y=>y.middleware).reverse())d=h(d,u);return n&&console.log(f.identify()),d}};return f},$o={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Do={high:3,normal:2,low:1};class pa{config;middlewareStack=pn();initConfig;handlers;constructor(t){this.config=t}send(t,n,r){const s=typeof n!="function"?n:void 0,o=typeof n=="function"?n:r,i=s===void 0&&this.config.cacheMiddleware===!0;let a;if(i){this.handlers||(this.handlers=new WeakMap);const l=this.handlers;l.has(t.constructor)?a=l.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),l.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(t).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return a(t).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}const ir="***SensitiveInformation***";function Sr(e,t){if(t==null)return t;const n=Ie.of(e);if(n.getMergedTraits().sensitive)return ir;if(n.isListSchema()){if(!!n.getValueSchema().getMergedTraits().sensitive)return ir}else if(n.isMapSchema()){if(!!n.getKeySchema().getMergedTraits().sensitive||!!n.getValueSchema().getMergedTraits().sensitive)return ir}else if(n.isStructSchema()&&typeof t=="object"){const r=t,s={};for(const[o,i]of n.structIterator())r[o]!=null&&(s[o]=Sr(i,r[o]));return s}return t}class rt{middlewareStack=pn();schema;static classBuilder(){return new gd}resolveMiddlewareWithContext(t,n,r,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:c,additionalContext:f,CommandCtor:d}){for(const p of s.bind(this)(d,t,n,r))this.middlewareStack.use(p);const u=t.concat(this.middlewareStack),{logger:h}=n,y={logger:h,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[br]:{commandInstance:this,...c},...f},{requestHandler:m}=n;return u.resolve(p=>m.handle(p.request,r||{}),y)}}class gd{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,n,r={}){return this._smithyContext={service:t,operation:n,...r},this}c(t={}){return this._additionalContext=t,this}n(t,n){return this._clientName=t,this._commandName=n,this}f(t=r=>r,n=r=>r){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=n,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){const t=this;let n;return n=class extends rt{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[r]){super(),this.input=r??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(r,s,o){return this.resolveMiddlewareWithContext(r,s,o,{CommandCtor:n,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(t._operationSchema?Sr.bind(null,t._operationSchema.input):i=>i),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(t._operationSchema?Sr.bind(null,t._operationSchema.output):i=>i),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}}class Ye extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;const n=t;return Ye.prototype.isPrototypeOf(n)||!!n.$fault&&!!n.$metadata&&(n.$fault==="client"||n.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;const n=t;return this===Ye?Ye.isInstance(t):Ye.isInstance(t)?n.name&&this.name?this.prototype.isPrototypeOf(t)||n.name===this.name:this.prototype.isPrototypeOf(t):!1}}const $=(e,t={})=>{Object.entries(t).filter(([,r])=>r!==void 0).forEach(([r,s])=>{(e[r]==null||e[r]==="")&&(e[r]=s)});const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},bd=({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const s=wd(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new n({name:t?.code||t?.Code||r||o||"UnknownError",$fault:"client",$metadata:s});throw $(i,t)},vd=e=>({output:t,parsedBody:n,errorCode:r})=>{bd({output:t,parsedBody:n,exceptionCtor:e,errorCode:r})},wd=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Ed=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Sd=e=>{const t=[];for(const n in ln){const r=ln[n];e[r]!==void 0&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{addChecksumAlgorithm(n){t.push(n)},checksumAlgorithms(){return t}}},xd=e=>{const t={};return e.checksumAlgorithms().forEach(n=>{t[n.algorithmId()]=n.checksumConstructor()}),t},_d=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),Ad=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},Id=e=>Object.assign(Sd(e),_d(e)),Cd=e=>Object.assign(xd(e),Ad(e));class ma{trace(){}debug(){}info(){}warn(){}error(){}}const ne=(e,t)=>{const n={};for(const r in t)Rd(n,e,t,r);return n},Rd=(e,t,n,r)=>{if(t!==null){let i=n[r];typeof i=="function"&&(i=[,i]);const[a=Td,l=Pd,c=r]=i;(typeof a=="function"&&a(t[c])||typeof a!="function"&&a)&&(e[r]=l(t[c]));return}let[s,o]=n[r];if(typeof o=="function"){let i;const a=s===void 0&&(i=o())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[r]=i:l&&(e[r]=o())}else{const i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[r]=o)}},Td=e=>e!=null,Pd=e=>e,P=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(P);if(typeof e=="object"){const t={};for(const n of Object.keys(e))e[n]!=null&&(t[n]=P(e[n]));return t}return e},Nd=(e,t)=>ql(e,t).then(n=>(t?.utf8Encoder??Nr)(n)),Bt=(e,t)=>Nd(e,t).then(n=>{if(n.length)try{return JSON.parse(n)}catch(r){throw r?.name==="SyntaxError"&&Object.defineProperty(r,"$responseBodyText",{value:n}),r}return{}}),kd=async(e,t)=>{const n=await Bt(e,t);return n.message=n.message??n.Message,n},Od=(e,t)=>{const n=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),r=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=n(e.headers,"x-amzn-errortype");if(s!==void 0)return r(e.headers[s]);if(t&&typeof t=="object"){const o=n(t,"code");if(o&&t[o]!==void 0)return r(t[o]);if(t.__type!==void 0)return r(t.__type)}},Ft=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,Yl(e)},Md=/\d{12}\.ddb/;async function $d(e,t,n){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&me(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){const o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?me(e,"RETRY_MODE_ADAPTIVE","F"):me(e,"RETRY_MODE_STANDARD","E"):me(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){const o=e.endpointV2;switch(String(o?.url?.hostname).match(Md)&&me(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":me(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":me(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":me(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){const o=s;o.accountId&&me(e,"RESOLVED_ACCOUNT_ID","T");for(const[i,a]of Object.entries(o.$source??{}))me(e,i,a)}}const Lo="user-agent",ar="x-amz-user-agent",Uo=" ",cr="/",Dd=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Ld=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Bo="-",Ud=1024;function Bd(e){let t="";for(const n in e){const r=e[n];if(t.length+r.length+1<=Ud){t.length?t+=","+r:t+=r;continue}break}return t}const Fd=e=>(t,n)=>async r=>{const{request:s}=r;if(!de.isInstance(s))return t(r);const{headers:o}=s,i=n?.userAgent?.map(rn)||[],a=(await e.defaultUserAgentProvider()).map(rn);await $d(n,e,r);const l=n;a.push(`m/${Bd(Object.assign({},n.__smithy_context?.features,l.__aws_sdk_context?.features))}`);const c=e?.customUserAgent?.map(rn)||[],f=await e.userAgentAppId();f&&a.push(rn([`app/${f}`]));const d=[].concat([...a,...i,...c]).join(Uo),u=[...a.filter(h=>h.startsWith("aws-sdk-")),...c].join(Uo);return e.runtime!=="browser"?(u&&(o[ar]=o[ar]?`${o[Lo]} ${u}`:u),o[Lo]=d):o[ar]=d,t({...r,request:s})},rn=e=>{const t=e[0].split(cr).map(i=>i.replace(Dd,Bo)).join(cr),n=e[1]?.replace(Ld,Bo),r=t.indexOf(cr),s=t.substring(0,r);let o=t.substring(r+1);return s==="api"&&(o=o.toLowerCase()),[s,o,n].filter(i=>i&&i.length>0).reduce((i,a,l)=>{switch(l){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},zd={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},jd=e=>({applyToStack:t=>{t.add(Fd(e),zd)}}),Hd=!1,Vd=!1,ya=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),Fo=e=>ya(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,qd=e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return Fo(t);const r=await t();return Fo(r)},useFipsEndpoint:async()=>{const r=typeof t=="string"?t:await t();return ya(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()}})},zo="content-length";function Gd(e){return t=>async n=>{const r=n.request;if(de.isInstance(r)){const{body:s,headers:o}=r;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(zo)===-1)try{const i=e(s);r.headers={...r.headers,[zo]:String(i)}}catch{}}return t({...n,request:r})}}const Kd={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Wd=e=>({applyToStack:t=>{t.add(Gd(e.bodyLengthChecker),Kd)}}),Xd=async e=>{const t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),ef(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Zd(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Yd=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Qd=/(\d+\.){3}\d+/,Jd=/\.\./,Zd=e=>Yd.test(e)&&!Qd.test(e)&&!Jd.test(e),ef=e=>{const[t,n,r,,,s]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=!!(o&&n&&r&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},tf=(e,t,n)=>{const r=async()=>{const s=n[e]??n[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{const s=typeof n.credentials=="function"?await n.credentials():n.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{const s=typeof n.credentials=="function"?await n.credentials():n.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(n.isCustomEndpoint===!1)return;const s=await r();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:o,hostname:i,port:a,path:l}=s;return`${o}//${i}${a?":"+a:""}${l}`}}return s}:r},ga=async e=>{},ba=e=>typeof e=="object"?"url"in e?hn(e.url):e:hn(e),nf=async(e,t,n,r)=>{if(!n.isCustomEndpoint){let i;n.serviceConfiguredEndpoint?i=await n.serviceConfiguredEndpoint():i=await ga(n.serviceId),i&&(n.endpoint=()=>Promise.resolve(ba(i)),n.isCustomEndpoint=!0)}const s=await rf(e,t,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(s,r)},rf=async(e,t,n)=>{const r={},s=t?.getEndpointParameterInstructions?.()||{};for(const[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":r[o]=i.value;break;case"contextParams":r[o]=e[i.name];break;case"clientContextParams":case"builtInParams":r[o]=await tf(i.name,o,n)();break;case"operationContextParams":r[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await Xd(r),r},sf=({config:e,instructions:t})=>(n,r)=>async s=>{e.isCustomEndpoint&&tu(r,"ENDPOINT_OVERRIDE","N");const o=await nf(s.input,{getEndpointParameterInstructions(){return t}},{...e},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;const i=r.authSchemes?.[0];if(i){r.signing_region=i.signingRegion,r.signing_service=i.signingName;const l=vn(r)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return n({...s})},of={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Ki.name},Sn=(e,t)=>({applyToStack:n=>{n.addRelativeTo(sf({config:e,instructions:t}),of)}}),af=e=>{const t=e.tls??!0,{endpoint:n,useDualstackEndpoint:r,useFipsEndpoint:s}=e,o=n!=null?async()=>ba(await xe(n)()):void 0,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!n,useDualstackEndpoint:xe(r??!1),useFipsEndpoint:xe(s??!1)});let l;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=ga(e.serviceId)),l),a};var Ze;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ze||(Ze={}));const mn=3,cf=Ze.STANDARD,lf=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],uf=["TimeoutError","RequestTimeout","RequestTimeoutException"],df=[500,502,503,504],ff=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],hf=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],pf=e=>e?.$retryable!==void 0,mf=e=>e.$metadata?.clockSkewCorrected,yf=e=>{const t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},va=e=>e.$metadata?.httpStatusCode===429||lf.includes(e.name)||e.$retryable?.throttling==!0,Fr=(e,t=0)=>pf(e)||mf(e)||uf.includes(e.name)||ff.includes(e?.code||"")||hf.includes(e?.code||"")||df.includes(e.$metadata?.httpStatusCode||0)||yf(e)||e.cause!==void 0&&t<=10&&Fr(e.cause,t+1),gf=e=>{if(e.$metadata?.httpStatusCode!==void 0){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Fr(e)}return!1};class zr{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;const n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const n=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>zr.setTimeoutFn(r,n))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const n=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=t}updateClientSendingRate(t){let n;if(this.updateMeasuredRate(),va(t)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),n=Math.floor(t*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){const r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(t){return parseFloat(t.toFixed(8))}}const xr=100,wa=20*1e3,bf=500,jo=500,vf=5,wf=10,Ef=1,Sf="amz-sdk-invocation-id",xf="amz-sdk-request",_f=()=>{let e=xr;return{computeNextBackoffDelay:r=>Math.floor(Math.min(wa,Math.random()*2**r*e)),setDelayBase:r=>{e=r}}},Ho=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(wa,e),getRetryCost:()=>n});class Ea{maxAttempts;mode=Ze.STANDARD;capacity=jo;retryBackoffStrategy=_f();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Ho({retryDelay:xr,retryCount:0})}async refreshRetryTokenForRetry(t,n){const r=await this.getMaxAttempts();if(this.shouldRetry(t,n,r)){const s=n.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?bf:xr);const o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,Ho({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(jo,this.capacity+(t.getRetryCost()??Ef))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${mn}`),mn}}shouldRetry(t,n,r){return t.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(t){return t==="TRANSIENT"?wf:vf}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class Af{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ze.ADAPTIVE;constructor(t,n){this.maxAttemptsProvider=t;const{rateLimiter:r}=n??{};this.rateLimiter=r??new zr,this.standardRetryStrategy=new Ea(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(t,n)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}const If=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Cf=e=>{const{retryStrategy:t,retryMode:n,maxAttempts:r}=e,s=xe(r??mn);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await xe(n)()===Ze.ADAPTIVE?new Af(s):new Ea(s))})},Rf=e=>e?.body instanceof ReadableStream,Tf=e=>(t,n)=>async r=>{let s=await e.retryStrategy();const o=await e.maxAttempts();if(Pf(s)){s=s;let i=await s.acquireInitialRetryToken(n.partition_id),a=new Error,l=0,c=0;const{request:f}=r,d=de.isInstance(f);for(d&&(f.headers[Sf]=eu());;)try{d&&(f.headers[xf]=`attempt=${l+1}; max=${o}`);const{response:u,output:h}=await t(r);return s.recordSuccess(i),h.$metadata.attempts=l+1,h.$metadata.totalRetryDelay=c,{response:u,output:h}}catch(u){const h=Nf(u);if(a=If(u),d&&Rf(f))throw(n.logger instanceof ma?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await s.refreshRetryTokenForRetry(i,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=l+1,a.$metadata.totalRetryDelay=c,a}l=i.getRetryCount();const y=i.getRetryDelay();c+=y,await new Promise(m=>setTimeout(m,y))}}else return s=s,s?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,r)},Pf=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Nf=e=>{const t={error:e,errorType:kf(e)},n=$f(e.$response);return n&&(t.retryAfterHint=n),t},kf=e=>va(e)?"THROTTLING":Fr(e)?"TRANSIENT":gf(e)?"SERVER_ERROR":"CLIENT_ERROR",Of={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Mf=e=>({applyToStack:t=>{t.add(Tf(e),Of)}}),$f=e=>{if(!Ot.isInstance(e))return;const t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)},Df=async(e,t,n)=>({operation:vn(t).operation,region:await xe(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Lf(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,n)=>({signingProperties:{config:t,context:n}})}}const Uf=e=>{const t=[];switch(e.operation){default:t.push(Lf(e))}return t},Bf=e=>{const t=hd(e);return Object.assign(t,{authSchemePreference:xe(e.authSchemePreference??[])})},Ff=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),xn={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}};class k extends Ye{constructor(t){super(t),Object.setPrototypeOf(this,k.prototype)}}class jr extends k{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,jr.prototype)}}class Hr extends k{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Hr.prototype)}}class Vr extends k{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,Vr.prototype)}}class qr extends k{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,qr.prototype),this.ThrottlingReasons=t.ThrottlingReasons}}class Gr extends k{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,Gr.prototype),this.throttlingReasons=t.throttlingReasons}}class Kr extends k{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,Kr.prototype),this.Message=t.Message}}class Wr extends k{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,Wr.prototype),this.ThrottlingReasons=t.ThrottlingReasons}}class Xr extends k{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Xr.prototype)}}class Yr extends k{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,Yr.prototype)}}class Qr extends k{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,Qr.prototype)}}class Jr extends k{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,Jr.prototype)}}class Zr extends k{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,Zr.prototype)}}class es extends k{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,es.prototype)}}class ts extends k{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,ts.prototype)}}class ns extends k{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,ns.prototype)}}class rs extends k{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,rs.prototype)}}class ss extends k{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,ss.prototype)}}class os extends k{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,os.prototype)}}class is extends k{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,is.prototype)}}class as extends k{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,as.prototype)}}class cs extends k{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,cs.prototype)}}class ls extends k{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,ls.prototype)}}class us extends k{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,us.prototype),this.Message=t.Message}}class ds extends k{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,ds.prototype),this.Message=t.Message}}class fs extends k{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,fs.prototype)}}class hs extends k{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,hs.prototype)}}class ps extends k{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,ps.prototype)}}class ms extends k{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,ms.prototype)}}class ys extends k{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,ys.prototype)}}class gs extends k{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,gs.prototype)}}class bs extends k{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,bs.prototype)}}class vs extends k{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,vs.prototype)}}class ws extends k{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,ws.prototype)}}var _r;(function(e){e.visit=(t,n)=>t.S!==void 0?n.S(t.S):t.N!==void 0?n.N(t.N):t.B!==void 0?n.B(t.B):t.SS!==void 0?n.SS(t.SS):t.NS!==void 0?n.NS(t.NS):t.BS!==void 0?n.BS(t.BS):t.M!==void 0?n.M(t.M):t.L!==void 0?n.L(t.L):t.NULL!==void 0?n.NULL(t.NULL):t.BOOL!==void 0?n.BOOL(t.BOOL):n._(t.$unknown[0],t.$unknown[1])})(_r||(_r={}));class Es extends k{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,Es.prototype),this.Item=t.Item}}class Ss extends k{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,Ss.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}}const zf=async(e,t)=>{const n=In("DescribeEndpoints");let r;return r=JSON.stringify(P(e)),An(t,n,"/",void 0,r)},jf=async(e,t)=>{const n=In("GetItem");let r;return r=JSON.stringify(Mh(e,t)),An(t,n,"/",void 0,r)},Hf=async(e,t)=>{const n=In("PutItem");let r;return r=JSON.stringify(Uh(e,t)),An(t,n,"/",void 0,r)},Vf=async(e,t)=>{const n=In("Query");let r;return r=JSON.stringify(Fh(e,t)),An(t,n,"/",void 0,r)},qf=async(e,t)=>{if(e.statusCode>=300)return _n(e,t);const n=await Bt(e.body,t);let r={};return r=P(n),{$metadata:N(e),...r}},Gf=async(e,t)=>{if(e.statusCode>=300)return _n(e,t);const n=await Bt(e.body,t);let r={};return r=qh(n,t),{$metadata:N(e),...r}},Kf=async(e,t)=>{if(e.statusCode>=300)return _n(e,t);const n=await Bt(e.body,t);let r={};return r=Zh(n,t),{$metadata:N(e),...r}},Wf=async(e,t)=>{if(e.statusCode>=300)return _n(e,t);const n=await Bt(e.body,t);let r={};return r=ep(n,t),{$metadata:N(e),...r}},_n=async(e,t)=>{const n={...e,body:await kd(e.body,t)},r=Od(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await ch(n);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await wh(n);case"ThrottlingException":case"com.amazonaws.dynamodb#ThrottlingException":throw await Ih(n);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await lh(n);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await yh(n);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await Sh(n);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await fh(n);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await vh(n);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await Xf(n);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await Jf(n);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await hh(n);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await _h(n);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Ah(n);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await nh(n);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await Eh(n);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await Yf(n);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await Qf(n,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Rh(n);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await mh(n);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await th(n);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await rh(n);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await ih(n);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await Zf(n);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await sh(n);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Ch(n,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await Th(n);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await eh(n);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await uh(n);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await ph(n);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await oh(n);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await xh(n);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await dh(n);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await gh(n);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await bh(n);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await ah(n);default:const s=n.body;return np({output:e,parsedBody:s,errorCode:r})}},Xf=async(e,t)=>{const n=e.body,r=P(n),s=new jr({$metadata:N(e),...r});return $(s,n)},Yf=async(e,t)=>{const n=e.body,r=P(n),s=new Hr({$metadata:N(e),...r});return $(s,n)},Qf=async(e,t)=>{const n=e.body,r=Vh(n,t),s=new Es({$metadata:N(e),...r});return $(s,n)},Jf=async(e,t)=>{const n=e.body,r=P(n),s=new Jr({$metadata:N(e),...r});return $(s,n)},Zf=async(e,t)=>{const n=e.body,r=P(n),s=new ls({$metadata:N(e),...r});return $(s,n)},eh=async(e,t)=>{const n=e.body,r=P(n),s=new fs({$metadata:N(e),...r});return $(s,n)},th=async(e,t)=>{const n=e.body,r=P(n),s=new is({$metadata:N(e),...r});return $(s,n)},nh=async(e,t)=>{const n=e.body,r=P(n),s=new ns({$metadata:N(e),...r});return $(s,n)},rh=async(e,t)=>{const n=e.body,r=P(n),s=new as({$metadata:N(e),...r});return $(s,n)},sh=async(e,t)=>{const n=e.body,r=P(n),s=new us({$metadata:N(e),...r});return $(s,n)},oh=async(e,t)=>{const n=e.body,r=P(n),s=new ms({$metadata:N(e),...r});return $(s,n)},ih=async(e,t)=>{const n=e.body,r=P(n),s=new cs({$metadata:N(e),...r});return $(s,n)},ah=async(e,t)=>{const n=e.body,r=P(n),s=new ws({$metadata:N(e),...r});return $(s,n)},ch=async(e,t)=>{const n=e.body,r=P(n),s=new Vr({$metadata:N(e),...r});return $(s,n)},lh=async(e,t)=>{const n=e.body,r=P(n),s=new Kr({$metadata:N(e),...r});return $(s,n)},uh=async(e,t)=>{const n=e.body,r=P(n),s=new hs({$metadata:N(e),...r});return $(s,n)},dh=async(e,t)=>{const n=e.body,r=P(n),s=new gs({$metadata:N(e),...r});return $(s,n)},fh=async(e,t)=>{const n=e.body,r=P(n),s=new Yr({$metadata:N(e),...r});return $(s,n)},hh=async(e,t)=>{const n=e.body,r=P(n),s=new Zr({$metadata:N(e),...r});return $(s,n)},ph=async(e,t)=>{const n=e.body,r=P(n),s=new ps({$metadata:N(e),...r});return $(s,n)},mh=async(e,t)=>{const n=e.body,r=P(n),s=new os({$metadata:N(e),...r});return $(s,n)},yh=async(e,t)=>{const n=e.body,r=P(n),s=new Wr({$metadata:N(e),...r});return $(s,n)},gh=async(e,t)=>{const n=e.body,r=P(n),s=new bs({$metadata:N(e),...r});return $(s,n)},bh=async(e,t)=>{const n=e.body,r=P(n),s=new vs({$metadata:N(e),...r});return $(s,n)},vh=async(e,t)=>{const n=e.body,r=P(n),s=new Qr({$metadata:N(e),...r});return $(s,n)},wh=async(e,t)=>{const n=e.body,r=P(n),s=new qr({$metadata:N(e),...r});return $(s,n)},Eh=async(e,t)=>{const n=e.body,r=P(n),s=new rs({$metadata:N(e),...r});return $(s,n)},Sh=async(e,t)=>{const n=e.body,r=P(n),s=new Xr({$metadata:N(e),...r});return $(s,n)},xh=async(e,t)=>{const n=e.body,r=P(n),s=new ys({$metadata:N(e),...r});return $(s,n)},_h=async(e,t)=>{const n=e.body,r=P(n),s=new es({$metadata:N(e),...r});return $(s,n)},Ah=async(e,t)=>{const n=e.body,r=P(n),s=new ts({$metadata:N(e),...r});return $(s,n)},Ih=async(e,t)=>{const n=e.body,r=P(n),s=new Gr({$metadata:N(e),...r});return $(s,n)},Ch=async(e,t)=>{const n=e.body,r=tp(n,t),s=new Ss({$metadata:N(e),...r});return $(s,n)},Rh=async(e,t)=>{const n=e.body,r=P(n),s=new ss({$metadata:N(e),...r});return $(s,n)},Th=async(e,t)=>{const n=e.body,r=P(n),s=new ds({$metadata:N(e),...r});return $(s,n)},Ve=(e,t)=>_r.visit(e,{B:n=>({B:t.base64Encoder(n)}),BOOL:n=>({BOOL:n}),BS:n=>({BS:Ph(n,t)}),L:n=>({L:Dh(n,t)}),M:n=>({M:Lh(n,t)}),N:n=>({N:n}),NS:n=>({NS:P(n)}),NULL:n=>({NULL:n}),S:n=>({S:n}),SS:n=>({SS:P(n)}),_:(n,r)=>({[n]:r})}),Sa=(e,t)=>e.filter(n=>n!=null).map(n=>Ve(n,t)),Ph=(e,t)=>e.filter(n=>n!=null).map(n=>t.base64Encoder(n)),xa=(e,t)=>ne(e,{AttributeValueList:n=>Sa(n,t),ComparisonOperator:[]}),Nh=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=kh(s,t)),n),{}),kh=(e,t)=>ne(e,{AttributeValueList:n=>Sa(n,t),ComparisonOperator:[],Exists:[],Value:n=>Ve(n,t)}),_a=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=Ve(s,t)),n),{}),Oh=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=xa(s,t)),n),{}),Mh=(e,t)=>ne(e,{AttributesToGet:P,ConsistentRead:[],ExpressionAttributeNames:P,Key:n=>Aa(n,t),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),Aa=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=Ve(s,t)),n),{}),$h=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=xa(s,t)),n),{}),Dh=(e,t)=>e.filter(n=>n!=null).map(n=>Ve(n,t)),Lh=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=Ve(s,t)),n),{}),Uh=(e,t)=>ne(e,{ConditionExpression:[],ConditionalOperator:[],Expected:n=>Nh(n,t),ExpressionAttributeNames:P,ExpressionAttributeValues:n=>_a(n,t),Item:n=>Bh(n,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),Bh=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=Ve(s,t)),n),{}),Fh=(e,t)=>ne(e,{AttributesToGet:P,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:n=>Aa(n,t),ExpressionAttributeNames:P,ExpressionAttributeValues:n=>_a(n,t),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:n=>$h(n,t),Limit:[],ProjectionExpression:[],QueryFilter:n=>Oh(n,t),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),zt=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=jt(Ft(s),t)),n),{}),jt=(e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:tn(e.BOOL)!==void 0?{BOOL:tn(e.BOOL)}:e.BS!=null?{BS:zh(e.BS,t)}:e.L!=null?{L:Qh(e.L,t)}:e.M!=null?{M:Jh(e.M,t)}:Ce(e.N)!==void 0?{N:Ce(e.N)}:e.NS!=null?{NS:P(e.NS)}:tn(e.NULL)!==void 0?{NULL:tn(e.NULL)}:Ce(e.S)!==void 0?{S:Ce(e.S)}:e.SS!=null?{SS:P(e.SS)}:{$unknown:Object.entries(e)[0]},zh=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>t.base64Decoder(r)),jh=(e,t)=>ne(e,{Code:Ce,Item:n=>zt(n,t),Message:Ce}),Hh=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>jh(r,t)),Ia=(e,t)=>ne(e,{CapacityUnits:He,ReadCapacityUnits:He,WriteCapacityUnits:He}),Vh=(e,t)=>ne(e,{Item:n=>zt(n,t),message:Ce}),xs=(e,t)=>ne(e,{CapacityUnits:He,GlobalSecondaryIndexes:n=>Vo(n),LocalSecondaryIndexes:n=>Vo(n),ReadCapacityUnits:He,Table:n=>Ia(n),TableName:Ce,WriteCapacityUnits:He}),qh=(e,t)=>ne(e,{ConsumedCapacity:n=>xs(n),Item:n=>zt(n,t)}),Gh=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=jt(Ft(s),t)),n),{}),Kh=(e,t)=>ne(e,{ItemCollectionKey:n=>Gh(n,t),SizeEstimateRangeGB:n=>Wh(n)}),Wh=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>He(r)),Xh=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>zt(r,t)),Yh=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=jt(Ft(s),t)),n),{}),Qh=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>jt(Ft(r),t)),Jh=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=jt(Ft(s),t)),n),{}),Zh=(e,t)=>ne(e,{Attributes:n=>zt(n,t),ConsumedCapacity:n=>xs(n),ItemCollectionMetrics:n=>Kh(n,t)}),ep=(e,t)=>ne(e,{ConsumedCapacity:n=>xs(n),Count:xo,Items:n=>Xh(n,t),LastEvaluatedKey:n=>Yh(n,t),ScannedCount:xo}),Vo=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(s===null||(n[r]=Ia(s)),n),{}),tp=(e,t)=>ne(e,{CancellationReasons:n=>Hh(n,t),Message:Ce}),N=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),np=vd(k),An=async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:l}=await e.endpoint(),c={protocol:i,hostname:o,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+n:l+n,headers:t};return s!==void 0&&(c.body=s),new de(c)};function In(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}class rp extends rt.classBuilder().ep(xn).m(function(t,n,r,s){return[wn(r,this.serialize,this.deserialize),Sn(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(zf).de(qf).build(){}const sp="3.908.0",op={version:sp},ip=e=>new TextEncoder().encode(e);var ap=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:ip;function Lt(e){return e instanceof Uint8Array?e:typeof e=="string"?ap(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function Ar(e){return typeof e=="string"?e.length===0:e.byteLength===0}var Ca={name:"SHA-256"},qo={name:"HMAC",hash:Ca},cp=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const lp={};function sn(){return typeof window<"u"?window:typeof self<"u"?self:lp}var up=(function(){function e(t){this.toHash=new Uint8Array(0),this.secret=t,this.reset()}return e.prototype.update=function(t){if(!Ar(t)){var n=Lt(t),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(n){return sn().crypto.subtle.sign(qo,n,t.toHash).then(function(r){return new Uint8Array(r)})}):Ar(this.toHash)?Promise.resolve(cp):Promise.resolve().then(function(){return sn().crypto.subtle.digest(Ca,t.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},e.prototype.reset=function(){var t=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){sn().crypto.subtle.importKey("raw",Lt(t.secret),qo,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},e})();function dp(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(f){try{c(r.next(f))}catch(d){i(d)}}function l(f){try{c(r.throw(f))}catch(d){i(d)}}function c(f){f.done?o(f.value):s(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function fp(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(o=c[0]&2?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(f){c=[6,f],s=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var le=64,hp=32,pp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mp=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],yp=Math.pow(2,53)-1,on=(function(){function e(){this.state=Int32Array.from(mp),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=t.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>yp)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=t[n++],r--,this.bufferLength===le&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%le>=le-8){for(var s=this.bufferLength;s<le;s++)n.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<le-8;s++)n.setUint8(s,0);n.setUint32(le-8,Math.floor(t/4294967296),!0),n.setUint32(le-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(hp),s=0;s<8;s++)o[s*4]=this.state[s]>>>24&255,o[s*4+1]=this.state[s]>>>16&255,o[s*4+2]=this.state[s]>>>8&255,o[s*4+3]=this.state[s]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,n=t.buffer,r=t.state,s=r[0],o=r[1],i=r[2],a=r[3],l=r[4],c=r[5],f=r[6],d=r[7],u=0;u<le;u++){if(u<16)this.temp[u]=(n[u*4]&255)<<24|(n[u*4+1]&255)<<16|(n[u*4+2]&255)<<8|n[u*4+3]&255;else{var h=this.temp[u-2],y=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[u-15];var m=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[u]=(y+this.temp[u-7]|0)+(m+this.temp[u-16]|0)}var p=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&c^~l&f)|0)+(d+(pp[u]+this.temp[u]|0)|0)|0,b=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&i^o&i)|0;d=f,f=c,c=l,l=a+p|0,a=i,i=o,o=s,s=p+b|0}r[0]+=s,r[1]+=o,r[2]+=i,r[3]+=a,r[4]+=l,r[5]+=c,r[6]+=f,r[7]+=d},e})(),gp=(function(){function e(t){this.secret=t,this.hash=new on,this.reset()}return e.prototype.update=function(t){if(!(Ar(t)||this.error))try{this.hash.update(Lt(t))}catch(n){this.error=n}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return dp(this,void 0,void 0,function(){return fp(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new on,this.secret){this.outer=new on;var t=bp(this.secret),n=new Uint8Array(le);n.set(t);for(var r=0;r<le;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(var r=0;r<t.byteLength;r++)t[r]=0}},e})();function bp(e){var t=Lt(e);if(t.byteLength>le){var n=new on;n.update(t),t=n.digest()}var r=new Uint8Array(le);return r.set(t),r}var vp=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function wp(e){if(Ep(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return Sp(t)}return!1}function Ep(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}function Sp(e){return e&&vp.every(function(t){return typeof e[t]=="function"})}var xp=(function(){function e(t){wp(sn())?this.hash=new up(t):this.hash=new gp(t)}return e.prototype.update=function(t,n){this.hash.update(Lt(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e})();const _p=({serviceId:e,clientVersion:t})=>async n=>{const r=typeof window<"u"?window.navigator:void 0,s=r?.userAgent??"",o=r?.userAgentData?.platform??Go.os(s)??"other",i=void 0,a=r?.userAgentData?.brands??[],l=a[a.length-1],c=l?.brand??Go.browser(s)??"unknown",f=l?.version??"unknown",d=[["aws-sdk-js",t],["ua","2.1"],[`os/${o}`,i],["lang/js"],["md/browser",`${c}_${f}`]];e&&d.push([`api/${e}`,t]);const u=await n?.userAgentAppId?.();return u&&d.push([`app/${u}`]),d},Go={os(e){if(/iPhone|iPad|iPod/.test(e))return"iOS";if(/Macintosh|Mac OS X/.test(e))return"macOS";if(/Windows NT/.test(e))return"Windows";if(/Android/.test(e))return"Android";if(/Linux/.test(e))return"Linux"},browser(e){if(/EdgiOS|EdgA|Edg\//.test(e))return"Microsoft Edge";if(/Firefox\//.test(e))return"Firefox";if(/Chrome\//.test(e))return"Chrome";if(/Safari\//.test(e))return"Safari"}},Ap=e=>()=>Promise.reject(e),_s="required",T="type",K="rules",U="conditions",A="fn",I="argv",M="ref",yn="assign",be="url",ve="properties",we="headers",Ip=!1,W="error",J="stringEquals",Ko="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",te="endpoint",X="tree",As="dynamodb",At={[_s]:!1,[T]:"string"},Wo={[_s]:!0,default:!1,[T]:"boolean"},Xo={[A]:"isSet",[I]:[{[M]:"Endpoint"}]},Cp={[M]:"Endpoint"},Yo={[A]:"isSet",[I]:[{[M]:"Region"}]},Ra={[M]:"Region"},Qo={[A]:"aws.partition",[I]:[Ra],[yn]:"PartitionResult"},Jo={[U]:[{[A]:"booleanEquals",[I]:[{[M]:"UseFIPS"},!0]}],[W]:"Invalid Configuration: FIPS and custom endpoint are not supported",[T]:W},st={[A]:"booleanEquals",[I]:[{[M]:"UseFIPS"},!0]},Zo={[U]:[{[A]:"booleanEquals",[I]:[{[M]:"UseDualStack"},!0]}],[W]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[T]:W},Ta={[A]:"booleanEquals",[I]:[{[M]:"UseDualStack"},!0]},ei={[te]:{[be]:"{Endpoint}",[ve]:{},[we]:{}},[T]:te},pe={},ti={[A]:"booleanEquals",[I]:[{[A]:"getAttr",[I]:[{[M]:"PartitionResult"},"supportsFIPS"]},!0]},ni={[A]:"booleanEquals",[I]:[{[A]:"getAttr",[I]:[{[M]:"PartitionResult"},"supportsDualStack"]},!0]},lr={[U]:[{[A]:"isSet",[I]:[{[M]:"AccountIdEndpointMode"}]},{[A]:J,[I]:[{[M]:"AccountIdEndpointMode"},"required"]}],[K]:[{[W]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[T]:W}],[T]:X},Ht={[A]:"getAttr",[I]:[{[M]:"PartitionResult"},"name"]},ri={[te]:{[be]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[ve]:{},[we]:{}},[T]:te},si={[be]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[ve]:{},[we]:{}},oi={[W]:"Credentials-sourced account ID parameter is invalid",[T]:W},ii={[U]:[{[A]:"isSet",[I]:[{[M]:"AccountIdEndpointMode"}]},{[A]:J,[I]:[{[M]:"AccountIdEndpointMode"},"required"]}],[K]:[{[U]:[{[A]:"not",[I]:[st]}],[K]:[{[U]:[{[A]:J,[I]:[Ht,"aws"]}],[K]:[{[W]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[T]:W}],[T]:X},{[W]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[T]:W}],[T]:X},{[W]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[T]:W}],[T]:X},ai={[be]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[ve]:{},[we]:{}},ci=[st],li=[Ta],ui=[{[A]:"isSet",[I]:[{[M]:"AccountIdEndpointMode"}]},{[A]:"not",[I]:[{[A]:J,[I]:[{[M]:"AccountIdEndpointMode"},"disabled"]}]},{[A]:J,[I]:[Ht,"aws"]},{[A]:"not",[I]:[st]},{[A]:"isSet",[I]:[{[M]:"ResourceArn"}]},{[A]:"aws.parseArn",[I]:[{[M]:"ResourceArn"}],[yn]:"ParsedArn"},{[A]:J,[I]:[{[A]:"getAttr",[I]:[{[M]:"ParsedArn"},"service"]},As]},{[A]:"isValidHostLabel",[I]:[{[A]:"getAttr",[I]:[{[M]:"ParsedArn"},"region"]},!1]},{[A]:J,[I]:[{[A]:"getAttr",[I]:[{[M]:"ParsedArn"},"region"]},"{Region}"]},{[A]:"isValidHostLabel",[I]:[{[A]:"getAttr",[I]:[{[M]:"ParsedArn"},"accountId"]},!1]}],di=[{[A]:"isSet",[I]:[{[M]:"AccountIdEndpointMode"}]},{[A]:"not",[I]:[{[A]:J,[I]:[{[M]:"AccountIdEndpointMode"},"disabled"]}]},{[A]:J,[I]:[Ht,"aws"]},{[A]:"not",[I]:[st]},{[A]:"isSet",[I]:[{[M]:"ResourceArnList"}]},{[A]:"getAttr",[I]:[{[M]:"ResourceArnList"},"[0]"],[yn]:"FirstArn"},{[A]:"aws.parseArn",[I]:[{[M]:"FirstArn"}],[yn]:"ParsedArn"},{[A]:J,[I]:[{[A]:"getAttr",[I]:[{[M]:"ParsedArn"},"service"]},As]},{[A]:"isValidHostLabel",[I]:[{[A]:"getAttr",[I]:[{[M]:"ParsedArn"},"region"]},!1]},{[A]:J,[I]:[{[A]:"getAttr",[I]:[{[M]:"ParsedArn"},"region"]},"{Region}"]},{[A]:"isValidHostLabel",[I]:[{[A]:"getAttr",[I]:[{[M]:"ParsedArn"},"accountId"]},!1]}],fi=[{[A]:"isSet",[I]:[{[M]:"AccountIdEndpointMode"}]},{[A]:"not",[I]:[{[A]:J,[I]:[{[M]:"AccountIdEndpointMode"},"disabled"]}]},{[A]:J,[I]:[Ht,"aws"]},{[A]:"not",[I]:[st]},{[A]:"isSet",[I]:[{[M]:"AccountId"}]}],hi=[{[A]:"isValidHostLabel",[I]:[{[M]:"AccountId"},!1]}],Rp={parameters:{Region:At,UseDualStack:Wo,UseFIPS:Wo,Endpoint:At,AccountId:At,AccountIdEndpointMode:At,ResourceArn:At,ResourceArnList:{[_s]:Ip,[T]:"stringArray"}},[K]:[{[U]:[Xo,Yo,Qo],[K]:[Jo,Zo,{[U]:[{[A]:J,[I]:[Cp,Ko]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[T]:W},ei],[T]:X},{[U]:[Xo],[K]:[Jo,Zo,ei],[T]:X},{[U]:[Yo],[K]:[{[U]:[Qo],[K]:[{[U]:[{[A]:J,[I]:[Ra,"local"]}],[K]:[{[U]:ci,error:"Invalid Configuration: FIPS and local endpoint are not supported",[T]:W},{[U]:li,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[T]:W},{endpoint:{[be]:"http://localhost:8000",[ve]:{authSchemes:[{signingRegion:"us-east-1",name:"sigv4",signingName:As}]},[we]:pe},[T]:te}],[T]:X},{[U]:[st,Ta],[K]:[{[U]:[ti,ni],[K]:[lr,{endpoint:{[be]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[ve]:pe,[we]:pe},[T]:te}],[T]:X},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[T]:W}],[T]:X},{[U]:ci,[K]:[{[U]:[ti],[K]:[{[U]:[{[A]:J,[I]:[Ht,"aws-us-gov"]}],[K]:[lr,ri],[T]:X},lr,{endpoint:{[be]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[ve]:pe,[we]:pe},[T]:te}],[T]:X},{error:"FIPS is enabled but this partition does not support FIPS",[T]:W}],[T]:X},{[U]:li,[K]:[{[U]:[ni],[K]:[{[U]:ui,endpoint:si,[T]:te},{[U]:di,endpoint:si,[T]:te},{[U]:fi,[K]:[{[U]:hi,[K]:[{endpoint:{[be]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[ve]:pe,[we]:pe},[T]:te}],[T]:X},oi],[T]:X},ii,{endpoint:{[be]:Ko,[ve]:pe,[we]:pe},[T]:te}],[T]:X},{error:"DualStack is enabled but this partition does not support DualStack",[T]:W}],[T]:X},{[U]:ui,endpoint:ai,[T]:te},{[U]:di,endpoint:ai,[T]:te},{[U]:fi,[K]:[{[U]:hi,[K]:[{endpoint:{[be]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[ve]:pe,[we]:pe},[T]:te}],[T]:X},oi],[T]:X},ii,ri],[T]:X}],[T]:X},{error:"Invalid Configuration: Missing Region",[T]:W}]},Tp=Rp,Pp=new uu({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),Np=(e,t={})=>Pp.get(e,()=>Tu(Tp,{endpointParams:e,logger:t.logger}));fn.aws=ia;const kp=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??Pr,base64Encoder:e?.base64Encoder??Xi,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Np,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Uf,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Fu}],logger:e?.logger??new ma,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??hn,utf8Decoder:e?.utf8Decoder??Je,utf8Encoder:e?.utf8Encoder??Nr}),Op=["in-region","cross-region","mobile","standard","legacy"],Mp=({defaultsMode:e}={})=>zu(async()=>{const t=typeof e=="function"?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve($p()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Op.join(", ")}, got ${t}`)}}),$p=()=>{const e=window?.navigator;if(e?.connection){const{effectiveType:t,rtt:n,downlink:r}=e?.connection;if(typeof t=="string"&&t!=="4g"||Number(n)>100||Number(r)<10)return!0}return e?.userAgentData?.mobile||typeof e?.maxTouchPoints=="number"&&e?.maxTouchPoints>1},Dp=e=>{const t=Mp(e),n=()=>t().then(Ed),r=kp(e);return{...r,...e,runtime:"browser",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(()=>Promise.resolve(Vi)),bodyLengthChecker:e?.bodyLengthChecker??yd,credentialDefaultProvider:e?.credentialDefaultProvider??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??_p({serviceId:r.serviceId,clientVersion:op.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(()=>Promise.resolve(void 0)),maxAttempts:e?.maxAttempts??mn,region:e?.region??Ap("Region is missing"),requestHandler:kr.create(e?.requestHandler??n),retryMode:e?.retryMode??(async()=>(await n()).retryMode||cf),sha256:e?.sha256??xp,streamCollector:e?.streamCollector??Fl,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(Hd)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(Vd))}},Lp=e=>({setRegion(t){e.region=t},region(){return e.region}}),Up=e=>({region:e.region()}),Bp=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(s){const o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){n=s},httpAuthSchemeProvider(){return n},setCredentials(s){r=s},credentials(){return r}}},Fp=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),zp=(e,t)=>{const n=Object.assign(Lp(e),Id(e),el(e),Bp(e));return t.forEach(r=>r.configure(n)),Object.assign(e,Up(n),Cd(n),tl(n),Fp(n))};class jp extends pa{config;constructor(...[t]){const n=Dp(t||{});super(n),this.initConfig=n;const r=Ff(n),s=Zc(r),o=lu(s),i=Cf(o),a=qd(i),l=a,c=af(l),f=Bf(c),d=ul(f,{endpointDiscoveryCommandCtor:rp}),u=zp(d,t?.extensions||[]);this.config=u,this.middlewareStack.use(jd(this.config)),this.middlewareStack.use(Mf(this.config)),this.middlewareStack.use(Wd(this.config)),this.middlewareStack.use(hl(this.config)),this.middlewareStack.use(yl(this.config)),this.middlewareStack.use(vl(this.config)),this.middlewareStack.use(_l(this.config,{httpAuthSchemeParametersProvider:Df,identityProviderConfigProvider:async h=>new nu({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(kl(this.config))}destroy(){super.destroy()}}class Hp extends rt.classBuilder().ep({...xn,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,n,r,s){return[wn(r,this.serialize,this.deserialize),Sn(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(jf).de(Gf).build(){}class Vp extends rt.classBuilder().ep({...xn,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,n,r,s){return[wn(r,this.serialize,this.deserialize),Sn(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(Hf).de(Kf).build(){}let qp=class extends rt.classBuilder().ep({...xn,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,n,r,s){return[wn(r,this.serialize,this.deserialize),Sn(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(Vf).de(Wf).build(){};class Vt{value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);const n=typeof t.valueOf()=="number"?t.valueOf():0;if(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER||Math.abs(n)===1/0||Number.isNaN(n))throw new Error(`NumberValue should not be initialized with an imprecise number=${n}. Use a string instead.`)}static from(t){return new Vt(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){const t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}}const Cn=(e,t)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return an();if(Array.isArray(e))return Gp(e,t);if(e?.constructor?.name==="Set")return Kp(e,t);if(e?.constructor?.name==="Map")return Wp(e,t);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return pi(e,t);if(Ma(e))return e.length===0&&t?.convertEmptyValues?an():Pa(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return Oa(e,t);if(e instanceof Vt)return e.toAttributeValue();if(typeof e=="bigint")return ka(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&t?.convertEmptyValues?an():Na(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return pi(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},Gp=(e,t)=>({L:e.filter(n=>typeof n!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&n!==void 0)).map(n=>Cn(n,t))}),Kp=(e,t)=>{const n=t?.removeUndefinedValues?new Set([...e].filter(s=>s!==void 0)):e;if(!t?.removeUndefinedValues&&n.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(n.size===0){if(t?.convertEmptyValues)return an();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}const r=n.values().next().value;if(r instanceof Vt)return{NS:Array.from(n).map(s=>s.toString())};if(typeof r=="number")return{NS:Array.from(n).map(s=>Oa(s,t)).map(s=>s.N)};if(typeof r=="bigint")return{NS:Array.from(n).map(ka).map(s=>s.N)};if(typeof r=="string")return{SS:Array.from(n).map(Na).map(s=>s.S)};if(Ma(r))return{BS:Array.from(n).map(Pa).map(s=>s.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},Wp=(e,t)=>({M:(n=>{const r={};for(const[s,o]of n)typeof o!="function"&&(o!==void 0||!t?.removeUndefinedValues)&&(r[s]=Cn(o,t));return r})(e)}),pi=(e,t)=>({M:(n=>{const r={};for(const s in n){const o=n[s];typeof o!="function"&&(o!==void 0||!t?.removeUndefinedValues)&&(r[s]=Cn(o,t))}return r})(e)}),an=()=>({NULL:!0}),Pa=e=>({B:e}),Na=e=>({S:e.toString()}),ka=e=>({N:e.toString()}),mi=e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},Oa=(e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(n=>n.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t?.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?mi(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&mi(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},Ma=e=>{const t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1},gn=(e,t)=>{for(const[n,r]of Object.entries(e))if(r!==void 0)switch(n){case"NULL":return null;case"BOOL":return!!r;case"N":return yi(r,t);case"B":return bi(r);case"S":return gi(r);case"L":return Xp(r,t);case"M":return Yp(r,t);case"NS":return new Set(r.map(s=>yi(s,t)));case"BS":return new Set(r.map(bi));case"SS":return new Set(r.map(gi));default:throw new Error(`Unsupported type passed: ${n}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},yi=(e,t)=>{if(typeof t?.wrapNumbers=="function")return t?.wrapNumbers(e);if(t?.wrapNumbers)return Vt.from(e);const n=Number(e),r=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)&&!r.includes(n))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return n},gi=e=>e,bi=e=>e,Xp=(e,t)=>e.map(n=>gn(n,t)),Yp=(e,t)=>Object.entries(e).reduce((n,[r,s])=>(n[r]=gn(s,t),n),{});function Qp(e,t){const n=Cn(e,t),[r,s]=Object.entries(n)[0];switch(r){case"M":case"L":return t?.convertTopLevelContainer?n:s;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return n}}const Jp=(e,t)=>t?.convertWithoutMapWrapper?gn(e,t):gn({M:e},t),$a=null,Se={},Ir=[],vi="*",bn=(e,t,n)=>{if(e!==void 0){if(n==null)return t(e);{const r=Object.keys(n),s=r.length===1&&r[0]===vi,o=r.length>=1&&!s,i=r.length===0;if(o)return Is(e,t,n);if(i)return Zp(e,t,$a);if(s)return Object.entries(e??{}).reduce((a,[l,c])=>(typeof c!="function"&&(a[l]=bn(c,t,n[vi])),a),Array.isArray(e)?[]:{})}}},Is=(e,t,n)=>{let r;if(Array.isArray(e))r=e.filter(s=>typeof s!="function");else{r={};for(const[s,o]of Object.entries(e))typeof o!="function"&&(r[s]=o)}for(const[s,o]of Object.entries(n)){if(typeof e[s]=="function")continue;const i=bn(e[s],t,o);i!==void 0&&typeof i!="function"&&(r[s]=i)}return r},Zp=(e,t,n)=>Array.isArray(e)?e.filter(r=>typeof r!="function").map(r=>bn(r,t,n)):Object.entries(e).reduce((r,[s,o])=>{if(typeof o=="function")return r;const i=bn(o,t,n);return i!==void 0&&typeof i!="function"&&(r[s]=i),r},{}),em=(e,t,n)=>Is(e,s=>Qp(s,n),t),tm=(e,t,n)=>Is(e,s=>Jp(s,n),t);class Cs extends rt{addMarshallingMiddleware(t){const{marshallOptions:n={},unmarshallOptions:r={}}=t.translateConfig||{};n.convertTopLevelContainer=n.convertTopLevelContainer??!0,r.convertWithoutMapWrapper=r.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((s,o)=>async i=>(me(o,"DDB_MAPPER","d"),s({...i,input:em(i.input,this.inputKeyNodes,n)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((s,o)=>async i=>{const a=await s(i);return a.output=tm(a.output,this.outputKeyNodes,r),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}}class nm extends Cs{input;inputKeyNodes={Key:Se};outputKeyNodes={Item:Se};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Hp(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,r){this.addMarshallingMiddleware(n);const s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,n,r);return async()=>o(this.clientCommand)}}class wi extends Cs{input;inputKeyNodes={Item:Se,Expected:{"*":{Value:$a,AttributeValueList:Ir}},ExpressionAttributeValues:Se};outputKeyNodes={Attributes:Se,ItemCollectionMetrics:{ItemCollectionKey:Se}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Vp(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,r){this.addMarshallingMiddleware(n);const s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,n,r);return async()=>o(this.clientCommand)}}class rm extends Cs{input;inputKeyNodes={KeyConditions:{"*":{AttributeValueList:Ir}},QueryFilter:{"*":{AttributeValueList:Ir}},ExclusiveStartKey:Se,ExpressionAttributeValues:Se};outputKeyNodes={Items:{"*":Se},LastEvaluatedKey:Se};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new qp(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,r){this.addMarshallingMiddleware(n);const s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,n,r);return async()=>o(this.clientCommand)}}class Rs extends pa{config;constructor(t,n){if(super(t.config),this.config=t.config,this.config.translateConfig=n,this.middlewareStack=t.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(t,n){return new Rs(t,n)}destroy(){}}function Da(e){return Promise.all(Object.keys(e).reduce((t,n)=>{const r=e[n];return typeof r=="string"?t.push([n,r]):t.push(r().then(s=>[n,s])),t},[])).then(t=>t.reduce((n,[r,s])=>(n[r]=s,n),{}))}function sm(e){return async t=>{e.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const{GetCredentialsForIdentityCommand:n,CognitoIdentityClient:r}=await Li(async()=>{const{GetCredentialsForIdentityCommand:c,CognitoIdentityClient:f}=await import("./Dq3xtVKO.js");return{GetCredentialsForIdentityCommand:c,CognitoIdentityClient:f}},[],import.meta.url),s=c=>e.clientConfig?.[c]??e.parentClientConfig?.[c]??t?.callerClientConfig?.[c],{Credentials:{AccessKeyId:o=om(e.logger),Expiration:i,SecretKey:a=am(e.logger),SessionToken:l}=im(e.logger)}=await(e.client??new r(Object.assign({},e.clientConfig??{},{region:s("region"),profile:s("profile")}))).send(new n({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await Da(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:o,secretAccessKey:a,sessionToken:l,expiration:i}}}function om(e){throw new nt("Response from Amazon Cognito contained no access key ID",{logger:e})}function im(e){throw new nt("Response from Amazon Cognito contained no credentials",{logger:e})}function am(e){throw new nt("Response from Amazon Cognito contained no secret key",{logger:e})}const ur="IdentityIds";class cm{dbName;constructor(t="aws:cognito-identity-ids"){this.dbName=t}getItem(t){return this.withObjectStore("readonly",n=>{const r=n.get(t);return new Promise(s=>{r.onerror=()=>s(null),r.onsuccess=()=>s(r.result?r.result.value:null)})}).catch(()=>null)}removeItem(t){return this.withObjectStore("readwrite",n=>{const r=n.delete(t);return new Promise((s,o)=>{r.onerror=()=>o(r.error),r.onsuccess=()=>s()})})}setItem(t,n){return this.withObjectStore("readwrite",r=>{const s=r.put({id:t,value:n});return new Promise((o,i)=>{s.onerror=()=>i(s.error),s.onsuccess=()=>o()})})}getDb(){const t=self.indexedDB.open(this.dbName,1);return new Promise((n,r)=>{t.onsuccess=()=>{n(t.result)},t.onerror=()=>{r(t.error)},t.onblocked=()=>{r(new Error("Unable to access DB"))},t.onupgradeneeded=()=>{const s=t.result;s.onerror=()=>{r(new Error("Failed to create object store"))},s.createObjectStore(ur,{keyPath:"id"})}})}withObjectStore(t,n){return this.getDb().then(r=>{const s=r.transaction(ur,t);return s.oncomplete=()=>r.close(),new Promise((o,i)=>{s.onerror=()=>i(s.error),o(n(s.objectStore(ur)))}).catch(o=>{throw r.close(),o})})}}class lm{store;constructor(t={}){this.store=t}getItem(t){return t in this.store?this.store[t]:null}removeItem(t){delete this.store[t]}setItem(t,n){this.store[t]=n}}const um=new lm;function dm(){return typeof self=="object"&&self.indexedDB?new cm:typeof window=="object"&&window.localStorage?window.localStorage:um}function fm({accountId:e,cache:t=dm(),client:n,clientConfig:r,customRoleArn:s,identityPoolId:o,logins:i,userIdentifier:a=!i||Object.keys(i).length===0?"ANONYMOUS":void 0,logger:l,parentClientConfig:c}){l?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const f=a?`aws:cognito-identity-credentials:${o}:${a}`:void 0;let d=async u=>{const{GetIdCommand:h,CognitoIdentityClient:y}=await Li(async()=>{const{GetIdCommand:x,CognitoIdentityClient:E}=await import("./Dq3xtVKO.js");return{GetIdCommand:x,CognitoIdentityClient:E}},[],import.meta.url),m=x=>r?.[x]??c?.[x]??u?.callerClientConfig?.[x],p=n??new y(Object.assign({},r??{},{region:m("region"),profile:m("profile")}));let b=f&&await t.getItem(f);if(!b){const{IdentityId:x=hm(l)}=await p.send(new h({AccountId:e,IdentityPoolId:o,Logins:i?await Da(i):void 0}));b=x,f&&Promise.resolve(t.setItem(f,b)).catch(()=>{})}return d=sm({client:p,customRoleArn:s,logins:i,identityId:b}),d(u)};return u=>d(u).catch(async h=>{throw f&&Promise.resolve(t.removeItem(f)).catch(()=>{}),h})}function hm(e){throw new nt("Response from Amazon Cognito contained no identity ID",{logger:e})}class Ee{static singleton;static tableName="socialitix_items";static pkPrefix="DOAB";db;client;static init=()=>{if(console.log("Initializing database connections..."),this.singleton)return console.log("Found database singleton.."),this.singleton;let t=localStorage.getItem("IdentityPoolId");if(!t)if(t=prompt("Enter the credential: "),t)localStorage.setItem("IdentityPoolId",t);else throw alert("Need credential to connect to database.."),new Error("Cannot connect without credential...");return this.singleton=new Ee(t),this.singleton};constructor(t){this.db=new jp({region:"ap-south-1",credentials:fm({identityPoolId:t,clientConfig:{region:"ap-south-1"}})}),this.client=Rs.from(this.db),console.log("Connected to dynamo db successfully...")}}class dr{static InboxItem=`{
        "TableName": "${Ee.tableName}",
        "Item": {
            "PK": "${Ee.pkPrefix}#{id}",
            "SK": "#meta",
            "type": "P",
            "name": "{name}",
            "GSI_PK": "inbox",
            "GSI_SK": "#"
        }
    }`;static GsiQuery=`{
        "TableName": "${Ee.tableName}",
        "IndexName": "${Ee.tableName}_gsi",
        "KeyConditionExpression": "GSI_PK = :pk",
        "ExpressionAttributeValues": {
            ":pk": "{viewName}"
        }
    }`;static itemGet=`{
        "TableName": "${Ee.tableName}",
        "Key": {
            "PK": "{pk}",
            "SK": "{sk}"
        }
    }`}function pm(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+e/4).toString(16))}function fr(e,t){const n=e.replace(/{(\w+)}/g,(r,s)=>t.hasOwnProperty(s)?t[s]:r);return JSON.parse(n)}function mm(e,t=new Date){if(!e)return 0;const n=e.getTime()-t.getTime();return Math.ceil(n/(1e3*60*60*24))}var Ne=(e=>(e.Completed="Completion",e.DueDate="Due date",e))(Ne||{}),ee=(e=>(e.Days="Days",e.Weeks="Weeks",e.Months="Months",e.Years="Years",e))(ee||{}),ye=(e=>(e.Purpose="Purpose",e.Maintenance="Maintenance",e))(ye||{}),Ue=(e=>(e.Support3="Support3",e.Support2="Support2",e.Support1="Support1",e))(Ue||{}),ae=(e=>(e.Sev1="Sev1",e.Sev2="Sev2",e.Sev3="Sev3",e.Sev4="Sev4",e.Sev5="Sev5",e))(ae||{}),B=(e=>(e.Backlog="Backlog",e.Pending="Pending",e.InProgress="InProgress",e.Blocked="Blocked",e.Cancelled="Cancelled",e.Completed="Completed",e))(B||{});const Ei={Purpose:{Sev1:"Core to identity and legacy",Sev2:"Moves mission forward, high impact",Sev3:"Supports purpose, medium impact",Sev4:"Some value, low urgency",Sev5:"Fun, curiosity, no big impact"},Maintenance:{Sev1:"Urgent, safety/legal consequences",Sev2:"Affects daily comfort or function",Sev3:"Regular upkeep, can delay a bit",Sev4:"Slight improvement, no urgency",Sev5:"Just for looks, low priority"}},hr={Support1:"Be a better version of myself",Support2:"Impact the lives of others personally",Support3:"Engineer a lot in computer science"},ce={Inbox:{name:"inbox",icon:"ð¥",title:"Inbox",shortName:"Inbox"},Remaining:{name:"remaining",icon:"ð",title:"Remaining",shortName:"Left"},Available:{name:"available",icon:"â",title:"Available",shortName:"Ready"},Blocked:{name:"blocked",icon:"ð«",title:"Blocked",shortName:"Block"},InProgress:{name:"inprogress",icon:"â³",title:"In Progress",shortName:"Active"},Closed:{name:"closed",icon:"â³",title:"Closed",shortName:"Closed"},InFocus:{name:"infocus",icon:"ð¯",title:"In Focus",shortName:"Focus"}};class ym extends Map{#e=new Map;#t=D(0);#n=D(0);#o=co||-1;constructor(t){if(super(),t){for(var[n,r]of t)super.set(n,r);this.#n.v=super.size}}#r(t){return co===this.#o?D(t):mr(t)}has(t){var n=this.#e,r=n.get(t);if(r===void 0){var s=super.get(t);if(s!==void 0)r=this.#r(0),n.set(t,r);else return g(this.#t),!1}return g(r),!0}forEach(t,n){this.#s(),super.forEach(t,n)}get(t){var n=this.#e,r=n.get(t);if(r===void 0){var s=super.get(t);if(s!==void 0)r=this.#r(0),n.set(t,r);else{g(this.#t);return}}return g(r),super.get(t)}set(t,n){var r=this.#e,s=r.get(t),o=super.get(t),i=super.set(t,n),a=this.#t;if(s===void 0)s=this.#r(0),r.set(t,s),v(this.#n,super.size),St(a);else if(o!==n){St(s);var l=a.reactions===null?null:new Set(a.reactions),c=l===null||!s.reactions?.every(f=>l.has(f));c&&St(a)}return i}delete(t){var n=this.#e,r=n.get(t),s=super.delete(t);return r!==void 0&&(n.delete(t),v(this.#n,super.size),v(r,-1),St(this.#t)),s}clear(){if(super.size!==0){super.clear();var t=this.#e;v(this.#n,0);for(var n of t.values())v(n,-1);St(this.#t),t.clear()}}#s(){g(this.#t);var t=this.#e;if(this.#n.v!==t.size){for(var n of super.keys())if(!t.has(n)){var r=this.#r(0);t.set(n,r)}}for([,r]of this.#e)g(r)}keys(){return g(this.#t),super.keys()}values(){return this.#s(),super.values()}entries(){return this.#s(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return g(this.#n),super.size}}class Ts{db;static singleton;#e=D(!1);get isLoading(){return g(this.#e)}set isLoading(t){v(this.#e,t,!0)}items=new ym;static init(){return console.log("Initialising rootstore.."),this.singleton?(console.log("Getting rootstore singleton.."),this.singleton):(this.singleton=new Ts,this.singleton)}constructor(){this.db=Ee.init(),this.loadState()}loadState=async()=>{this.isLoading=!0;for(const t of Object.values(ce))console.log("Getting items that are "+t.name),await this.loadItemsToMap(t.name);this.isLoading=!1};addInboxItem=async t=>{const n=fr(dr.InboxItem,{id:pm(),name:t});await this.db.client.send(new wi(n));const r=this.items.get(ce.Inbox.name)||[];r.push(n.Item),r.sort((s,o)=>s.name.localeCompare(o.name)),this.items.set(ce.Inbox.name,r),console.log("Item created successfully...")};loadItemsToMap=async t=>{const n=await this.getItemsFromGsi(t);t==ce.Inbox.name?n.sort((r,s)=>r.name.localeCompare(s.name)):this.sortOrder(n),this.items.set(t,n)};getItemsFromGsi=async t=>{const n=fr(dr.GsiQuery,{viewName:t}),r=await this.db.client.send(new rm(n));let s=[];for(const o of r.Items||[])o.PK.startsWith(Ee.pkPrefix)&&s.push(o);return s};getProject=async(t,n)=>{const r=fr(dr.itemGet,{pk:t,sk:n});return(await this.db.client.send(new nm(r))).Item};getView=t=>!t.severity||!t.type?ce.Inbox.name:t.status==B.Blocked?ce.Blocked.name:t.status==B.InProgress?ce.InProgress.name:t.status==B.Completed||t.status==B.Cancelled?ce.Closed.name:t.status==B.Pending&&!t.dueDate||t.dueDate&&mm(new Date(t.dueDate))<=14?ce.Available.name:ce.Remaining.name;addOrUpdateProject=async t=>{const n=t.GSI_PK;t.GSI_PK=this.getView(t),t.GSI_SK=`#${t.dueDate||""}`;const r={TableName:Ee.tableName,Item:t};await this.db.client.send(new wi(r));let s=this.items.get(n)||[],o=s.findIndex(a=>a.PK==t.PK);s.splice(o,1);let i=this.items.get(t.GSI_PK)||[];i.push(t),this.sortOrder(i),this.items.set(n,s),this.items.set(t.GSI_PK,i),console.log("Item saved successfully...")};sortOrder=t=>{t.sort((n,r)=>{let s=n.GSI_SK=="#"?"#3025":n.GSI_SK,o=r.GSI_SK=="#"?"#3025":r.GSI_SK;return s==o?n.name.localeCompare(r.name):s.localeCompare(o)})};changeProjectStatus=async(t,n)=>{const r=await this.getProject(t.PK,t.SK);r.status=n,await this.addOrUpdateProject(r)}}function gm(e,t,n){e.key==="Enter"&&!e.shiftKey?(e.preventDefault(),t()):e.key==="Escape"&&n()}var bm=Y('<div class="fixed flex flex-col inset-0 z-50 flex items-center justify-center bg-black/70"><span>Saving inbox item...</span> <span class="loading loading-infinity loading-lg text-primary"></span></div>'),vm=Y('<div class="modal-backdrop svelte-tdth9n"></div>'),wm=Y('<div class="modal modal-open"><div class="modal-box"><!> <h3 class="font-bold text-lg mb-4"> </h3> <div class="form-control"><textarea class="textarea textarea-bordered h-24"></textarea></div> <div class="modal-action"><button class="btn btn-ghost btn-sm">Cancel</button> <button class="btn btn-primary btn-sm">Save & Add New</button> <button class="btn btn-primary btn-sm">Save</button></div></div>  <!></div>');function Em(e,t){et(t,!0);let n=qn(t,"isOpen",15,!1),r=qn(t,"title",3,"Enter Text"),s=qn(t,"placeholder",3,"Type here..."),o=D(""),i,a=D(!1);Rr(()=>{n()&&i.focus()});async function l(){g(o).trim()&&(v(a,!0),await t.onSave(g(o)),v(o,""),n(!1),v(a,!1))}async function c(){g(o).trim()&&(v(a,!0),await t.onSave(g(o)),v(o,""),v(a,!1),i.focus())}function f(){v(o,""),n(!1),t.onClose&&t.onClose()}var d=Mi(),u=cn(d);{var h=y=>{var m=wm(),p=S(m),b=S(p);{var x=j=>{var G=bm();q(j,G)};ue(b,j=>{g(a)&&j(x)})}var E=_(b,2),C=S(E,!0);w(E);var R=_(E,2),O=S(R);$i(O),O.__keydown=[gm,l,f],Tr(O,j=>i=j,()=>i),w(R);var H=_(R,2),V=S(H);V.__click=f;var z=_(V,2);z.__click=c;var ie=_(z,2);ie.__click=l,w(H),w(p);var re=_(p,2);{var fe=j=>{var G=vm();G.__click=f,q(j,G)};ue(re,j=>{g(a)||j(fe)})}w(m),Re((j,G)=>{F(C,r()),gr(O,"placeholder",s()),V.disabled=g(a),z.disabled=j,ie.disabled=G},[()=>!g(o).trim(),()=>!g(o).trim()]),It(O,()=>g(o),j=>v(o,j)),q(y,m)};ue(u,y=>{n()&&y(h)})}q(e,d),tt()}Ut(["keydown","click"]);function Sm(e){const t=e-1;return t*t*t+1}function Si(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function xm(e,{delay:t=0,duration:n=400,easing:r=Sm,x:s=0,y:o=0,opacity:i=0}={}){const a=getComputedStyle(e),l=+a.opacity,c=a.transform==="none"?"":a.transform,f=l*(1-i),[d,u]=Si(s),[h,y]=Si(o);return{delay:t,duration:n,easing:r,css:(m,p)=>`
			transform: ${c} translate(${(1-m)*d}${u}, ${(1-m)*h}${y});
			opacity: ${l-f*p}`}}function _m(e,t,n){v(t,e.touches[0].clientX,!0),v(n,!0)}function Am(e,t,n,r,s,o,i){if(!g(t))return;v(n,e.touches[0].clientX,!0);const a=g(n)-g(r);a<0?v(s,Math.max(a,-o),!0):g(i)&&v(s,Math.min(0,a-o),!0)}function Im(e,t,n,r,s,o){v(t,!1),g(n)<-r?(v(n,-s),v(o,!0)):(v(n,0),v(o,!1))}function Cm(e,t,n){v(t,e.clientX,!0),v(n,!0)}var Rm=(e,t)=>t(B.Pending),Tm=(e,t)=>t(B.InProgress),Pm=(e,t)=>t(B.Blocked),Nm=(e,t)=>t.clickHandler(t.item),km=Y('<div class="swipeable-container relative overflow-hidden bg-base-100  svelte-1p7m0bx"><div class="absolute right-0 top-0 h-full flex"><button class="btn btn-info w-16 rounded-none h-full flex flex-col items-center justify-center gap-1"><span class="text-xs">Later</span></button> <button class="btn btn-warning w-16 rounded-none h-full flex flex-col items-center justify-center gap-1"><span class="text-xs">Focus</span></button> <button class="btn btn-error w-16 rounded-none h-full flex flex-col items-center justify-center gap-1"><span class="text-xs">Block</span></button></div>  <div class="swipeable-content bg-base-100 cursor-grab active:cursor-grabbing relative z-10 svelte-1p7m0bx"><button class="border-b border-b-base-content/10 py-2 ps-3 pe-2 gap-2 w-full text-start flex flex-row items-center"><img src="/Pending.svg" class="flex w-5"/> <p class="text-xs text-base-content/70 "> </p></button></div></div>');function Om(e,t){et(t,!0);let n=D(0),r=D(0),s=D(!1),o=D(0),i=D(!1);const a=80,l=210;function c(R){if(!g(s))return;v(r,R.clientX,!0);const O=g(r)-g(n);O<0?v(o,Math.max(O,-l),!0):g(i)&&v(o,Math.min(0,O-l),!0)}function f(){v(s,!1),g(o)<-a?(v(o,-l),v(i,!0)):(v(o,0),v(i,!1))}function d(R){v(o,0),v(i,!1),t.onStatusChange(t.item,R)}var u=km();uo("mousemove",lo,c),uo("mouseup",lo,f);var h=S(u),y=S(h);y.__click=[Rm,d];var m=_(y,2);m.__click=[Tm,d];var p=_(m,2);p.__click=[Pm,d],w(h);var b=_(h,2);b.__touchstart=[_m,n,s],b.__touchmove=[Am,s,r,n,o,l,i],b.__touchend=[Im,s,o,a,l,i],b.__mousedown=[Cm,n,s];var x=S(b);x.__click=[Nm,t];var E=_(S(x),2),C=S(E);w(E),w(x),w(b),w(u),Re(()=>{Bc(b,`transform: translateX(${g(o)??""}px); transition: ${g(s)?"none":"transform 0.3s ease-out"};`),F(C,`${t.item.GSI_SK??""}/${t.item.name??""}`)}),Yc(2,u,()=>xm,()=>({x:-40})),q(e,u),tt()}Ut(["click","touchstart","touchmove","touchend","mousedown"]);const xi=(e,t)=>v(t,!g(t));var Mm=Y('<dialog id="prompt-dialog"><div class="modal-box max-w-[500px] rounded-lg p-0"><div class="flex flex-col w-full"><div class="text-lg text-primary px-4 border-b py-4 bg-base-200"> </div> <div class="text-sm whitespace-pre pt-3 px-6"> </div> <div class="divider mt-2 mb-0 p-0"></div></div> <div class="flex flex-row justify-end px-6 pt-1 pb-3"><button class="btn btn-sm btn-soft btn-primary rounded text-xs">Okay!!</button></div></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog>');function La(e,t){et(t,!0);let n=D(!1),r=D(""),s=D(void 0);function o(E,C="Message"){v(s,C,!0),v(r,E,!0),v(n,!0)}var i={show:o},a=Mm();let l;var c=S(a),f=S(c),d=S(f),u=S(d,!0);w(d);var h=_(d,2),y=S(h,!0);w(h),Ct(2),w(f);var m=_(f,2),p=S(m);p.__click=[xi,n],w(m),w(c);var b=_(c,2),x=S(b);return x.__click=[xi,n],w(b),w(a),Re(E=>{l=Fi(a,1,"modal",null,l,E),F(u,g(s)),F(y,g(r))},[()=>({"modal-open":g(n)})]),q(e,a),tt(i)}Ut(["click"]);var $m=Y('<div class="fixed flex flex-col inset-0 z-50 flex items-center justify-center bg-black/70"><span>Updating view...</span> <span class="loading loading-infinity loading-lg text-primary"></span></div>'),Dm=Y('<div class="flex flex-col items-center justify-center py-12 text-base-content/60"><svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mb-4 opacity-50" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path></svg> <p class="text-lg font-medium"> </p> <p class="text-sm mt-1">Tap the + button to add a new item</p></div>'),Lm=Y("<div></div>"),Um=Y('<div class="h-full overflow-y-auto "><!> <!> <!></div>');function Bm(e,t){et(t,!0);let n,r=Di("RootStore"),s=D(Be([])),o=D(!1);async function i(m){v(o,!0),console.log("Viewing "+m),v(s,r.items.get(m)||[],!0),v(o,!1)}async function a(m,p){try{v(o,!0),console.log(`Changing item ${m.name} status to ${p}`),await r.changeProjectStatus(m,p),v(s,r.items.get(t.viewName)||[],!0),v(o,!1)}catch(b){n.show(`Error changing status for ${m.name} to ${p}
${b.message}`,"Error updating status"),console.log(b)}}Rr(()=>{i(t.viewName)});var l=Um(),c=S(l);{var f=m=>{var p=$m();q(m,p)};ue(c,m=>{g(o)&&m(f)})}var d=_(c,2);{var u=m=>{var p=Dm(),b=_(S(p),2),x=S(b);w(b),Ct(2),w(p),Re(()=>F(x,`No items in ${t.viewName??""}`)),q(m,p)},h=m=>{var p=Lm();Ui(p,21,()=>g(s),b=>b.PK,(b,x)=>{Om(b,{get item(){return g(x)},get clickHandler(){return t.clickHandler},onStatusChange:a})}),w(p),q(m,p)};ue(d,m=>{g(s).length===0?m(u):m(h,!1)})}var y=_(d,2);Tr(La(y,{}),m=>n=m,()=>n),w(l),q(e,l),tt()}async function Fm(e,t,n,r,s,o,i,a,l,c,f,d,u,h,y,m,p){if(!g(t))return;v(n,!0),g(r)==ye.Maintenance&&v(s,void 0);const b={...g(t),name:g(o),type:g(r),supports:g(s),severity:g(i),notes:g(a),dueDate:g(l),status:g(c),completeOnEmpty:g(f),repeatInfo:g(d)?{count:g(u),type:g(h),unit:g(y)}:void 0};console.log(b),await m.addOrUpdateProject(b),v(n,!1),p.onCancel()}var zm=Y('<div class="flex justify-center items-center h-full"><span class="loading loading-spinner loading-lg text-primary"></span></div>'),jm=Y('<div class="form-control"><label class="label"><span class="label-text font-semibold">Supports</span></label> <select class="select select-bordered w-full"><option> </option><option> </option><option> </option></select></div>'),Hm=Y('<div class="space-y-4 pl-4 border-l-2 border-primary/30"><div class="form-control"><label class="label"><span class="label-text font-semibold">Repeat Type</span></label> <select class="select select-bordered w-full"><option> </option><option> </option></select></div> <div class="form-control"><label class="label"><span class="label-text font-semibold">Every</span></label> <div class="flex gap-2"><input type="number" class="input input-bordered flex-1" min="1"/> <select class="select select-bordered flex-1"><option> </option><option> </option><option> </option><option> </option></select></div></div></div>'),Vm=Y('<span class="loading loading-spinner"></span>'),qm=Y('<div><div class="flex items-center justify-between"><h2 class="text-2xl p-4 font-bold">Edit Project</h2> <button class="btn btn-ghost btn-sm btn-circle"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="card bg-base-100 "><div class="card-body space-y-4"><div class="form-control"><label class="label"><span class="label-text font-semibold">Name</span></label> <input type="text" class="input input-bordered w-full" placeholder="Enter project name"/></div> <div class="form-control"><label class="label"><span class="label-text font-semibold">Type</span></label> <select class="select select-bordered w-full"><option> </option><option> </option></select></div> <!> <div class="form-control"><label class="label"><span class="label-text font-semibold">Severity</span></label> <select class="select select-bordered w-full"><option>Sev1</option><option>Sev2</option><option>Sev3</option><option>Sev4</option><option>Sev5</option></select> <label class="label"><span class="label-text-alt text-base-content/60"> </span></label></div> <div class="form-control"><label class="label"><span class="label-text font-semibold">Status</span></label> <select class="select select-bordered w-full"><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option></select></div> <div class="form-control"><label class="label"><span class="label-text font-semibold">Due Date</span></label> <input type="date" class="input input-bordered w-full"/></div> <div class="form-control"><label class="label cursor-pointer justify-start gap-4"><input type="checkbox" class="checkbox checkbox-primary"/> <div><span class="label-text font-semibold">Complete on Empty</span> <p class="text-xs text-base-content/60">Auto-complete when all tasks are done</p></div></label></div> <div class="divider">Repeat Settings</div> <div class="form-control"><label class="label cursor-pointer justify-start gap-4"><input type="checkbox" class="checkbox checkbox-primary"/> <span class="label-text font-semibold">Enable Repeat</span></label></div> <!> <div class="form-control"><label class="label"><span class="label-text font-semibold">Notes</span></label> <textarea class="textarea textarea-bordered h-32" placeholder="Add any additional notes..."></textarea></div></div></div> <div class="flex gap-2 pb-4"><button class="btn btn-ghost flex-1">Cancel</button> <button class="btn btn-primary flex-1"><!> Save Changes</button></div></div>'),Gm=Y('<div class="flex flex-col items-center justify-center h-full text-base-content/60"><p>Failed to load project</p> <button class="btn btn-primary mt-4">Go Back</button></div>'),Km=Y('<div class="h-full overflow-y-auto bg-base-200"><!></div>');function Wm(e,t){et(t,!0);let n=Di("RootStore"),r=D(null),s=D(!1),o=D(!1),i=D(""),a=D(Be(ye.Purpose)),l=D(void 0),c=D(Be(ae.Sev3)),f=D(""),d=D(void 0),u=D(Be(B.Pending)),h=D(!1),y=D(!1),m=D(1),p=D(Be(Ne.Completed)),b=D(Be(ee.Days));async function x(V){v(s,!0),v(r,await n.getProject(V,"#meta"),!0),v(i,g(r).name,!0),v(a,g(r).projectType,!0),v(l,g(r).supports,!0),v(c,g(r).severity,!0),v(f,g(r).notes,!0),v(d,g(r).dueDate,!0),v(u,g(r).status,!0),v(h,g(r).completeOnEmpty,!0),g(r).repeatInfo&&(v(y,!0),v(m,g(r).repeatInfo.count,!0),v(p,g(r).repeatInfo.type,!0),v(b,g(r).repeatInfo.unit,!0)),v(s,!1)}function E(){return g(a)===ye.Purpose?Ei.Purpose[g(c)]:Ei.Maintenance[g(c)]}Rr(()=>{x(t.projectId)});var C=Km(),R=S(C);{var O=V=>{var z=zm();q(V,z)},H=V=>{var z=Mi(),ie=cn(z);{var re=j=>{var G=qm(),se=S(G),Oe=_(S(se),2);Oe.__click=function(...L){t.onCancel?.apply(this,L)},w(se);var ot=_(se,2),it=S(ot),at=S(it),Ps=_(S(at),2);xt(Ps),w(at);var Rn=_(at,2),Tn=_(S(Rn),2),ct=S(Tn),Ua=S(ct,!0);w(ct);var Ns={},qt=_(ct),Ba=S(qt,!0);w(qt);var ks={};w(Tn),w(Rn);var Os=_(Rn,2);{var Fa=L=>{var he=jm(),Me=_(S(he),2),_e=S(Me),$e=S(_e,!0);w(_e);var Xt={},Te=_(_e),qe=S(Te,!0);w(Te);var Yt={},De=_(Te),Qt=S(De,!0);w(De);var pt={};w(Me),w(he),Re(()=>{F($e,hr.Support1),Xt!==(Xt=Ue.Support1)&&(_e.value=(_e.__value=Ue.Support1)??""),F(qe,hr.Support2),Yt!==(Yt=Ue.Support2)&&(Te.value=(Te.__value=Ue.Support2)??""),F(Qt,hr.Support3),pt!==(pt=Ue.Support3)&&(De.value=(De.__value=Ue.Support3)??"")}),Ge(Me,()=>g(l),mt=>v(l,mt)),q(L,he)};ue(Os,L=>{g(a)===ye.Purpose&&L(Fa)})}var Pn=_(Os,2),Gt=_(S(Pn),2),Nn=S(Gt),Ms={},kn=_(Nn),$s={},On=_(kn),Ds={},Mn=_(On),Ls={},Us=_(Mn),Bs={};w(Gt);var Fs=_(Gt,2),zs=S(Fs),za=S(zs,!0);w(zs),w(Fs),w(Pn);var $n=_(Pn,2),Dn=_(S($n),2),lt=S(Dn),ja=S(lt,!0);w(lt);var js={},ut=_(lt),Ha=S(ut,!0);w(ut);var Hs={},dt=_(ut),Va=S(dt,!0);w(dt);var Vs={},ft=_(dt),qa=S(ft,!0);w(ft);var qs={},ht=_(ft),Ga=S(ht,!0);w(ht);var Gs={},Kt=_(ht),Ka=S(Kt,!0);w(Kt);var Ks={};w(Dn),w($n);var Ln=_($n,2),Ws=_(S(Ln),2);xt(Ws),w(Ln);var Un=_(Ln,2),Xs=S(Un),Ys=S(Xs);xt(Ys),Ct(2),w(Xs),w(Un);var Bn=_(Un,4),Qs=S(Bn),Js=S(Qs);xt(Js),Ct(2),w(Qs),w(Bn);var Zs=_(Bn,2);{var Wa=L=>{var he=Hm(),Me=S(he),_e=_(S(Me),2),$e=S(_e),Xt=S($e,!0);w($e);var Te={},qe=_($e),Yt=S(qe,!0);w(qe);var De={};w(_e),w(Me);var Qt=_(Me,2),pt=_(S(Qt),2),mt=S(pt);xt(mt);var zn=_(mt,2),yt=S(zn),Qa=S(yt,!0);w(yt);var ro={},gt=_(yt),Ja=S(gt,!0);w(gt);var so={},bt=_(gt),Za=S(bt,!0);w(bt);var oo={},Jt=_(bt),ec=S(Jt,!0);w(Jt);var io={};w(zn),w(pt),w(Qt),w(he),Re(()=>{F(Xt,Ne.Completed),Te!==(Te=Ne.Completed)&&($e.value=($e.__value=Ne.Completed)??""),F(Yt,Ne.DueDate),De!==(De=Ne.DueDate)&&(qe.value=(qe.__value=Ne.DueDate)??""),F(Qa,ee.Days),ro!==(ro=ee.Days)&&(yt.value=(yt.__value=ee.Days)??""),F(Ja,ee.Weeks),so!==(so=ee.Weeks)&&(gt.value=(gt.__value=ee.Weeks)??""),F(Za,ee.Months),oo!==(oo=ee.Months)&&(bt.value=(bt.__value=ee.Months)??""),F(ec,ee.Years),io!==(io=ee.Years)&&(Jt.value=(Jt.__value=ee.Years)??"")}),Ge(_e,()=>g(p),vt=>v(p,vt)),It(mt,()=>g(m),vt=>v(m,vt)),Ge(zn,()=>g(b),vt=>v(b,vt)),q(L,he)};ue(Zs,L=>{g(y)&&L(Wa)})}var eo=_(Zs,2),to=_(S(eo),2);$i(to),w(eo),w(it),w(ot);var no=_(ot,2),Fn=S(no);Fn.__click=function(...L){t.onCancel?.apply(this,L)};var Wt=_(Fn,2);Wt.__click=[Fm,r,o,a,l,i,c,f,d,u,h,y,m,p,b,n,t];var Xa=S(Wt);{var Ya=L=>{var he=Vm();q(L,he)};ue(Xa,L=>{g(o)&&L(Ya)})}Ct(),w(Wt),w(no),w(G),Re((L,he)=>{F(Ua,ye.Purpose),Ns!==(Ns=ye.Purpose)&&(ct.value=(ct.__value=ye.Purpose)??""),F(Ba,ye.Maintenance),ks!==(ks=ye.Maintenance)&&(qt.value=(qt.__value=ye.Maintenance)??""),Ms!==(Ms=ae.Sev1)&&(Nn.value=(Nn.__value=ae.Sev1)??""),$s!==($s=ae.Sev2)&&(kn.value=(kn.__value=ae.Sev2)??""),Ds!==(Ds=ae.Sev3)&&(On.value=(On.__value=ae.Sev3)??""),Ls!==(Ls=ae.Sev4)&&(Mn.value=(Mn.__value=ae.Sev4)??""),Bs!==(Bs=ae.Sev5)&&(Us.value=(Us.__value=ae.Sev5)??""),F(za,L),F(ja,B.Backlog),js!==(js=B.Backlog)&&(lt.value=(lt.__value=B.Backlog)??""),F(Ha,B.Pending),Hs!==(Hs=B.Pending)&&(ut.value=(ut.__value=B.Pending)??""),F(Va,B.InProgress),Vs!==(Vs=B.InProgress)&&(dt.value=(dt.__value=B.InProgress)??""),F(qa,B.Blocked),qs!==(qs=B.Blocked)&&(ft.value=(ft.__value=B.Blocked)??""),F(Ga,B.Cancelled),Gs!==(Gs=B.Cancelled)&&(ht.value=(ht.__value=B.Cancelled)??""),F(Ka,B.Completed),Ks!==(Ks=B.Completed)&&(Kt.value=(Kt.__value=B.Completed)??""),Fn.disabled=g(o),Wt.disabled=he},[E,()=>g(o)||!g(i).trim()]),It(Ps,()=>g(i),L=>v(i,L)),Ge(Tn,()=>g(a),L=>v(a,L)),Ge(Gt,()=>g(c),L=>v(c,L)),Ge(Dn,()=>g(u),L=>v(u,L)),It(Ws,()=>g(d),L=>v(d,L)),mo(Ys,()=>g(h),L=>v(h,L)),mo(Js,()=>g(y),L=>v(y,L)),It(to,()=>g(f),L=>v(f,L)),q(j,G)},fe=j=>{var G=Gm(),se=_(S(G),2);se.__click=function(...Oe){t.onCancel?.apply(this,Oe)},w(G),q(j,G)};ue(ie,j=>{g(r)?j(re):j(fe,!1)},!0)}q(V,z)};ue(R,V=>{g(s)||g(o)?V(O):V(H,!1)})}w(C),q(e,C),tt()}Ut(["click"]);var Xm=Y('<div class="fixed flex flex-col inset-0 z-50 flex items-center justify-center bg-black/70"><span>Initialising the views...</span> <span class="loading loading-infinity loading-lg text-primary"></span></div>'),Ym=(e,t,n)=>v(t,g(n).name,!0),Qm=Y('<button><span class="text-2xl"> </span> <span class="text-xs"> </span></button>'),Jm=(e,t)=>v(t,!0),Zm=Y('<div class="navbar bg-base-300 text-base-content shadow-lg"><div class="flex-1"><h1 class="text-xl font-bold"> </h1></div></div> <div class="flex-1 overflow-y-auto"><!></div> <div class="btm-nav btm-nav-lg bg-base-100 border-t border-base-300 flex flex-row"></div>  <button class="btn btn-circle btn-primary btn-lg fixed bottom-18 right-4 shadow-2xl z-50"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></button>',1),ey=Y('<!> <div class="flex flex-col h-screen bg-base-200"><!> <!> <!></div>',1);function uy(e,t){et(t,!0);let n=D(Be(ce.Available.name)),r,s=Ts.init();console.log("Setting root store context..."),Oc("RootStore",s);let o=D(!1),i=D(!1),a;async function l(E){try{console.log("Saved item:",E),await s.addInboxItem(E)}catch(C){r.show(`Error adding inbox item : 
`+C.message,"Error add inbox item"),console.log(C)}}async function c(E){a=E,console.log("Selecting project ",a.name),v(i,!0)}var f=ey(),d=cn(f);{var u=E=>{var C=Xm();q(E,C)};ue(d,E=>{s.isLoading&&E(u)})}var h=_(d,2),y=S(h);{var m=E=>{Wm(E,{get projectId(){return a.PK},onCancel:()=>v(i,!1)})},p=E=>{var C=Zm(),R=cn(C),O=S(R),H=S(O),V=S(H,!0);w(H),w(O),w(R);var z=_(R,2),ie=S(z);Bm(ie,{get viewName(){return g(n)},clickHandler:c}),w(z);var re=_(z,2);Ui(re,21,()=>Object.values(ce),Mc,(j,G)=>{var se=Qm();se.__click=[Ym,n,G];var Oe=S(se),ot=S(Oe,!0);w(Oe);var it=_(Oe,2),at=S(it,!0);w(it),w(se),Re(()=>{Fi(se,1,`flex-1 flex flex-col items-center justify-center gap-1 py-1 ${g(n)===g(G).name?"bg-base-200":""}`),F(ot,g(G).icon),F(at,g(G).shortName)}),q(j,se)}),w(re);var fe=_(re,2);fe.__click=[Jm,o],Re(()=>F(V,g(n))),q(E,C)};ue(y,E=>{g(i)?E(m):E(p,!1)})}var b=_(y,2);Em(b,{title:"New Inbox Item",placeholder:"Enter project description...",onSave:l,get isOpen(){return g(o)},set isOpen(E){v(o,E,!0)}});var x=_(b,2);Tr(La(x,{}),E=>r=E,()=>r),w(h),q(e,f),tt()}Ut(["click"]);export{Od as $,Fu as A,tl as B,pa as C,cf as D,uu as E,kr as F,lu as G,Cf as H,qd as I,af as J,iy as K,jd as L,Mf as M,ma as N,Wd as O,hl as P,yl as Q,vl as R,xp as S,_l as T,nu as U,kl as V,Ye as W,Bt as X,de as Y,kd as Z,P as _,Tu as a,vd as a0,$ as a1,ne as a2,Ce as a3,ay as a4,wr as a5,rt as a6,wn as a7,Sn as a8,uy as a9,ia as b,fn as c,Xi as d,Pr as e,Je as f,vn as g,Mp as h,Fl as i,Ap as j,mn as k,_p as l,yd as m,xe as n,Vd as o,hn as p,Hd as q,hd as r,cy as s,Nr as t,Ed as u,Lp as v,Id as w,el as x,Up as y,Cd as z};
