import{b as Hn,d as ke,f as R,a as S,s as B,c as be,e as _t,g as ft}from"../chunks/CmltlcwE.js";import{M as Rr,U as Vn,_ as Lr,O as Be,aq as Un,V as Zn,g as n,w as Yn,X as qn,Y as Kn,Z as ya,$ as Fr,Q as ir,aa as Xn,aE as Jn,ah as wa,H as St,aG as nt,N as Kr,T as Qn,a8 as ka,a4 as $n,aC as ca,aH as eo,aI as to,aJ as ro,aK as ao,I as Ka,K as Xa,aL as Br,ay as no,aB as oo,J as io,aM as Ja,q as qt,aN as so,A as Qa,aO as lo,aP as Wt,W as co,aQ as uo,au as vo,m as $a,b as ua,aR as fo,ap as en,n as va,e as bo,aS as go,aT as po,aU as mo,aV as ho,aW as _o,aX as xo,aY as tn,a5 as rn,aZ as yo,a_ as wo,ao as ko,p as xe,i as oe,j as ye,l,s as _,k as c,t as re,a1 as Q,y as A,a6 as ee,x as Xe,a as ct,a0 as an,ai as sr}from"../chunks/DYfpOxOt.js";import{i as $}from"../chunks/xEz3P_EN.js";import{a as To}from"../chunks/Cu9imGco.js";import{p as pt}from"../chunks/CDwquVIT.js";import{a1 as ur,a2 as Do,a3 as vr,a4 as Eo,a5 as Ao,a6 as nn,a7 as on,a8 as Io,a9 as sn,aa as xt,ab as kt,ac as Oo,ad as ut,ae as ot,af as yt,ag as Zt,ah as Xr,ai as Jr,aj as ln,ak as So,al as Co,am as jo,an as Mo,ao as Po,ap as No,aq as Ro,ar as Lo,as as Fo,at as Ta,au as Bo,av as zo,aw as Wo,ax as Go,ay as dn,az as Ho,aA as Vo,aB as Uo,aC as Da,aD as Ea,aE as cn,aF as Aa}from"../chunks/RxJhQqWB.js";import{b as Ne,p as Ia}from"../chunks/BbpzfJQB.js";function He(e,t){return t}function Zo(e,t,r){for(var a=[],o=t.length,i,s=t.length,f=0;f<o;f++){let w=t[f];Xa(w,()=>{if(i){if(i.pending.delete(w),i.done.add(w),i.pending.size===0){var g=e.outrogroups;Qr(ca(i.done)),g.delete(i),g.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var v=a.length===0&&r!==null;if(v){var d=r,u=d.parentNode;oo(u),u.append(d),e.items.clear()}Qr(t,!v)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function Qr(e,t=!0){for(var r=0;r<e.length;r++)io(e[r],t)}var Oa;function Ee(e,t,r,a,o,i=null){var s=e,f=new Map,v=(t&Ja)!==0;if(v){var d=e;s=Be?Lr(Un(d)):d.appendChild(Rr())}Be&&Zn();var u=null,w=Yn(()=>{var x=r();return eo(x)?x:x==null?[]:ca(x)}),g,b=!0;function p(){h.fallback=u,Yo(h,g,s,t,a),u!==null&&(g.length===0?(u.f&nt)===0?Ka(u):(u.f^=nt,Vt(u,null,s)):Xa(u,()=>{u=null}))}var m=Vn(()=>{g=n(w);var x=g.length;let y=!1;if(Be){var T=qn(s)===Kn;T!==(x===0)&&(s=ya(),Lr(s),Fr(!1),y=!0)}for(var D=new Set,C=St,j=Qn(),k=0;k<x;k+=1){Be&&ir.nodeType===Xn&&ir.data===Jn&&(s=ir,y=!0,Fr(!1));var I=g[k],E=a(I,k),O=b?null:f.get(E);O?(O.v&&wa(O.v,I),O.i&&wa(O.i,k),j&&C.skipped_effects.delete(O.e)):(O=qo(f,b?s:Oa??=Rr(),I,E,k,o,t,r),b||(O.e.f|=nt),f.set(E,O)),D.add(E)}if(x===0&&i&&!u&&(b?u=Kr(()=>i(s)):(u=Kr(()=>i(Oa??=Rr())),u.f|=nt)),Be&&x>0&&Lr(ya()),!b)if(j){for(const[z,W]of f)D.has(z)||C.skipped_effects.add(W.e);C.oncommit(p),C.ondiscard(()=>{})}else p();y&&Fr(!0),n(w)}),h={effect:m,items:f,outrogroups:null,fallback:u};b=!1,Be&&(s=ir)}function Yo(e,t,r,a,o){var i=(a&so)!==0,s=t.length,f=e.items,v=e.effect.first,d,u=null,w,g=[],b=[],p,m,h,x;if(i)for(x=0;x<s;x+=1)p=t[x],m=o(p,x),h=f.get(m).e,(h.f&nt)===0&&(h.nodes?.a?.measure(),(w??=new Set).add(h));for(x=0;x<s;x+=1){if(p=t[x],m=o(p,x),h=f.get(m).e,e.outrogroups!==null)for(const O of e.outrogroups)O.pending.delete(h),O.done.delete(h);if((h.f&nt)!==0)if(h.f^=nt,h===v)Vt(h,null,r);else{var y=u?u.next:v;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),it(e,u,h),it(e,h,y),Vt(h,y,r),u=h,g=[],b=[],v=u.next;continue}if((h.f&Br)!==0&&(Ka(h),i&&(h.nodes?.a?.unfix(),(w??=new Set).delete(h))),h!==v){if(d!==void 0&&d.has(h)){if(g.length<b.length){var T=b[0],D;u=T.prev;var C=g[0],j=g[g.length-1];for(D=0;D<g.length;D+=1)Vt(g[D],T,r);for(D=0;D<b.length;D+=1)d.delete(b[D]);it(e,C.prev,j.next),it(e,u,C),it(e,j,T),v=T,u=j,x-=1,g=[],b=[]}else d.delete(h),Vt(h,v,r),it(e,h.prev,h.next),it(e,h,u===null?e.effect.first:u.next),it(e,u,h),u=h;continue}for(g=[],b=[];v!==null&&v!==h;)(d??=new Set).add(v),b.push(v),v=v.next;if(v===null)continue}(h.f&nt)===0&&g.push(h),u=h,v=h.next}if(e.outrogroups!==null){for(const O of e.outrogroups)O.pending.size===0&&(Qr(ca(O.done)),e.outrogroups?.delete(O));e.outrogroups.size===0&&(e.outrogroups=null)}if(v!==null||d!==void 0){var k=[];if(d!==void 0)for(h of d)(h.f&Br)===0&&k.push(h);for(;v!==null;)(v.f&Br)===0&&v!==e.fallback&&k.push(v),v=v.next;var I=k.length;if(I>0){var E=(a&Ja)!==0&&s===0?r:null;if(i){for(x=0;x<I;x+=1)k[x].nodes?.a?.measure();for(x=0;x<I;x+=1)k[x].nodes?.a?.fix()}Zo(e,k,E)}}i&&qt(()=>{if(w!==void 0)for(h of w)h.nodes?.a?.apply()})}function qo(e,t,r,a,o,i,s,f){var v=(s&to)!==0?(s&ro)===0?$n(r,!1,!1):ka(r):null,d=(s&ao)!==0?ka(o):null;return{v,i:d,e:Kr(()=>(i(t,v??r,d??o,f),()=>{e.delete(a)}))}}function Vt(e,t,r){if(e.nodes)for(var a=e.nodes.start,o=e.nodes.end,i=t&&(t.f&nt)===0?t.nodes.start:r;a!==null;){var s=no(a);if(i.before(a),a===o)return;a=s}}function it(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const Ko=()=>performance.now(),at={tick:e=>requestAnimationFrame(e),now:()=>Ko(),tasks:new Set};function un(){const e=at.now();at.tasks.forEach(t=>{t.c(e)||(at.tasks.delete(t),t.f())}),at.tasks.size!==0&&at.tick(un)}function Xo(e){let t;return at.tasks.size===0&&at.tick(un),{promise:new Promise(r=>{at.tasks.add(t={c:e,f:r})}),abort(){at.tasks.delete(t)}}}function lr(e,t){en(()=>{e.dispatchEvent(new CustomEvent(t))})}function Jo(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Sa(e){const t={},r=e.split(";");for(const a of r){const[o,i]=a.split(":");if(!o||i===void 0)break;const s=Jo(o.trim());t[s]=i.trim()}return t}const Qo=e=>e;function Ft(e,t,r){var a=Qa,o=a.nodes,i,s,f,v=null;o.a??={element:e,measure(){i=this.element.getBoundingClientRect()},apply(){if(f?.abort(),s=this.element.getBoundingClientRect(),i.left!==s.left||i.right!==s.right||i.top!==s.top||i.bottom!==s.bottom){const d=t()(this.element,{from:i,to:s},r?.());f=gr(this.element,d,void 0,1,()=>{f?.abort(),f=void 0})}},fix(){if(!e.getAnimations().length){var{position:d,width:u,height:w}=getComputedStyle(e);if(d!=="absolute"&&d!=="fixed"){var g=e.style;v={position:g.position,width:g.width,height:g.height,transform:g.transform},g.position="absolute",g.width=u,g.height=w;var b=e.getBoundingClientRect();if(i.left!==b.left||i.top!==b.top){var p=`translate(${i.left-b.left}px, ${i.top-b.top}px)`;g.transform=g.transform?`${g.transform} ${p}`:p}}}},unfix(){if(v){var d=e.style;d.position=v.position,d.width=v.width,d.height=v.height,d.transform=v.transform}}},o.a.element=e}function Ge(e,t,r,a){var o=(e&fo)!==0,i="both",s,f=t.inert,v=t.style.overflow,d,u;function w(){return en(()=>s??=r()(t,a?.()??{},{direction:i}))}var g={is_global:o,in(){t.inert=f,lr(t,"introstart"),d=gr(t,w(),u,1,()=>{lr(t,"introend"),d?.abort(),d=s=void 0,t.style.overflow=v})},out(h){t.inert=!0,lr(t,"outrostart"),u=gr(t,w(),d,0,()=>{lr(t,"outroend"),h?.()})},stop:()=>{d?.abort(),u?.abort()}},b=Qa;if((b.nodes.t??=[]).push(g),Hn){var p=o;if(!p){for(var m=b.parent;m&&(m.f&co)!==0;)for(;(m=m.parent)&&(m.f&uo)===0;);p=!m||(m.f&vo)!==0}p&&$a(()=>{ua(()=>g.in())})}}function gr(e,t,r,a,o){var i=a===1;if(lo(t)){var s,f=!1;return qt(()=>{if(!f){var h=t({direction:i?"in":"out"});s=gr(e,h,r,a,o)}}),{abort:()=>{f=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return o(),{abort:Wt,deactivate:Wt,reset:Wt,t:()=>a};const{delay:v=0,css:d,tick:u,easing:w=Qo}=t;var g=[];if(i&&r===void 0&&(u&&u(0,1),d)){var b=Sa(d(0,1));g.push(b,b)}var p=()=>1-a,m=e.animate(g,{duration:v,fill:"forwards"});return m.onfinish=()=>{m.cancel();var h=r?.t()??1-a;r?.abort();var x=a-h,y=t.duration*Math.abs(x),T=[];if(y>0){var D=!1;if(d)for(var C=Math.ceil(y/16.666666666666668),j=0;j<=C;j+=1){var k=h+x*w(j/C),I=Sa(d(k,1-k));T.push(I),D||=I.overflow==="hidden"}D&&(e.style.overflow="hidden"),p=()=>{var E=m.currentTime;return h+x*w(E/y)},u&&Xo(()=>{if(m.playState!=="running")return!1;var E=p();return u(E,1-E),!0})}m=e.animate(T,{duration:y,fill:"forwards"}),m.onfinish=()=>{p=()=>a,u?.(a,1-a),o()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Wt)},deactivate:()=>{o=Wt},reset:()=>{a===0&&u?.(1,0)},t:()=>p()}}function fa(e,t,r){$a(()=>{var a=ua(()=>t(e,r?.())||{});if(r&&a?.update){var o=!1,i={};va(()=>{var s=r();bo(s),o&&go(i,s)&&(i=s,a.update(s))}),o=!0}if(a?.destroy)return()=>a.destroy()})}const Ca=[...` 	
\r\fÂ \v\uFEFF`];function $o(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var o in r)if(r[o])a=a?a+" "+o:o;else if(a.length)for(var i=o.length,s=0;(s=a.indexOf(o,s))>=0;){var f=s+i;(s===0||Ca.includes(a[s-1]))&&(f===a.length||Ca.includes(a[f]))?a=(s===0?"":a.substring(0,s))+a.substring(f+1):s=f}}return a===""?null:a}function ja(e,t=!1){var r=t?" !important;":";",a="";for(var o in e){var i=e[o];i!=null&&i!==""&&(a+=" "+o+": "+i+r)}return a}function zr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function ei(e,t){if(t){var r="",a,o;if(Array.isArray(t)?(a=t[0],o=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,f=!1,v=[];a&&v.push(...Object.keys(a).map(zr)),o&&v.push(...Object.keys(o).map(zr));var d=0,u=-1;const m=e.length;for(var w=0;w<m;w++){var g=e[w];if(f?g==="/"&&e[w-1]==="*"&&(f=!1):i?i===g&&(i=!1):g==="/"&&e[w+1]==="*"?f=!0:g==='"'||g==="'"?i=g:g==="("?s++:g===")"&&s--,!f&&i===!1&&s===0){if(g===":"&&u===-1)u=w;else if(g===";"||w===m-1){if(u!==-1){var b=zr(e.substring(d,u).trim());if(!v.includes(b)){g!==";"&&w++;var p=e.substring(d,w).trim();r+=" "+p+";"}}d=w+1,u=-1}}}}return a&&(r+=ja(a)),o&&(r+=ja(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function K(e,t,r,a,o,i){var s=e.__className;if(Be||s!==r||s===void 0){var f=$o(r,a,i);(!Be||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):e.className=f),e.__className=r}else if(i&&o!==i)for(var v in i){var d=!!i[v];(o==null||d!==!!o[v])&&e.classList.toggle(v,d)}return i}function Wr(e,t={},r,a){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,a))}}function ba(e,t,r,a){var o=e.__style;if(Be||o!==t){var i=ei(t,a);(!Be||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else a&&(Array.isArray(a)?(Wr(e,r?.[0],a[0]),Wr(e,r?.[1],a[1],"important")):Wr(e,r,a));return a}const ti=Symbol("is custom element"),ri=Symbol("is html");function Ye(e){if(Be){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;$r(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var o=e.checked;$r(e,"checked",null),e.checked=o}}};e.__on_r=r,qt(r),po()}}function ai(e,t){var r=vn(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function $r(e,t,r,a){var o=vn(e);Be&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="loading"&&(e[mo]=r),r==null?e.removeAttribute(t):typeof r!="string"&&ni(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function vn(e){return e.__attributes??={[ti]:e.nodeName.includes("-"),[ri]:e.namespaceURI===ho}}var Ma=new Map;function ni(e){var t=e.getAttribute("is")||e.nodeName,r=Ma.get(t);if(r)return r;Ma.set(t,r=[]);for(var a,o=e,i=Element.prototype;i!==o;){a=xo(o);for(var s in a)a[s].set&&r.push(s);o=_o(o)}return r}function Tr(e,t,r=t){var a=new WeakSet;tn(e,"input",async o=>{var i=o?e.defaultValue:e.value;if(i=Hr(e)?Vr(i):i,r(i),St!==null&&a.add(St),await rn(),i!==(i=t())){var s=e.selectionStart,f=e.selectionEnd,v=e.value.length;if(e.value=i??"",f!==null){var d=e.value.length;s===f&&f===v&&d>v?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=s,e.selectionEnd=Math.min(f,d))}}}),(Be&&e.defaultValue!==e.value||ua(t)==null&&e.value)&&(r(Hr(e)?Vr(e.value):e.value),St!==null&&a.add(St)),va(()=>{var o=t();if(e===document.activeElement){var i=yo??St;if(a.has(i))return}Hr(e)&&o===Vr(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const Gr=new Set;function Ct(e,t,r,a,o=a){var i=r.getAttribute("type")==="checkbox",s=e;let f=!1;if(t!==null)for(var v of t)s=s[v]??=[];s.push(r),tn(r,"change",()=>{var d=r.__value;i&&(d=Pa(s,d,r.checked)),o(d)},()=>o(i?[]:null)),va(()=>{var d=a();if(Be&&r.defaultChecked!==r.checked){f=!0;return}i?(d=d||[],r.checked=d.includes(r.__value)):r.checked=wo(r.__value,d)}),ko(()=>{var d=s.indexOf(r);d!==-1&&s.splice(d,1)}),Gr.has(s)||(Gr.add(s),qt(()=>{s.sort((d,u)=>d.compareDocumentPosition(u)===4?-1:1),Gr.delete(s)})),qt(()=>{if(f){var d;if(i)d=Pa(s,d,r.checked);else{var u=s.find(w=>w.checked);d=u?.__value}o(d)}})}function Pa(e,t,r){for(var a=new Set,o=0;o<e.length;o+=1)e[o].checked&&a.add(e[o].__value);return r||a.delete(t),Array.from(a)}function Hr(e){var t=e.type;return t==="number"||t==="range"}function Vr(e){return e===""?null:+e}const Ur={regular:{sev1:"I do this because it's who I am",sev2:"I do this to become better",sev3:"I do this because I enjoy it"},maintenance:{sev1:"Life breaks without this",sev2:"Keeps things running smooth",sev3:"Can wait or be skipped"}},oi={regular:{sev1:"Core",sev2:"Growth",sev3:"Enrichment"},maintenance:{sev1:"Essential",sev2:"Routine",sev3:"Optional"}},ii=["ðŸ’¼","ðŸ“Š","ðŸ“ˆ","ðŸ“‹","ðŸ“","ðŸ—‚ï¸","ðŸ“Œ","ðŸŽ¯","ðŸ ","ðŸ¡","ðŸ›‹ï¸","ðŸ§¹","ðŸ³","ðŸ›’","ðŸ§º","ðŸª´","ðŸ’ª","ðŸƒ","ðŸ‹ï¸","ðŸ§˜","ðŸš´","ðŸŠ","âš½","ðŸŽ¾","ðŸ“š","ðŸŽ“","ðŸ“–","âœï¸","ðŸ”¬","ðŸ§ª","ðŸŒ","ðŸ’¡","ðŸ’°","ðŸ’µ","ðŸ¦","ðŸ’³","ðŸ“‰","ðŸª™","ðŸ’Ž","ðŸ§","â¤ï¸","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ‘¥","ðŸ’‘","ðŸ‘¶","ðŸ•","ðŸˆ","ðŸŽ¨","ðŸŽµ","ðŸŽ¸","ðŸŽ¹","ðŸ“¸","ðŸŽ¬","ðŸŽ­","âœï¸","ðŸ’»","ðŸ“±","ðŸ–¥ï¸","âŒ¨ï¸","ðŸ”§","âš™ï¸","ðŸ¤–","ðŸŽ®","âœˆï¸","ðŸš—","ðŸš€","ðŸ—ºï¸","ðŸ–ï¸","â›°ï¸","ðŸ•ï¸","ðŸŒ…","ðŸ§ ","ðŸŒ±","â˜€ï¸","ðŸŒ¸","ðŸ¦‹","ðŸŒˆ","âœ¨","ðŸ’«","ðŸŽ","ðŸ¥—","ðŸ¥‘","ðŸ³","â˜•","ðŸµ","ðŸ¥¤","ðŸ§ƒ","â­","ðŸ”¥","ðŸ†","ðŸ¥‡","ðŸŽ–ï¸","ðŸ…","ðŸ‘‘","ðŸ’¯","ðŸ“","ðŸ—“ï¸","â°","ðŸ””","ðŸ’¬","ðŸ“§","ðŸŽ","ðŸŽ‰"];var si=R('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),li=R('<button><span class="text-xl"> </span> <span class="text-xs font-medium"> </span></button>'),di=R('<nav class="md:hidden pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav> <nav class="hidden md:flex fixed left-0 top-0 bottom-0 w-20 bg-base-200 border-r border-base-content/10 flex-col items-center py-6 gap-2"></nav>',1);function ci(e,t){xe(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var a=di(),o=oe(a);Ee(o,21,()=>r,He,(s,f)=>{var v=si();let d;v.__click=()=>t.onTabChange(n(f).id);let u;var w=c(v),g=c(w,!0);l(w);var b=_(w,2),p=c(b,!0);l(b),l(v),re(()=>{d=K(v,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,d,{"text-primary":t.activeTab===n(f).id,"text-base-content":t.activeTab!==n(f).id}),u=ba(v,"",u,{opacity:t.activeTab===n(f).id?1:.4}),B(g,n(f).icon),B(p,n(f).label)}),S(s,v)}),l(o);var i=_(o,2);Ee(i,21,()=>r,He,(s,f)=>{var v=li();v.__click=()=>t.onTabChange(n(f).id);var d=c(v),u=c(d,!0);l(d);var w=_(d,2),g=c(w,!0);l(w),l(v),re(()=>{K(v,1,`flex flex-col ${t.activeTab==n(f).id?"bg-primary/20 text-primary":"text-base-content "} items-center gap-1 px-3 py-3 rounded-lg transition-colors w-16 `),B(u,n(f).icon),B(g,n(f).label)}),S(s,v)}),l(i),S(e,a),ye()}ke(["click"]);const ui=e=>e;function vi(e){const t=e-1;return t*t*t+1}function Na(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Tt(e,{delay:t=0,duration:r=400,easing:a=ui}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:i=>`opacity: ${i*o}`}}function Dt(e,{delay:t=0,duration:r=400,easing:a=vi,x:o=0,y:i=0,opacity:s=0}={}){const f=getComputedStyle(e),v=+f.opacity,d=f.transform==="none"?"":f.transform,u=v*(1-s),[w,g]=Na(o),[b,p]=Na(i);return{delay:t,duration:r,easing:a,css:(m,h)=>`
			transform: ${d} translate(${(1-m)*w}${g}, ${(1-m)*b}${p});
			opacity: ${v-u*h}`}}var fi=R('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),bi=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function gi(e,t){xe(t,!0);let r=Q(!1),a=Q(null);function o(b,p){b.stopPropagation(),A(a,p,!0),A(r,!0)}function i(){A(r,!1),A(a,null)}function s(){return Ao(t.currentWeekOf).map(b=>({date:b,dayName:on(b),isToday:nn(b)}))}async function f(b){if(!n(a))return;const p=n(a);i();const m=t.isTaskAssignedToDay(p.id);p.type==="oneoff"?m===b?await ur(p.id,t.currentWeekOf,b):(m&&await ur(p.id,t.currentWeekOf,m),await Do(p.id,p.areaId,p.name,p.status,t.currentWeekOf,b)):m===b?await vr(p.id,p.projectId,t.currentWeekOf,b):(m&&await vr(p.id,p.projectId,t.currentWeekOf,m),await Eo(p.id,p.projectId,p.areaId,p.name,p.status,t.currentWeekOf,b,!1))}async function v(){if(!n(a))return;const b=n(a),p=t.isTaskAssignedToDay(b.id);p&&(b.type==="oneoff"?await ur(b.id,t.currentWeekOf,p):await vr(b.id,b.projectId,t.currentWeekOf,p)),i()}var d={openDayPicker:o},u=be(),w=oe(u);{var g=b=>{var p=bi(),m=c(p);m.__click=i,m.__keydown=E=>E.key==="Escape"&&i();var h=_(m,2),x=c(h),y=c(x),T=_(c(y),2),D=c(T,!0);l(T),l(y);var C=_(y,2);C.__click=i,l(x);var j=_(x,2);Ee(j,21,s,He,(E,O)=>{const z=ee(()=>t.isTaskAssignedToDay(n(a).id)===n(O).date);var W=fi();W.__click=()=>f(n(O).date);var q=c(W),G=c(q,!0);l(q);var Y=_(q,2),F=c(Y,!0);l(Y),l(W),re(U=>{K(W,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${n(z)?"bg-primary/10 text-primary border-primary":n(O).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),B(G,n(O).dayName),B(F,U)},[()=>n(O).date.split("-")[2]]),S(E,W)}),l(j);var k=_(j,2),I=c(k);I.__click=v,l(k),l(h),l(p),re(()=>B(D,n(a).name)),Ge(3,m,()=>Tt,()=>({duration:200})),Ge(3,h,()=>Dt,()=>({y:300,duration:300})),S(b,p)};$(w,b=>{n(r)&&n(a)&&b(g)})}return S(e,u),ye(d)}ke(["click","keydown"]);function Ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ra(Object(r),!0).forEach(function(a){Nt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ra(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jt(e){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function Nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pi(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,i;for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function mi(e,t){if(e==null)return{};var r=pi(e,t),a,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function hi(e,t){return xi(e)||wi(e,t)||ga(e,t)||Ti()}function Ue(e){return _i(e)||yi(e)||ga(e)||ki()}function _i(e){if(Array.isArray(e))return ea(e)}function xi(e){if(Array.isArray(e))return e}function yi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wi(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],o=!0,i=!1,s,f;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));o=!0);}catch(v){i=!0,f=v}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw f}}return a}}function ga(e,t){if(e){if(typeof e=="string")return ea(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ea(e,t)}}function ea(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ki(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ti(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ga(e))||t){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(v){throw v},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,f;return{s:function(){r=r.call(e)},n:function(){var v=r.next();return i=v.done,v},e:function(v){s=!0,f=v},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(s)throw f}}}}var Di="finalize",Ei="consider";function Rt(e,t,r){e.dispatchEvent(new CustomEvent(Di,{detail:{items:t,info:r}}))}function vt(e,t,r){e.dispatchEvent(new CustomEvent(Ei,{detail:{items:t,info:r}}))}var Dr="draggedEntered",$t="draggedLeft",Er="draggedOverIndex",pa="draggedLeftDocument",mr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Ai(e,t,r){e.dispatchEvent(new CustomEvent(Dr,{detail:{indexObj:t,draggedEl:r}}))}function Ii(e,t,r){e.dispatchEvent(new CustomEvent($t,{detail:{draggedEl:t,type:mr.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Oi(e,t){e.dispatchEvent(new CustomEvent($t,{detail:{draggedEl:t,type:mr.OUTSIDE_OF_ANY}}))}function Si(e,t,r){e.dispatchEvent(new CustomEvent(Er,{detail:{indexObj:t,draggedEl:r}}))}function Ci(e){window.dispatchEvent(new CustomEvent(pa,{detail:{draggedEl:e}}))}var Re={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Dr,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Er,DRAGGED_LEFT:$t,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},We={POINTER:"pointer",KEYBOARD:"keyboard"},Ar="isDndShadowItem",Ir="data-is-dnd-shadow-item-internal",ji="data-is-dnd-shadow-item-hint",fn="id:dnd-shadow-placeholder-0000",Mi="dnd-action-dragged-el",De="id",ta=0;function bn(){ta++}function gn(){if(ta===0)throw new Error("Bug! trying to decrement when there are no dropzones");ta--}var ma=typeof window>"u";function ra(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?Ri(e):e.getBoundingClientRect(),o=getComputedStyle(e),i=o.transform;if(i){var s,f,v,d;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],f=+r[5],v=+r[12],d=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],f=+r[3],v=+r[4],d=+r[5];else return a;var u=o.transformOrigin,w=a.x-v-(1-s)*parseFloat(u),g=a.y-d-(1-f)*parseFloat(u.slice(u.indexOf(" ")+1)),b=s?a.width/s:e.offsetWidth,p=f?a.height/f:e.offsetHeight;return{x:w,y:g,width:b,height:p,top:g,right:w+b,bottom:g+p,left:w}}else return a}function pn(e){var t=ra(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function mn(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function hn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Pi(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Or(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Kt(e){return hn(mn(e))}function La(e,t){var r=Kt(e),a=pn(t);return Or(r,a)}function Fa(e,t){var r=Kt(e),a=Kt(t);return Pi(r,a)}function Ni(e){var t=mn(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Ri(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,o=!1,i=e.parentElement;i&&i!==document.body;){var s=window.getComputedStyle(i),f=s.overflowY,v=s.overflowX,d=f==="scroll"||f==="auto",u=v==="scroll"||v==="auto";if(d||u){var w=i.getBoundingClientRect();if(d){var g=Math.max(r.top,w.top),b=Math.min(r.bottom,w.bottom);(g!==r.top||b!==r.bottom)&&(a=!0),r.top=g,r.bottom=b}if(u){var p=Math.max(r.left,w.left),m=Math.min(r.right,w.right);(p!==r.left||m!==r.right)&&(o=!0),r.left=p,r.right=m}}i=i.parentElement}return a||o?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Mt;function ha(){Mt=new Map}ha();function Li(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Ir)});if(t>=0)return Mt.has(e)||Mt.set(e,new Map),Mt.get(e).set(t,pn(e.children[t])),t}function Fi(e,t){if(!La(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=Li(t),o=0;o<r.length;o++)if(La(e,r[o])){var i=Mt.has(t)&&Mt.get(t).get(o);return i&&!Or(Kt(e),i)?{index:a,isProximityBased:!1}:{index:o,isProximityBased:!1}}for(var s=Number.MAX_VALUE,f=void 0,v=0;v<r.length;v++){var d=Fa(e,r[v]);d<s&&(s=d,f=v)}if(r.length>0){var u=r.length,w=r[u-1],g=w.cloneNode(!1);g.style.visibility="hidden",g.style.pointerEvents="none",t.appendChild(g);var b=Fa(e,g);b<s&&(f=u),t.removeChild(g)}return{index:f,isProximityBased:!0}}function Gt(e){return JSON.stringify(e,null,2)}function hr(e){if(!e)throw new Error("cannot get depth of a falsy node");return _n(e,0)}function _n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?_n(e.parentElement,t+1):t-1}function Bi(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function zi(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Wi=200,Ba=10,aa;function Gi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wi,a=arguments.length>3?arguments[3]:void 0,o,i,s=!1,f,v=Array.from(t).sort(function(u,w){return hr(w)-hr(u)});function d(){var u=Kt(e),w=a.multiScrollIfNeeded();if(!w&&f&&Math.abs(f.x-u.x)<Ba&&Math.abs(f.y-u.y)<Ba){aa=window.setTimeout(d,r);return}if(Ni(e)){Ci(e);return}f=u;var g=!1,b=Qt(v),p;try{for(b.s();!(p=b.n()).done;){var m=p.value;w&&ha();var h=Fi(e,m);if(h!==null){var x=h.index;g=!0,m!==o?(o&&Ii(o,e,m),Ai(m,h,e),o=m):x!==i&&(Si(m,h,e),i=x);break}}}catch(y){b.e(y)}finally{b.f()}!g&&s&&o?(Oi(o,e),o=void 0,i=void 0,s=!1):s=!0,aa=window.setTimeout(d,r)}d()}function Hi(){clearTimeout(aa),ha()}var Ht=30;function Vi(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var s=e,f=s.directionObj,v=s.stepPx;f&&(i.scrollBy(f.x*v,f.y*v),window.requestAnimationFrame(function(){return r(i)}))}function a(i){return Ht-i}function o(i,s){if(!s)return!1;var f=Ui(i,s),v=!!e.directionObj;if(f===null)return v&&t(),!1;var d=!1,u=!1;return s.scrollHeight>s.clientHeight&&(f.bottom<Ht?(d=!0,e.directionObj={x:0,y:1},e.stepPx=a(f.bottom)):f.top<Ht&&(d=!0,e.directionObj={x:0,y:-1},e.stepPx=a(f.top)),!v&&d)||s.scrollWidth>s.clientWidth&&(f.right<Ht?(u=!0,e.directionObj={x:1,y:0},e.stepPx=a(f.right)):f.left<Ht&&(u=!0,e.directionObj={x:-1,y:0},e.stepPx=a(f.left)),!v&&u)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:o,resetScrolling:t}}function Ui(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Or(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Zi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=qi(e),a=Array.from(r).sort(function(v,d){return hr(d)-hr(v)}),o=Vi(),i=o.scrollIfNeeded,s=o.resetScrolling;function f(){var v=t();if(!v||!a)return!1;for(var d=a.filter(function(g){return Or(v,g.getBoundingClientRect())||g===document.scrollingElement}),u=0;u<d.length;u++){var w=i(v,d[u]);if(w)return!0}return!1}return{multiScrollIfNeeded:r.size>0?f:function(){return!1},destroy:function(){return s()}}}function Yi(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),o=a.overflow;o.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function qi(e){var t=new Set,r=Qt(e),a;try{for(r.s();!(a=r.n()).done;){var o=a.value;Yi(o).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Ki(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",o=a?[e]:Ue(e.querySelectorAll("select")),i=Qt(o),s;try{for(i.s();!(s=i.n()).done;){var f=s.value;r.push(f.value)}}catch(T){i.e(T)}finally{i.f()}if(o.length>0)for(var v=a?[t]:Ue(t.querySelectorAll("select")),d=0;d<v.length;d++){var u=v[d],w=r[d],g=u.querySelector('option[value="'.concat(w,'"'));g&&g.setAttribute("selected",!0)}var b=e.tagName==="CANVAS",p=b?[e]:Ue(e.querySelectorAll("canvas"));if(p.length>0)for(var m=b?[t]:Ue(t.querySelectorAll("canvas")),h=0;h<m.length;h++){var x=p[h],y=m[h];y.width=x.width,y.height=x.height,x.width>0&&x.height>0&&y.getContext("2d").drawImage(x,0,0)}return t}var Xt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Xi=Nt({},Xt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function xn(e){if(!Xt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Xt)));return Xi[e]}var Ji=.2;function mt(e){return"".concat(e," ").concat(Ji,"s ease")}function Qi(e,t){var r=e.getBoundingClientRect(),a=Ki(e);yn(e,a),a.id=Mi,a.style.position="fixed";var o=r.top,i=r.left;if(a.style.top="".concat(o,"px"),a.style.left="".concat(i,"px"),t){var s=hn(r);o-=s.y-t.y,i-=s.x-t.x,window.setTimeout(function(){a.style.top="".concat(o,"px"),a.style.left="".concat(i,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(mt("top"),", ").concat(mt("left"),", ").concat(mt("background-color"),", ").concat(mt("opacity"),", ").concat(mt("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(mt("width"),", ").concat(mt("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function $i(e){e.style.cursor="grab"}function es(e,t,r,a){yn(t,e);var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=o.width-i.width,f=o.height-i.height;if(s||f){var v={left:(r-i.left)/i.width,top:(a-i.top)/i.height};xn(Xt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(o.height,"px"),e.style.width="".concat(o.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-v.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-v.top*f,"px")}}function yn(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||xn(Xt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function ts(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function wn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function rs(e){e.style.visibility="hidden",e.setAttribute(Ir,"true")}function as(e){e.style.visibility="",e.removeAttribute(Ir)}function fr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var o=t(a);Object.keys(o).forEach(function(i){a.style[i]=o[i]}),r(a).forEach(function(i){return a.classList.add(i)})})}function _r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var o=t(a);Object.keys(o).forEach(function(i){a.style[i]=""}),r(a).forEach(function(i){return a.classList.contains(i)&&a.classList.remove(i)})})}function ns(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var os="--any--",is=100,ss=20,dr=3,ls=80,za={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Wa="data-is-dnd-original-dragged-item",Fe,Se,ze,Sr,fe,Cr,dt,je,et,Me,st=!1,_a=!1,xa,er=!1,br=[],Yt,tt,Ut=!1,Ke=new Map,_e=new Map,Zr=new WeakMap;function ds(e,t){Ke.has(t)||Ke.set(t,new Set),Ke.get(t).has(e)||(Ke.get(t).add(e),bn())}function Ga(e,t){Ke.get(t).delete(e),gn(),Ke.get(t).size===0&&Ke.delete(t)}function cs(){var e=Ke.get(Sr),t=Qt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(Dr,kn),a.addEventListener($t,Tn),a.addEventListener(Er,Dn)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(pa,Lt);var o=Math.max.apply(Math,Ue(Array.from(e.keys()).map(function(s){return _e.get(s).dropAnimationDurationMs}))),i=o===0?ss:Math.max(o,is);Yt=Zi(e,function(){return Me}),Gi(Se,e,i*1.07,Yt)}function us(){var e=Ke.get(Sr),t=Qt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(Dr,kn),a.removeEventListener($t,Tn),a.removeEventListener(Er,Dn)}}catch(o){t.e(o)}finally{t.f()}window.removeEventListener(pa,Lt),Yt&&(Yt.destroy(),Yt=void 0),Hi()}function jr(e){return e.findIndex(function(t){return!!t[Ar]})}function vs(e){var t;return pr(pr({},e),{},(t={},Nt(t,Ar,!0),Nt(t,De,fn),t))}function kn(e){var t=_e.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==fe)){if(er=!1,r=r.filter(function(f){return f[De]!==dt[De]&&f[De]!==fn}),fe!==e.currentTarget){var o=_e.get(fe).items,i=o.filter(function(f){return!f[Ar]});vt(fe,i,{trigger:Re.DRAGGED_ENTERED_ANOTHER,id:ze[De],source:We.POINTER})}var s=e.detail.indexObj.index;je=e.currentTarget,r.splice(s,0,dt),vt(e.currentTarget,r,{trigger:Re.DRAGGED_ENTERED,id:ze[De],source:We.POINTER})}}function Tn(e){if(st){var t=_e.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==fe&&e.currentTarget!==je)){var o=Ue(r),i=jr(o);i!==-1&&o.splice(i,1);var s=je;je=void 0;var f=e.detail,v=f.type,d=f.theOtherDz;if(v===mr.OUTSIDE_OF_ANY||v===mr.LEFT_FOR_ANOTHER&&d!==fe&&_e.get(d).dropFromOthersDisabled){er=!0,je=fe;var u=s===fe?o:Ue(_e.get(fe).items);u.splice(Cr,0,dt),vt(fe,u,{trigger:Re.DRAGGED_LEFT_ALL,id:ze[De],source:We.POINTER})}vt(e.currentTarget,o,{trigger:Re.DRAGGED_LEFT,id:ze[De],source:We.POINTER})}}}function Dn(e){var t=_e.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==fe)){var o=Ue(r);er=!1;var i=e.detail.indexObj.index,s=jr(o);s!==-1&&o.splice(s,1),o.splice(i,0,dt),vt(e.currentTarget,o,{trigger:Re.DRAGGED_OVER_INDEX,id:ze[De],source:We.POINTER})}}function xr(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Me={x:t.clientX,y:t.clientY},Se.style.transform="translate3d(".concat(Me.x-et.x,"px, ").concat(Me.y-et.y,"px, 0)")}function Lt(){_a=!0,window.removeEventListener("mousemove",xr),window.removeEventListener("touchmove",xr),window.removeEventListener("mouseup",Lt),window.removeEventListener("touchend",Lt),us(),$i(Se),je||(je=fe);var e=_e.get(je),t=e.items,r=e.type;_r(Ke.get(r),function(i){return _e.get(i).dropTargetStyle},function(i){return _e.get(i).dropTargetClasses});var a=jr(t);a===-1&&je===fe&&(a=Cr),t=t.map(function(i){return i[Ar]?ze:i});function o(){xa(),Rt(je,t,{trigger:er?Re.DROPPED_OUTSIDE_OF_ANY:Re.DROPPED_INTO_ZONE,id:ze[De],source:We.POINTER}),je!==fe&&Rt(fe,_e.get(fe).items,{trigger:Re.DROPPED_INTO_ANOTHER,id:ze[De],source:We.POINTER});var i=Array.from(je.children).find(function(s){return s.getAttribute(Ir)});i&&as(i),gs()}_e.get(je).dropAnimationDisabled?o():fs(a,o)}function fs(e,t){var r=e>-1?ra(je.children[e],!1):ra(je,!1),a={x:r.left-parseFloat(Se.style.left),y:r.top-parseFloat(Se.style.top)},o=_e.get(je),i=o.dropAnimationDurationMs,s="transform ".concat(i,"ms ease");Se.style.transition=Se.style.transition?Se.style.transition+","+s:s,Se.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,i)}function bs(e,t){br.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){wn(e),document.body.appendChild(e)})}function gs(){Se&&Se.remove&&Se.remove(),Fe&&Fe.remove&&Fe.remove(),Se=void 0,Fe=void 0,ze=void 0,Sr=void 0,fe=void 0,Cr=void 0,dt=void 0,je=void 0,et=void 0,Me=void 0,st=!1,_a=!1,xa=void 0,er=!1,tt&&clearTimeout(tt),tt=void 0,Ut=!1,br.length&&(br.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),br=[])}function ps(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:za,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},o=new Map;function i(){window.addEventListener("mousemove",v,{passive:!1}),window.addEventListener("touchmove",v,{passive:!1,capture:!1}),window.addEventListener("mouseup",f,{passive:!1}),window.addEventListener("touchend",f,{passive:!1})}function s(){window.removeEventListener("mousemove",v),window.removeEventListener("touchmove",v),window.removeEventListener("mouseup",f),window.removeEventListener("touchend",f),tt&&(clearTimeout(tt),tt=void 0,Ut=!1)}function f(g){if(s(),Fe=void 0,et=void 0,Me=void 0,g.type==="touchend"){var b=new Event("click",{bubbles:!0,cancelable:!0});g.target.dispatchEvent(b)}}function v(g){var b=!!g.touches,p=b?g.touches[0]:g;if(b&&a.delayTouchStartMs>0&&!Ut){Me={x:p.clientX,y:p.clientY},(Math.abs(Me.x-et.x)>=dr||Math.abs(Me.y-et.y)>=dr)&&(tt&&(clearTimeout(tt),tt=void 0),f(g));return}g.preventDefault(),Me={x:p.clientX,y:p.clientY},(Math.abs(Me.x-et.x)>=dr||Math.abs(Me.y-et.y)>=dr)&&(s(),u())}function d(g){if(!(g.target!==g.currentTarget&&(g.target.value!==void 0||g.target.isContentEditable))&&!g.button&&!st){var b=!!g.touches,p=b&&a.delayTouchStartMs>0;p||g.preventDefault(),g.stopPropagation();var m=b?g.touches[0]:g;et={x:m.clientX,y:m.clientY},Me=pr({},et),Fe=g.currentTarget,p&&(Ut=!1,tt=window.setTimeout(function(){Fe&&(Ut=!0,s(),u())},a.delayTouchStartMs)),i()}}function u(){st=!0;var g=o.get(Fe);Cr=g,fe=Fe.parentElement;var b=fe.closest("dialog")||fe.closest("[popover]")||fe.getRootNode(),p=b.body||b,m=a.items,h=a.type,x=a.centreDraggedOnCursor,y=Ue(m);ze=y[g],Sr=h,dt=vs(ze),Se=Qi(Fe,x&&Me),p.appendChild(Se);function T(){Fe.parentElement?window.requestAnimationFrame(T):(Fe.setAttribute(Wa,!0),p.appendChild(Fe),cs(),wn(Fe),dt[De]=ze[De],Se.focus())}window.requestAnimationFrame(T),fr(Array.from(Ke.get(a.type)).filter(function(D){return D===fe||!_e.get(D).dropFromOthersDisabled}),function(D){return _e.get(D).dropTargetStyle},function(D){return _e.get(D).dropTargetClasses}),y.splice(g,1,dt),xa=ns(fe),vt(fe,y,{trigger:Re.DRAG_STARTED,id:ze[De],source:We.POINTER}),window.addEventListener("mousemove",xr,{passive:!1}),window.addEventListener("touchmove",xr,{passive:!1,capture:!1}),window.addEventListener("mouseup",Lt,{passive:!1}),window.addEventListener("touchend",Lt,{passive:!1})}function w(g){var b=g.items,p=b===void 0?void 0:b,m=g.flipDurationMs,h=m===void 0?0:m,x=g.type,y=x===void 0?os:x,T=g.dragDisabled,D=T===void 0?!1:T,C=g.morphDisabled,j=C===void 0?!1:C,k=g.dropFromOthersDisabled,I=k===void 0?!1:k,E=g.dropTargetStyle,O=E===void 0?za:E,z=g.dropTargetClasses,W=z===void 0?[]:z,q=g.transformDraggedElement,G=q===void 0?function(){}:q,Y=g.centreDraggedOnCursor,F=Y===void 0?!1:Y,U=g.dropAnimationDisabled,V=U===void 0?!1:U,N=g.delayTouchStart,H=N===void 0?!1:N;a.dropAnimationDurationMs=h;var L=0;H===!0?L=ls:typeof H=="number"&&isFinite(H)&&H>=0&&(L=H),a.delayTouchStartMs=L,a.type&&y!==a.type&&Ga(e,a.type),a.type=y,a.items=Ue(p),a.dragDisabled=D,a.morphDisabled=j,a.transformDraggedElement=G,a.centreDraggedOnCursor=F,a.dropAnimationDisabled=V,r&&st&&!_a&&(!Bi(O,a.dropTargetStyle)||!zi(W,a.dropTargetClasses))&&(_r([e],function(){return a.dropTargetStyle},function(){return W}),fr([e],function(){return O},function(){return W})),a.dropTargetStyle=O,a.dropTargetClasses=Ue(W);function X(P,te){return _e.get(P)?_e.get(P)[te]:a[te]}r&&st&&a.dropFromOthersDisabled!==I&&(I?_r([e],function(P){return X(P,"dropTargetStyle")},function(P){return X(P,"dropTargetClasses")}):fr([e],function(P){return X(P,"dropTargetStyle")},function(P){return X(P,"dropTargetClasses")})),a.dropFromOthersDisabled=I,_e.set(e,a),ds(e,y);for(var ae=st?jr(a.items):-1,ne=0;ne<e.children.length;ne++){var M=e.children[ne];if(ts(M,D),ne===ae){j||es(Se,M,Me.x,Me.y),a.transformDraggedElement(Se,ze,ne),rs(M);continue}M.removeEventListener("mousedown",Zr.get(M)),M.removeEventListener("touchstart",Zr.get(M)),D||(M.addEventListener("mousedown",d),M.addEventListener("touchstart",d),Zr.set(M,d)),o.set(M,ne),r||(r=!0)}}return w(t),{update:function(b){w(b)},destroy:function(){function b(){Ga(e,_e.get(e).type),_e.delete(e)}st&&!e.closest("[".concat(Wa,"]"))?bs(e,b):b()}}}var cr,na={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},En=(cr={},Nt(cr,na.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Nt(cr,na.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),cr),ms="dnd-action-aria-alert",we;function oa(){we||(we=document.createElement("div"),(function(){we.id=ms,we.style.position="fixed",we.style.bottom="0",we.style.left="0",we.style.zIndex="-5",we.style.opacity="0",we.style.height="0",we.style.width="0",we.setAttribute("role","alert")})(),document.body.prepend(we),Object.entries(En).forEach(function(e){var t=hi(e,2),r=t[0],a=t[1];return document.body.prepend(xs(r,a))}))}function hs(){return ma?null:(document.readyState==="complete"?oa():window.addEventListener("DOMContentLoaded",oa),pr({},na))}function _s(){ma||!we||(Object.keys(En).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),we.remove(),we=void 0)}function xs(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Pt(e){if(!ma){we||oa(),we.innerHTML="";var t=document.createTextNode(e);we.appendChild(t),we.style.display="none",we.style.display="inline"}}var ys="--any--",Ha={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ve=!1,ia,Pe,wt="",ht,rt,lt="",yr=new WeakSet,Va=new WeakMap,Ua=new WeakMap,sa=new Map,Ce=new Map,qe=new Map,wr;function ws(e,t){qe.size===0&&(wr=hs(),window.addEventListener("keydown",An),window.addEventListener("click",In)),qe.has(t)||qe.set(t,new Set),qe.get(t).has(e)||(qe.get(t).add(e),bn())}function Za(e,t){Pe===e&&Jt(),qe.get(t).delete(e),gn(),qe.get(t).size===0&&qe.delete(t),qe.size===0&&(window.removeEventListener("keydown",An),window.removeEventListener("click",In),wr=void 0,_s())}function An(e){if(Ve)switch(e.key){case"Escape":{Jt();break}}}function In(){Ve&&(yr.has(document.activeElement)||Jt())}function ks(e){if(Ve){var t=e.currentTarget;if(t!==Pe){wt=t.getAttribute("aria-label")||"";var r=Ce.get(Pe),a=r.items,o=a.find(function(w){return w[De]===rt}),i=a.indexOf(o),s=a.splice(i,1)[0],f=Ce.get(t),v=f.items,d=f.autoAriaDisabled;t.getBoundingClientRect().top<Pe.getBoundingClientRect().top||t.getBoundingClientRect().left<Pe.getBoundingClientRect().left?(v.push(s),d||Pt("Moved item ".concat(lt," to the end of the list ").concat(wt))):(v.unshift(s),d||Pt("Moved item ".concat(lt," to the beginning of the list ").concat(wt)));var u=Pe;Rt(u,a,{trigger:Re.DROPPED_INTO_ANOTHER,id:rt,source:We.KEYBOARD}),Rt(t,v,{trigger:Re.DROPPED_INTO_ZONE,id:rt,source:We.KEYBOARD}),Pe=t}}}function On(){sa.forEach(function(e,t){var r=e.update;return r(Ce.get(t))})}function Jt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Ce.get(Pe).autoAriaDisabled||Pt("Stopped dragging item ".concat(lt)),yr.has(document.activeElement)&&document.activeElement.blur(),e&&vt(Pe,Ce.get(Pe).items,{trigger:Re.DRAG_STOPPED,id:rt,source:We.KEYBOARD}),_r(qe.get(ia),function(t){return Ce.get(t).dropTargetStyle},function(t){return Ce.get(t).dropTargetClasses}),ht=null,rt=null,lt="",ia=null,Pe=null,wt="",Ve=!1,On()}function Ts(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ha,dropTargetClasses:[],autoAriaDisabled:!1};function a(u,w,g){u.length<=1||u.splice(g,1,u.splice(w,1,u[g])[0])}function o(u){switch(u.key){case"Enter":case" ":{if((u.target.disabled!==void 0||u.target.href||u.target.isContentEditable)&&!yr.has(u.target))return;u.preventDefault(),u.stopPropagation(),Ve?Jt():i(u);break}case"ArrowDown":case"ArrowRight":{if(!Ve)return;u.preventDefault(),u.stopPropagation();var w=Ce.get(e),g=w.items,b=Array.from(e.children),p=b.indexOf(u.currentTarget);p<b.length-1&&(r.autoAriaDisabled||Pt("Moved item ".concat(lt," to position ").concat(p+2," in the list ").concat(wt)),a(g,p,p+1),Rt(e,g,{trigger:Re.DROPPED_INTO_ZONE,id:rt,source:We.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Ve)return;u.preventDefault(),u.stopPropagation();var m=Ce.get(e),h=m.items,x=Array.from(e.children),y=x.indexOf(u.currentTarget);y>0&&(r.autoAriaDisabled||Pt("Moved item ".concat(lt," to position ").concat(y," in the list ").concat(wt)),a(h,y,y-1),Rt(e,h,{trigger:Re.DROPPED_INTO_ZONE,id:rt,source:We.KEYBOARD}));break}}}function i(u){f(u.currentTarget),Pe=e,ia=r.type,Ve=!0;var w=Array.from(qe.get(r.type)).filter(function(b){return b===Pe||!Ce.get(b).dropFromOthersDisabled});if(fr(w,function(b){return Ce.get(b).dropTargetStyle},function(b){return Ce.get(b).dropTargetClasses}),!r.autoAriaDisabled){var g="Started dragging item ".concat(lt,". Use the arrow keys to move it within its list ").concat(wt);w.length>1&&(g+=", or tab to another list in order to move the item into it"),Pt(g)}vt(e,Ce.get(e).items,{trigger:Re.DRAG_STARTED,id:rt,source:We.KEYBOARD}),On()}function s(u){Ve&&u.currentTarget!==ht&&(u.stopPropagation(),Jt(!1),i(u))}function f(u){var w=Ce.get(e),g=w.items,b=Array.from(e.children),p=b.indexOf(u);ht=u,ht.tabIndex=r.zoneItemTabIndex,rt=g[p][De],lt=b[p].getAttribute("aria-label")||""}function v(u){var w=u.items,g=w===void 0?[]:w,b=u.type,p=b===void 0?ys:b,m=u.dragDisabled,h=m===void 0?!1:m,x=u.zoneTabIndex,y=x===void 0?0:x,T=u.zoneItemTabIndex,D=T===void 0?0:T,C=u.dropFromOthersDisabled,j=C===void 0?!1:C,k=u.dropTargetStyle,I=k===void 0?Ha:k,E=u.dropTargetClasses,O=E===void 0?[]:E,z=u.autoAriaDisabled,W=z===void 0?!1:z;r.items=Ue(g),r.dragDisabled=h,r.dropFromOthersDisabled=j,r.zoneTabIndex=y,r.zoneItemTabIndex=D,r.dropTargetStyle=I,r.dropTargetClasses=O,r.autoAriaDisabled=W,r.type&&p!==r.type&&Za(e,r.type),r.type=p,ws(e,p),W||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",h?wr.DND_ZONE_DRAG_DISABLED:wr.DND_ZONE_ACTIVE)),Ce.set(e,r),Ve?e.tabIndex=e===Pe||ht.contains(e)||r.dropFromOthersDisabled||Pe&&r.type!==Ce.get(Pe).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",ks);for(var q=function(F){var U=e.children[F];yr.add(U),U.tabIndex=Ve?-1:r.zoneItemTabIndex,W||U.setAttribute("role","listitem"),U.removeEventListener("keydown",Va.get(U)),U.removeEventListener("click",Ua.get(U)),h||(U.addEventListener("keydown",o),Va.set(U,o),U.addEventListener("click",s),Ua.set(U,s)),Ve&&r.items[F][De]===rt&&(ht=U,ht.tabIndex=r.zoneItemTabIndex,U.focus())},G=0;G<e.children.length;G++)q(G)}v(t);var d={update:function(w){v(w)},destroy:function(){Za(e,r.type),Ce.delete(e),sa.delete(e)}};return sa.set(e,d),d}var Ds=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function Sn(e,t){if(Es(e))return{update:function(){},destroy:function(){}};Ya(t);var r=ps(e,t),a=Ts(e,t);return{update:function(i){Ya(i),r.update(i),a.update(i)},destroy:function(){r.destroy(),a.destroy()}}}function Es(e){return!!e.closest("[".concat(ji,'="true"]'))}function Ya(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var o=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var i=e.delayTouchStart;e.dropAnimationDisabled;var s=mi(e,Ds);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var f=t.find(function(u){return!{}.hasOwnProperty.call(u,De)});if(f)throw new Error("missing '".concat(De,"' property for item ").concat(Gt(f)));if(o&&!Array.isArray(o))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(jt(o),", ").concat(Gt(o)));if(r&&!qa(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(jt(r),", ").concat(Gt(r)));if(a&&!qa(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(jt(a),", ").concat(Gt(a)));if(i!==void 0&&i!==!1){var v=i===!0,d=typeof i=="number"&&isFinite(i)&&i>=0;if(!v&&!d)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(jt(i),", ").concat(Gt(i)))}}function qa(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function As(e){const t=e-1;return t*t*t+1}function Mr(e){return--e*e*e*e*e+1}function Bt(e,{from:t,to:r},a={}){var{delay:o=0,duration:i=j=>Math.sqrt(j)*120,easing:s=As}=a,f=getComputedStyle(e),v=f.transform==="none"?"":f.transform,[d,u]=f.transformOrigin.split(" ").map(parseFloat);d/=e.clientWidth,u/=e.clientHeight;var w=Is(e),g=e.clientWidth/r.width/w,b=e.clientHeight/r.height/w,p=t.left+t.width*d,m=t.top+t.height*u,h=r.left+r.width*d,x=r.top+r.height*u,y=(p-h)*g,T=(m-x)*b,D=t.width/r.width,C=t.height/r.height;return{delay:o,duration:typeof i=="function"?i(Math.sqrt(y*y+T*T)):i,easing:s,css:(j,k)=>{var I=k*y,E=k*T,O=j+k*D,z=j+k*C;return`transform: ${v} translate(${I}px, ${E}px) scale(${O}, ${z});`}}}function Is(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var Os=R("<span> </span>");function kr(e,t){xe(t,!0);const r={regular:{sev1:"bg-purple-500/20 text-purple-400",sev2:"bg-teal-500/20 text-teal-400",sev3:"bg-sky-500/20 text-sky-400"},maintenance:{sev1:"bg-rose-400/20 text-rose-400",sev2:"bg-lime-500/20 text-lime-400",sev3:"bg-slate-400/20 text-slate-400"}},a=ee(()=>oi[t.type][t.level]),o=ee(()=>r[t.type][t.level]||"bg-slate-400/20 text-slate-400");var i=Os(),s=c(i,!0);l(i),re(()=>{K(i,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${n(o)??""}`),B(s,n(a))}),S(e,i),ye()}var Ss=R("<span> </span>");function la(e,t){var r=Ss(),a=c(r,!0);l(r),re(()=>{K(r,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${t.classes??""}`),B(a,t.label)}),S(e,r)}var Cs=R('<div class="flex items-center gap-2 p-2 bg-base-200 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-2xl"> </div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate"> </p></div> <div><!></div></div>'),js=R('<div class="flex flex-col gap-2"></div>'),Ms=R('<div tabindex="0" role="button"><div class="flex items-start p-3"><div class="flex-1 min-w-0"><div class="flex flex-col gap-3"><p class="text-sm text-base-content"><span class="text-base"> </span> </p> <div class="h-1 bg-base-300/50"><div class="h-full bg-primary/80 transition-all"></div></div> <p class="text-xs gap-1 flex items-center"><!> <!> <!></p></div></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),Ps=R('<div class="flex flex-col gap-2"></div>'),Ns=R('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),Rs=R('<div class="flex flex-col "><!></div>');function Ls(e,t){xe(t,!0);const r=200;let a=ee(()=>t.assignedProjects.map(b=>({...b,id:b.project.id}))),o=Q(Xe([]));ct(()=>{A(o,n(a),!0)});async function i(b,p){b.stopPropagation(),await sn(p,t.currentWeekOf)}function s(b){const p=xt.getByProject(b),m=p.filter(x=>!["completed","cancelled"].includes(x.status)).length,h=p.filter(x=>["completed","cancelled"].includes(x.status)).length;return{active:m,completed:h,total:m+h}}function f(b){A(o,b.detail.items,!0)}function v(b){A(o,b.detail.items,!0);const{info:p}=b.detail,m=p.id,h=n(o).findIndex(C=>C.id===m);if(h===-1)return;const x=h>0?n(o)[h-1]:null,y=h<n(o).length-1?n(o)[h+1]:null;let T=null,D=null;if(x){const C=n(a).findIndex(j=>j.id===x.id);T=x.assignment.order,D=C<n(a).length-1?n(a)[C+1].assignment.order:null}else if(y){const C=n(a).findIndex(j=>j.id===y.id);T=C>0?n(a)[C-1].assignment.order:null,D=y.assignment.order}Io(t.currentWeekOf,m,T,D)}var d=Rs(),u=c(d);{var w=b=>{var p=be(),m=oe(p);{var h=y=>{var T=js();Ee(T,29,()=>n(o),({id:D,project:C,area:j})=>D,(D,C)=>{let j=()=>n(C).project,k=()=>n(C).area;var I=Cs(),E=c(I),O=c(E,!0);l(E);var z=_(E,2),W=c(z),q=c(W,!0);l(W),l(z);var G=_(z,2),Y=c(G);kr(Y,{get level(){return j().severity},get type(){return j().type}}),l(G),l(I),re(()=>{B(O,k().icon),B(q,j().name)}),Ft(I,()=>Bt,()=>({duration:r})),S(D,I)}),l(T),fa(T,(D,C)=>Sn?.(D,C),()=>({items:n(o),flipDurationMs:r,dropTargetStyle:{}})),_t("consider",T,f),_t("finalize",T,v),S(y,T)},x=y=>{var T=Ps();Ee(T,21,()=>n(a),He,(D,C)=>{let j=()=>n(C).project,k=()=>n(C).area;const I=ee(()=>s(j().id)),E=ee(()=>n(I).total>0?n(I).completed/n(I).total*100:0);var O=Ms();O.__click=()=>t.navigateToTasks(j());var z=c(O),W=c(z),q=c(W),G=c(q),Y=c(G),F=c(Y,!0);l(Y);var U=_(Y);l(G);var V=_(G,2),N=c(V);l(V);var H=_(V,2),L=c(H);kr(L,{get level(){return j().severity},get type(){return j().type}});var X=_(L,2);{let M=ee(()=>n(I).active==0?"text-error bg-error/10 border-error/10 border":"bg-base-100 text-base-content/50");la(X,{get classes(){return n(M)},get label(){return`${n(I).active??""} available`}})}var ae=_(X,2);la(ae,{classes:"bg-base-100 text-base-content/50",get label(){return k().name}}),l(H),l(q),l(W);var ne=_(W,2);ne.__click=M=>i(M,j().id),l(z),l(O),re(()=>{K(O,1,`bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer overflow-hidden ${j().status=="blocked"?"glow-error":""} `),B(F,k().icon),B(U,` ${j().name??""}`),ba(N,`width: ${n(E)??""}%`)}),S(D,O)}),l(T),S(y,T)};$(m,y=>{t.reorderMode?y(h):y(x,!1)})}S(b,p)},g=b=>{var p=Ns();S(b,p)};$(u,b=>{n(o).length>0?b(w):b(g,!1)})}l(d),S(e,d),ye()}ke(["click"]);var Fs=R('<span class="text-xs text-primary px-2 py-1 bg-primary/10 border-primary/20 border rounded"> </span>'),Bs=R('<button><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-muted"> </p></div> <!></button>'),zs=R('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),Ws=R('<div class="flex flex-col gap-2"></div>');function Gs(e,t){xe(t,!0);var r=Ws();Ee(r,21,()=>t.weekTasks,He,(a,o)=>{const i=ee(()=>t.isTaskAssignedToDay(n(o).id));var s=Bs();s.__click=p=>t.openDayPicker(p,n(o));var f=c(s),v=c(f),d=c(v,!0);l(v);var u=_(v,2),w=c(u);l(u),l(f);var g=_(f,2);{var b=p=>{var m=Fs(),h=c(m,!0);l(m),re(x=>B(h,x),[()=>on(n(i))]),S(p,m)};$(g,p=>{n(i)&&p(b)})}l(s),re(()=>{K(s,1,`${n(o).status=="blocked"?"glow-error":""} text-start flex items-center gap-3 p-3 bg-base-200 rounded-lg transition-all hover:bg-base-100 cursor-pointer`),B(d,n(o).name),B(w,`${n(o).areaIcon??""} ${(n(o).type==="oneoff"?"One-off":n(o).projectName)??""}`)}),S(a,s)},a=>{var o=zs();S(a,o)}),l(r),S(e,r),ye()}ke(["click"]);let Yr=Xe({});class da{scrollTimeout;#e=Q();get scrollContainer(){return n(this.#e)}set scrollContainer(t){A(this.#e,t,!0)}pageKey="default"+Math.random();get positions(){return Yr}save(t,r){Yr[t]=r}get(t){return Yr[t]||0}handleScroll=()=>{clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.scrollContainer&&this.save(this.pageKey,this.scrollContainer.scrollTop)},100)};restoreScroll=async(t,r)=>{if(await rn(),this.scrollContainer=t,this.pageKey=r,this.scrollContainer){const a=this.get(this.pageKey);a&&(this.scrollContainer.scrollTop=a)}}}var Hs=R('<button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button>'),Vs=R('<div class="flex flex-col h-full"><div class="bg-base-300 ps-4 pe-2 pt-1 pb-0 flex flex-col gap-4 border-b border-b-base-content/10"><div class="flex flex-row justify-between items-center"><div class="text-center w-full"><h2 class="text-lg font-medium">This Week</h2> <p class="text-xs text-base-content/50"> </p></div></div> <div class="flex items-center justify-between h-8"><div class="flex gap-1"><button>Projects</button> <button>Tasks</button></div> <!></div></div> <div class="px-4 py-2 border-b flex justify-end border-b-base-content/10 gap-4"><button type="button"><span>Pending</span></button> <button type="button"><span>Resolved</span></button></div> <div><!></div> <div><!></div></div> <!>',1);function Us(e,t){xe(t,!0);let r,a;const o=new da,i=new da;an(()=>{o.restoreScroll(r,"weekview_projects"),i.restoreScroll(a,"weekview_tasks")});let s=Q(!1),f=()=>A(s,!n(s)),v=Q(Xe(localStorage.getItem("weekViewFilterMode")||"pending"));ct(()=>{n(v)&&localStorage.setItem("weekViewFilterMode",n(v))});let d=Q(Xe(localStorage.getItem("weekTabView")||"projects"));ct(()=>{n(d)&&localStorage.setItem("weekTabView",n(d))});let u=Xe(kt());const w=ee(()=>ut.getWeek(u));let g;function b(M){return n(w)?n(w).tasksByDay.find(te=>te.taskId===M)?.date??null:null}let p=ee(()=>n(w)?n(w).projectAssignments.map(M=>{const P=ot.getById(M.areaId);if(!P)return null;const le=yt.getByArea(P.id).find(J=>J.id===M.projectId);return le?{assignment:M,project:le,area:P}:null}).filter(M=>M!==null):[]),m=ee(()=>n(p).filter(M=>n(v)=="resolved"?["completed","cancelled"].includes(M.project.status):!["completed","cancelled"].includes(M.project.status))),h=ee(()=>{const M=[];for(const{project:P,area:te}of n(p)){const le=xt.getByProject(P.id);for(const J of le)M.push({type:"task",id:J.id,name:J.name,status:J.status,areaIcon:te.icon,areaName:te.name,projectName:P.name,areaId:te.id,projectId:P.id})}if(n(w))for(const P of n(w).oneOffAssignments){const te=Zt.getById(P.oneOffId);if(!te)continue;const le=ot.getById(P.areaId);le&&M.push({type:"oneoff",id:te.id,name:te.name,status:te.status,areaIcon:le.icon,areaName:le.name,projectName:"One-off",areaId:le.id,projectId:""})}return M}),x=ee(()=>n(h).filter(M=>n(v)=="resolved"?["completed","cancelled"].includes(M.status):!["completed","cancelled"].includes(M.status)));var y=Vs(),T=oe(y),D=c(T),C=c(D),j=c(C),k=_(c(j),2),I=c(k,!0);l(k),l(j),l(C);var E=_(C,2),O=c(E),z=c(O);z.__click=()=>A(d,"projects");var W=_(z,2);W.__click=()=>A(d,"tasks"),l(O);var q=_(O,2);{var G=M=>{var P=Hs();P.__click=f;var te=_(c(P));l(P),re(()=>{K(P,1,`btn mb-2 ${n(s)?"btn-success":"btn-ghost"} btn-xs`),B(te,` ${n(s)?"Done":"Reorder"}`)}),S(M,P)};$(q,M=>{n(d)=="projects"&&n(m).length>1&&M(G)})}l(E),l(D);var Y=_(D,2),F=c(Y);F.__click=()=>A(v,"pending");var U=_(F,2);U.__click=()=>A(v,"resolved"),l(Y);var V=_(Y,2),N=c(V);{var H=M=>{Ls(M,{get reorderMode(){return n(s)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return u},get assignedProjects(){return n(m)}})};$(N,M=>{n(d)==="projects"&&M(H)})}l(V),Ne(V,M=>r=M,()=>r);var L=_(V,2),X=c(L);{var ae=M=>{Gs(M,{get openDayPicker(){return g.openDayPicker},get weekTasks(){return n(x)},isTaskAssignedToDay:b})};$(X,M=>{n(d)=="tasks"&&M(ae)})}l(L),Ne(L,M=>a=M,()=>a),l(T);var ne=_(T,2);Ne(gi(ne,{get currentWeekOf(){return u},isTaskAssignedToDay:b}),M=>g=M,()=>g),re((M,P)=>{B(I,M),K(z,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(d)=="projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),K(W,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(d)=="tasks"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),K(F,1,`${n(v)=="pending"?"bg-primary/20 text-primary":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),K(U,1,`${n(v)=="resolved"?"bg-success/20 text-success":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),K(V,1,`${P??""} flex-1 overflow-y-auto px-3 py-4`),K(L,1,`${n(d)=="tasks"?"":"hidden"} flex-1 overflow-y-auto px-3 py-4`)},[()=>Oo(u),()=>n(d).match(/projects/)?"":"hidden"]),_t("scroll",V,function(...M){o.handleScroll?.apply(this,M)}),_t("scroll",L,function(...M){i.handleScroll?.apply(this,M)}),S(e,y),ye()}ke(["click"]);var Zs=R('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),Ys=R('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),qs=R('<div class="flex flex-col gap-2"></div>'),Ks=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="p-4 border-b border-base-content/10"><p class="font-medium text-base-content mb-2"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-3 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="join w-full"><label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Active</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Blocked</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Completed</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function Xs(e,t){xe(t,!0);const r=[];let a=Q("completed"),o=Q(Xe([]));ct(()=>{t.show&&(A(a,t.taskByDay?.status||"completed",!0),A(o,[],!0))});function i(b,p){p&&setTimeout(()=>b.focus(),0)}function s(){A(o,[...n(o),""],!0)}function f(b){A(o,n(o).filter((p,m)=>m!==b),!0)}function v(b,p){A(o,n(o).map((m,h)=>h===b?p:m),!0)}async function d(){if(t.taskByDay){t.taskByDay.isOneOff?await Xr(t.taskByDay.taskId,t.taskByDay.areaId,n(a)):await Jr(t.taskByDay.taskId,t.taskByDay.projectId,n(a));for(const b of n(o))b.trim()&&await ln(t.taskByDay.projectId,t.taskByDay.areaId,b.trim());t.onClose()}}var u=be(),w=oe(u);{var g=b=>{var p=Ks(),m=c(p);m.__click=function(...P){t.onClose?.apply(this,P)},m.__keydown=P=>P.key==="Escape"&&t.onClose();var h=_(m,2),x=c(h),y=c(x),T=c(y,!0);l(y);var D=_(y,2),C=c(D);l(D),l(x);var j=_(x,2),k=c(j),I=_(c(k),2),E=c(I),O=c(E);Ye(O),O.value=O.__value="active",sr(2),l(E);var z=_(E,2),W=c(z);Ye(W),W.value=W.__value="blocked",sr(2),l(z);var q=_(z,2),G=c(q);Ye(G),G.value=G.__value="completed",sr(2),l(q);var Y=_(q,2),F=c(Y);Ye(F),F.value=F.__value="cancelled",sr(2),l(Y),l(I),l(k);var U=_(k,2),V=c(U),N=_(c(V),2);N.__click=s,l(V);var H=_(V,2);{var L=P=>{var te=Zs();S(P,te)},X=P=>{var te=qs();Ee(te,21,()=>n(o),He,(le,J,se)=>{var ue=Ys(),de=c(ue);Ye(de),de.__input=Ae=>v(se,Ae.currentTarget.value),fa(de,(Ae,pe)=>i?.(Ae,pe),()=>se===n(o).length-1);var ge=_(de,2);ge.__click=()=>f(se),l(ue),re(()=>ai(de,n(J))),S(le,ue)}),l(te),S(P,te)};$(H,P=>{n(o).length===0?P(L):P(X,!1)})}l(U),l(j);var ae=_(j,2),ne=c(ae);ne.__click=function(...P){t.onClose?.apply(this,P)};var M=_(ne,2);M.__click=d,l(ae),l(h),l(p),re(()=>{B(T,t.taskByDay.name),B(C,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),K(E,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="active"?"bg-primary/10 border-primary":""}`),K(z,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="blocked"?"bg-error/10 border-error":""}`),K(q,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="completed"?"bg-success/10 border-success":""}`),K(Y,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="cancelled"?"bg-base-content/10 border-base-content/40":""}`)}),Ge(3,m,()=>Tt,()=>({duration:200})),Ct(r,[],O,()=>n(a),P=>A(a,P)),Ct(r,[],W,()=>n(a),P=>A(a,P)),Ct(r,[],G,()=>n(a),P=>A(a,P)),Ct(r,[],F,()=>n(a),P=>A(a,P)),Ge(3,h,()=>Dt,()=>({y:300,duration:300})),S(b,p)};$(w,b=>{t.show&&t.taskByDay&&b(g)})}S(e,u),ye()}ke(["click","keydown","input"]);var Js=R('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate "> </p></div></div>'),Qs=R('<div class="flex flex-col gap-2 mb-4"></div>'),$s=R('<div><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm mb-2"> </p> <p class="text-xs text-muted truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),el=R('<div class="flex flex-col gap-2 mb-4"></div>'),tl=R('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),rl=R('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),al=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),nl=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),ol=R('<div class="flex items-center gap-3 p-3 opacity-50 "><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),il=R('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),sl=R('<div class="flex flex-col h-full "><div class="flex flex-col gap-4 pt-1 pb-0 border-b border-base-content/10"><div class="flex flex-row justify-between items-center px-2"><button aria-label="prev" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button> <button class="cursor-pointer text-center w-full "><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-muted"> </p></button> <button aria-label="next" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="transform:rotate(180deg)" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button></div> <div class="flex items-center px-2"><div class="flex-1"><div class="px-4 pb-3 flex flex-col"><div class="flex items-center justify-between text-xs text-muted mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success/85 transition-all rounded-full"></div></div></div></div> <button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-3"><!> <!></div></div> <!>',1);function ll(e,t){xe(t,!0);let r;const a=new da;an(()=>a.restoreScroll(r,"todayview"));const o=kt(),i=200,s=()=>A(v,Co(n(d)),!0),f=()=>A(v,jo(n(d)),!0);let v=Q(Xe(new Date));const d=ee(()=>Mo(n(v)));let u=ee(()=>{const Z=ut.getWeek(o);return Z?Z.tasksByDay.filter(ie=>ie.date===n(d)).map(ie=>{if(ie.isOneOff){const Ie=Zt.getById(ie.taskId),me=ot.getById(ie.areaId);return{id:ie.taskId,taskByDay:ie,task:Ie,areaIcon:me?.icon??"ðŸ“",areaName:me?.name??"Unknown",projectName:"One-off"}}else{const Ie=xt.getById(ie.taskId),me=ot.getById(ie.areaId),he=(me?yt.getByArea(me.id):[]).find(ce=>ce.id===ie.projectId);return{id:ie.taskId,taskByDay:ie,task:Ie,areaIcon:me?.icon??"ðŸ“",areaName:me?.name??"Unknown",projectName:he?.name??"Unknown"}}}):[]}),w=ee(()=>n(u)),g=ee(()=>n(u).filter(Z=>Z.taskByDay.status!=="completed"&&Z.taskByDay.status!=="cancelled")),b=ee(()=>n(u).filter(Z=>Z.taskByDay.status==="completed"||Z.taskByDay.status==="cancelled")),p=Q(!1),m=Q(null),h=Q(""),x=Q(""),y=Q(""),T=Q(!1);const D=()=>{A(T,!n(T))};let C=Q(Xe([]));ct(()=>{A(C,n(g),!0)});let j=ee(()=>{const Z=n(b).length,ie=n(u).length,Ie=ie>0?Z/ie*100:0;return{completed:Z,total:ie,percent:Ie}});function k(Z){A(C,Z.detail.items,!0)}function I(Z){A(C,Z.detail.items,!0);const{info:ie}=Z.detail,Ie=ie.id,me=n(C).findIndex(Te=>Te.id===Ie);if(me===-1)return;const Ze=me>0?n(C)[me-1]:null,he=me<n(C).length-1?n(C)[me+1]:null;let ce=null,Oe=null;if(Ze){const Te=n(w).findIndex(Le=>Le.id===Ze.id);ce=Ze.taskByDay.order,Oe=Te<n(w).length-1?n(w)[Te+1].taskByDay.order:null}else if(he){const Te=n(w).findIndex(Le=>Le.id===he.id);ce=Te>0?n(w)[Te-1].taskByDay.order:null,Oe=he.taskByDay.order}Po(o,n(d),Ie,ce,Oe)}async function E(Z){Z.isOneOff?await Xr(Z.taskId,Z.areaId,"completed"):await Jr(Z.taskId,Z.projectId,"completed")}async function O(Z){Z.isOneOff?await Xr(Z.taskId,Z.areaId,"active"):await Jr(Z.taskId,Z.projectId,"active")}async function z(Z){Z.isOneOff?await ur(Z.taskId,o,n(d)):await vr(Z.taskId,Z.projectId,o,n(d))}function W(Z,ie,Ie,me){A(m,Z,!0),A(h,ie,!0),A(x,Ie,!0),A(y,me,!0),A(p,!0)}function q(){A(p,!1),A(m,null)}var G=sl(),Y=oe(G),F=c(Y),U=c(F),V=c(U);V.__click=f;var N=_(V,2);N.__click=()=>A(v,new Date,!0);var H=c(N),L=c(H,!0);l(H);var X=_(H,2),ae=c(X,!0);l(X),l(N);var ne=_(N,2);ne.__click=s,l(U);var M=_(U,2),P=c(M),te=c(P),le=c(te),J=c(le),se=c(J);l(J);var ue=_(J,2),de=c(ue);l(ue),l(le);var ge=_(le,2),Ae=c(ge);l(ge),l(te),l(P);var pe=_(P,2);pe.__click=D;var Je=_(c(pe));l(pe),l(M),l(F);var ve=_(F,2),tr=c(ve);{var Pn=Z=>{var ie=be(),Ie=oe(ie);{var me=he=>{var ce=Qs();Ee(ce,29,()=>n(C),({id:Oe,taskByDay:Te,areaIcon:Le,projectName:Qe})=>Oe,(Oe,Te)=>{let Le=()=>n(Te).taskByDay;var Qe=Js(),Et=_(c(Qe),2),bt=c(Et),gt=c(bt,!0);l(bt),l(Et),l(Qe),re(()=>B(gt,Le().name)),Ft(Qe,()=>Bt,()=>({duration:i})),S(Oe,Qe)}),l(ce),fa(ce,(Oe,Te)=>Sn?.(Oe,Te),()=>({items:n(C),flipDurationMs:i,dropTargetStyle:{}})),_t("consider",ce,k),_t("finalize",ce,I),S(he,ce)},Ze=he=>{var ce=el();Ee(ce,21,()=>n(g),He,(Oe,Te)=>{let Le=()=>n(Te).taskByDay,Qe=()=>n(Te).areaIcon,Et=()=>n(Te).areaName,bt=()=>n(Te).projectName;const gt=ee(()=>Le().status=="blocked");var $e=$s(),rr=c($e);rr.__click=()=>E(Le());var At=_(rr,2);At.__click=()=>W(Le(),Qe(),Et(),bt());var zt=c(At),ar=c(zt,!0);l(zt);var It=_(zt,2),Pr=c(It);l(It),l(At);var nr=_(At,2);nr.__click=()=>z(Le()),l($e),re(()=>{K($e,1,`flex items-start gap-2 p-3 bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer ${n(gt)?"glow-error":""}`),B(ar,Le().name),B(Pr,`${Qe()??""}  ${bt()??""}`)}),S(Oe,$e)}),l(ce),S(he,ce)};$(Ie,he=>{n(T)?he(me):he(Ze,!1)})}S(Z,ie)},Nn=Z=>{var ie=be(),Ie=oe(ie);{var me=he=>{var ce=tl();S(he,ce)},Ze=he=>{var ce=rl();S(he,ce)};$(Ie,he=>{n(j).total===0?he(me):he(Ze,!1)},!0)}S(Z,ie)};$(tr,Z=>{n(C).length>0?Z(Pn):Z(Nn,!1)})}var Rn=_(tr,2);{var Ln=Z=>{var ie=il(),Ie=c(ie),me=c(Ie);l(Ie);var Ze=_(Ie,2);Ee(Ze,21,()=>n(b),He,(he,ce)=>{let Oe=()=>n(ce).taskByDay,Te=()=>n(ce).areaIcon,Le=()=>n(ce).areaName,Qe=()=>n(ce).projectName;const Et=ee(()=>Oe().status==="completed"),bt=ee(()=>Oe().status==="cancelled");var gt=ol(),$e=c(gt);$e.__click=()=>O(Oe());var rr=c($e);{var At=Ot=>{var or=al();S(Ot,or)},zt=Ot=>{var or=be(),zn=oe(or);{var Wn=Nr=>{var Gn=nl();S(Nr,Gn)};$(zn,Nr=>{Oe().status==="cancelled"&&Nr(Wn)},!0)}S(Ot,or)};$(rr,Ot=>{Oe().status==="completed"?Ot(At):Ot(zt,!1)})}l($e);var ar=_($e,2),It=c(ar),Pr=c(It,!0);l(It);var nr=_(It,2),Bn=c(nr);l(nr),l(ar),l(gt),re(()=>{K($e,1,`w-7 h-7 rounded-full ${n(Et)?"bg-success border-success text-success-content":n(bt)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),B(Pr,Oe().name),B(Bn,`${Te()??""} ${Le()??""} Â· ${Qe()??""}`)}),S(he,gt)}),l(Ze),l(ie),re(()=>B(me,`Completed (${n(b).length??""})`)),S(Z,ie)};$(Rn,Z=>{n(b).length>0&&!n(T)&&Z(Ln)})}l(ve),Ne(ve,Z=>r=Z,()=>r),l(Y);var Fn=_(Y,2);Xs(Fn,{get show(){return n(p)},get taskByDay(){return n(m)},get areaIcon(){return n(h)},get areaName(){return n(x)},get projectName(){return n(y)},get weekOf(){return o},onClose:q}),re((Z,ie)=>{B(L,Z),B(ae,n(d)),B(se,`${n(j).completed??""} of ${n(j).total??""} completed`),B(de,`${ie??""}%`),ba(Ae,`width: ${n(j).percent??""}%`),K(pe,1,`btn w-20 ${n(T)?"btn-success":"btn-ghost"} btn-xs`),B(Je,` ${n(T)?"Done":"Reorder"}`)},[()=>nn(n(d))?"Today":So(n(d)),()=>Math.round(n(j).percent)]),_t("scroll",ve,function(...Z){a.handleScroll?.apply(this,Z)}),S(e,G),ye()}ke(["click"]);const qr=["reorder","status"],Cn=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var dl=R('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function cl(e,t){var r=dl();r.__click=function(...a){t.handleClick?.apply(this,a)},S(e,r)}ke(["click"]);var ul=R('<button type="button"> </button>'),vl=R('<button type="button" class="btn btn-outline btn-error btn-sm" title="Archive">Archive</button>'),fl=R('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),bl=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4 flex flex-col"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="h-40 overflow-y-auto rounded-lg border border-base-content/10 p-2"><div class="grid grid-cols-8 gap-1"></div></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function jn(e,t){xe(t,!0);let r=Q(!1),a=Q(null),o=Q(""),i=Q("ðŸŽ¯"),s;function f(){A(a,null),A(o,""),A(i,"ðŸŽ¯"),A(r,!0),setTimeout(()=>s.focus(),100)}function v(x,y){x.stopPropagation(),A(a,y,!0),A(o,y.name,!0),A(i,y.icon,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function d(){A(r,!1),A(a,null)}async function u(){!n(o).trim()||!n(i)||(n(a)?(await No(n(a).index,{name:n(o).trim(),icon:n(i)}),n(a).name=n(o).trim(),n(a).icon=n(i)):await Ro(n(o).trim(),n(i)),d())}async function w(){n(a)&&(await Lo(n(a).index),d())}async function g(){n(a)&&(await Fo(n(a).index),d())}var b={openCreateAreaModal:f,openEditAreaModal:v},p=be(),m=oe(p);{var h=x=>{var y=bl(),T=c(y);T.__click=d,T.__keydown=L=>L.key==="Escape"&&d();var D=_(T,2),C=c(D),j=c(C),k=c(j,!0);l(j);var I=_(j,2);I.__click=d,l(C);var E=_(C,2),O=c(E),z=_(c(O),2),W=c(z);Ee(W,21,()=>ii,He,(L,X)=>{var ae=ul();ae.__click=()=>A(i,n(X),!0);var ne=c(ae,!0);l(ae),re(()=>{K(ae,1,`aspect-square cursor-pointer flex items-center justify-center text-lg rounded-lg transition-colors ${n(i)===n(X)?"bg-primary/20 ring-2 ring-primary":"hover:bg-base-200"}`),B(ne,n(X))}),S(L,ae)}),l(W),l(z),l(O);var q=_(O,2),G=_(c(q),2);Ye(G),G.__keydown=L=>L.key==="Enter"&&u(),Ne(G,L=>s=L,()=>s),l(q),l(E);var Y=_(E,2),F=c(Y);{var U=L=>{var X=be(),ae=oe(X);{var ne=P=>{var te=vl();te.__click=w,S(P,te)},M=P=>{var te=be(),le=oe(te);{var J=se=>{var ue=fl();ue.__click=g,S(se,ue)};$(le,se=>{n(a).status=="archived"&&se(J)},!0)}S(P,te)};$(ae,P=>{n(a).status=="active"?P(ne):P(M,!1)})}S(L,X)};$(F,L=>{n(a)&&L(U)})}var V=_(F,4);V.__click=d;var N=_(V,2);N.__click=u;var H=c(N,!0);l(N),l(Y),l(D),l(y),re(L=>{B(k,n(a)?"Edit Area":"New Area"),N.disabled=L,B(H,n(a)?"Save":"Create")},[()=>!n(o).trim()||!n(i)]),Ge(3,T,()=>Tt,()=>({duration:200})),Tr(G,()=>n(o),L=>A(o,L)),Ge(3,D,()=>Dt,()=>({y:300,duration:300})),S(x,y)};$(m,x=>{n(r)&&x(h)})}return S(e,p),ye(b)}ke(["click","keydown"]);var gl=R("<span> </span>");function pl(e,t){const r={clear:"badge-success",planned:"badge-primary",active:"badge-info",fading:"badge-warning",avoiding:"badge-error"},a=ee(()=>r[t.status]||"badge-neutral");var o=gl(),i=c(o,!0);l(o),re(()=>{K(o,1,`rounded badge badge-sm badge-soft ${n(a)??""} font-semibold uppercase tracking-wide text-[10px]`),B(i,t.status)}),S(e,o)}var ml=R('<div class="flex flex-row gap-1"><button aria-label="edit" class="btn btn-sm btn-ghost">â†</button> <button aria-label="edit" class="btn btn-sm btn-ghost">â†’</button></div>'),hl=R('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm tracking-wide mb-0 pb-1 truncate"> </div> <p class="text-muted text-xs text-base-content/50"> </p></div></div></div></div>');function _l(e,t){xe(t,!0);const r=ee(()=>yt.getByArea(t.area.id).filter(y=>!["completed","cancelled"].includes(y.status)).length),a=ee(()=>{const y=kt(),T=ut.getWeek(y),D=yt.getByArea(t.area.id),C=D.filter(E=>E.status==="active"||E.status==="blocked");if(C.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};if(T?.projectAssignments.some(E=>C.some(O=>O.id===E.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"â—†"};const k=D.filter(E=>E.status==="completed"&&E.completedAt),I=k.length>0?Math.max(...k.map(E=>new Date(E.completedAt).getTime())):null;if(I){const E=Date.now()-12096e5,O=Date.now()-720*60*60*1e3;if(I>=E)return{level:"active",color:"badge-info",icon:"â—"};if(I>=O)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var o=hl();o.__click=()=>t.handleSelect(t.area);var i=c(o),s=c(i),f=c(s),v=c(f,!0);l(f);var d=_(f,2);{var u=y=>{var T=ml(),D=c(T);D.__click=j=>t.handleAreaMoveUp(j,t.index);var C=_(D,2);C.__click=j=>t.handleAreaMoveDown(j,t.index),l(T),re(()=>D.disabled=t.index==0),S(y,T)},w=y=>{var T=be(),D=oe(T);{var C=j=>{pl(j,{get status(){return n(a).level}})};$(D,j=>{t.viewMode=="status"&&j(C)},!0)}S(y,T)};$(d,y=>{t.viewMode=="reorder"?y(u):y(w,!1)})}l(s);var g=_(s,2),b=c(g),p=c(b),m=c(p,!0);l(p);var h=_(p,2),x=c(h);l(h),l(b),l(g),l(i),l(o),re(()=>{K(o,1,`rounded-lg bg-base-200 hover:bg-base-100 transition-colors cursor-pointer w-full ${n(a).level==="avoiding"?"border border-error/20":n(a).level==="fading"?"border border-warning/20":n(a).level==="active"?"border border-info/20":n(a).level==="planned"?"border border-purple-500/20":""}`),B(v,t.area.icon),B(m,t.area.name),B(x,`${n(r)??""} project${n(r)!==1?"s":""}`)}),S(e,o),ye()}ke(["click"]);var xl=R("<button> </button>"),yl=R("<div><!></div>"),wl=R('<div class="flex flex-col h-full bg-base-300"><div class="px-3 pt-1 pb-2 flex flex-row justify-between items-center border-b border-base-content/10"><a href="/" class="flex text-base-content/80 flex-row items-center "><div class="flex flex-col"><div class="text-lg tracking-wider font-medium">Doable</div></div></a> <div class="flex flex-row gap-4"><!> <button class="btn btn-xs btn-ghost"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function kl(e,t){xe(t,!0);let r,a=Q(Xe(localStorage.getItem("areasViewMode")||"none"));ct(()=>localStorage.setItem("areasViewMode",n(a)));let o=Q(!1),i=()=>A(a,qr[(qr.indexOf(n(a))+1)%qr.length],!0),s=()=>A(o,!n(o));const f=ee(()=>n(o)?ot.areas.filter(k=>k.status=="archived"):ot.areas.filter(k=>k.status=="active"));async function v(k,I){if(k.stopPropagation(),I===0)return;const E=ot.areas,O=n(f)[I],z=n(f)[I-1],W=E.findIndex(Y=>Y.id===z.id),q=W>0?E[W-1].index:null,G=z.index;await Ta(O.index,q,G)}async function d(k,I){if(k.stopPropagation(),I===n(f).length-1)return;const E=ot.areas,O=n(f)[I],z=n(f)[I+1],W=E.findIndex(Y=>Y.id===z.id),q=z.index,G=W<E.length-1?E[W+1].index:null;await Ta(O.index,q,G)}var u=wl(),w=c(u),g=_(c(w),2),b=c(g);{var p=k=>{var I=xl();I.__click=i;var E=c(I,!0);l(I),re(()=>{K(I,1,`btn btn-xs capitalize ${n(a)=="reorder"?"btn-success":"btn-ghost"}`),B(E,n(a)=="reorder"?"Done":"Reorder")}),S(k,I)};$(b,k=>{n(o)||k(p)})}var m=_(b,2);m.__click=s;var h=c(m,!0);l(m),l(g),l(w);var x=_(w,2),y=c(x),T=c(y);Ee(T,27,()=>n(f),k=>k.id,(k,I,E)=>{var O=yl(),z=c(O);_l(z,{get area(){return n(I)},get handleSelect(){return t.onSelectArea},get index(){return n(E)},handleAreaMoveUp:v,handleAreaMoveDown:d,get viewMode(){return n(a)}}),l(O),Ft(O,()=>Bt,()=>({duration:250,easing:Mr})),S(k,O)});var D=_(T,2);{var C=k=>{cl(k,{get handleClick(){return r.openCreateAreaModal}})};$(D,k=>{n(o)||k(C)})}l(y),l(x);var j=_(x,2);Ne(jn(j,{}),k=>r=k,()=>r),l(u),re(()=>B(h,n(o)?"Active":"Archived")),S(e,u),ye()}ke(["click"]);var Tl=R('<span class="text-xs mx-0.5">â€¢</span> ',1),Dl=R('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),El=R('<button class="cursor-pointer flex items-center"><!></button>'),Al=R('<div class="px-3 "><div role="button" tabindex="0"><div class="flex text-sm "> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <p class="text-2xs text-muted font-medium text-base-content/50 "> <!></p></div> <div class="flex flex-row gap-1 items-center"><!></div></div></div></div>');function Il(e,t){xe(t,!0);const r=ee(()=>xt.getByProject(t.project.id)),a=ee(()=>n(r).filter(k=>k.status==="active").length),o=ee(()=>n(r).filter(k=>k.status==="completed").length);function i(k){for(const[I,E]of Object.entries(ut.weeksByWeekOf))if(E.projectAssignments.some(O=>O.projectId===k))return I;return null}function s(k){const I=kt();if(k===I)return"This week";const E=new Date(I),O=new Date(k),z=Math.round((O.getTime()-E.getTime())/(1e3*60*60*24)),W=Math.round(z/7);return W===1?"Next week":W>1?`In ${W} weeks`:W===-1?"Last week":k.slice(5)}const f=ee(()=>i(t.project.id));var v=Al(),d=c(v);d.__click=()=>t.navigateToTasks(t.project),d.__keydown=k=>k.key==="Enter"&&t.navigateToTasks(t.project);var u=c(d),w=c(u,!0);l(u);var g=_(u,2),b=c(g),p=c(b);kr(p,{get type(){return t.project.type},get level(){return t.project.severity}});var m=_(p,2),h=c(m),x=_(h);{var y=k=>{var I=Tl(),E=_(oe(I));re(()=>B(E,` ${n(o)??""} done`)),S(k,I)};$(x,k=>{n(o)>0&&k(y)})}l(m),l(b);var T=_(b,2),D=c(T);{var C=k=>{var I=Dl(),E=oe(I);E.__click=z=>t.handleProjectMoveUp(z,t.index);var O=_(E,2);O.__click=z=>t.handleProjectMoveDown(z,t.index),S(k,I)},j=k=>{var I=El();I.__click=O=>t.handleProjectAssign(O,t.project);var E=c(I);{let O=ee(()=>n(f)?"bg-accent/20 text-accent":"bg-slate-400/20 text-slate-400"),z=ee(()=>n(f)?s(n(f)):"Unassigned");la(E,{get classes(){return n(O)},get label(){return n(z)}})}l(I),S(k,I)};$(D,k=>{t.reorderMode?k(C):k(j,!1)})}l(T),l(g),l(d),l(v),re(()=>{K(d,1,`flex ${t.project.status=="blocked"?"glow-error":""} flex-col p-3 gap-2 transition-colors bg-base-200 cursor-pointer hover:bg-base-100 rounded-lg `),B(w,t.project.name),B(h,`${n(a)??""} active `)}),S(e,v),ye()}ke(["click","keydown"]);var Ol=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[605px] max-h-full bg-base-300 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-300 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="join w-full"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Completed</button> <button type="button">Cancelled</button></div></div> <div class="flex gap-3 p-4 pb-10  border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function Mn(e,t){xe(t,!0);const r=[];let a=Q(!1),o=Q(null),i=Q(""),s=Q("active"),f=Q("regular"),v=Q("sev3"),d;function u(){console.log("Creating.."),A(o,null),A(i,""),A(s,"active"),A(f,"regular"),A(v,"sev3"),A(a,!0),setTimeout(()=>d.focus(),100)}function w(y,T){y.stopPropagation(),A(o,T,!0),A(i,T.name,!0),A(s,T.status,!0),A(f,T.type||"regular",!0),A(v,T.severity||"sev1",!0),A(a,!0),setTimeout(()=>d.focus(),100)}function g(){A(a,!1),A(o,null)}async function b(){!n(i).trim()||!t.selectedArea||(n(o)?(await Bo(t.selectedArea.id,n(o).index,{name:n(i).trim(),status:n(s),type:n(f),severity:n(v)}),n(o).name=n(i).trim(),n(o).status=n(s),n(o).type=n(f),n(o).severity=n(v)):await zo(t.selectedArea.id,n(i).trim(),n(f),n(v)),g())}var p={openCreateProjectModal:u,openEditProjectModal:w},m=be(),h=oe(m);{var x=y=>{var T=Ol(),D=c(T);D.__click=g,D.__keydown=ve=>ve.key==="Escape"&&g();var C=_(D,2),j=c(C),k=c(j),I=c(k),E=c(I,!0);l(I);var O=_(I,2);O.__click=g,l(k);var z=_(k,2),W=c(z),q=_(c(W),2);Ye(q),q.__keydown=ve=>ve.key==="Enter"&&b(),Ne(q,ve=>d=ve,()=>d),l(W);var G=_(W,2),Y=_(c(G),2),F=c(Y);Ye(F),F.value=F.__value="regular";var U=_(F,2);Ye(U),U.value=U.__value="maintenance",l(Y),l(G);var V=_(G,4),N=c(V);N.__click=()=>A(v,"sev1");var H=_(c(N),2),L=c(H,!0);l(H),l(N);var X=_(N,2);X.__click=()=>A(v,"sev2");var ae=_(c(X),2),ne=c(ae,!0);l(ae),l(X);var M=_(X,2);M.__click=()=>A(v,"sev3");var P=_(c(M),2),te=c(P,!0);l(P),l(M),l(V);var le=_(V,4),J=c(le);J.__click=()=>A(s,"active");var se=_(J,2);se.__click=()=>A(s,"blocked");var ue=_(se,2);ue.__click=()=>A(s,"completed");var de=_(ue,2);de.__click=()=>A(s,"cancelled"),l(le),l(z);var ge=_(z,2),Ae=_(c(ge),2);Ae.__click=g;var pe=_(Ae,2);pe.__click=b;var Je=c(pe,!0);l(pe),l(ge),l(j),l(C),l(T),re(ve=>{B(E,n(o)?"Edit Project":"New Project"),K(N,1,`hover:bg-purple-500 btn justify-start gap-2 transition-all ${n(v)==="sev1"?"bg-purple-600 text-white":""}`),B(L,Ur[n(f)].sev1),K(X,1,`hover:bg-emerald-500 hover:text-white btn justify-start gap-2 ${n(v)==="sev2"?"bg-emerald-600 text-white":""} transition-all`),B(ne,Ur[n(f)].sev2),K(M,1,`hover:bg-slate-500 hover:text-slate-300 ${n(v)==="sev3"?"bg-slate-500 text-white":""} btn justify-start gap-2 transition-all`),B(te,Ur[n(f)].sev3),K(J,1,`join-item btn btn-sm flex-1 ${n(s)==="active"?"btn-primary":""}`),K(se,1,`join-item btn btn-sm flex-1 ${n(s)==="blocked"?"btn-error":""}`),K(ue,1,`join-item btn btn-sm flex-1 ${n(s)==="completed"?"btn-success":""}`),K(de,1,`join-item btn btn-sm flex-1 ${n(s)==="cancelled"?"bg-base-content/30":""}`),pe.disabled=ve,B(Je,n(o)?"Save":"Create")},[()=>!n(i).trim()]),Ge(3,D,()=>Tt,()=>({duration:200})),Tr(q,()=>n(i),ve=>A(i,ve)),Ct(r,[],F,()=>{"regular";return n(f)},ve=>A(f,ve)),Ct(r,[],U,()=>{"maintenance";return n(f)},ve=>A(f,ve)),Ge(3,C,()=>Dt,()=>({y:300,duration:300})),S(y,T)};$(h,y=>{n(a)&&y(x)})}return S(e,m),ye(p)}ke(["click","keydown"]);var Sl=R('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),Cl=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2 pb-10 "></div></div></div>');function jl(e,t){xe(t,!0);let r=Q(!1),a=Q(null),o=Q(void 0);function i(b,p,m){b.stopPropagation(),A(o,p,!0),A(a,m,!0),A(r,!0)}function s(){A(r,!1),A(a,null)}async function f(b,p){!n(a)||!n(o)||(p?await sn(n(a).id,b):await Go(n(a).id,n(o).id,b),s())}function v(b,p){const m=p??kt();return ut.getWeek(m)?.projectAssignments.some(x=>x.projectId===b)??!1}var d={openWeekPicker:i},u=be(),w=oe(u);{var g=b=>{var p=Cl(),m=c(p);m.__click=s,m.__keydown=D=>D.key==="Escape"&&s();var h=_(m,2),x=c(h),y=_(c(x),2);y.__click=s,l(x);var T=_(x,2);Ee(T,21,Wo,He,(D,C)=>{const j=ee(()=>v(n(a).id,n(C).weekOf));var k=Sl();k.__click=()=>f(n(C).weekOf,n(j));var I=c(k),E=c(I,!0);l(I);var O=_(I,2),z=c(O,!0);l(O),l(k),re(()=>{K(k,1,`w-full p-3 text-left rounded-lg border transition-colors ${n(j)?"bg-base-200 text-primary border-primary":"border-base-content/10 hover:border-primary"}`),B(E,n(C).label),B(z,n(C).weekOf)}),S(D,k)}),l(T),l(h),l(p),Ge(3,m,()=>Tt,()=>({duration:200})),Ge(3,h,()=>Dt,()=>({y:300,duration:300})),S(b,p)};$(w,b=>{n(r)&&n(a)&&b(g)})}return S(e,u),ye(d)}ke(["click","keydown"]);var Ml=R('<button type="button"> </button>'),Pl=R('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="join w-full"></div></div>'),Nl=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Buy groceries, Call mom"/></div> <!></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Rl(e,t){xe(t,!0);let r=Q(!1),a=Q(null),o=Q(""),i=Q("active"),s;function f(){A(a,null),A(o,""),A(i,"active"),A(r,!0),setTimeout(()=>s.focus(),100)}function v(m,h){m.stopPropagation(),A(a,h,!0),A(o,h.name,!0),A(i,h.status,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function d(){A(r,!1),A(a,null)}async function u(){!n(o).trim()||!t.selectedArea||(n(a)?await dn(t.selectedArea.id,n(a).index,{name:n(o).trim(),status:n(i)}):await Ho(t.selectedArea.id,n(o).trim()),d())}var w={openCreateOneOffModal:f,openEditOneOffModal:v},g=be(),b=oe(g);{var p=m=>{var h=Nl(),x=c(h);x.__click=d,x.__keydown=F=>F.key==="Escape"&&d();var y=_(x,2),T=c(y),D=c(T),C=c(D,!0);l(D);var j=_(D,2);j.__click=d,l(T);var k=_(T,2),I=c(k),E=_(c(I),2);Ye(E),E.__keydown=F=>F.key==="Enter"&&u(),Ne(E,F=>s=F,()=>s),l(I);var O=_(I,2);{var z=F=>{var U=Pl(),V=_(c(U),2);Ee(V,21,()=>Cn,He,(N,H)=>{var L=Ml();L.__click=()=>A(i,n(H).value,!0);var X=c(L,!0);l(L),re(()=>{K(L,1,`join-item btn btn-sm flex-1 ${n(i)===n(H).value?n(H).value==="active"?"btn-primary":n(H).value==="blocked"?"btn-warning":n(H).value==="completed"?"btn-success":"btn-neutral":""}`),B(X,n(H).label)}),S(N,L)}),l(V),l(U),S(F,U)};$(O,F=>{n(a)&&F(z)})}l(k);var W=_(k,2),q=_(c(W),2);q.__click=d;var G=_(q,2);G.__click=u;var Y=c(G,!0);l(G),l(W),l(y),l(h),re(F=>{B(C,n(a)?"Edit One-off":"New One-off"),G.disabled=F,B(Y,n(a)?"Save":"Create")},[()=>!n(o).trim()]),Ge(3,x,()=>Tt,()=>({duration:200})),Tr(E,()=>n(o),F=>A(o,F)),Ge(3,y,()=>Dt,()=>({y:300,duration:300})),S(m,h)};$(b,m=>{n(r)&&m(p)})}return S(e,g),ye(w)}ke(["click","keydown"]);var Ll=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Fl=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Bl=ft('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),zl=R('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),Wl=R("<button>This Week</button>"),Gl=R('<div class="px-2"><div class="flex items-center gap-2 p-3 bg-base-200 rounded-lg  cursor-pointer hover:bg-base-100 transition-colors" role="button" tabindex="0"><button type="button"><!></button> <span> </span> <!></div></div>'),Hl=R('<div class="text-center py-8 text-base-content/50 text-sm">No one-offs yet</div>'),Vl=R("<!> <!>",1);function Ul(e,t){xe(t,!0);let r=Ia(t,"filterMode",3,"active"),a=Ia(t,"reorderMode",3,!1),o;const i=kt();let s=ee(()=>Zt.getByArea(t.selectedArea.id).filter(x=>{if(r()=="active")return["active","blocked"].includes(x.status)&&f(x.id);if(r()=="pending")return["active","blocked"].includes(x.status)&&!f(x.id);if(r()=="resolved")return["cancelled","completed"].includes(x.status)}));function f(x){return ut.isOneOffAssignedToWeek(x,i)}async function v(x,y){x.stopPropagation();const T=y.status==="completed"?"active":"completed";await dn(t.selectedArea.id,y.index,{status:T})}async function d(x,y){x.stopPropagation(),f(y.id)?await Vo(y.id,i):await Uo(y.id,t.selectedArea.id,i)}async function u(x,y){if(x.stopPropagation(),y===0)return;const T=Zt.getByArea(t.selectedArea.id),D=n(s)[y],C=n(s)[y-1],j=T.findIndex(E=>E.id===C.id),k=j>0?T[j-1].index:null,I=C.index;await Da(t.selectedArea.id,D.index,k,I)}async function w(x,y){if(x.stopPropagation(),y===n(s).length-1)return;const T=Zt.getByArea(t.selectedArea.id),D=n(s)[y],C=n(s)[y+1],j=T.findIndex(E=>E.id===C.id),k=C.index,I=j<T.length-1?T[j+1].index:null;await Da(t.selectedArea.id,D.index,k,I)}function g(){o.openCreateOneOffModal()}var b={openCreateModal:g},p=Vl(),m=oe(p);Ee(m,27,()=>n(s),x=>x.id,(x,y,T)=>{const D=ee(()=>f(n(y).id)),C=ee(()=>n(y).status=="completed"),j=ee(()=>n(y).status=="cancelled"),k=ee(()=>n(y).status=="blocked");var I=Gl(),E=c(I);E.__click=N=>o.openEditOneOffModal(N,n(y)),E.__keydown=N=>N.key==="Enter"&&o.openEditOneOffModal(N,n(y));var O=c(E);O.__click=N=>v(N,n(y));var z=c(O);{var W=N=>{var H=Ll();S(N,H)},q=N=>{var H=be(),L=oe(H);{var X=ne=>{var M=Fl();S(ne,M)},ae=ne=>{var M=be(),P=oe(M);{var te=le=>{var J=Bl();S(le,J)};$(P,le=>{n(k)&&le(te)},!0)}S(ne,M)};$(L,ne=>{n(j)?ne(X):ne(ae,!1)},!0)}S(N,H)};$(z,N=>{n(C)?N(W):N(q,!1)})}l(O);var G=_(O,2),Y=c(G,!0);l(G);var F=_(G,2);{var U=N=>{var H=zl(),L=oe(H);L.__click=ae=>u(ae,n(T));var X=_(L,2);X.__click=ae=>w(ae,n(T)),S(N,H)},V=N=>{var H=Wl();H.__click=L=>d(L,n(y)),re(()=>{K(H,1,`px-2 py-1 text-xs rounded border transition-colors ${n(D)?"bg-primary/10 text-primary border-primary/30":"text-base-content/50 border-base-content/20 hover:border-primary/50"}`),$r(H,"title",n(D)?"Remove from this week":"Add to this week")}),S(N,H)};$(F,N=>{a()?N(U):N(V,!1)})}l(E),l(I),re(()=>{K(O,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(C)?"bg-success/70 border-success/10 text-success-content":n(k)?"text-error border-error bg-error/30":n(j)?"bg-base-content/15 border-base-content/30 text-base-content":"border-base-content/30 hover:border-success/70"}`),O.disabled=n(j),K(G,1,`flex-1 text-sm ${n(y).status==="completed"?"line-through text-base-content/50":""}`),B(Y,n(y).name)}),Ft(I,()=>Bt,()=>({duration:250,easing:Mr})),S(x,I)},x=>{var y=Hl();S(x,y)});var h=_(m,2);return Ne(Rl(h,{get selectedArea(){return t.selectedArea}}),x=>o=x,()=>o),S(e,p),ye(b)}ke(["click","keydown"]);var Zl=R("<button> </button>"),Yl=R("<div><!></div>"),ql=R('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),Kl=R('<div class="flex flex-col h-full bg-base-300"><div class="flex flex-col border-b border-base-content/10 gap-3 p-3 pb-0"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row gap-3 items-center"><div class="text-3xl"> </div> <h2 class="text-lg tracking-wide"> </h2></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="flex justify-between items-center"><div class="flex gap-1 flex-row justify-between"></div></div></div> <div class="px-4 py-2 border-b flex justify-between border-b-base-content/10 gap-4"><button type="button" class="text-primary text-sm cursor-pointer no-underline "><span class="me-1 text-base">+</span> <span>New</span></button> <div><button type="button"><span>Active</span></button> <button type="button"><span>Pending</span></button> <button type="button"><span>Resolved</span></button></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!></div></div></div> <!> <!> <!>',1);function Xl(e,t){xe(t,!0);let r,a,o,i;const s=kt(),f=["projects","oneoffs"];let v=Q(Xe(localStorage.getItem("projectTabView")||"projects"));ct(()=>{n(v)&&localStorage.setItem("projectTabView",n(v))});let d=Q(Xe(localStorage.getItem("projectsTabFilterMode")||"active"));ct(()=>{n(d)&&localStorage.setItem("projectsTabFilterMode",n(d))});let u=Q(!1),w=()=>A(u,!n(u)),g=ee(()=>yt.getByArea(t.selectedArea.id).filter(J=>n(v)=="oneoffs"?!1:n(d)=="active"?["active","blocked"].includes(J.status)&&ut.isProjectAssignedToWeek(J.id,s):n(d)=="resolved"?["completed","cancelled"].includes(J.status):["active","blocked"].includes(J.status)&&!ut.isProjectAssignedToWeek(J.id,s)));async function b(J,se){if(J.stopPropagation(),se===0||!t.selectedArea)return;const ue=yt.getByArea(t.selectedArea.id),de=n(g)[se],ge=n(g)[se-1],Ae=ue.findIndex(ve=>ve.id===ge.id),pe=Ae>0?ue[Ae-1].index:null,Je=ge.index;await Ea(t.selectedArea.id,de.index,pe,Je)}async function p(J,se){if(J.stopPropagation(),!t.selectedArea||se===n(g).length-1)return;const ue=yt.getByArea(t.selectedArea.id),de=n(g)[se],ge=n(g)[se+1],Ae=ue.findIndex(ve=>ve.id===ge.id),pe=ge.index,Je=Ae<ue.length-1?ue[Ae+1].index:null;console.log(pe,Je),await Ea(t.selectedArea.id,de.index,pe,Je)}async function m(){n(v)=="projects"?o.openCreateProjectModal():n(v)=="oneoffs"&&r.openCreateModal()}var h=Kl(),x=oe(h),y=c(x),T=c(y),D=c(T),C=c(D),j=c(C,!0);l(C);var k=_(C,2),I=c(k,!0);l(k),l(D);var E=_(D,2),O=c(E);O.__click=w;var z=_(c(O));l(O);var W=_(O,2);W.__click=J=>a.openEditAreaModal(J,t.selectedArea),l(E),l(T);var q=_(T,2),G=c(q);Ee(G,21,()=>f,He,(J,se)=>{const ue=ee(()=>n(v)===n(se));var de=Zl();de.__click=()=>A(v,n(se),!0);var ge=c(de,!0);l(de),re(()=>{K(de,1,`capitalize px-3 py-2 border-b border-b-2 text-sm tracking-wider rounded-t-md transition-colors cursor-pointer whitespace-nowrap ${n(ue)?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),B(ge,n(se))}),S(J,de)}),l(G),l(q),l(y);var Y=_(y,2),F=c(Y);F.__click=m;var U=_(F,2),V=c(U);V.__click=()=>A(d,"active");var N=_(V,2);N.__click=()=>A(d,"pending");var H=_(N,2);H.__click=()=>A(d,"resolved"),l(U),l(Y);var L=_(Y,2),X=c(L),ae=c(X);{var ne=J=>{Ne(Ul(J,{get selectedArea(){return t.selectedArea},get filterMode(){return n(d)},get reorderMode(){return n(u)}}),se=>r=se,()=>r)},M=J=>{var se=be(),ue=oe(se);Ee(ue,27,()=>n(g),de=>de.id,(de,ge,Ae)=>{var pe=Yl(),Je=c(pe);Il(Je,{get index(){return n(Ae)},get reorderMode(){return n(u)},handleProjectAssign:(ve,tr)=>i.openWeekPicker(ve,t.selectedArea,tr),get navigateToTasks(){return t.navigateToTasks},get project(){return n(ge)},handleProjectMoveUp:b,handleProjectMoveDown:p}),l(pe),Ft(pe,()=>Bt,()=>({duration:250,easing:Mr})),S(de,pe)},de=>{var ge=ql(),Ae=c(ge);l(ge),re(()=>B(Ae,`No ${n(v)??""} projects`)),S(de,ge)}),S(J,se)};$(ae,J=>{n(v)==="oneoffs"?J(ne):J(M,!1)})}l(X),l(L),l(x);var P=_(x,2);Ne(Mn(P,{get selectedArea(){return t.selectedArea}}),J=>o=J,()=>o);var te=_(P,2);Ne(jl(te,{}),J=>i=J,()=>i);var le=_(te,2);Ne(jn(le,{}),J=>a=J,()=>a),re(()=>{B(j,t.selectedArea.icon),B(I,t.selectedArea.name),K(O,1,`btn ${n(u)?"btn-success":"btn-ghost"} btn-xs`),B(z,` ${n(u)?"Done":"Reorder"}`),K(V,1,`${n(d)=="active"?"bg-accent/20 text-accent":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),K(N,1,`${n(d)=="pending"?"bg-primary/20 text-primary":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),K(H,1,`${n(d)=="resolved"?"bg-success/20 text-success":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `)}),S(e,h),ye()}ke(["click"]);var Jl=R('<button type="button"> </button>'),Ql=R('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),$l=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function ed(e,t){xe(t,!0);let r=Q(!1),a=Q(null),o=Q(""),i=Q("active"),s;function f(){A(a,null),A(o,""),A(i,"active"),A(r,!0),setTimeout(()=>s.focus(),100)}function v(m,h){m.stopPropagation(),A(a,h,!0),A(o,h.name,!0),A(i,h.status,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function d(){A(r,!1),A(a,null)}async function u(){!n(o).trim()||!t.selectedProject||!t.selectedArea||(n(a)?await cn(t.selectedProject.id,n(a).index,{name:n(o).trim(),status:n(i)}):await ln(t.selectedProject.id,t.selectedArea.id,n(o).trim()),d())}var w={openCreateTaskModal:f,openEditTaskModal:v},g=be(),b=oe(g);{var p=m=>{var h=$l(),x=c(h);x.__click=d,x.__keydown=F=>F.key==="Escape"&&d();var y=_(x,2),T=c(y),D=c(T),C=c(D,!0);l(D);var j=_(D,2);j.__click=d,l(T);var k=_(T,2),I=c(k),E=_(c(I),2);Ye(E),E.__keydown=F=>F.key==="Enter"&&u(),Ne(E,F=>s=F,()=>s),l(I);var O=_(I,2);{var z=F=>{var U=Ql(),V=_(c(U),2);Ee(V,21,()=>Cn,He,(N,H)=>{var L=Jl();L.__click=()=>A(i,n(H).value,!0);var X=c(L,!0);l(L),re(()=>{K(L,1,`px-2 py-1.5 text-sm rounded-lg border transition-colors ${n(i)===n(H).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),B(X,n(H).label)}),S(N,L)}),l(V),l(U),S(F,U)};$(O,F=>{n(a)&&F(z)})}l(k);var W=_(k,2),q=_(c(W),2);q.__click=d;var G=_(q,2);G.__click=u;var Y=c(G,!0);l(G),l(W),l(y),l(h),re(F=>{B(C,n(a)?"Edit Task":"New Task"),G.disabled=F,B(Y,n(a)?"Save":"Create")},[()=>!n(o).trim()]),Ge(3,x,()=>Tt,()=>({duration:200})),Tr(E,()=>n(o),F=>A(o,F)),Ge(3,y,()=>Dt,()=>({y:300,duration:300})),S(m,h)};$(b,m=>{n(r)&&m(p)})}return S(e,g),ye(w)}ke(["click","keydown"]);var td=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),rd=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),ad=ft('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),nd=R('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),od=R('<div tabindex="0" role="button" class="hover:bg-base-100 cursor-pointer w-full flex flex-row items-start py-4 px-3 bg-base-200 rounded-md"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function id(e,t){xe(t,!0);const r=ee(()=>t.task.status==="completed"),a=ee(()=>t.task.status==="cancelled"),o=ee(()=>t.task.status==="blocked");var i=od();i.__click=p=>t.handleEdit(p,t.task);var s=c(i);s.__click=p=>t.toggleTaskComplete(p,t.task);var f=c(s);{var v=p=>{var m=td();S(p,m)},d=p=>{var m=be(),h=oe(m);{var x=T=>{var D=rd();S(T,D)},y=T=>{var D=be(),C=oe(D);{var j=k=>{var I=ad();S(k,I)};$(C,k=>{n(o)&&k(j)},!0)}S(T,D)};$(h,T=>{n(a)?T(x):T(y,!1)},!0)}S(p,m)};$(f,p=>{n(r)?p(v):p(d,!1)})}l(s);var u=_(s,2),w=c(u,!0);l(u);var g=_(u,2);{var b=p=>{var m=nd(),h=oe(m);h.__click=y=>t.handleTaskMoveUp(y,t.index);var x=_(h,2);x.__click=y=>t.handleTaskMoveDown(y,t.index),S(p,m)};$(g,p=>{t.reorderEnabled&&p(b)})}l(i),re(()=>{K(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(r)?"bg-success/70 border-success/10 text-success-content":n(o)?"text-error border-error bg-error/30":n(a)?"bg-base-content/15 border-base-content/30 text-base-content":"border-base-content/30 hover:border-success/70"}`),s.disabled=n(a),B(w,t.task.name)}),S(e,i),ye()}ke(["click"]);var sd=R("<span> </span>");function ld(e,t){const r={active:{label:"Active",class:"bg-info/20 text-info"},blocked:{label:"Blocked",class:"bg-error/20 text-error"},completed:{label:"Completed",class:"bg-success/20 text-success"},cancelled:{label:"Cancelled",class:"bg-base-content/10 text-base-content/40"}},a=ee(()=>r[t.status]||r.active);var o=sd(),i=c(o,!0);l(o),re(()=>{K(o,1,`inline-flex items-center px-2 py-0.5 rounded text-2xs font-medium ${n(a).class??""}`),B(i,n(a).label)}),S(e,o)}var dd=R("<div><!></div>"),cd=R('<div class="flex flex-col h-full w-full bg-base-300"><div class="flex flex-col p-3 gap-3 border-b border-base-content/10"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row items-center gap-1 text-xs  text-muted"><div class="text-base"> </div> <div> </div></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="mb-1"> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <!></div> <button type="button" class="text-xs flex items-center cursor-pointer mb-1 text-primary"><span class="me-1 text-base">+</span> <span>Add Task</span></button></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0 gap-2"></div></div></div> <!> <!>',1);function ud(e,t){xe(t,!0);let r,a,o=ee(()=>xt.getByProject(t.selectedProject.id)),i=Q(!1),s=()=>A(i,!n(i));async function f(V,N){if(V.stopPropagation(),!t.selectedProject)return;const H=N.status==="completed"?"active":"completed";await cn(t.selectedProject.id,N.index,{status:H})}async function v(V,N){if(V.stopPropagation(),N===0||!t.selectedProject)return;const H=n(o),L=xt.getByProject(t.selectedProject.id),X=H[N],ae=H[N-1],ne=L.findIndex(te=>te.id===ae.id),M=ne>0?L[ne-1].index:null,P=ae.index;await Aa(t.selectedProject.id,X.index,M,P)}async function d(V,N){if(V.stopPropagation(),!t.selectedProject)return;const H=n(o);if(N===H.length-1)return;const L=xt.getByProject(t.selectedProject.id),X=H[N],ae=H[N+1],ne=L.findIndex(te=>te.id===ae.id),M=ae.index,P=ne<L.length-1?L[ne+1].index:null;await Aa(t.selectedProject.id,X.index,M,P)}var u=cd(),w=oe(u),g=c(w),b=c(g),p=c(b),m=c(p),h=c(m,!0);l(m);var x=_(m,2),y=c(x,!0);l(x),l(p);var T=_(p,2),D=c(T);D.__click=s;var C=_(c(D));l(D);var j=_(D,2);j.__click=V=>r.openEditProjectModal(V,t.selectedProject),l(T),l(b);var k=_(b,2),I=c(k,!0);l(k);var E=_(k,2),O=c(E),z=c(O);ld(z,{get status(){return t.selectedProject.status}});var W=_(z,2);kr(W,{get level(){return t.selectedProject.severity},get type(){return t.selectedProject.type}}),l(O);var q=_(O,2);q.__click=function(...V){a.openCreateTaskModal?.apply(this,V)},l(E),l(g);var G=_(g,2),Y=c(G);Ee(Y,31,()=>n(o),V=>V.id,(V,N,H)=>{var L=dd(),X=c(L);id(X,{get handleEdit(){return a.openEditTaskModal},handleTaskMoveUp:v,handleTaskMoveDown:d,get index(){return n(H)},get task(){return n(N)},toggleTaskComplete:f,get reorderEnabled(){return n(i)}}),l(L),Ft(L,()=>Bt,()=>({duration:250,easing:Mr})),S(V,L)}),l(Y),l(G),l(w);var F=_(w,2);Ne(ed(F,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),V=>a=V,()=>a);var U=_(F,2);Ne(Mn(U,{get selectedArea(){return t.selectedArea}}),V=>r=V,()=>r),re(()=>{B(h,t.selectedArea.icon),B(y,t.selectedArea.name),K(D,1,`btn ${n(i)?"btn-success":"btn-ghost"} btn-xs`),B(C,` ${n(i)?"Done":"Reorder"}`),B(I,t.selectedProject.name)}),S(e,u),ye()}ke(["click"]);var vd=R('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),fd=R('<div class="h-screen flex flex-col bg-base-300 md:ml-20"><div class="max-md:pb-22 h-full"><!></div> <!></div>');function yd(e,t){xe(t,!0);const r=()=>s("areas"),a=()=>s("projects");let o=Q(void 0),i=Q(void 0);s("areas");function s(m){To("",{activeTab:m})}function f(m){A(o,m,!0),s("projects")}function v(m){A(i,m,!0),A(o,ot.getById(m.areaId),!0),s("tasks")}var d=fd(),u=c(d),w=c(u);{var g=m=>{kl(m,{onSelectArea:f})},b=m=>{var h=be(),x=oe(h);{var y=D=>{Xl(D,{navigateBack:r,navigateToTasks:v,get selectedArea(){return n(o)}})},T=D=>{var C=be(),j=oe(C);{var k=E=>{ud(E,{navigateBack:a,get selectedArea(){return n(o)},get selectedProject(){return n(i)}})},I=E=>{var O=be(),z=oe(O);{var W=G=>{Us(G,{navigateToTasks:v})},q=G=>{var Y=be(),F=oe(Y);{var U=N=>{ll(N,{})},V=N=>{var H=be(),L=oe(H);{var X=ae=>{var ne=vd();S(ae,ne)};$(L,ae=>{pt.state.activeTab==="review"&&ae(X)},!0)}S(N,H)};$(F,N=>{pt.state.activeTab==="today"?N(U):N(V,!1)},!0)}S(G,Y)};$(z,G=>{pt.state.activeTab==="week"?G(W):G(q,!1)},!0)}S(E,O)};$(j,E=>{pt.state.activeTab=="tasks"?E(k):E(I,!1)},!0)}S(D,C)};$(x,D=>{pt.state.activeTab==="projects"?D(y):D(T,!1)},!0)}S(m,h)};$(w,m=>{pt.state.activeTab==="areas"?m(g):m(b,!1)})}l(u);var p=_(u,2);ci(p,{get activeTab(){return pt.state.activeTab},onTabChange:s}),l(d),S(e,d),ye()}export{yd as component};
