import{b as Hn,d as we,f as N,a as I,s as F,c as fe,e as ht,g as vt}from"../chunks/CmltlcwE.js";import{M as Rr,U as Vn,_ as Lr,O as Be,aq as Un,V as Zn,g as n,w as Yn,X as qn,Y as Kn,Z as ya,$ as Fr,Q as ir,aa as Xn,aE as Jn,ah as wa,H as St,aG as at,N as Kr,T as Qn,a8 as ka,a4 as $n,aC as ca,aH as eo,aI as to,aJ as ro,aK as ao,I as Ka,K as Xa,aL as Br,ay as no,aB as oo,J as io,aM as Ja,q as qt,aN as so,A as Qa,aO as lo,aP as Wt,W as co,aQ as uo,au as vo,m as $a,b as ua,aR as fo,ap as en,n as va,e as bo,aS as go,aT as po,aU as mo,aV as ho,aW as _o,aX as xo,aY as tn,a5 as rn,aZ as yo,a_ as wo,ao as ko,p as _e,i as ne,j as xe,l,s as h,k as c,t as re,a1 as ee,y as A,a6 as J,x as ot,a as wt,a0 as an,ai as sr}from"../chunks/DYfpOxOt.js";import{i as $}from"../chunks/xEz3P_EN.js";import{a as To}from"../chunks/WJx9tPvF.js";import{p as gt}from"../chunks/gm3-mW07.js";import{a1 as ur,a2 as Do,a3 as vr,a4 as Eo,a5 as Ao,a6 as nn,a7 as on,a8 as Oo,a9 as sn,aa as _t,ab as kt,ac as Io,ad as nt,ae as xt,af as ct,ag as Zt,ah as Xr,ai as Jr,aj as ln,ak as So,al as Co,am as jo,an as Mo,ao as Po,ap as No,aq as Ro,ar as Lo,as as Fo,at as Ta,au as Bo,av as zo,aw as Wo,ax as Go,ay as dn,az as Ho,aA as Vo,aB as Uo,aC as Da,aD as Ea,aE as cn,aF as Aa}from"../chunks/BTd4HADr.js";import{b as Ne,p as Oa}from"../chunks/BbpzfJQB.js";function He(e,t){return t}function Zo(e,t,r){for(var a=[],o=t.length,i,s=t.length,v=0;v<o;v++){let k=t[v];Xa(k,()=>{if(i){if(i.pending.delete(k),i.done.add(k),i.pending.size===0){var g=e.outrogroups;Qr(ca(i.done)),g.delete(i),g.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var f=a.length===0&&r!==null;if(f){var d=r,u=d.parentNode;oo(u),u.append(d),e.items.clear()}Qr(t,!f)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function Qr(e,t=!0){for(var r=0;r<e.length;r++)io(e[r],t)}var Ia;function De(e,t,r,a,o,i=null){var s=e,v=new Map,f=(t&Ja)!==0;if(f){var d=e;s=Be?Lr(Un(d)):d.appendChild(Rr())}Be&&Zn();var u=null,k=Yn(()=>{var x=r();return eo(x)?x:x==null?[]:ca(x)}),g,p=!0;function b(){_.fallback=u,Yo(_,g,s,t,a),u!==null&&(g.length===0?(u.f&at)===0?Ka(u):(u.f^=at,Vt(u,null,s)):Xa(u,()=>{u=null}))}var m=Vn(()=>{g=n(k);var x=g.length;let w=!1;if(Be){var T=qn(s)===Kn;T!==(x===0)&&(s=ya(),Lr(s),Fr(!1),w=!0)}for(var E=new Set,M=St,j=Qn(),y=0;y<x;y+=1){Be&&ir.nodeType===Xn&&ir.data===Jn&&(s=ir,w=!0,Fr(!1));var O=g[y],D=a(O,y),S=p?null:v.get(D);S?(S.v&&wa(S.v,O),S.i&&wa(S.i,y),j&&M.skipped_effects.delete(S.e)):(S=qo(v,p?s:Ia??=Rr(),O,D,y,o,t,r),p||(S.e.f|=at),v.set(D,S)),E.add(D)}if(x===0&&i&&!u&&(p?u=Kr(()=>i(s)):(u=Kr(()=>i(Ia??=Rr())),u.f|=at)),Be&&x>0&&Lr(ya()),!p)if(j){for(const[B,W]of v)E.has(B)||M.skipped_effects.add(W.e);M.oncommit(b),M.ondiscard(()=>{})}else b();w&&Fr(!0),n(k)}),_={effect:m,items:v,outrogroups:null,fallback:u};p=!1,Be&&(s=ir)}function Yo(e,t,r,a,o){var i=(a&so)!==0,s=t.length,v=e.items,f=e.effect.first,d,u=null,k,g=[],p=[],b,m,_,x;if(i)for(x=0;x<s;x+=1)b=t[x],m=o(b,x),_=v.get(m).e,(_.f&at)===0&&(_.nodes?.a?.measure(),(k??=new Set).add(_));for(x=0;x<s;x+=1){if(b=t[x],m=o(b,x),_=v.get(m).e,e.outrogroups!==null)for(const S of e.outrogroups)S.pending.delete(_),S.done.delete(_);if((_.f&at)!==0)if(_.f^=at,_===f)Vt(_,null,r);else{var w=u?u.next:f;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),it(e,u,_),it(e,_,w),Vt(_,w,r),u=_,g=[],p=[],f=u.next;continue}if((_.f&Br)!==0&&(Ka(_),i&&(_.nodes?.a?.unfix(),(k??=new Set).delete(_))),_!==f){if(d!==void 0&&d.has(_)){if(g.length<p.length){var T=p[0],E;u=T.prev;var M=g[0],j=g[g.length-1];for(E=0;E<g.length;E+=1)Vt(g[E],T,r);for(E=0;E<p.length;E+=1)d.delete(p[E]);it(e,M.prev,j.next),it(e,u,M),it(e,j,T),f=T,u=j,x-=1,g=[],p=[]}else d.delete(_),Vt(_,f,r),it(e,_.prev,_.next),it(e,_,u===null?e.effect.first:u.next),it(e,u,_),u=_;continue}for(g=[],p=[];f!==null&&f!==_;)(d??=new Set).add(f),p.push(f),f=f.next;if(f===null)continue}(_.f&at)===0&&g.push(_),u=_,f=_.next}if(e.outrogroups!==null){for(const S of e.outrogroups)S.pending.size===0&&(Qr(ca(S.done)),e.outrogroups?.delete(S));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||d!==void 0){var y=[];if(d!==void 0)for(_ of d)(_.f&Br)===0&&y.push(_);for(;f!==null;)(f.f&Br)===0&&f!==e.fallback&&y.push(f),f=f.next;var O=y.length;if(O>0){var D=(a&Ja)!==0&&s===0?r:null;if(i){for(x=0;x<O;x+=1)y[x].nodes?.a?.measure();for(x=0;x<O;x+=1)y[x].nodes?.a?.fix()}Zo(e,y,D)}}i&&qt(()=>{if(k!==void 0)for(_ of k)_.nodes?.a?.apply()})}function qo(e,t,r,a,o,i,s,v){var f=(s&to)!==0?(s&ro)===0?$n(r,!1,!1):ka(r):null,d=(s&ao)!==0?ka(o):null;return{v:f,i:d,e:Kr(()=>(i(t,f??r,d??o,v),()=>{e.delete(a)}))}}function Vt(e,t,r){if(e.nodes)for(var a=e.nodes.start,o=e.nodes.end,i=t&&(t.f&at)===0?t.nodes.start:r;a!==null;){var s=no(a);if(i.before(a),a===o)return;a=s}}function it(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const Ko=()=>performance.now(),rt={tick:e=>requestAnimationFrame(e),now:()=>Ko(),tasks:new Set};function un(){const e=rt.now();rt.tasks.forEach(t=>{t.c(e)||(rt.tasks.delete(t),t.f())}),rt.tasks.size!==0&&rt.tick(un)}function Xo(e){let t;return rt.tasks.size===0&&rt.tick(un),{promise:new Promise(r=>{rt.tasks.add(t={c:e,f:r})}),abort(){rt.tasks.delete(t)}}}function lr(e,t){en(()=>{e.dispatchEvent(new CustomEvent(t))})}function Jo(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Sa(e){const t={},r=e.split(";");for(const a of r){const[o,i]=a.split(":");if(!o||i===void 0)break;const s=Jo(o.trim());t[s]=i.trim()}return t}const Qo=e=>e;function Ft(e,t,r){var a=Qa,o=a.nodes,i,s,v,f=null;o.a??={element:e,measure(){i=this.element.getBoundingClientRect()},apply(){if(v?.abort(),s=this.element.getBoundingClientRect(),i.left!==s.left||i.right!==s.right||i.top!==s.top||i.bottom!==s.bottom){const d=t()(this.element,{from:i,to:s},r?.());v=gr(this.element,d,void 0,1,()=>{v?.abort(),v=void 0})}},fix(){if(!e.getAnimations().length){var{position:d,width:u,height:k}=getComputedStyle(e);if(d!=="absolute"&&d!=="fixed"){var g=e.style;f={position:g.position,width:g.width,height:g.height,transform:g.transform},g.position="absolute",g.width=u,g.height=k;var p=e.getBoundingClientRect();if(i.left!==p.left||i.top!==p.top){var b=`translate(${i.left-p.left}px, ${i.top-p.top}px)`;g.transform=g.transform?`${g.transform} ${b}`:b}}}},unfix(){if(f){var d=e.style;d.position=f.position,d.width=f.width,d.height=f.height,d.transform=f.transform}}},o.a.element=e}function Ge(e,t,r,a){var o=(e&fo)!==0,i="both",s,v=t.inert,f=t.style.overflow,d,u;function k(){return en(()=>s??=r()(t,a?.()??{},{direction:i}))}var g={is_global:o,in(){t.inert=v,lr(t,"introstart"),d=gr(t,k(),u,1,()=>{lr(t,"introend"),d?.abort(),d=s=void 0,t.style.overflow=f})},out(_){t.inert=!0,lr(t,"outrostart"),u=gr(t,k(),d,0,()=>{lr(t,"outroend"),_?.()})},stop:()=>{d?.abort(),u?.abort()}},p=Qa;if((p.nodes.t??=[]).push(g),Hn){var b=o;if(!b){for(var m=p.parent;m&&(m.f&co)!==0;)for(;(m=m.parent)&&(m.f&uo)===0;);b=!m||(m.f&vo)!==0}b&&$a(()=>{ua(()=>g.in())})}}function gr(e,t,r,a,o){var i=a===1;if(lo(t)){var s,v=!1;return qt(()=>{if(!v){var _=t({direction:i?"in":"out"});s=gr(e,_,r,a,o)}}),{abort:()=>{v=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return o(),{abort:Wt,deactivate:Wt,reset:Wt,t:()=>a};const{delay:f=0,css:d,tick:u,easing:k=Qo}=t;var g=[];if(i&&r===void 0&&(u&&u(0,1),d)){var p=Sa(d(0,1));g.push(p,p)}var b=()=>1-a,m=e.animate(g,{duration:f,fill:"forwards"});return m.onfinish=()=>{m.cancel();var _=r?.t()??1-a;r?.abort();var x=a-_,w=t.duration*Math.abs(x),T=[];if(w>0){var E=!1;if(d)for(var M=Math.ceil(w/16.666666666666668),j=0;j<=M;j+=1){var y=_+x*k(j/M),O=Sa(d(y,1-y));T.push(O),E||=O.overflow==="hidden"}E&&(e.style.overflow="hidden"),b=()=>{var D=m.currentTime;return _+x*k(D/w)},u&&Xo(()=>{if(m.playState!=="running")return!1;var D=b();return u(D,1-D),!0})}m=e.animate(T,{duration:w,fill:"forwards"}),m.onfinish=()=>{b=()=>a,u?.(a,1-a),o()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Wt)},deactivate:()=>{o=Wt},reset:()=>{a===0&&u?.(1,0)},t:()=>b()}}function fa(e,t,r){$a(()=>{var a=ua(()=>t(e,r?.())||{});if(r&&a?.update){var o=!1,i={};va(()=>{var s=r();bo(s),o&&go(i,s)&&(i=s,a.update(s))}),o=!0}if(a?.destroy)return()=>a.destroy()})}const Ca=[...` 	
\r\fÂ \v\uFEFF`];function $o(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var o in r)if(r[o])a=a?a+" "+o:o;else if(a.length)for(var i=o.length,s=0;(s=a.indexOf(o,s))>=0;){var v=s+i;(s===0||Ca.includes(a[s-1]))&&(v===a.length||Ca.includes(a[v]))?a=(s===0?"":a.substring(0,s))+a.substring(v+1):s=v}}return a===""?null:a}function ja(e,t=!1){var r=t?" !important;":";",a="";for(var o in e){var i=e[o];i!=null&&i!==""&&(a+=" "+o+": "+i+r)}return a}function zr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function ei(e,t){if(t){var r="",a,o;if(Array.isArray(t)?(a=t[0],o=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,v=!1,f=[];a&&f.push(...Object.keys(a).map(zr)),o&&f.push(...Object.keys(o).map(zr));var d=0,u=-1;const m=e.length;for(var k=0;k<m;k++){var g=e[k];if(v?g==="/"&&e[k-1]==="*"&&(v=!1):i?i===g&&(i=!1):g==="/"&&e[k+1]==="*"?v=!0:g==='"'||g==="'"?i=g:g==="("?s++:g===")"&&s--,!v&&i===!1&&s===0){if(g===":"&&u===-1)u=k;else if(g===";"||k===m-1){if(u!==-1){var p=zr(e.substring(d,u).trim());if(!f.includes(p)){g!==";"&&k++;var b=e.substring(d,k).trim();r+=" "+b+";"}}d=k+1,u=-1}}}}return a&&(r+=ja(a)),o&&(r+=ja(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function Q(e,t,r,a,o,i){var s=e.__className;if(Be||s!==r||s===void 0){var v=$o(r,a,i);(!Be||v!==e.getAttribute("class"))&&(v==null?e.removeAttribute("class"):e.className=v),e.__className=r}else if(i&&o!==i)for(var f in i){var d=!!i[f];(o==null||d!==!!o[f])&&e.classList.toggle(f,d)}return i}function Wr(e,t={},r,a){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,a))}}function ba(e,t,r,a){var o=e.__style;if(Be||o!==t){var i=ei(t,a);(!Be||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else a&&(Array.isArray(a)?(Wr(e,r?.[0],a[0]),Wr(e,r?.[1],a[1],"important")):Wr(e,r,a));return a}const ti=Symbol("is custom element"),ri=Symbol("is html");function Ye(e){if(Be){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;$r(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var o=e.checked;$r(e,"checked",null),e.checked=o}}};e.__on_r=r,qt(r),po()}}function ai(e,t){var r=vn(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function $r(e,t,r,a){var o=vn(e);Be&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="loading"&&(e[mo]=r),r==null?e.removeAttribute(t):typeof r!="string"&&ni(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function vn(e){return e.__attributes??={[ti]:e.nodeName.includes("-"),[ri]:e.namespaceURI===ho}}var Ma=new Map;function ni(e){var t=e.getAttribute("is")||e.nodeName,r=Ma.get(t);if(r)return r;Ma.set(t,r=[]);for(var a,o=e,i=Element.prototype;i!==o;){a=xo(o);for(var s in a)a[s].set&&r.push(s);o=_o(o)}return r}function Tr(e,t,r=t){var a=new WeakSet;tn(e,"input",async o=>{var i=o?e.defaultValue:e.value;if(i=Hr(e)?Vr(i):i,r(i),St!==null&&a.add(St),await rn(),i!==(i=t())){var s=e.selectionStart,v=e.selectionEnd,f=e.value.length;if(e.value=i??"",v!==null){var d=e.value.length;s===v&&v===f&&d>f?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=s,e.selectionEnd=Math.min(v,d))}}}),(Be&&e.defaultValue!==e.value||ua(t)==null&&e.value)&&(r(Hr(e)?Vr(e.value):e.value),St!==null&&a.add(St)),va(()=>{var o=t();if(e===document.activeElement){var i=yo??St;if(a.has(i))return}Hr(e)&&o===Vr(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const Gr=new Set;function Ct(e,t,r,a,o=a){var i=r.getAttribute("type")==="checkbox",s=e;let v=!1;if(t!==null)for(var f of t)s=s[f]??=[];s.push(r),tn(r,"change",()=>{var d=r.__value;i&&(d=Pa(s,d,r.checked)),o(d)},()=>o(i?[]:null)),va(()=>{var d=a();if(Be&&r.defaultChecked!==r.checked){v=!0;return}i?(d=d||[],r.checked=d.includes(r.__value)):r.checked=wo(r.__value,d)}),ko(()=>{var d=s.indexOf(r);d!==-1&&s.splice(d,1)}),Gr.has(s)||(Gr.add(s),qt(()=>{s.sort((d,u)=>d.compareDocumentPosition(u)===4?-1:1),Gr.delete(s)})),qt(()=>{if(v){var d;if(i)d=Pa(s,d,r.checked);else{var u=s.find(k=>k.checked);d=u?.__value}o(d)}})}function Pa(e,t,r){for(var a=new Set,o=0;o<e.length;o+=1)e[o].checked&&a.add(e[o].__value);return r||a.delete(t),Array.from(a)}function Hr(e){var t=e.type;return t==="number"||t==="range"}function Vr(e){return e===""?null:+e}const Ur={regular:{sev1:"I do this because it's who I am",sev2:"I do this to become better",sev3:"I do this because I enjoy it"},maintenance:{sev1:"Life breaks without this",sev2:"Keeps things running smooth",sev3:"Can wait or be skipped"}},oi={regular:{sev1:"Core",sev2:"Growth",sev3:"Enrichment"},maintenance:{sev1:"Essential",sev2:"Routine",sev3:"Optional"}},ii=["ðŸ’¼","ðŸ“Š","ðŸ“ˆ","ðŸ“‹","ðŸ“","ðŸ—‚ï¸","ðŸ“Œ","ðŸŽ¯","ðŸ ","ðŸ¡","ðŸ›‹ï¸","ðŸ§¹","ðŸ³","ðŸ›’","ðŸ§º","ðŸª´","ðŸ’ª","ðŸƒ","ðŸ‹ï¸","ðŸ§˜","ðŸš´","ðŸŠ","âš½","ðŸŽ¾","ðŸ“š","ðŸŽ“","ðŸ“–","âœï¸","ðŸ”¬","ðŸ§ª","ðŸŒ","ðŸ’¡","ðŸ’°","ðŸ’µ","ðŸ¦","ðŸ’³","ðŸ“‰","ðŸª™","ðŸ’Ž","ðŸ§","â¤ï¸","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ‘¥","ðŸ’‘","ðŸ‘¶","ðŸ•","ðŸˆ","ðŸŽ¨","ðŸŽµ","ðŸŽ¸","ðŸŽ¹","ðŸ“¸","ðŸŽ¬","ðŸŽ­","âœï¸","ðŸ’»","ðŸ“±","ðŸ–¥ï¸","âŒ¨ï¸","ðŸ”§","âš™ï¸","ðŸ¤–","ðŸŽ®","âœˆï¸","ðŸš—","ðŸš€","ðŸ—ºï¸","ðŸ–ï¸","â›°ï¸","ðŸ•ï¸","ðŸŒ…","ðŸ§ ","ðŸŒ±","â˜€ï¸","ðŸŒ¸","ðŸ¦‹","ðŸŒˆ","âœ¨","ðŸ’«","ðŸŽ","ðŸ¥—","ðŸ¥‘","ðŸ³","â˜•","ðŸµ","ðŸ¥¤","ðŸ§ƒ","â­","ðŸ”¥","ðŸ†","ðŸ¥‡","ðŸŽ–ï¸","ðŸ…","ðŸ‘‘","ðŸ’¯","ðŸ“","ðŸ—“ï¸","â°","ðŸ””","ðŸ’¬","ðŸ“§","ðŸŽ","ðŸŽ‰"];var si=N('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),li=N('<button><span class="text-xl"> </span> <span class="text-xs font-medium"> </span></button>'),di=N('<nav class="md:hidden pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav> <nav class="hidden md:flex fixed left-0 top-0 bottom-0 w-20 bg-base-200 border-r border-base-content/10 flex-col items-center py-6 gap-2"></nav>',1);function ci(e,t){_e(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var a=di(),o=ne(a);De(o,21,()=>r,He,(s,v)=>{var f=si();let d;f.__click=()=>t.onTabChange(n(v).id);let u;var k=c(f),g=c(k,!0);l(k);var p=h(k,2),b=c(p,!0);l(p),l(f),re(()=>{d=Q(f,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,d,{"text-primary":t.activeTab===n(v).id,"text-base-content":t.activeTab!==n(v).id}),u=ba(f,"",u,{opacity:t.activeTab===n(v).id?1:.4}),F(g,n(v).icon),F(b,n(v).label)}),I(s,f)}),l(o);var i=h(o,2);De(i,21,()=>r,He,(s,v)=>{var f=li();f.__click=()=>t.onTabChange(n(v).id);var d=c(f),u=c(d,!0);l(d);var k=h(d,2),g=c(k,!0);l(k),l(f),re(()=>{Q(f,1,`flex flex-col ${t.activeTab==n(v).id?"bg-primary/20 text-primary":"text-base-content "} items-center gap-1 px-3 py-3 rounded-lg transition-colors w-16 `),F(u,n(v).icon),F(g,n(v).label)}),I(s,f)}),l(i),I(e,a),xe()}we(["click"]);const ui=e=>e;function vi(e){const t=e-1;return t*t*t+1}function Na(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Tt(e,{delay:t=0,duration:r=400,easing:a=ui}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:i=>`opacity: ${i*o}`}}function Dt(e,{delay:t=0,duration:r=400,easing:a=vi,x:o=0,y:i=0,opacity:s=0}={}){const v=getComputedStyle(e),f=+v.opacity,d=v.transform==="none"?"":v.transform,u=f*(1-s),[k,g]=Na(o),[p,b]=Na(i);return{delay:t,duration:r,easing:a,css:(m,_)=>`
			transform: ${d} translate(${(1-m)*k}${g}, ${(1-m)*p}${b});
			opacity: ${f-u*_}`}}var fi=N('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),bi=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function gi(e,t){_e(t,!0);let r=ee(!1),a=ee(null);function o(p,b){p.stopPropagation(),A(a,b,!0),A(r,!0)}function i(){A(r,!1),A(a,null)}function s(){return Ao(t.currentWeekOf).map(p=>({date:p,dayName:on(p),isToday:nn(p)}))}async function v(p){if(!n(a))return;const b=n(a);i();const m=t.isTaskAssignedToDay(b.id);b.type==="oneoff"?m===p?await ur(b.id,t.currentWeekOf,p):(m&&await ur(b.id,t.currentWeekOf,m),await Do(b.id,b.areaId,b.name,b.status,t.currentWeekOf,p)):m===p?await vr(b.id,b.projectId,t.currentWeekOf,p):(m&&await vr(b.id,b.projectId,t.currentWeekOf,m),await Eo(b.id,b.projectId,b.areaId,b.name,b.status,t.currentWeekOf,p,!1))}async function f(){if(!n(a))return;const p=n(a),b=t.isTaskAssignedToDay(p.id);b&&(p.type==="oneoff"?await ur(p.id,t.currentWeekOf,b):await vr(p.id,p.projectId,t.currentWeekOf,b)),i()}var d={openDayPicker:o},u=fe(),k=ne(u);{var g=p=>{var b=bi(),m=c(b);m.__click=i,m.__keydown=D=>D.key==="Escape"&&i();var _=h(m,2),x=c(_),w=c(x),T=h(c(w),2),E=c(T,!0);l(T),l(w);var M=h(w,2);M.__click=i,l(x);var j=h(x,2);De(j,21,s,He,(D,S)=>{const B=J(()=>t.isTaskAssignedToDay(n(a).id)===n(S).date);var W=fi();W.__click=()=>v(n(S).date);var Y=c(W),L=c(Y,!0);l(Y);var K=h(Y,2),R=c(K,!0);l(K),l(W),re(V=>{Q(W,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${n(B)?"bg-primary/10 text-primary border-primary":n(S).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),F(L,n(S).dayName),F(R,V)},[()=>n(S).date.split("-")[2]]),I(D,W)}),l(j);var y=h(j,2),O=c(y);O.__click=f,l(y),l(_),l(b),re(()=>F(E,n(a).name)),Ge(3,m,()=>Tt,()=>({duration:200})),Ge(3,_,()=>Dt,()=>({y:300,duration:300})),I(p,b)};$(k,p=>{n(r)&&n(a)&&p(g)})}return I(e,u),xe(d)}we(["click","keydown"]);function Ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ra(Object(r),!0).forEach(function(a){Nt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ra(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jt(e){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function Nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pi(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,i;for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function mi(e,t){if(e==null)return{};var r=pi(e,t),a,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function hi(e,t){return xi(e)||wi(e,t)||ga(e,t)||Ti()}function Ue(e){return _i(e)||yi(e)||ga(e)||ki()}function _i(e){if(Array.isArray(e))return ea(e)}function xi(e){if(Array.isArray(e))return e}function yi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wi(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],o=!0,i=!1,s,v;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));o=!0);}catch(f){i=!0,v=f}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw v}}return a}}function ga(e,t){if(e){if(typeof e=="string")return ea(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ea(e,t)}}function ea(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ki(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ti(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ga(e))||t){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(f){throw f},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,v;return{s:function(){r=r.call(e)},n:function(){var f=r.next();return i=f.done,f},e:function(f){s=!0,v=f},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(s)throw v}}}}var Di="finalize",Ei="consider";function Rt(e,t,r){e.dispatchEvent(new CustomEvent(Di,{detail:{items:t,info:r}}))}function ut(e,t,r){e.dispatchEvent(new CustomEvent(Ei,{detail:{items:t,info:r}}))}var Dr="draggedEntered",$t="draggedLeft",Er="draggedOverIndex",pa="draggedLeftDocument",mr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Ai(e,t,r){e.dispatchEvent(new CustomEvent(Dr,{detail:{indexObj:t,draggedEl:r}}))}function Oi(e,t,r){e.dispatchEvent(new CustomEvent($t,{detail:{draggedEl:t,type:mr.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Ii(e,t){e.dispatchEvent(new CustomEvent($t,{detail:{draggedEl:t,type:mr.OUTSIDE_OF_ANY}}))}function Si(e,t,r){e.dispatchEvent(new CustomEvent(Er,{detail:{indexObj:t,draggedEl:r}}))}function Ci(e){window.dispatchEvent(new CustomEvent(pa,{detail:{draggedEl:e}}))}var Re={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Dr,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Er,DRAGGED_LEFT:$t,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},We={POINTER:"pointer",KEYBOARD:"keyboard"},Ar="isDndShadowItem",Or="data-is-dnd-shadow-item-internal",ji="data-is-dnd-shadow-item-hint",fn="id:dnd-shadow-placeholder-0000",Mi="dnd-action-dragged-el",Te="id",ta=0;function bn(){ta++}function gn(){if(ta===0)throw new Error("Bug! trying to decrement when there are no dropzones");ta--}var ma=typeof window>"u";function ra(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?Ri(e):e.getBoundingClientRect(),o=getComputedStyle(e),i=o.transform;if(i){var s,v,f,d;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],v=+r[5],f=+r[12],d=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],v=+r[3],f=+r[4],d=+r[5];else return a;var u=o.transformOrigin,k=a.x-f-(1-s)*parseFloat(u),g=a.y-d-(1-v)*parseFloat(u.slice(u.indexOf(" ")+1)),p=s?a.width/s:e.offsetWidth,b=v?a.height/v:e.offsetHeight;return{x:k,y:g,width:p,height:b,top:g,right:k+p,bottom:g+b,left:k}}else return a}function pn(e){var t=ra(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function mn(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function hn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Pi(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ir(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Kt(e){return hn(mn(e))}function La(e,t){var r=Kt(e),a=pn(t);return Ir(r,a)}function Fa(e,t){var r=Kt(e),a=Kt(t);return Pi(r,a)}function Ni(e){var t=mn(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Ri(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,o=!1,i=e.parentElement;i&&i!==document.body;){var s=window.getComputedStyle(i),v=s.overflowY,f=s.overflowX,d=v==="scroll"||v==="auto",u=f==="scroll"||f==="auto";if(d||u){var k=i.getBoundingClientRect();if(d){var g=Math.max(r.top,k.top),p=Math.min(r.bottom,k.bottom);(g!==r.top||p!==r.bottom)&&(a=!0),r.top=g,r.bottom=p}if(u){var b=Math.max(r.left,k.left),m=Math.min(r.right,k.right);(b!==r.left||m!==r.right)&&(o=!0),r.left=b,r.right=m}}i=i.parentElement}return a||o?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Mt;function ha(){Mt=new Map}ha();function Li(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Or)});if(t>=0)return Mt.has(e)||Mt.set(e,new Map),Mt.get(e).set(t,pn(e.children[t])),t}function Fi(e,t){if(!La(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=Li(t),o=0;o<r.length;o++)if(La(e,r[o])){var i=Mt.has(t)&&Mt.get(t).get(o);return i&&!Ir(Kt(e),i)?{index:a,isProximityBased:!1}:{index:o,isProximityBased:!1}}for(var s=Number.MAX_VALUE,v=void 0,f=0;f<r.length;f++){var d=Fa(e,r[f]);d<s&&(s=d,v=f)}if(r.length>0){var u=r.length,k=r[u-1],g=k.cloneNode(!1);g.style.visibility="hidden",g.style.pointerEvents="none",t.appendChild(g);var p=Fa(e,g);p<s&&(v=u),t.removeChild(g)}return{index:v,isProximityBased:!0}}function Gt(e){return JSON.stringify(e,null,2)}function hr(e){if(!e)throw new Error("cannot get depth of a falsy node");return _n(e,0)}function _n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?_n(e.parentElement,t+1):t-1}function Bi(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function zi(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Wi=200,Ba=10,aa;function Gi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wi,a=arguments.length>3?arguments[3]:void 0,o,i,s=!1,v,f=Array.from(t).sort(function(u,k){return hr(k)-hr(u)});function d(){var u=Kt(e),k=a.multiScrollIfNeeded();if(!k&&v&&Math.abs(v.x-u.x)<Ba&&Math.abs(v.y-u.y)<Ba){aa=window.setTimeout(d,r);return}if(Ni(e)){Ci(e);return}v=u;var g=!1,p=Qt(f),b;try{for(p.s();!(b=p.n()).done;){var m=b.value;k&&ha();var _=Fi(e,m);if(_!==null){var x=_.index;g=!0,m!==o?(o&&Oi(o,e,m),Ai(m,_,e),o=m):x!==i&&(Si(m,_,e),i=x);break}}}catch(w){p.e(w)}finally{p.f()}!g&&s&&o?(Ii(o,e),o=void 0,i=void 0,s=!1):s=!0,aa=window.setTimeout(d,r)}d()}function Hi(){clearTimeout(aa),ha()}var Ht=30;function Vi(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var s=e,v=s.directionObj,f=s.stepPx;v&&(i.scrollBy(v.x*f,v.y*f),window.requestAnimationFrame(function(){return r(i)}))}function a(i){return Ht-i}function o(i,s){if(!s)return!1;var v=Ui(i,s),f=!!e.directionObj;if(v===null)return f&&t(),!1;var d=!1,u=!1;return s.scrollHeight>s.clientHeight&&(v.bottom<Ht?(d=!0,e.directionObj={x:0,y:1},e.stepPx=a(v.bottom)):v.top<Ht&&(d=!0,e.directionObj={x:0,y:-1},e.stepPx=a(v.top)),!f&&d)||s.scrollWidth>s.clientWidth&&(v.right<Ht?(u=!0,e.directionObj={x:1,y:0},e.stepPx=a(v.right)):v.left<Ht&&(u=!0,e.directionObj={x:-1,y:0},e.stepPx=a(v.left)),!f&&u)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:o,resetScrolling:t}}function Ui(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Ir(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Zi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=qi(e),a=Array.from(r).sort(function(f,d){return hr(d)-hr(f)}),o=Vi(),i=o.scrollIfNeeded,s=o.resetScrolling;function v(){var f=t();if(!f||!a)return!1;for(var d=a.filter(function(g){return Ir(f,g.getBoundingClientRect())||g===document.scrollingElement}),u=0;u<d.length;u++){var k=i(f,d[u]);if(k)return!0}return!1}return{multiScrollIfNeeded:r.size>0?v:function(){return!1},destroy:function(){return s()}}}function Yi(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),o=a.overflow;o.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function qi(e){var t=new Set,r=Qt(e),a;try{for(r.s();!(a=r.n()).done;){var o=a.value;Yi(o).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Ki(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",o=a?[e]:Ue(e.querySelectorAll("select")),i=Qt(o),s;try{for(i.s();!(s=i.n()).done;){var v=s.value;r.push(v.value)}}catch(T){i.e(T)}finally{i.f()}if(o.length>0)for(var f=a?[t]:Ue(t.querySelectorAll("select")),d=0;d<f.length;d++){var u=f[d],k=r[d],g=u.querySelector('option[value="'.concat(k,'"'));g&&g.setAttribute("selected",!0)}var p=e.tagName==="CANVAS",b=p?[e]:Ue(e.querySelectorAll("canvas"));if(b.length>0)for(var m=p?[t]:Ue(t.querySelectorAll("canvas")),_=0;_<m.length;_++){var x=b[_],w=m[_];w.width=x.width,w.height=x.height,x.width>0&&x.height>0&&w.getContext("2d").drawImage(x,0,0)}return t}var Xt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Xi=Nt({},Xt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function xn(e){if(!Xt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Xt)));return Xi[e]}var Ji=.2;function pt(e){return"".concat(e," ").concat(Ji,"s ease")}function Qi(e,t){var r=e.getBoundingClientRect(),a=Ki(e);yn(e,a),a.id=Mi,a.style.position="fixed";var o=r.top,i=r.left;if(a.style.top="".concat(o,"px"),a.style.left="".concat(i,"px"),t){var s=hn(r);o-=s.y-t.y,i-=s.x-t.x,window.setTimeout(function(){a.style.top="".concat(o,"px"),a.style.left="".concat(i,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(pt("top"),", ").concat(pt("left"),", ").concat(pt("background-color"),", ").concat(pt("opacity"),", ").concat(pt("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(pt("width"),", ").concat(pt("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function $i(e){e.style.cursor="grab"}function es(e,t,r,a){yn(t,e);var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=o.width-i.width,v=o.height-i.height;if(s||v){var f={left:(r-i.left)/i.width,top:(a-i.top)/i.height};xn(Xt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(o.height,"px"),e.style.width="".concat(o.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-f.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-f.top*v,"px")}}function yn(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||xn(Xt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function ts(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function wn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function rs(e){e.style.visibility="hidden",e.setAttribute(Or,"true")}function as(e){e.style.visibility="",e.removeAttribute(Or)}function fr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var o=t(a);Object.keys(o).forEach(function(i){a.style[i]=o[i]}),r(a).forEach(function(i){return a.classList.add(i)})})}function _r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var o=t(a);Object.keys(o).forEach(function(i){a.style[i]=""}),r(a).forEach(function(i){return a.classList.contains(i)&&a.classList.remove(i)})})}function ns(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var os="--any--",is=100,ss=20,dr=3,ls=80,za={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Wa="data-is-dnd-original-dragged-item",Fe,Ie,ze,Sr,ve,Cr,dt,Ce,$e,Me,st=!1,_a=!1,xa,er=!1,br=[],Yt,et,Ut=!1,Ke=new Map,he=new Map,Zr=new WeakMap;function ds(e,t){Ke.has(t)||Ke.set(t,new Set),Ke.get(t).has(e)||(Ke.get(t).add(e),bn())}function Ga(e,t){Ke.get(t).delete(e),gn(),Ke.get(t).size===0&&Ke.delete(t)}function cs(){var e=Ke.get(Sr),t=Qt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(Dr,kn),a.addEventListener($t,Tn),a.addEventListener(Er,Dn)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(pa,Lt);var o=Math.max.apply(Math,Ue(Array.from(e.keys()).map(function(s){return he.get(s).dropAnimationDurationMs}))),i=o===0?ss:Math.max(o,is);Yt=Zi(e,function(){return Me}),Gi(Ie,e,i*1.07,Yt)}function us(){var e=Ke.get(Sr),t=Qt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(Dr,kn),a.removeEventListener($t,Tn),a.removeEventListener(Er,Dn)}}catch(o){t.e(o)}finally{t.f()}window.removeEventListener(pa,Lt),Yt&&(Yt.destroy(),Yt=void 0),Hi()}function jr(e){return e.findIndex(function(t){return!!t[Ar]})}function vs(e){var t;return pr(pr({},e),{},(t={},Nt(t,Ar,!0),Nt(t,Te,fn),t))}function kn(e){var t=he.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve)){if(er=!1,r=r.filter(function(v){return v[Te]!==dt[Te]&&v[Te]!==fn}),ve!==e.currentTarget){var o=he.get(ve).items,i=o.filter(function(v){return!v[Ar]});ut(ve,i,{trigger:Re.DRAGGED_ENTERED_ANOTHER,id:ze[Te],source:We.POINTER})}var s=e.detail.indexObj.index;Ce=e.currentTarget,r.splice(s,0,dt),ut(e.currentTarget,r,{trigger:Re.DRAGGED_ENTERED,id:ze[Te],source:We.POINTER})}}function Tn(e){if(st){var t=he.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve&&e.currentTarget!==Ce)){var o=Ue(r),i=jr(o);i!==-1&&o.splice(i,1);var s=Ce;Ce=void 0;var v=e.detail,f=v.type,d=v.theOtherDz;if(f===mr.OUTSIDE_OF_ANY||f===mr.LEFT_FOR_ANOTHER&&d!==ve&&he.get(d).dropFromOthersDisabled){er=!0,Ce=ve;var u=s===ve?o:Ue(he.get(ve).items);u.splice(Cr,0,dt),ut(ve,u,{trigger:Re.DRAGGED_LEFT_ALL,id:ze[Te],source:We.POINTER})}ut(e.currentTarget,o,{trigger:Re.DRAGGED_LEFT,id:ze[Te],source:We.POINTER})}}}function Dn(e){var t=he.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve)){var o=Ue(r);er=!1;var i=e.detail.indexObj.index,s=jr(o);s!==-1&&o.splice(s,1),o.splice(i,0,dt),ut(e.currentTarget,o,{trigger:Re.DRAGGED_OVER_INDEX,id:ze[Te],source:We.POINTER})}}function xr(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Me={x:t.clientX,y:t.clientY},Ie.style.transform="translate3d(".concat(Me.x-$e.x,"px, ").concat(Me.y-$e.y,"px, 0)")}function Lt(){_a=!0,window.removeEventListener("mousemove",xr),window.removeEventListener("touchmove",xr),window.removeEventListener("mouseup",Lt),window.removeEventListener("touchend",Lt),us(),$i(Ie),Ce||(Ce=ve);var e=he.get(Ce),t=e.items,r=e.type;_r(Ke.get(r),function(i){return he.get(i).dropTargetStyle},function(i){return he.get(i).dropTargetClasses});var a=jr(t);a===-1&&Ce===ve&&(a=Cr),t=t.map(function(i){return i[Ar]?ze:i});function o(){xa(),Rt(Ce,t,{trigger:er?Re.DROPPED_OUTSIDE_OF_ANY:Re.DROPPED_INTO_ZONE,id:ze[Te],source:We.POINTER}),Ce!==ve&&Rt(ve,he.get(ve).items,{trigger:Re.DROPPED_INTO_ANOTHER,id:ze[Te],source:We.POINTER});var i=Array.from(Ce.children).find(function(s){return s.getAttribute(Or)});i&&as(i),gs()}he.get(Ce).dropAnimationDisabled?o():fs(a,o)}function fs(e,t){var r=e>-1?ra(Ce.children[e],!1):ra(Ce,!1),a={x:r.left-parseFloat(Ie.style.left),y:r.top-parseFloat(Ie.style.top)},o=he.get(Ce),i=o.dropAnimationDurationMs,s="transform ".concat(i,"ms ease");Ie.style.transition=Ie.style.transition?Ie.style.transition+","+s:s,Ie.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,i)}function bs(e,t){br.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){wn(e),document.body.appendChild(e)})}function gs(){Ie&&Ie.remove&&Ie.remove(),Fe&&Fe.remove&&Fe.remove(),Ie=void 0,Fe=void 0,ze=void 0,Sr=void 0,ve=void 0,Cr=void 0,dt=void 0,Ce=void 0,$e=void 0,Me=void 0,st=!1,_a=!1,xa=void 0,er=!1,et&&clearTimeout(et),et=void 0,Ut=!1,br.length&&(br.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),br=[])}function ps(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:za,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},o=new Map;function i(){window.addEventListener("mousemove",f,{passive:!1}),window.addEventListener("touchmove",f,{passive:!1,capture:!1}),window.addEventListener("mouseup",v,{passive:!1}),window.addEventListener("touchend",v,{passive:!1})}function s(){window.removeEventListener("mousemove",f),window.removeEventListener("touchmove",f),window.removeEventListener("mouseup",v),window.removeEventListener("touchend",v),et&&(clearTimeout(et),et=void 0,Ut=!1)}function v(g){if(s(),Fe=void 0,$e=void 0,Me=void 0,g.type==="touchend"){var p=new Event("click",{bubbles:!0,cancelable:!0});g.target.dispatchEvent(p)}}function f(g){var p=!!g.touches,b=p?g.touches[0]:g;if(p&&a.delayTouchStartMs>0&&!Ut){Me={x:b.clientX,y:b.clientY},(Math.abs(Me.x-$e.x)>=dr||Math.abs(Me.y-$e.y)>=dr)&&(et&&(clearTimeout(et),et=void 0),v(g));return}g.preventDefault(),Me={x:b.clientX,y:b.clientY},(Math.abs(Me.x-$e.x)>=dr||Math.abs(Me.y-$e.y)>=dr)&&(s(),u())}function d(g){if(!(g.target!==g.currentTarget&&(g.target.value!==void 0||g.target.isContentEditable))&&!g.button&&!st){var p=!!g.touches,b=p&&a.delayTouchStartMs>0;b||g.preventDefault(),g.stopPropagation();var m=p?g.touches[0]:g;$e={x:m.clientX,y:m.clientY},Me=pr({},$e),Fe=g.currentTarget,b&&(Ut=!1,et=window.setTimeout(function(){Fe&&(Ut=!0,s(),u())},a.delayTouchStartMs)),i()}}function u(){st=!0;var g=o.get(Fe);Cr=g,ve=Fe.parentElement;var p=ve.closest("dialog")||ve.closest("[popover]")||ve.getRootNode(),b=p.body||p,m=a.items,_=a.type,x=a.centreDraggedOnCursor,w=Ue(m);ze=w[g],Sr=_,dt=vs(ze),Ie=Qi(Fe,x&&Me),b.appendChild(Ie);function T(){Fe.parentElement?window.requestAnimationFrame(T):(Fe.setAttribute(Wa,!0),b.appendChild(Fe),cs(),wn(Fe),dt[Te]=ze[Te],Ie.focus())}window.requestAnimationFrame(T),fr(Array.from(Ke.get(a.type)).filter(function(E){return E===ve||!he.get(E).dropFromOthersDisabled}),function(E){return he.get(E).dropTargetStyle},function(E){return he.get(E).dropTargetClasses}),w.splice(g,1,dt),xa=ns(ve),ut(ve,w,{trigger:Re.DRAG_STARTED,id:ze[Te],source:We.POINTER}),window.addEventListener("mousemove",xr,{passive:!1}),window.addEventListener("touchmove",xr,{passive:!1,capture:!1}),window.addEventListener("mouseup",Lt,{passive:!1}),window.addEventListener("touchend",Lt,{passive:!1})}function k(g){var p=g.items,b=p===void 0?void 0:p,m=g.flipDurationMs,_=m===void 0?0:m,x=g.type,w=x===void 0?os:x,T=g.dragDisabled,E=T===void 0?!1:T,M=g.morphDisabled,j=M===void 0?!1:M,y=g.dropFromOthersDisabled,O=y===void 0?!1:y,D=g.dropTargetStyle,S=D===void 0?za:D,B=g.dropTargetClasses,W=B===void 0?[]:B,Y=g.transformDraggedElement,L=Y===void 0?function(){}:Y,K=g.centreDraggedOnCursor,R=K===void 0?!1:K,V=g.dropAnimationDisabled,q=V===void 0?!1:V,P=g.delayTouchStart,G=P===void 0?!1:P;a.dropAnimationDurationMs=_;var C=0;G===!0?C=ls:typeof G=="number"&&isFinite(G)&&G>=0&&(C=G),a.delayTouchStartMs=C,a.type&&w!==a.type&&Ga(e,a.type),a.type=w,a.items=Ue(b),a.dragDisabled=E,a.morphDisabled=j,a.transformDraggedElement=L,a.centreDraggedOnCursor=R,a.dropAnimationDisabled=q,r&&st&&!_a&&(!Bi(S,a.dropTargetStyle)||!zi(W,a.dropTargetClasses))&&(_r([e],function(){return a.dropTargetStyle},function(){return W}),fr([e],function(){return S},function(){return W})),a.dropTargetStyle=S,a.dropTargetClasses=Ue(W);function z(H,se){return he.get(H)?he.get(H)[se]:a[se]}r&&st&&a.dropFromOthersDisabled!==O&&(O?_r([e],function(H){return z(H,"dropTargetStyle")},function(H){return z(H,"dropTargetClasses")}):fr([e],function(H){return z(H,"dropTargetStyle")},function(H){return z(H,"dropTargetClasses")})),a.dropFromOthersDisabled=O,he.set(e,a),ds(e,w);for(var U=st?jr(a.items):-1,X=0;X<e.children.length;X++){var te=e.children[X];if(ts(te,E),X===U){j||es(Ie,te,Me.x,Me.y),a.transformDraggedElement(Ie,ze,X),rs(te);continue}te.removeEventListener("mousedown",Zr.get(te)),te.removeEventListener("touchstart",Zr.get(te)),E||(te.addEventListener("mousedown",d),te.addEventListener("touchstart",d),Zr.set(te,d)),o.set(te,X),r||(r=!0)}}return k(t),{update:function(p){k(p)},destroy:function(){function p(){Ga(e,he.get(e).type),he.delete(e)}st&&!e.closest("[".concat(Wa,"]"))?bs(e,p):p()}}}var cr,na={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},En=(cr={},Nt(cr,na.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Nt(cr,na.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),cr),ms="dnd-action-aria-alert",ye;function oa(){ye||(ye=document.createElement("div"),(function(){ye.id=ms,ye.style.position="fixed",ye.style.bottom="0",ye.style.left="0",ye.style.zIndex="-5",ye.style.opacity="0",ye.style.height="0",ye.style.width="0",ye.setAttribute("role","alert")})(),document.body.prepend(ye),Object.entries(En).forEach(function(e){var t=hi(e,2),r=t[0],a=t[1];return document.body.prepend(xs(r,a))}))}function hs(){return ma?null:(document.readyState==="complete"?oa():window.addEventListener("DOMContentLoaded",oa),pr({},na))}function _s(){ma||!ye||(Object.keys(En).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),ye.remove(),ye=void 0)}function xs(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Pt(e){if(!ma){ye||oa(),ye.innerHTML="";var t=document.createTextNode(e);ye.appendChild(t),ye.style.display="none",ye.style.display="inline"}}var ys="--any--",Ha={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ve=!1,ia,Pe,yt="",mt,tt,lt="",yr=new WeakSet,Va=new WeakMap,Ua=new WeakMap,sa=new Map,Se=new Map,qe=new Map,wr;function ws(e,t){qe.size===0&&(wr=hs(),window.addEventListener("keydown",An),window.addEventListener("click",On)),qe.has(t)||qe.set(t,new Set),qe.get(t).has(e)||(qe.get(t).add(e),bn())}function Za(e,t){Pe===e&&Jt(),qe.get(t).delete(e),gn(),qe.get(t).size===0&&qe.delete(t),qe.size===0&&(window.removeEventListener("keydown",An),window.removeEventListener("click",On),wr=void 0,_s())}function An(e){if(Ve)switch(e.key){case"Escape":{Jt();break}}}function On(){Ve&&(yr.has(document.activeElement)||Jt())}function ks(e){if(Ve){var t=e.currentTarget;if(t!==Pe){yt=t.getAttribute("aria-label")||"";var r=Se.get(Pe),a=r.items,o=a.find(function(k){return k[Te]===tt}),i=a.indexOf(o),s=a.splice(i,1)[0],v=Se.get(t),f=v.items,d=v.autoAriaDisabled;t.getBoundingClientRect().top<Pe.getBoundingClientRect().top||t.getBoundingClientRect().left<Pe.getBoundingClientRect().left?(f.push(s),d||Pt("Moved item ".concat(lt," to the end of the list ").concat(yt))):(f.unshift(s),d||Pt("Moved item ".concat(lt," to the beginning of the list ").concat(yt)));var u=Pe;Rt(u,a,{trigger:Re.DROPPED_INTO_ANOTHER,id:tt,source:We.KEYBOARD}),Rt(t,f,{trigger:Re.DROPPED_INTO_ZONE,id:tt,source:We.KEYBOARD}),Pe=t}}}function In(){sa.forEach(function(e,t){var r=e.update;return r(Se.get(t))})}function Jt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Se.get(Pe).autoAriaDisabled||Pt("Stopped dragging item ".concat(lt)),yr.has(document.activeElement)&&document.activeElement.blur(),e&&ut(Pe,Se.get(Pe).items,{trigger:Re.DRAG_STOPPED,id:tt,source:We.KEYBOARD}),_r(qe.get(ia),function(t){return Se.get(t).dropTargetStyle},function(t){return Se.get(t).dropTargetClasses}),mt=null,tt=null,lt="",ia=null,Pe=null,yt="",Ve=!1,In()}function Ts(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ha,dropTargetClasses:[],autoAriaDisabled:!1};function a(u,k,g){u.length<=1||u.splice(g,1,u.splice(k,1,u[g])[0])}function o(u){switch(u.key){case"Enter":case" ":{if((u.target.disabled!==void 0||u.target.href||u.target.isContentEditable)&&!yr.has(u.target))return;u.preventDefault(),u.stopPropagation(),Ve?Jt():i(u);break}case"ArrowDown":case"ArrowRight":{if(!Ve)return;u.preventDefault(),u.stopPropagation();var k=Se.get(e),g=k.items,p=Array.from(e.children),b=p.indexOf(u.currentTarget);b<p.length-1&&(r.autoAriaDisabled||Pt("Moved item ".concat(lt," to position ").concat(b+2," in the list ").concat(yt)),a(g,b,b+1),Rt(e,g,{trigger:Re.DROPPED_INTO_ZONE,id:tt,source:We.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Ve)return;u.preventDefault(),u.stopPropagation();var m=Se.get(e),_=m.items,x=Array.from(e.children),w=x.indexOf(u.currentTarget);w>0&&(r.autoAriaDisabled||Pt("Moved item ".concat(lt," to position ").concat(w," in the list ").concat(yt)),a(_,w,w-1),Rt(e,_,{trigger:Re.DROPPED_INTO_ZONE,id:tt,source:We.KEYBOARD}));break}}}function i(u){v(u.currentTarget),Pe=e,ia=r.type,Ve=!0;var k=Array.from(qe.get(r.type)).filter(function(p){return p===Pe||!Se.get(p).dropFromOthersDisabled});if(fr(k,function(p){return Se.get(p).dropTargetStyle},function(p){return Se.get(p).dropTargetClasses}),!r.autoAriaDisabled){var g="Started dragging item ".concat(lt,". Use the arrow keys to move it within its list ").concat(yt);k.length>1&&(g+=", or tab to another list in order to move the item into it"),Pt(g)}ut(e,Se.get(e).items,{trigger:Re.DRAG_STARTED,id:tt,source:We.KEYBOARD}),In()}function s(u){Ve&&u.currentTarget!==mt&&(u.stopPropagation(),Jt(!1),i(u))}function v(u){var k=Se.get(e),g=k.items,p=Array.from(e.children),b=p.indexOf(u);mt=u,mt.tabIndex=r.zoneItemTabIndex,tt=g[b][Te],lt=p[b].getAttribute("aria-label")||""}function f(u){var k=u.items,g=k===void 0?[]:k,p=u.type,b=p===void 0?ys:p,m=u.dragDisabled,_=m===void 0?!1:m,x=u.zoneTabIndex,w=x===void 0?0:x,T=u.zoneItemTabIndex,E=T===void 0?0:T,M=u.dropFromOthersDisabled,j=M===void 0?!1:M,y=u.dropTargetStyle,O=y===void 0?Ha:y,D=u.dropTargetClasses,S=D===void 0?[]:D,B=u.autoAriaDisabled,W=B===void 0?!1:B;r.items=Ue(g),r.dragDisabled=_,r.dropFromOthersDisabled=j,r.zoneTabIndex=w,r.zoneItemTabIndex=E,r.dropTargetStyle=O,r.dropTargetClasses=S,r.autoAriaDisabled=W,r.type&&b!==r.type&&Za(e,r.type),r.type=b,ws(e,b),W||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",_?wr.DND_ZONE_DRAG_DISABLED:wr.DND_ZONE_ACTIVE)),Se.set(e,r),Ve?e.tabIndex=e===Pe||mt.contains(e)||r.dropFromOthersDisabled||Pe&&r.type!==Se.get(Pe).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",ks);for(var Y=function(R){var V=e.children[R];yr.add(V),V.tabIndex=Ve?-1:r.zoneItemTabIndex,W||V.setAttribute("role","listitem"),V.removeEventListener("keydown",Va.get(V)),V.removeEventListener("click",Ua.get(V)),_||(V.addEventListener("keydown",o),Va.set(V,o),V.addEventListener("click",s),Ua.set(V,s)),Ve&&r.items[R][Te]===tt&&(mt=V,mt.tabIndex=r.zoneItemTabIndex,V.focus())},L=0;L<e.children.length;L++)Y(L)}f(t);var d={update:function(k){f(k)},destroy:function(){Za(e,r.type),Se.delete(e),sa.delete(e)}};return sa.set(e,d),d}var Ds=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function Sn(e,t){if(Es(e))return{update:function(){},destroy:function(){}};Ya(t);var r=ps(e,t),a=Ts(e,t);return{update:function(i){Ya(i),r.update(i),a.update(i)},destroy:function(){r.destroy(),a.destroy()}}}function Es(e){return!!e.closest("[".concat(ji,'="true"]'))}function Ya(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var o=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var i=e.delayTouchStart;e.dropAnimationDisabled;var s=mi(e,Ds);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var v=t.find(function(u){return!{}.hasOwnProperty.call(u,Te)});if(v)throw new Error("missing '".concat(Te,"' property for item ").concat(Gt(v)));if(o&&!Array.isArray(o))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(jt(o),", ").concat(Gt(o)));if(r&&!qa(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(jt(r),", ").concat(Gt(r)));if(a&&!qa(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(jt(a),", ").concat(Gt(a)));if(i!==void 0&&i!==!1){var f=i===!0,d=typeof i=="number"&&isFinite(i)&&i>=0;if(!f&&!d)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(jt(i),", ").concat(Gt(i)))}}function qa(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function As(e){const t=e-1;return t*t*t+1}function Mr(e){return--e*e*e*e*e+1}function Bt(e,{from:t,to:r},a={}){var{delay:o=0,duration:i=j=>Math.sqrt(j)*120,easing:s=As}=a,v=getComputedStyle(e),f=v.transform==="none"?"":v.transform,[d,u]=v.transformOrigin.split(" ").map(parseFloat);d/=e.clientWidth,u/=e.clientHeight;var k=Os(e),g=e.clientWidth/r.width/k,p=e.clientHeight/r.height/k,b=t.left+t.width*d,m=t.top+t.height*u,_=r.left+r.width*d,x=r.top+r.height*u,w=(b-_)*g,T=(m-x)*p,E=t.width/r.width,M=t.height/r.height;return{delay:o,duration:typeof i=="function"?i(Math.sqrt(w*w+T*T)):i,easing:s,css:(j,y)=>{var O=y*w,D=y*T,S=j+y*E,B=j+y*M;return`transform: ${f} translate(${O}px, ${D}px) scale(${S}, ${B});`}}}function Os(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var Is=N("<span> </span>");function kr(e,t){_e(t,!0);const r={regular:{sev1:"bg-purple-500/20 text-purple-400",sev2:"bg-teal-500/20 text-teal-400",sev3:"bg-sky-500/20 text-sky-400"},maintenance:{sev1:"bg-rose-400/20 text-rose-400",sev2:"bg-lime-500/20 text-lime-400",sev3:"bg-slate-400/20 text-slate-400"}},a=J(()=>oi[t.type][t.level]),o=J(()=>r[t.type][t.level]||"bg-slate-400/20 text-slate-400");var i=Is(),s=c(i,!0);l(i),re(()=>{Q(i,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${n(o)??""}`),F(s,n(a))}),I(e,i),xe()}var Ss=N("<span> </span>");function la(e,t){var r=Ss(),a=c(r,!0);l(r),re(()=>{Q(r,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${t.classes??""}`),F(a,t.label)}),I(e,r)}var Cs=N('<div class="flex items-center gap-2 p-2 bg-base-200 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-2xl"> </div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate"> </p></div> <div><!></div></div>'),js=N('<div class="flex flex-col gap-2"></div>'),Ms=N('<div tabindex="0" role="button"><div class="flex items-start p-3"><div class="flex-1 min-w-0"><div class="flex flex-col gap-3"><p class="text-sm text-base-content"><span class="text-base"> </span> </p> <div class="h-1 bg-base-300/50"><div class="h-full bg-primary/80 transition-all"></div></div> <p class="text-xs gap-1 flex items-center"><!> <!> <!></p></div></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),Ps=N('<div class="flex flex-col gap-2"></div>'),Ns=N('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),Rs=N('<div class="flex flex-col "><!></div>');function Ls(e,t){_e(t,!0);const r=200;let a=J(()=>t.assignedProjects.map(b=>({...b,id:b.project.id}))),o=J(()=>t.filterCompleted?n(a).filter(b=>["completed","cancelled"].includes(b.project.status)):n(a).filter(b=>!["completed","cancelled"].includes(b.project.status))),i=ee(ot([]));wt(()=>{A(i,n(o),!0)});async function s(b,m){b.stopPropagation(),await sn(m,t.currentWeekOf)}function v(b){const m=_t.getByProject(b),_=m.filter(w=>!["completed","cancelled"].includes(w.status)).length,x=m.filter(w=>["completed","cancelled"].includes(w.status)).length;return{active:_,completed:x,total:_+x}}function f(b){A(i,b.detail.items,!0)}function d(b){A(i,b.detail.items,!0);const{info:m}=b.detail,_=m.id,x=n(i).findIndex(j=>j.id===_);if(x===-1)return;const w=x>0?n(i)[x-1]:null,T=x<n(i).length-1?n(i)[x+1]:null;let E=null,M=null;if(w){const j=n(a).findIndex(y=>y.id===w.id);E=w.assignment.order,M=j<n(a).length-1?n(a)[j+1].assignment.order:null}else if(T){const j=n(a).findIndex(y=>y.id===T.id);E=j>0?n(a)[j-1].assignment.order:null,M=T.assignment.order}Oo(t.currentWeekOf,_,E,M)}var u=Rs(),k=c(u);{var g=b=>{var m=fe(),_=ne(m);{var x=T=>{var E=js();De(E,29,()=>n(i),({id:M,project:j,area:y})=>M,(M,j)=>{let y=()=>n(j).project,O=()=>n(j).area;var D=Cs(),S=c(D),B=c(S,!0);l(S);var W=h(S,2),Y=c(W),L=c(Y,!0);l(Y),l(W);var K=h(W,2),R=c(K);kr(R,{get level(){return y().severity},get type(){return y().type}}),l(K),l(D),re(()=>{F(B,O().icon),F(L,y().name)}),Ft(D,()=>Bt,()=>({duration:r})),I(M,D)}),l(E),fa(E,(M,j)=>Sn?.(M,j),()=>({items:n(i),flipDurationMs:r,dropTargetStyle:{}})),ht("consider",E,f),ht("finalize",E,d),I(T,E)},w=T=>{var E=Ps();De(E,21,()=>n(o),He,(M,j)=>{let y=()=>n(j).project,O=()=>n(j).area;const D=J(()=>v(y().id)),S=J(()=>n(D).total>0?n(D).completed/n(D).total*100:0);var B=Ms();B.__click=()=>t.navigateToTasks(y());var W=c(B),Y=c(W),L=c(Y),K=c(L),R=c(K),V=c(R,!0);l(R);var q=h(R);l(K);var P=h(K,2),G=c(P);l(P);var C=h(P,2),z=c(C);kr(z,{get level(){return y().severity},get type(){return y().type}});var U=h(z,2);{let H=J(()=>n(D).active==0?"text-error bg-error/10 border-error/10 border":"bg-base-100 text-base-content/50");la(U,{get classes(){return n(H)},get label(){return`${n(D).active??""} available`}})}var X=h(U,2);la(X,{classes:"bg-base-100 text-base-content/50",get label(){return O().name}}),l(C),l(L),l(Y);var te=h(Y,2);te.__click=H=>s(H,y().id),l(W),l(B),re(()=>{Q(B,1,`bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer overflow-hidden ${y().status=="blocked"?"glow-error":""} `),F(V,O().icon),F(q,` ${y().name??""}`),ba(G,`width: ${n(S)??""}%`)}),I(M,B)}),l(E),I(T,E)};$(_,T=>{t.reorderMode?T(x):T(w,!1)})}I(b,m)},p=b=>{var m=Ns();I(b,m)};$(k,b=>{n(i).length>0?b(g):b(p,!1)})}l(u),I(e,u),xe()}we(["click"]);var Fs=N('<span class="text-xs text-primary px-2 py-1 bg-primary/10 border-primary/20 border rounded"> </span>'),Bs=N('<button><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-muted"> </p></div> <!></button>'),zs=N('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),Ws=N('<div class="flex flex-col gap-2"></div>');function Gs(e,t){_e(t,!0);var r=Ws();De(r,21,()=>t.weekTasks,He,(a,o)=>{const i=J(()=>t.isTaskAssignedToDay(n(o).id));var s=Bs();s.__click=b=>t.openDayPicker(b,n(o));var v=c(s),f=c(v),d=c(f,!0);l(f);var u=h(f,2),k=c(u);l(u),l(v);var g=h(v,2);{var p=b=>{var m=Fs(),_=c(m,!0);l(m),re(x=>F(_,x),[()=>on(n(i))]),I(b,m)};$(g,b=>{n(i)&&b(p)})}l(s),re(()=>{Q(s,1,`${n(o).status=="blocked"?"glow-error":""} text-start flex items-center gap-3 p-3 bg-base-200 rounded-lg transition-all hover:bg-base-100 cursor-pointer`),F(d,n(o).name),F(k,`${n(o).areaIcon??""} ${(n(o).type==="oneoff"?"One-off":n(o).projectName)??""}`)}),I(a,s)},a=>{var o=zs();I(a,o)}),l(r),I(e,r),xe()}we(["click"]);let Yr=ot({});class da{scrollTimeout;#e=ee();get scrollContainer(){return n(this.#e)}set scrollContainer(t){A(this.#e,t,!0)}pageKey="default"+Math.random();get positions(){return Yr}save(t,r){Yr[t]=r}get(t){return Yr[t]||0}handleScroll=()=>{clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.scrollContainer&&this.save(this.pageKey,this.scrollContainer.scrollTop)},100)};restoreScroll=async(t,r)=>{if(await rn(),this.scrollContainer=t,this.pageKey=r,this.scrollContainer){const a=this.get(this.pageKey);a&&(this.scrollContainer.scrollTop=a)}}}var Hs=N('<button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button>'),Vs=N('<div class="flex flex-col h-full"><div class="bg-base-300 ps-4 pe-2 pt-1 pb-0 flex flex-col gap-4 border-b border-b-base-content/10"><div class="flex flex-row justify-between items-center"><div class="text-center w-full"><h2 class="text-lg font-medium">This Week</h2> <p class="text-xs text-base-content/50"> </p></div></div> <div class="flex items-center justify-between h-8"><div class="flex gap-1"><button>Active</button> <button>Completed</button> <button>Tasks</button></div> <!></div></div> <div><!></div> <div><!></div></div> <!>',1);function Us(e,t){_e(t,!0);let r,a;const o=new da,i=new da;an(()=>{o.restoreScroll(r,"weekview_projects"),i.restoreScroll(a,"weekview_tasks")});let s=localStorage.getItem("filterAssignedProject")=="true",v=ee(!1),f=()=>A(v,!n(v));wt(()=>{localStorage.setItem("filterAssignedProject",s+"")});let d=ee(ot(localStorage.getItem("weekTabView")||"active_projects"));wt(()=>{n(d)&&localStorage.setItem("weekTabView",n(d))});let u=ot(kt());const k=J(()=>ct.getWeek(u));let g;function p(C){return n(k)?n(k).tasksByDay.find(U=>U.taskId===C)?.date??null:null}let b=J(()=>n(k)?n(k).projectAssignments.map(C=>{const z=nt.getById(C.areaId);if(!z)return null;const X=xt.getByArea(z.id).find(te=>te.id===C.projectId);return X?{assignment:C,project:X,area:z}:null}).filter(C=>C!==null):[]),m=J(()=>{const C=[];for(const{project:z,area:U}of n(b)){const X=_t.getByProject(z.id).filter(te=>["active","blocked"].includes(te.status));for(const te of X)C.push({type:"task",id:te.id,name:te.name,status:te.status,areaIcon:U.icon,areaName:U.name,projectName:z.name,areaId:U.id,projectId:z.id})}if(n(k))for(const z of n(k).oneOffAssignments){const U=Zt.getById(z.oneOffId);if(!U||!["active","blocked"].includes(U.status))continue;const X=nt.getById(z.areaId);X&&C.push({type:"oneoff",id:U.id,name:U.name,status:U.status,areaIcon:X.icon,areaName:X.name,projectName:"One-off",areaId:X.id,projectId:""})}return C});var _=Vs(),x=ne(_),w=c(x),T=c(w),E=c(T),M=h(c(E),2),j=c(M,!0);l(M),l(E),l(T);var y=h(T,2),O=c(y),D=c(O);D.__click=()=>A(d,"active_projects");var S=h(D,2);S.__click=()=>A(d,"completed_projects");var B=h(S,2);B.__click=()=>A(d,"tasks"),l(O);var W=h(O,2);{var Y=C=>{var z=Hs();z.__click=f;var U=h(c(z));l(z),re(()=>{Q(z,1,`btn mb-2 ${n(v)?"btn-success":"btn-ghost"} btn-xs`),F(U,` ${n(v)?"Done":"Reorder"}`)}),I(C,z)};$(W,C=>{n(d)=="active_projects"&&n(b).length>1&&C(Y)})}l(y),l(w);var L=h(w,2),K=c(L);{var R=C=>{{let z=J(()=>n(v)&&n(d)=="active_projects"),U=J(()=>n(d)=="completed_projects");Ls(C,{get reorderMode(){return n(z)},get filterCompleted(){return n(U)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return u},get assignedProjects(){return n(b)}})}};$(K,C=>{(n(d)==="active_projects"||n(d)==="completed_projects")&&C(R)})}l(L),Ne(L,C=>r=C,()=>r);var V=h(L,2),q=c(V);{var P=C=>{Gs(C,{get openDayPicker(){return g.openDayPicker},get weekTasks(){return n(m)},isTaskAssignedToDay:p})};$(q,C=>{n(d)=="tasks"&&C(P)})}l(V),Ne(V,C=>a=C,()=>a),l(x);var G=h(x,2);Ne(gi(G,{get currentWeekOf(){return u},isTaskAssignedToDay:p}),C=>g=C,()=>g),re((C,z)=>{F(j,C),Q(D,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(d)=="active_projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),Q(S,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(d)=="completed_projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),Q(B,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(d)=="tasks"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),Q(L,1,`${z??""} flex-1 overflow-y-auto px-3 py-4`),Q(V,1,`${n(d)=="tasks"?"":"hidden"} flex-1 overflow-y-auto px-3 py-4`)},[()=>Io(u),()=>n(d).match(/projects/)?"":"hidden"]),ht("scroll",L,function(...C){o.handleScroll?.apply(this,C)}),ht("scroll",V,function(...C){i.handleScroll?.apply(this,C)}),I(e,_),xe()}we(["click"]);var Zs=N('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),Ys=N('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),qs=N('<div class="flex flex-col gap-2"></div>'),Ks=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="p-4 border-b border-base-content/10"><p class="font-medium text-base-content mb-2"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-3 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="join w-full"><label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Active</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Blocked</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Completed</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function Xs(e,t){_e(t,!0);const r=[];let a=ee("completed"),o=ee(ot([]));wt(()=>{t.show&&(A(a,t.taskByDay?.status||"completed",!0),A(o,[],!0))});function i(p,b){b&&setTimeout(()=>p.focus(),0)}function s(){A(o,[...n(o),""],!0)}function v(p){A(o,n(o).filter((b,m)=>m!==p),!0)}function f(p,b){A(o,n(o).map((m,_)=>_===p?b:m),!0)}async function d(){if(t.taskByDay){t.taskByDay.isOneOff?await Xr(t.taskByDay.taskId,t.taskByDay.areaId,n(a)):await Jr(t.taskByDay.taskId,t.taskByDay.projectId,n(a));for(const p of n(o))p.trim()&&await ln(t.taskByDay.projectId,t.taskByDay.areaId,p.trim());t.onClose()}}var u=fe(),k=ne(u);{var g=p=>{var b=Ks(),m=c(b);m.__click=function(...H){t.onClose?.apply(this,H)},m.__keydown=H=>H.key==="Escape"&&t.onClose();var _=h(m,2),x=c(_),w=c(x),T=c(w,!0);l(w);var E=h(w,2),M=c(E);l(E),l(x);var j=h(x,2),y=c(j),O=h(c(y),2),D=c(O),S=c(D);Ye(S),S.value=S.__value="active",sr(2),l(D);var B=h(D,2),W=c(B);Ye(W),W.value=W.__value="blocked",sr(2),l(B);var Y=h(B,2),L=c(Y);Ye(L),L.value=L.__value="completed",sr(2),l(Y);var K=h(Y,2),R=c(K);Ye(R),R.value=R.__value="cancelled",sr(2),l(K),l(O),l(y);var V=h(y,2),q=c(V),P=h(c(q),2);P.__click=s,l(q);var G=h(q,2);{var C=H=>{var se=Zs();I(H,se)},z=H=>{var se=qs();De(se,21,()=>n(o),He,(je,ae,ie)=>{var ce=Ys(),le=c(ce);Ye(le),le.__input=Ee=>f(ie,Ee.currentTarget.value),fa(le,(Ee,ge)=>i?.(Ee,ge),()=>ie===n(o).length-1);var be=h(le,2);be.__click=()=>v(ie),l(ce),re(()=>ai(le,n(ae))),I(je,ce)}),l(se),I(H,se)};$(G,H=>{n(o).length===0?H(C):H(z,!1)})}l(V),l(j);var U=h(j,2),X=c(U);X.__click=function(...H){t.onClose?.apply(this,H)};var te=h(X,2);te.__click=d,l(U),l(_),l(b),re(()=>{F(T,t.taskByDay.name),F(M,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),Q(D,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="active"?"bg-primary/10 border-primary":""}`),Q(B,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="blocked"?"bg-error/10 border-error":""}`),Q(Y,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="completed"?"bg-success/10 border-success":""}`),Q(K,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="cancelled"?"bg-base-content/10 border-base-content/40":""}`)}),Ge(3,m,()=>Tt,()=>({duration:200})),Ct(r,[],S,()=>n(a),H=>A(a,H)),Ct(r,[],W,()=>n(a),H=>A(a,H)),Ct(r,[],L,()=>n(a),H=>A(a,H)),Ct(r,[],R,()=>n(a),H=>A(a,H)),Ge(3,_,()=>Dt,()=>({y:300,duration:300})),I(p,b)};$(k,p=>{t.show&&t.taskByDay&&p(g)})}I(e,u),xe()}we(["click","keydown","input"]);var Js=N('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate "> </p></div></div>'),Qs=N('<div class="flex flex-col gap-2 mb-4"></div>'),$s=N('<div><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm mb-2"> </p> <p class="text-xs text-muted truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),el=N('<div class="flex flex-col gap-2 mb-4"></div>'),tl=N('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),rl=N('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),al=vt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),nl=vt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),ol=N('<div class="flex items-center gap-3 p-3 opacity-50 "><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),il=N('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),sl=N('<div class="flex flex-col h-full "><div class="flex flex-col gap-4 pt-1 pb-0 border-b border-base-content/10"><div class="flex flex-row justify-between items-center px-2"><button aria-label="prev" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button> <button class="cursor-pointer text-center w-full "><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-muted"> </p></button> <button aria-label="next" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="transform:rotate(180deg)" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button></div> <div class="flex items-center px-2"><div class="flex-1"><div class="px-4 pb-3 flex flex-col"><div class="flex items-center justify-between text-xs text-muted mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success/85 transition-all rounded-full"></div></div></div></div> <button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-3"><!> <!></div></div> <!>',1);function ll(e,t){_e(t,!0);let r;const a=new da;an(()=>a.restoreScroll(r,"todayview"));const o=kt(),i=200,s=()=>A(f,Co(n(d)),!0),v=()=>A(f,jo(n(d)),!0);let f=ee(ot(new Date));const d=J(()=>Mo(n(f)));let u=J(()=>{const Z=ct.getWeek(o);return Z?Z.tasksByDay.filter(oe=>oe.date===n(d)).map(oe=>{if(oe.isOneOff){const Ae=Zt.getById(oe.taskId),pe=nt.getById(oe.areaId);return{id:oe.taskId,taskByDay:oe,task:Ae,areaIcon:pe?.icon??"ðŸ“",areaName:pe?.name??"Unknown",projectName:"One-off"}}else{const Ae=_t.getById(oe.taskId),pe=nt.getById(oe.areaId),me=(pe?xt.getByArea(pe.id):[]).find(de=>de.id===oe.projectId);return{id:oe.taskId,taskByDay:oe,task:Ae,areaIcon:pe?.icon??"ðŸ“",areaName:pe?.name??"Unknown",projectName:me?.name??"Unknown"}}}):[]}),k=J(()=>n(u)),g=J(()=>n(u).filter(Z=>Z.taskByDay.status!=="completed"&&Z.taskByDay.status!=="cancelled")),p=J(()=>n(u).filter(Z=>Z.taskByDay.status==="completed"||Z.taskByDay.status==="cancelled")),b=ee(!1),m=ee(null),_=ee(""),x=ee(""),w=ee(""),T=ee(!1);const E=()=>{A(T,!n(T))};let M=ee(ot([]));wt(()=>{A(M,n(g),!0)});let j=J(()=>{const Z=n(p).length,oe=n(u).length,Ae=oe>0?Z/oe*100:0;return{completed:Z,total:oe,percent:Ae}});function y(Z){A(M,Z.detail.items,!0)}function O(Z){A(M,Z.detail.items,!0);const{info:oe}=Z.detail,Ae=oe.id,pe=n(M).findIndex(ke=>ke.id===Ae);if(pe===-1)return;const Ze=pe>0?n(M)[pe-1]:null,me=pe<n(M).length-1?n(M)[pe+1]:null;let de=null,Oe=null;if(Ze){const ke=n(k).findIndex(Le=>Le.id===Ze.id);de=Ze.taskByDay.order,Oe=ke<n(k).length-1?n(k)[ke+1].taskByDay.order:null}else if(me){const ke=n(k).findIndex(Le=>Le.id===me.id);de=ke>0?n(k)[ke-1].taskByDay.order:null,Oe=me.taskByDay.order}Po(o,n(d),Ae,de,Oe)}async function D(Z){Z.isOneOff?await Xr(Z.taskId,Z.areaId,"completed"):await Jr(Z.taskId,Z.projectId,"completed")}async function S(Z){Z.isOneOff?await Xr(Z.taskId,Z.areaId,"active"):await Jr(Z.taskId,Z.projectId,"active")}async function B(Z){Z.isOneOff?await ur(Z.taskId,o,n(d)):await vr(Z.taskId,Z.projectId,o,n(d))}function W(Z,oe,Ae,pe){A(m,Z,!0),A(_,oe,!0),A(x,Ae,!0),A(w,pe,!0),A(b,!0)}function Y(){A(b,!1),A(m,null)}var L=sl(),K=ne(L),R=c(K),V=c(R),q=c(V);q.__click=v;var P=h(q,2);P.__click=()=>A(f,new Date,!0);var G=c(P),C=c(G,!0);l(G);var z=h(G,2),U=c(z,!0);l(z),l(P);var X=h(P,2);X.__click=s,l(V);var te=h(V,2),H=c(te),se=c(H),je=c(se),ae=c(je),ie=c(ae);l(ae);var ce=h(ae,2),le=c(ce);l(ce),l(je);var be=h(je,2),Ee=c(be);l(be),l(se),l(H);var ge=h(H,2);ge.__click=E;var Xe=h(c(ge));l(ge),l(te),l(R);var ue=h(R,2),tr=c(ue);{var Pn=Z=>{var oe=fe(),Ae=ne(oe);{var pe=me=>{var de=Qs();De(de,29,()=>n(M),({id:Oe,taskByDay:ke,areaIcon:Le,projectName:Je})=>Oe,(Oe,ke)=>{let Le=()=>n(ke).taskByDay;var Je=Js(),Et=h(c(Je),2),ft=c(Et),bt=c(ft,!0);l(ft),l(Et),l(Je),re(()=>F(bt,Le().name)),Ft(Je,()=>Bt,()=>({duration:i})),I(Oe,Je)}),l(de),fa(de,(Oe,ke)=>Sn?.(Oe,ke),()=>({items:n(M),flipDurationMs:i,dropTargetStyle:{}})),ht("consider",de,y),ht("finalize",de,O),I(me,de)},Ze=me=>{var de=el();De(de,21,()=>n(g),He,(Oe,ke)=>{let Le=()=>n(ke).taskByDay,Je=()=>n(ke).areaIcon,Et=()=>n(ke).areaName,ft=()=>n(ke).projectName;const bt=J(()=>Le().status=="blocked");var Qe=$s(),rr=c(Qe);rr.__click=()=>D(Le());var At=h(rr,2);At.__click=()=>W(Le(),Je(),Et(),ft());var zt=c(At),ar=c(zt,!0);l(zt);var Ot=h(zt,2),Pr=c(Ot);l(Ot),l(At);var nr=h(At,2);nr.__click=()=>B(Le()),l(Qe),re(()=>{Q(Qe,1,`flex items-start gap-2 p-3 bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer ${n(bt)?"glow-error":""}`),F(ar,Le().name),F(Pr,`${Je()??""}  ${ft()??""}`)}),I(Oe,Qe)}),l(de),I(me,de)};$(Ae,me=>{n(T)?me(pe):me(Ze,!1)})}I(Z,oe)},Nn=Z=>{var oe=fe(),Ae=ne(oe);{var pe=me=>{var de=tl();I(me,de)},Ze=me=>{var de=rl();I(me,de)};$(Ae,me=>{n(j).total===0?me(pe):me(Ze,!1)},!0)}I(Z,oe)};$(tr,Z=>{n(M).length>0?Z(Pn):Z(Nn,!1)})}var Rn=h(tr,2);{var Ln=Z=>{var oe=il(),Ae=c(oe),pe=c(Ae);l(Ae);var Ze=h(Ae,2);De(Ze,21,()=>n(p),He,(me,de)=>{let Oe=()=>n(de).taskByDay,ke=()=>n(de).areaIcon,Le=()=>n(de).areaName,Je=()=>n(de).projectName;const Et=J(()=>Oe().status==="completed"),ft=J(()=>Oe().status==="cancelled");var bt=ol(),Qe=c(bt);Qe.__click=()=>S(Oe());var rr=c(Qe);{var At=It=>{var or=al();I(It,or)},zt=It=>{var or=fe(),zn=ne(or);{var Wn=Nr=>{var Gn=nl();I(Nr,Gn)};$(zn,Nr=>{Oe().status==="cancelled"&&Nr(Wn)},!0)}I(It,or)};$(rr,It=>{Oe().status==="completed"?It(At):It(zt,!1)})}l(Qe);var ar=h(Qe,2),Ot=c(ar),Pr=c(Ot,!0);l(Ot);var nr=h(Ot,2),Bn=c(nr);l(nr),l(ar),l(bt),re(()=>{Q(Qe,1,`w-7 h-7 rounded-full ${n(Et)?"bg-success border-success text-success-content":n(ft)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),F(Pr,Oe().name),F(Bn,`${ke()??""} ${Le()??""} Â· ${Je()??""}`)}),I(me,bt)}),l(Ze),l(oe),re(()=>F(pe,`Completed (${n(p).length??""})`)),I(Z,oe)};$(Rn,Z=>{n(p).length>0&&!n(T)&&Z(Ln)})}l(ue),Ne(ue,Z=>r=Z,()=>r),l(K);var Fn=h(K,2);Xs(Fn,{get show(){return n(b)},get taskByDay(){return n(m)},get areaIcon(){return n(_)},get areaName(){return n(x)},get projectName(){return n(w)},get weekOf(){return o},onClose:Y}),re((Z,oe)=>{F(C,Z),F(U,n(d)),F(ie,`${n(j).completed??""} of ${n(j).total??""} completed`),F(le,`${oe??""}%`),ba(Ee,`width: ${n(j).percent??""}%`),Q(ge,1,`btn w-20 ${n(T)?"btn-success":"btn-ghost"} btn-xs`),F(Xe,` ${n(T)?"Done":"Reorder"}`)},[()=>nn(n(d))?"Today":So(n(d)),()=>Math.round(n(j).percent)]),ht("scroll",ue,function(...Z){a.handleScroll?.apply(this,Z)}),I(e,L),xe()}we(["click"]);const qr=["reorder","status"],Cn=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var dl=N('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function cl(e,t){var r=dl();r.__click=function(...a){t.handleClick?.apply(this,a)},I(e,r)}we(["click"]);var ul=N('<button type="button"> </button>'),vl=N('<button type="button" class="btn btn-outline btn-error btn-sm" title="Archive">Archive</button>'),fl=N('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),bl=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4 flex flex-col"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="h-40 overflow-y-auto rounded-lg border border-base-content/10 p-2"><div class="grid grid-cols-8 gap-1"></div></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function jn(e,t){_e(t,!0);let r=ee(!1),a=ee(null),o=ee(""),i=ee("ðŸŽ¯"),s;function v(){A(a,null),A(o,""),A(i,"ðŸŽ¯"),A(r,!0),setTimeout(()=>s.focus(),100)}function f(x,w){x.stopPropagation(),A(a,w,!0),A(o,w.name,!0),A(i,w.icon,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function d(){A(r,!1),A(a,null)}async function u(){!n(o).trim()||!n(i)||(n(a)?(await No(n(a).index,{name:n(o).trim(),icon:n(i)}),n(a).name=n(o).trim(),n(a).icon=n(i)):await Ro(n(o).trim(),n(i)),d())}async function k(){n(a)&&(await Lo(n(a).index),d())}async function g(){n(a)&&(await Fo(n(a).index),d())}var p={openCreateAreaModal:v,openEditAreaModal:f},b=fe(),m=ne(b);{var _=x=>{var w=bl(),T=c(w);T.__click=d,T.__keydown=C=>C.key==="Escape"&&d();var E=h(T,2),M=c(E),j=c(M),y=c(j,!0);l(j);var O=h(j,2);O.__click=d,l(M);var D=h(M,2),S=c(D),B=h(c(S),2),W=c(B);De(W,21,()=>ii,He,(C,z)=>{var U=ul();U.__click=()=>A(i,n(z),!0);var X=c(U,!0);l(U),re(()=>{Q(U,1,`aspect-square cursor-pointer flex items-center justify-center text-lg rounded-lg transition-colors ${n(i)===n(z)?"bg-primary/20 ring-2 ring-primary":"hover:bg-base-200"}`),F(X,n(z))}),I(C,U)}),l(W),l(B),l(S);var Y=h(S,2),L=h(c(Y),2);Ye(L),L.__keydown=C=>C.key==="Enter"&&u(),Ne(L,C=>s=C,()=>s),l(Y),l(D);var K=h(D,2),R=c(K);{var V=C=>{var z=fe(),U=ne(z);{var X=H=>{var se=vl();se.__click=k,I(H,se)},te=H=>{var se=fe(),je=ne(se);{var ae=ie=>{var ce=fl();ce.__click=g,I(ie,ce)};$(je,ie=>{n(a).status=="archived"&&ie(ae)},!0)}I(H,se)};$(U,H=>{n(a).status=="active"?H(X):H(te,!1)})}I(C,z)};$(R,C=>{n(a)&&C(V)})}var q=h(R,4);q.__click=d;var P=h(q,2);P.__click=u;var G=c(P,!0);l(P),l(K),l(E),l(w),re(C=>{F(y,n(a)?"Edit Area":"New Area"),P.disabled=C,F(G,n(a)?"Save":"Create")},[()=>!n(o).trim()||!n(i)]),Ge(3,T,()=>Tt,()=>({duration:200})),Tr(L,()=>n(o),C=>A(o,C)),Ge(3,E,()=>Dt,()=>({y:300,duration:300})),I(x,w)};$(m,x=>{n(r)&&x(_)})}return I(e,b),xe(p)}we(["click","keydown"]);var gl=N("<span> </span>");function pl(e,t){const r={clear:"badge-success",planned:"badge-primary",active:"badge-info",fading:"badge-warning",avoiding:"badge-error"},a=J(()=>r[t.status]||"badge-neutral");var o=gl(),i=c(o,!0);l(o),re(()=>{Q(o,1,`rounded badge badge-sm badge-soft ${n(a)??""} font-semibold uppercase tracking-wide text-[10px]`),F(i,t.status)}),I(e,o)}var ml=N('<div class="flex flex-row gap-1"><button aria-label="edit" class="btn btn-sm btn-ghost">â†</button> <button aria-label="edit" class="btn btn-sm btn-ghost">â†’</button></div>'),hl=N('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm tracking-wide mb-0 pb-1 truncate"> </div> <p class="text-muted text-xs text-base-content/50"> </p></div></div></div></div>');function _l(e,t){_e(t,!0);const r=J(()=>xt.getByArea(t.area.id).filter(w=>!["completed","cancelled"].includes(w.status)).length),a=J(()=>{const w=kt(),T=ct.getWeek(w),E=xt.getByArea(t.area.id),M=E.filter(D=>D.status==="active"||D.status==="blocked");if(M.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};if(T?.projectAssignments.some(D=>M.some(S=>S.id===D.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"â—†"};const y=E.filter(D=>D.status==="completed"&&D.completedAt),O=y.length>0?Math.max(...y.map(D=>new Date(D.completedAt).getTime())):null;if(O){const D=Date.now()-12096e5,S=Date.now()-720*60*60*1e3;if(O>=D)return{level:"active",color:"badge-info",icon:"â—"};if(O>=S)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var o=hl();o.__click=()=>t.handleSelect(t.area);var i=c(o),s=c(i),v=c(s),f=c(v,!0);l(v);var d=h(v,2);{var u=w=>{var T=ml(),E=c(T);E.__click=j=>t.handleAreaMoveUp(j,t.index);var M=h(E,2);M.__click=j=>t.handleAreaMoveDown(j,t.index),l(T),re(()=>E.disabled=t.index==0),I(w,T)},k=w=>{var T=fe(),E=ne(T);{var M=j=>{pl(j,{get status(){return n(a).level}})};$(E,j=>{t.viewMode=="status"&&j(M)},!0)}I(w,T)};$(d,w=>{t.viewMode=="reorder"?w(u):w(k,!1)})}l(s);var g=h(s,2),p=c(g),b=c(p),m=c(b,!0);l(b);var _=h(b,2),x=c(_);l(_),l(p),l(g),l(i),l(o),re(()=>{Q(o,1,`rounded-lg bg-base-200 hover:bg-base-100 transition-colors cursor-pointer w-full ${n(a).level==="avoiding"?"border border-error/20":n(a).level==="fading"?"border border-warning/20":n(a).level==="active"?"border border-info/20":n(a).level==="planned"?"border border-purple-500/20":""}`),F(f,t.area.icon),F(m,t.area.name),F(x,`${n(r)??""} project${n(r)!==1?"s":""}`)}),I(e,o),xe()}we(["click"]);var xl=N("<button> </button>"),yl=N("<div><!></div>"),wl=N('<div class="flex flex-col h-full bg-base-300"><div class="px-3 pt-1 pb-2 flex flex-row justify-between items-center border-b border-base-content/10"><a href="/" class="flex text-base-content/80 flex-row items-center "><div class="flex flex-col"><div class="text-lg tracking-wider font-medium">Doable</div></div></a> <div class="flex flex-row gap-4"><!> <button class="btn btn-xs btn-ghost"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function kl(e,t){_e(t,!0);let r,a=ee(ot(localStorage.getItem("areasViewMode")||"none"));wt(()=>localStorage.setItem("areasViewMode",n(a)));let o=ee(!1),i=()=>A(a,qr[(qr.indexOf(n(a))+1)%qr.length],!0),s=()=>A(o,!n(o));const v=J(()=>n(o)?nt.areas.filter(y=>y.status=="archived"):nt.areas.filter(y=>y.status=="active"));async function f(y,O){if(y.stopPropagation(),O===0)return;const D=nt.areas,S=n(v)[O],B=n(v)[O-1],W=D.findIndex(K=>K.id===B.id),Y=W>0?D[W-1].index:null,L=B.index;await Ta(S.index,Y,L)}async function d(y,O){if(y.stopPropagation(),O===n(v).length-1)return;const D=nt.areas,S=n(v)[O],B=n(v)[O+1],W=D.findIndex(K=>K.id===B.id),Y=B.index,L=W<D.length-1?D[W+1].index:null;await Ta(S.index,Y,L)}var u=wl(),k=c(u),g=h(c(k),2),p=c(g);{var b=y=>{var O=xl();O.__click=i;var D=c(O,!0);l(O),re(()=>{Q(O,1,`btn btn-xs capitalize ${n(a)=="reorder"?"btn-success":"btn-ghost"}`),F(D,n(a)=="reorder"?"Done":"Reorder")}),I(y,O)};$(p,y=>{n(o)||y(b)})}var m=h(p,2);m.__click=s;var _=c(m,!0);l(m),l(g),l(k);var x=h(k,2),w=c(x),T=c(w);De(T,27,()=>n(v),y=>y.id,(y,O,D)=>{var S=yl(),B=c(S);_l(B,{get area(){return n(O)},get handleSelect(){return t.onSelectArea},get index(){return n(D)},handleAreaMoveUp:f,handleAreaMoveDown:d,get viewMode(){return n(a)}}),l(S),Ft(S,()=>Bt,()=>({duration:250,easing:Mr})),I(y,S)});var E=h(T,2);{var M=y=>{cl(y,{get handleClick(){return r.openCreateAreaModal}})};$(E,y=>{n(o)||y(M)})}l(w),l(x);var j=h(x,2);Ne(jn(j,{}),y=>r=y,()=>r),l(u),re(()=>F(_,n(o)?"Active":"Archived")),I(e,u),xe()}we(["click"]);var Tl=N('<span class="text-xs mx-0.5">â€¢</span> ',1),Dl=N('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),El=N('<button class="cursor-pointer flex items-center"><!></button>'),Al=N('<div class="px-3 "><div role="button" tabindex="0"><div class="flex text-sm "> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <p class="text-2xs text-muted font-medium text-base-content/50 "> <!></p></div> <div class="flex flex-row gap-1 items-center"><!></div></div></div></div>');function Ol(e,t){_e(t,!0);const r=J(()=>_t.getByProject(t.project.id)),a=J(()=>n(r).filter(y=>y.status==="active").length),o=J(()=>n(r).filter(y=>y.status==="completed").length);function i(y){for(const[O,D]of Object.entries(ct.weeksByWeekOf))if(D.projectAssignments.some(S=>S.projectId===y))return O;return null}function s(y){const O=kt();if(y===O)return"This week";const D=new Date(O),S=new Date(y),B=Math.round((S.getTime()-D.getTime())/(1e3*60*60*24)),W=Math.round(B/7);return W===1?"Next week":W>1?`In ${W} weeks`:W===-1?"Last week":y.slice(5)}const v=J(()=>i(t.project.id));var f=Al(),d=c(f);d.__click=()=>t.navigateToTasks(t.project),d.__keydown=y=>y.key==="Enter"&&t.navigateToTasks(t.project);var u=c(d),k=c(u,!0);l(u);var g=h(u,2),p=c(g),b=c(p);kr(b,{get type(){return t.project.type},get level(){return t.project.severity}});var m=h(b,2),_=c(m),x=h(_);{var w=y=>{var O=Tl(),D=h(ne(O));re(()=>F(D,` ${n(o)??""} done`)),I(y,O)};$(x,y=>{n(o)>0&&y(w)})}l(m),l(p);var T=h(p,2),E=c(T);{var M=y=>{var O=Dl(),D=ne(O);D.__click=B=>t.handleProjectMoveUp(B,t.index);var S=h(D,2);S.__click=B=>t.handleProjectMoveDown(B,t.index),I(y,O)},j=y=>{var O=El();O.__click=S=>t.handleProjectAssign(S,t.project);var D=c(O);{let S=J(()=>n(v)?"bg-accent/20 text-accent":"bg-slate-400/20 text-slate-400"),B=J(()=>n(v)?s(n(v)):"Unassigned");la(D,{get classes(){return n(S)},get label(){return n(B)}})}l(O),I(y,O)};$(E,y=>{t.reorderMode?y(M):y(j,!1)})}l(T),l(g),l(d),l(f),re(()=>{Q(d,1,`flex ${t.project.status=="blocked"?"glow-error":""} flex-col p-3 gap-2 transition-colors bg-base-200 cursor-pointer hover:bg-base-100 rounded-lg `),F(k,t.project.name),F(_,`${n(a)??""} active `)}),I(e,f),xe()}we(["click","keydown"]);var Il=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[605px] max-h-full bg-base-300 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-300 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="join w-full"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Completed</button> <button type="button">Cancelled</button></div></div> <div class="flex gap-3 p-4 pb-10  border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function Mn(e,t){_e(t,!0);const r=[];let a=ee(!1),o=ee(null),i=ee(""),s=ee("active"),v=ee("regular"),f=ee("sev3"),d;function u(){console.log("Creating.."),A(o,null),A(i,""),A(s,"active"),A(v,"regular"),A(f,"sev3"),A(a,!0),setTimeout(()=>d.focus(),100)}function k(w,T){w.stopPropagation(),A(o,T,!0),A(i,T.name,!0),A(s,T.status,!0),A(v,T.type||"regular",!0),A(f,T.severity||"sev1",!0),A(a,!0),setTimeout(()=>d.focus(),100)}function g(){A(a,!1),A(o,null)}async function p(){!n(i).trim()||!t.selectedArea||(n(o)?(await Bo(t.selectedArea.id,n(o).index,{name:n(i).trim(),status:n(s),type:n(v),severity:n(f)}),n(o).name=n(i).trim(),n(o).status=n(s),n(o).type=n(v),n(o).severity=n(f)):await zo(t.selectedArea.id,n(i).trim(),n(v),n(f)),g())}var b={openCreateProjectModal:u,openEditProjectModal:k},m=fe(),_=ne(m);{var x=w=>{var T=Il(),E=c(T);E.__click=g,E.__keydown=ue=>ue.key==="Escape"&&g();var M=h(E,2),j=c(M),y=c(j),O=c(y),D=c(O,!0);l(O);var S=h(O,2);S.__click=g,l(y);var B=h(y,2),W=c(B),Y=h(c(W),2);Ye(Y),Y.__keydown=ue=>ue.key==="Enter"&&p(),Ne(Y,ue=>d=ue,()=>d),l(W);var L=h(W,2),K=h(c(L),2),R=c(K);Ye(R),R.value=R.__value="regular";var V=h(R,2);Ye(V),V.value=V.__value="maintenance",l(K),l(L);var q=h(L,4),P=c(q);P.__click=()=>A(f,"sev1");var G=h(c(P),2),C=c(G,!0);l(G),l(P);var z=h(P,2);z.__click=()=>A(f,"sev2");var U=h(c(z),2),X=c(U,!0);l(U),l(z);var te=h(z,2);te.__click=()=>A(f,"sev3");var H=h(c(te),2),se=c(H,!0);l(H),l(te),l(q);var je=h(q,4),ae=c(je);ae.__click=()=>A(s,"active");var ie=h(ae,2);ie.__click=()=>A(s,"blocked");var ce=h(ie,2);ce.__click=()=>A(s,"completed");var le=h(ce,2);le.__click=()=>A(s,"cancelled"),l(je),l(B);var be=h(B,2),Ee=h(c(be),2);Ee.__click=g;var ge=h(Ee,2);ge.__click=p;var Xe=c(ge,!0);l(ge),l(be),l(j),l(M),l(T),re(ue=>{F(D,n(o)?"Edit Project":"New Project"),Q(P,1,`hover:bg-purple-500 btn justify-start gap-2 transition-all ${n(f)==="sev1"?"bg-purple-600 text-white":""}`),F(C,Ur[n(v)].sev1),Q(z,1,`hover:bg-emerald-500 hover:text-white btn justify-start gap-2 ${n(f)==="sev2"?"bg-emerald-600 text-white":""} transition-all`),F(X,Ur[n(v)].sev2),Q(te,1,`hover:bg-slate-500 hover:text-slate-300 ${n(f)==="sev3"?"bg-slate-500 text-white":""} btn justify-start gap-2 transition-all`),F(se,Ur[n(v)].sev3),Q(ae,1,`join-item btn btn-sm flex-1 ${n(s)==="active"?"btn-primary":""}`),Q(ie,1,`join-item btn btn-sm flex-1 ${n(s)==="blocked"?"btn-error":""}`),Q(ce,1,`join-item btn btn-sm flex-1 ${n(s)==="completed"?"btn-success":""}`),Q(le,1,`join-item btn btn-sm flex-1 ${n(s)==="cancelled"?"bg-base-content/30":""}`),ge.disabled=ue,F(Xe,n(o)?"Save":"Create")},[()=>!n(i).trim()]),Ge(3,E,()=>Tt,()=>({duration:200})),Tr(Y,()=>n(i),ue=>A(i,ue)),Ct(r,[],R,()=>{"regular";return n(v)},ue=>A(v,ue)),Ct(r,[],V,()=>{"maintenance";return n(v)},ue=>A(v,ue)),Ge(3,M,()=>Dt,()=>({y:300,duration:300})),I(w,T)};$(_,w=>{n(a)&&w(x)})}return I(e,m),xe(b)}we(["click","keydown"]);var Sl=N('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),Cl=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2 pb-10 "></div></div></div>');function jl(e,t){_e(t,!0);let r=ee(!1),a=ee(null),o=ee(void 0);function i(p,b,m){p.stopPropagation(),A(o,b,!0),A(a,m,!0),A(r,!0)}function s(){A(r,!1),A(a,null)}async function v(p,b){!n(a)||!n(o)||(b?await sn(n(a).id,p):await Go(n(a).id,n(o).id,p),s())}function f(p,b){const m=b??kt();return ct.getWeek(m)?.projectAssignments.some(x=>x.projectId===p)??!1}var d={openWeekPicker:i},u=fe(),k=ne(u);{var g=p=>{var b=Cl(),m=c(b);m.__click=s,m.__keydown=E=>E.key==="Escape"&&s();var _=h(m,2),x=c(_),w=h(c(x),2);w.__click=s,l(x);var T=h(x,2);De(T,21,Wo,He,(E,M)=>{const j=J(()=>f(n(a).id,n(M).weekOf));var y=Sl();y.__click=()=>v(n(M).weekOf,n(j));var O=c(y),D=c(O,!0);l(O);var S=h(O,2),B=c(S,!0);l(S),l(y),re(()=>{Q(y,1,`w-full p-3 text-left rounded-lg border transition-colors ${n(j)?"bg-base-200 text-primary border-primary":"border-base-content/10 hover:border-primary"}`),F(D,n(M).label),F(B,n(M).weekOf)}),I(E,y)}),l(T),l(_),l(b),Ge(3,m,()=>Tt,()=>({duration:200})),Ge(3,_,()=>Dt,()=>({y:300,duration:300})),I(p,b)};$(k,p=>{n(r)&&n(a)&&p(g)})}return I(e,u),xe(d)}we(["click","keydown"]);var Ml=N('<button type="button"> </button>'),Pl=N('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="join w-full"></div></div>'),Nl=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Buy groceries, Call mom"/></div> <!></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Rl(e,t){_e(t,!0);let r=ee(!1),a=ee(null),o=ee(""),i=ee("active"),s;function v(){A(a,null),A(o,""),A(i,"active"),A(r,!0),setTimeout(()=>s.focus(),100)}function f(m,_){m.stopPropagation(),A(a,_,!0),A(o,_.name,!0),A(i,_.status,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function d(){A(r,!1),A(a,null)}async function u(){!n(o).trim()||!t.selectedArea||(n(a)?await dn(t.selectedArea.id,n(a).index,{name:n(o).trim(),status:n(i)}):await Ho(t.selectedArea.id,n(o).trim()),d())}var k={openCreateOneOffModal:v,openEditOneOffModal:f},g=fe(),p=ne(g);{var b=m=>{var _=Nl(),x=c(_);x.__click=d,x.__keydown=R=>R.key==="Escape"&&d();var w=h(x,2),T=c(w),E=c(T),M=c(E,!0);l(E);var j=h(E,2);j.__click=d,l(T);var y=h(T,2),O=c(y),D=h(c(O),2);Ye(D),D.__keydown=R=>R.key==="Enter"&&u(),Ne(D,R=>s=R,()=>s),l(O);var S=h(O,2);{var B=R=>{var V=Pl(),q=h(c(V),2);De(q,21,()=>Cn,He,(P,G)=>{var C=Ml();C.__click=()=>A(i,n(G).value,!0);var z=c(C,!0);l(C),re(()=>{Q(C,1,`join-item btn btn-sm flex-1 ${n(i)===n(G).value?n(G).value==="active"?"btn-primary":n(G).value==="blocked"?"btn-warning":n(G).value==="completed"?"btn-success":"btn-neutral":""}`),F(z,n(G).label)}),I(P,C)}),l(q),l(V),I(R,V)};$(S,R=>{n(a)&&R(B)})}l(y);var W=h(y,2),Y=h(c(W),2);Y.__click=d;var L=h(Y,2);L.__click=u;var K=c(L,!0);l(L),l(W),l(w),l(_),re(R=>{F(M,n(a)?"Edit One-off":"New One-off"),L.disabled=R,F(K,n(a)?"Save":"Create")},[()=>!n(o).trim()]),Ge(3,x,()=>Tt,()=>({duration:200})),Tr(D,()=>n(o),R=>A(o,R)),Ge(3,w,()=>Dt,()=>({y:300,duration:300})),I(m,_)};$(p,m=>{n(r)&&m(b)})}return I(e,g),xe(k)}we(["click","keydown"]);var Ll=vt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Fl=vt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Bl=vt('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),zl=N('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),Wl=N("<button>This Week</button>"),Gl=N('<div class="px-2"><div class="flex items-center gap-2 p-3 bg-base-200 rounded-lg  cursor-pointer hover:bg-base-100 transition-colors" role="button" tabindex="0"><button type="button"><!></button> <span> </span> <!></div></div>'),Hl=N('<div class="text-center py-8 text-base-content/50 text-sm">No one-offs yet</div>'),Vl=N("<!> <!>",1);function Ul(e,t){_e(t,!0);let r=Oa(t,"filterMode",3,"active"),a=Oa(t,"reorderMode",3,!1),o;const i=kt();let s=J(()=>Zt.getByArea(t.selectedArea.id).filter(x=>{if(r()=="active")return["active","blocked"].includes(x.status)&&v(x.id);if(r()=="pending")return["active","blocked"].includes(x.status)&&!v(x.id);if(r()=="resolved")return["cancelled","completed"].includes(x.status)}));function v(x){return ct.isOneOffAssignedToWeek(x,i)}async function f(x,w){x.stopPropagation();const T=w.status==="completed"?"active":"completed";await dn(t.selectedArea.id,w.index,{status:T})}async function d(x,w){x.stopPropagation(),v(w.id)?await Vo(w.id,i):await Uo(w.id,t.selectedArea.id,i)}async function u(x,w){if(x.stopPropagation(),w===0)return;const T=Zt.getByArea(t.selectedArea.id),E=n(s)[w],M=n(s)[w-1],j=T.findIndex(D=>D.id===M.id),y=j>0?T[j-1].index:null,O=M.index;await Da(t.selectedArea.id,E.index,y,O)}async function k(x,w){if(x.stopPropagation(),w===n(s).length-1)return;const T=Zt.getByArea(t.selectedArea.id),E=n(s)[w],M=n(s)[w+1],j=T.findIndex(D=>D.id===M.id),y=M.index,O=j<T.length-1?T[j+1].index:null;await Da(t.selectedArea.id,E.index,y,O)}function g(){o.openCreateOneOffModal()}var p={openCreateModal:g},b=Vl(),m=ne(b);De(m,27,()=>n(s),x=>x.id,(x,w,T)=>{const E=J(()=>v(n(w).id)),M=J(()=>n(w).status=="completed"),j=J(()=>n(w).status=="cancelled"),y=J(()=>n(w).status=="blocked");var O=Gl(),D=c(O);D.__click=P=>o.openEditOneOffModal(P,n(w)),D.__keydown=P=>P.key==="Enter"&&o.openEditOneOffModal(P,n(w));var S=c(D);S.__click=P=>f(P,n(w));var B=c(S);{var W=P=>{var G=Ll();I(P,G)},Y=P=>{var G=fe(),C=ne(G);{var z=X=>{var te=Fl();I(X,te)},U=X=>{var te=fe(),H=ne(te);{var se=je=>{var ae=Bl();I(je,ae)};$(H,je=>{n(y)&&je(se)},!0)}I(X,te)};$(C,X=>{n(j)?X(z):X(U,!1)},!0)}I(P,G)};$(B,P=>{n(M)?P(W):P(Y,!1)})}l(S);var L=h(S,2),K=c(L,!0);l(L);var R=h(L,2);{var V=P=>{var G=zl(),C=ne(G);C.__click=U=>u(U,n(T));var z=h(C,2);z.__click=U=>k(U,n(T)),I(P,G)},q=P=>{var G=Wl();G.__click=C=>d(C,n(w)),re(()=>{Q(G,1,`px-2 py-1 text-xs rounded border transition-colors ${n(E)?"bg-primary/10 text-primary border-primary/30":"text-base-content/50 border-base-content/20 hover:border-primary/50"}`),$r(G,"title",n(E)?"Remove from this week":"Add to this week")}),I(P,G)};$(R,P=>{a()?P(V):P(q,!1)})}l(D),l(O),re(()=>{Q(S,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(M)?"bg-success/70 border-success/10 text-success-content":n(y)?"text-error border-error bg-error/30":n(j)?"bg-base-content/15 border-base-content/30 text-base-content":"border-base-content/30 hover:border-success/70"}`),S.disabled=n(j),Q(L,1,`flex-1 text-sm ${n(w).status==="completed"?"line-through text-base-content/50":""}`),F(K,n(w).name)}),Ft(O,()=>Bt,()=>({duration:250,easing:Mr})),I(x,O)},x=>{var w=Hl();I(x,w)});var _=h(m,2);return Ne(Rl(_,{get selectedArea(){return t.selectedArea}}),x=>o=x,()=>o),I(e,b),xe(p)}we(["click","keydown"]);var Zl=N("<button> </button>"),Yl=N("<div><!></div>"),ql=N('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),Kl=N('<div class="flex flex-col h-full bg-base-300"><div class="flex flex-col border-b border-base-content/10 gap-3 p-3 pb-0"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row gap-3 items-center"><div class="text-3xl"> </div> <h2 class="text-lg tracking-wide"> </h2></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="flex justify-between items-center"><div class="flex gap-1 flex-row justify-between"></div></div></div> <div class="px-4 py-2 border-b flex justify-between border-b-base-content/10 gap-4"><button type="button" class="text-primary text-sm cursor-pointer no-underline "><span class="me-1 text-base">+</span> <span>New</span></button> <div><button type="button"><span>Active</span></button> <button type="button"><span>Pending</span></button> <button type="button"><span>Resolved</span></button></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!></div></div></div> <!> <!> <!>',1);function Xl(e,t){_e(t,!0);let r,a,o,i;const s=kt(),v=["projects","oneoffs"];let f=ee(ot(localStorage.getItem("projectTabView")||"projects"));wt(()=>{n(f)&&localStorage.setItem("projectTabView",n(f))});let d=ee("active"),u=ee(!1),k=()=>A(u,!n(u)),g=J(()=>xt.getByArea(t.selectedArea.id).filter(ae=>n(f)=="oneoffs"?!1:n(d)=="active"?["active","blocked"].includes(ae.status)&&ct.isProjectAssignedToWeek(ae.id,s):n(d)=="resolved"?["completed","cancelled"].includes(ae.status):["active","blocked"].includes(ae.status)&&!ct.isProjectAssignedToWeek(ae.id,s)));async function p(ae,ie){if(ae.stopPropagation(),ie===0||!t.selectedArea)return;const ce=xt.getByArea(t.selectedArea.id),le=n(g)[ie],be=n(g)[ie-1],Ee=ce.findIndex(ue=>ue.id===be.id),ge=Ee>0?ce[Ee-1].index:null,Xe=be.index;await Ea(t.selectedArea.id,le.index,ge,Xe)}async function b(ae,ie){if(ae.stopPropagation(),!t.selectedArea||ie===n(g).length-1)return;const ce=xt.getByArea(t.selectedArea.id),le=n(g)[ie],be=n(g)[ie+1],Ee=ce.findIndex(ue=>ue.id===be.id),ge=be.index,Xe=Ee<ce.length-1?ce[Ee+1].index:null;console.log(ge,Xe),await Ea(t.selectedArea.id,le.index,ge,Xe)}async function m(){n(f)=="projects"?o.openCreateProjectModal():n(f)=="oneoffs"&&r.openCreateModal()}var _=Kl(),x=ne(_),w=c(x),T=c(w),E=c(T),M=c(E),j=c(M,!0);l(M);var y=h(M,2),O=c(y,!0);l(y),l(E);var D=h(E,2),S=c(D);S.__click=k;var B=h(c(S));l(S);var W=h(S,2);W.__click=ae=>a.openEditAreaModal(ae,t.selectedArea),l(D),l(T);var Y=h(T,2),L=c(Y);De(L,21,()=>v,He,(ae,ie)=>{const ce=J(()=>n(f)===n(ie));var le=Zl();le.__click=()=>A(f,n(ie),!0);var be=c(le,!0);l(le),re(()=>{Q(le,1,`capitalize px-3 py-2 border-b border-b-2 text-sm tracking-wider rounded-t-md transition-colors cursor-pointer whitespace-nowrap ${n(ce)?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),F(be,n(ie))}),I(ae,le)}),l(L),l(Y),l(w);var K=h(w,2),R=c(K);R.__click=m;var V=h(R,2),q=c(V);q.__click=()=>A(d,"active");var P=h(q,2);P.__click=()=>A(d,"pending");var G=h(P,2);G.__click=()=>A(d,"resolved"),l(V),l(K);var C=h(K,2),z=c(C),U=c(z);{var X=ae=>{Ne(Ul(ae,{get selectedArea(){return t.selectedArea},get filterMode(){return n(d)},get reorderMode(){return n(u)}}),ie=>r=ie,()=>r)},te=ae=>{var ie=fe(),ce=ne(ie);De(ce,27,()=>n(g),le=>le.id,(le,be,Ee)=>{var ge=Yl(),Xe=c(ge);Ol(Xe,{get index(){return n(Ee)},get reorderMode(){return n(u)},handleProjectAssign:(ue,tr)=>i.openWeekPicker(ue,t.selectedArea,tr),get navigateToTasks(){return t.navigateToTasks},get project(){return n(be)},handleProjectMoveUp:p,handleProjectMoveDown:b}),l(ge),Ft(ge,()=>Bt,()=>({duration:250,easing:Mr})),I(le,ge)},le=>{var be=ql(),Ee=c(be);l(be),re(()=>F(Ee,`No ${n(f)??""} projects`)),I(le,be)}),I(ae,ie)};$(U,ae=>{n(f)==="oneoffs"?ae(X):ae(te,!1)})}l(z),l(C),l(x);var H=h(x,2);Ne(Mn(H,{get selectedArea(){return t.selectedArea}}),ae=>o=ae,()=>o);var se=h(H,2);Ne(jl(se,{}),ae=>i=ae,()=>i);var je=h(se,2);Ne(jn(je,{}),ae=>a=ae,()=>a),re(()=>{F(j,t.selectedArea.icon),F(O,t.selectedArea.name),Q(S,1,`btn ${n(u)?"btn-success":"btn-ghost"} btn-xs`),F(B,` ${n(u)?"Done":"Reorder"}`),Q(q,1,`${n(d)=="active"?"bg-accent/20 text-accent":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),Q(P,1,`${n(d)=="pending"?"bg-primary/20 text-primary":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),Q(G,1,`${n(d)=="resolved"?"bg-success/20 text-success":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `)}),I(e,_),xe()}we(["click"]);var Jl=N('<button type="button"> </button>'),Ql=N('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),$l=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function ed(e,t){_e(t,!0);let r=ee(!1),a=ee(null),o=ee(""),i=ee("active"),s;function v(){A(a,null),A(o,""),A(i,"active"),A(r,!0),setTimeout(()=>s.focus(),100)}function f(m,_){m.stopPropagation(),A(a,_,!0),A(o,_.name,!0),A(i,_.status,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function d(){A(r,!1),A(a,null)}async function u(){!n(o).trim()||!t.selectedProject||!t.selectedArea||(n(a)?await cn(t.selectedProject.id,n(a).index,{name:n(o).trim(),status:n(i)}):await ln(t.selectedProject.id,t.selectedArea.id,n(o).trim()),d())}var k={openCreateTaskModal:v,openEditTaskModal:f},g=fe(),p=ne(g);{var b=m=>{var _=$l(),x=c(_);x.__click=d,x.__keydown=R=>R.key==="Escape"&&d();var w=h(x,2),T=c(w),E=c(T),M=c(E,!0);l(E);var j=h(E,2);j.__click=d,l(T);var y=h(T,2),O=c(y),D=h(c(O),2);Ye(D),D.__keydown=R=>R.key==="Enter"&&u(),Ne(D,R=>s=R,()=>s),l(O);var S=h(O,2);{var B=R=>{var V=Ql(),q=h(c(V),2);De(q,21,()=>Cn,He,(P,G)=>{var C=Jl();C.__click=()=>A(i,n(G).value,!0);var z=c(C,!0);l(C),re(()=>{Q(C,1,`px-2 py-1.5 text-sm rounded-lg border transition-colors ${n(i)===n(G).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),F(z,n(G).label)}),I(P,C)}),l(q),l(V),I(R,V)};$(S,R=>{n(a)&&R(B)})}l(y);var W=h(y,2),Y=h(c(W),2);Y.__click=d;var L=h(Y,2);L.__click=u;var K=c(L,!0);l(L),l(W),l(w),l(_),re(R=>{F(M,n(a)?"Edit Task":"New Task"),L.disabled=R,F(K,n(a)?"Save":"Create")},[()=>!n(o).trim()]),Ge(3,x,()=>Tt,()=>({duration:200})),Tr(D,()=>n(o),R=>A(o,R)),Ge(3,w,()=>Dt,()=>({y:300,duration:300})),I(m,_)};$(p,m=>{n(r)&&m(b)})}return I(e,g),xe(k)}we(["click","keydown"]);var td=vt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),rd=vt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),ad=vt('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),nd=N('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),od=N('<div tabindex="0" role="button" class="hover:bg-base-100 cursor-pointer w-full flex flex-row items-start py-4 px-3 bg-base-200 rounded-md"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function id(e,t){_e(t,!0);const r=J(()=>t.task.status==="completed"),a=J(()=>t.task.status==="cancelled"),o=J(()=>t.task.status==="blocked");var i=od();i.__click=b=>t.handleEdit(b,t.task);var s=c(i);s.__click=b=>t.toggleTaskComplete(b,t.task);var v=c(s);{var f=b=>{var m=td();I(b,m)},d=b=>{var m=fe(),_=ne(m);{var x=T=>{var E=rd();I(T,E)},w=T=>{var E=fe(),M=ne(E);{var j=y=>{var O=ad();I(y,O)};$(M,y=>{n(o)&&y(j)},!0)}I(T,E)};$(_,T=>{n(a)?T(x):T(w,!1)},!0)}I(b,m)};$(v,b=>{n(r)?b(f):b(d,!1)})}l(s);var u=h(s,2),k=c(u,!0);l(u);var g=h(u,2);{var p=b=>{var m=nd(),_=ne(m);_.__click=w=>t.handleTaskMoveUp(w,t.index);var x=h(_,2);x.__click=w=>t.handleTaskMoveDown(w,t.index),I(b,m)};$(g,b=>{t.reorderEnabled&&b(p)})}l(i),re(()=>{Q(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(r)?"bg-success/70 border-success/10 text-success-content":n(o)?"text-error border-error bg-error/30":n(a)?"bg-base-content/15 border-base-content/30 text-base-content":"border-base-content/30 hover:border-success/70"}`),s.disabled=n(a),F(k,t.task.name)}),I(e,i),xe()}we(["click"]);var sd=N("<span> </span>");function ld(e,t){const r={active:{label:"Active",class:"bg-info/20 text-info"},blocked:{label:"Blocked",class:"bg-error/20 text-error"},completed:{label:"Completed",class:"bg-success/20 text-success"},cancelled:{label:"Cancelled",class:"bg-base-content/10 text-base-content/40"}},a=J(()=>r[t.status]||r.active);var o=sd(),i=c(o,!0);l(o),re(()=>{Q(o,1,`inline-flex items-center px-2 py-0.5 rounded text-2xs font-medium ${n(a).class??""}`),F(i,n(a).label)}),I(e,o)}var dd=N("<div><!></div>"),cd=N('<div class="flex flex-col h-full w-full bg-base-300"><div class="flex flex-col p-3 gap-3 border-b border-base-content/10"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row items-center gap-1 text-xs  text-muted"><div class="text-base"> </div> <div> </div></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="mb-1"> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <!></div> <button type="button" class="text-xs flex items-center cursor-pointer mb-1 text-primary"><span class="me-1 text-base">+</span> <span>Add Task</span></button></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0 gap-2"></div></div></div> <!> <!>',1);function ud(e,t){_e(t,!0);let r,a,o=J(()=>_t.getByProject(t.selectedProject.id)),i=ee(!1),s=()=>A(i,!n(i));async function v(q,P){if(q.stopPropagation(),!t.selectedProject)return;const G=P.status==="completed"?"active":"completed";await cn(t.selectedProject.id,P.index,{status:G})}async function f(q,P){if(q.stopPropagation(),P===0||!t.selectedProject)return;const G=n(o),C=_t.getByProject(t.selectedProject.id),z=G[P],U=G[P-1],X=C.findIndex(se=>se.id===U.id),te=X>0?C[X-1].index:null,H=U.index;await Aa(t.selectedProject.id,z.index,te,H)}async function d(q,P){if(q.stopPropagation(),!t.selectedProject)return;const G=n(o);if(P===G.length-1)return;const C=_t.getByProject(t.selectedProject.id),z=G[P],U=G[P+1],X=C.findIndex(se=>se.id===U.id),te=U.index,H=X<C.length-1?C[X+1].index:null;await Aa(t.selectedProject.id,z.index,te,H)}var u=cd(),k=ne(u),g=c(k),p=c(g),b=c(p),m=c(b),_=c(m,!0);l(m);var x=h(m,2),w=c(x,!0);l(x),l(b);var T=h(b,2),E=c(T);E.__click=s;var M=h(c(E));l(E);var j=h(E,2);j.__click=q=>r.openEditProjectModal(q,t.selectedProject),l(T),l(p);var y=h(p,2),O=c(y,!0);l(y);var D=h(y,2),S=c(D),B=c(S);ld(B,{get status(){return t.selectedProject.status}});var W=h(B,2);kr(W,{get level(){return t.selectedProject.severity},get type(){return t.selectedProject.type}}),l(S);var Y=h(S,2);Y.__click=function(...q){a.openCreateTaskModal?.apply(this,q)},l(D),l(g);var L=h(g,2),K=c(L);De(K,31,()=>n(o),q=>q.id,(q,P,G)=>{var C=dd(),z=c(C);id(z,{get handleEdit(){return a.openEditTaskModal},handleTaskMoveUp:f,handleTaskMoveDown:d,get index(){return n(G)},get task(){return n(P)},toggleTaskComplete:v,get reorderEnabled(){return n(i)}}),l(C),Ft(C,()=>Bt,()=>({duration:250,easing:Mr})),I(q,C)}),l(K),l(L),l(k);var R=h(k,2);Ne(ed(R,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),q=>a=q,()=>a);var V=h(R,2);Ne(Mn(V,{get selectedArea(){return t.selectedArea}}),q=>r=q,()=>r),re(()=>{F(_,t.selectedArea.icon),F(w,t.selectedArea.name),Q(E,1,`btn ${n(i)?"btn-success":"btn-ghost"} btn-xs`),F(M,` ${n(i)?"Done":"Reorder"}`),F(O,t.selectedProject.name)}),I(e,u),xe()}we(["click"]);var vd=N('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),fd=N('<div class="h-screen flex flex-col bg-base-300 md:ml-20"><div class="max-md:pb-22 h-full"><!></div> <!></div>');function yd(e,t){_e(t,!0);const r=()=>s("areas"),a=()=>s("projects");let o=ee(void 0),i=ee(void 0);s("areas");function s(m){To("",{activeTab:m})}function v(m){A(o,m,!0),s("projects")}function f(m){A(i,m,!0),A(o,nt.getById(m.areaId),!0),s("tasks")}var d=fd(),u=c(d),k=c(u);{var g=m=>{kl(m,{onSelectArea:v})},p=m=>{var _=fe(),x=ne(_);{var w=E=>{Xl(E,{navigateBack:r,navigateToTasks:f,get selectedArea(){return n(o)}})},T=E=>{var M=fe(),j=ne(M);{var y=D=>{ud(D,{navigateBack:a,get selectedArea(){return n(o)},get selectedProject(){return n(i)}})},O=D=>{var S=fe(),B=ne(S);{var W=L=>{Us(L,{navigateToTasks:f})},Y=L=>{var K=fe(),R=ne(K);{var V=P=>{ll(P,{})},q=P=>{var G=fe(),C=ne(G);{var z=U=>{var X=vd();I(U,X)};$(C,U=>{gt.state.activeTab==="review"&&U(z)},!0)}I(P,G)};$(R,P=>{gt.state.activeTab==="today"?P(V):P(q,!1)},!0)}I(L,K)};$(B,L=>{gt.state.activeTab==="week"?L(W):L(Y,!1)},!0)}I(D,S)};$(j,D=>{gt.state.activeTab=="tasks"?D(y):D(O,!1)},!0)}I(E,M)};$(x,E=>{gt.state.activeTab==="projects"?E(w):E(T,!1)},!0)}I(m,_)};$(k,m=>{gt.state.activeTab==="areas"?m(g):m(p,!1)})}l(u);var b=h(u,2);ci(b,{get activeTab(){return gt.state.activeTab},onTabChange:s}),l(d),I(e,d),xe()}export{yd as component};
