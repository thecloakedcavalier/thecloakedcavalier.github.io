import{b as _n,d as xe,f as B,a as A,s as z,c as fe,e as ar,t as Ca,g as bt}from"../chunks/D5A3YMdU.js";import{M as Dr,U as xn,_ as Er,O as Ce,aq as yn,V as wn,g as n,w as kn,X as Tn,Y as Dn,Z as ia,$ as Ar,Q as Xt,aa as En,aE as An,ah as sa,H as ht,aG as Xe,N as Lr,T as In,a8 as la,a4 as On,aC as qr,aH as Sn,aI as jn,aJ as Cn,aK as Pn,I as Pa,K as Ma,aL as Ir,ay as Mn,aB as Nn,J as Rn,aM as Na,q as Lt,aN as Ln,A as Ra,W as Fn,aO as Bn,au as Wn,m as La,b as Kr,aP as zn,ap as Fa,aQ as Gn,aR as jt,n as Xr,e as Un,aS as Hn,aT as Vn,aU as Zn,aV as Yn,aW as qn,aX as Kn,aY as Ba,a5 as Xn,aZ as Jn,a_ as Qn,ao as $n,p as ye,i as oe,j as we,l,s as x,k as d,t as K,a1 as Q,y as O,a6 as $,x as vt,a as ft,ai as nr}from"../chunks/73LrsYGD.js";import{i as V}from"../chunks/CeV36ieW.js";import{a as eo}from"../chunks/Carg4spq.js";import{p as it}from"../chunks/DsAzAi2t.js";import{a1 as er,a2 as to,a3 as ro,a4 as ao,a5 as Wa,a6 as za,a7 as dt,a8 as no,a9 as Gt,aa as oo,ab as ct,ac as Ye,ad as Ut,ae as Ga,af as io,ag as Ua,ah as so,ai as lo,aj as co,ak as uo,al as vo,am as fo,an as bo,ao as go,ap as po,aq as ca,ar as Ha,as as mo,at as ho,au as _o,av as da,aw as Va,ax as ua}from"../chunks/DZo526rF.js";import{p as xo,b as at}from"../chunks/Dy5_ScyX.js";function Se(e,t){return t}function yo(e,t,r){for(var a=[],i=t.length,o,s=t.length,f=0;f<i;f++){let y=t[f];Ma(y,()=>{if(o){if(o.pending.delete(y),o.done.add(y),o.pending.size===0){var u=e.outrogroups;Fr(qr(o.done)),u.delete(o),u.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var b=a.length===0&&r!==null;if(b){var v=r,c=v.parentNode;Nn(c),c.append(v),e.items.clear()}Fr(t,!b)}else o={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(o)}function Fr(e,t=!0){for(var r=0;r<e.length;r++)Rn(e[r],t)}var va;function Ee(e,t,r,a,i,o=null){var s=e,f=new Map,b=(t&Na)!==0;if(b){var v=e;s=Ce?Er(yn(v)):v.appendChild(Dr())}Ce&&wn();var c=null,y=kn(()=>{var _=r();return Sn(_)?_:_==null?[]:qr(_)}),u,m=!0;function g(){h.fallback=c,wo(h,u,s,t,a),c!==null&&(u.length===0?(c.f&Xe)===0?Pa(c):(c.f^=Xe,Mt(c,null,s)):Ma(c,()=>{c=null}))}var p=xn(()=>{u=n(y);var _=u.length;let w=!1;if(Ce){var D=Tn(s)===Dn;D!==(_===0)&&(s=ia(),Er(s),Ar(!1),w=!0)}for(var T=new Set,C=ht,P=In(),k=0;k<_;k+=1){Ce&&Xt.nodeType===En&&Xt.data===An&&(s=Xt,w=!0,Ar(!1));var I=u[k],E=a(I,k),S=m?null:f.get(E);S?(S.v&&sa(S.v,I),S.i&&sa(S.i,k),P&&C.skipped_effects.delete(S.e)):(S=ko(f,m?s:va??=Dr(),I,E,k,i,t,r),m||(S.e.f|=Xe),f.set(E,S)),T.add(E)}if(_===0&&o&&!c&&(m?c=Lr(()=>o(s)):(c=Lr(()=>o(va??=Dr())),c.f|=Xe)),Ce&&_>0&&Er(ia()),!m)if(P){for(const[G,U]of f)T.has(G)||C.skipped_effects.add(U.e);C.oncommit(g),C.ondiscard(()=>{})}else g();w&&Ar(!0),n(y)}),h={effect:p,items:f,outrogroups:null,fallback:c};m=!1,Ce&&(s=Xt)}function wo(e,t,r,a,i){var o=(a&Ln)!==0,s=t.length,f=e.items,b=e.effect.first,v,c=null,y,u=[],m=[],g,p,h,_;if(o)for(_=0;_<s;_+=1)g=t[_],p=i(g,_),h=f.get(p).e,(h.f&Xe)===0&&(h.nodes?.a?.measure(),(y??=new Set).add(h));for(_=0;_<s;_+=1){if(g=t[_],p=i(g,_),h=f.get(p).e,e.outrogroups!==null)for(const S of e.outrogroups)S.pending.delete(h),S.done.delete(h);if((h.f&Xe)!==0)if(h.f^=Xe,h===b)Mt(h,null,r);else{var w=c?c.next:b;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),Qe(e,c,h),Qe(e,h,w),Mt(h,w,r),c=h,u=[],m=[],b=c.next;continue}if((h.f&Ir)!==0&&(Pa(h),o&&(h.nodes?.a?.unfix(),(y??=new Set).delete(h))),h!==b){if(v!==void 0&&v.has(h)){if(u.length<m.length){var D=m[0],T;c=D.prev;var C=u[0],P=u[u.length-1];for(T=0;T<u.length;T+=1)Mt(u[T],D,r);for(T=0;T<m.length;T+=1)v.delete(m[T]);Qe(e,C.prev,P.next),Qe(e,c,C),Qe(e,P,D),b=D,c=P,_-=1,u=[],m=[]}else v.delete(h),Mt(h,b,r),Qe(e,h.prev,h.next),Qe(e,h,c===null?e.effect.first:c.next),Qe(e,c,h),c=h;continue}for(u=[],m=[];b!==null&&b!==h;)(v??=new Set).add(b),m.push(b),b=b.next;if(b===null)continue}(h.f&Xe)===0&&u.push(h),c=h,b=h.next}if(e.outrogroups!==null){for(const S of e.outrogroups)S.pending.size===0&&(Fr(qr(S.done)),e.outrogroups?.delete(S));e.outrogroups.size===0&&(e.outrogroups=null)}if(b!==null||v!==void 0){var k=[];if(v!==void 0)for(h of v)(h.f&Ir)===0&&k.push(h);for(;b!==null;)(b.f&Ir)===0&&b!==e.fallback&&k.push(b),b=b.next;var I=k.length;if(I>0){var E=(a&Na)!==0&&s===0?r:null;if(o){for(_=0;_<I;_+=1)k[_].nodes?.a?.measure();for(_=0;_<I;_+=1)k[_].nodes?.a?.fix()}yo(e,k,E)}}o&&Lt(()=>{if(y!==void 0)for(h of y)h.nodes?.a?.apply()})}function ko(e,t,r,a,i,o,s,f){var b=(s&jn)!==0?(s&Cn)===0?On(r,!1,!1):la(r):null,v=(s&Pn)!==0?la(i):null;return{v:b,i:v,e:Lr(()=>(o(t,b??r,v??i,f),()=>{e.delete(a)}))}}function Mt(e,t,r){if(e.nodes)for(var a=e.nodes.start,i=e.nodes.end,o=t&&(t.f&Xe)===0?t.nodes.start:r;a!==null;){var s=Mn(a);if(o.before(a),a===i)return;a=s}}function Qe(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const To=()=>performance.now(),Ke={tick:e=>requestAnimationFrame(e),now:()=>To(),tasks:new Set};function Za(){const e=Ke.now();Ke.tasks.forEach(t=>{t.c(e)||(Ke.tasks.delete(t),t.f())}),Ke.tasks.size!==0&&Ke.tick(Za)}function Do(e){let t;return Ke.tasks.size===0&&Ke.tick(Za),{promise:new Promise(r=>{Ke.tasks.add(t={c:e,f:r})}),abort(){Ke.tasks.delete(t)}}}function Jt(e,t){Fa(()=>{e.dispatchEvent(new CustomEvent(t))})}function Eo(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function fa(e){const t={},r=e.split(";");for(const a of r){const[i,o]=a.split(":");if(!i||o===void 0)break;const s=Eo(i.trim());t[s]=o.trim()}return t}const Ao=e=>e;function Ya(e,t,r){var a=Ra,i=a.nodes,o,s,f,b=null;i.a??={element:e,measure(){o=this.element.getBoundingClientRect()},apply(){if(f?.abort(),s=this.element.getBoundingClientRect(),o.left!==s.left||o.right!==s.right||o.top!==s.top||o.bottom!==s.bottom){const v=t()(this.element,{from:o,to:s},r?.());f=or(this.element,v,void 0,1,()=>{f?.abort(),f=void 0})}},fix(){if(!e.getAnimations().length){var{position:v,width:c,height:y}=getComputedStyle(e);if(v!=="absolute"&&v!=="fixed"){var u=e.style;b={position:u.position,width:u.width,height:u.height,transform:u.transform},u.position="absolute",u.width=c,u.height=y;var m=e.getBoundingClientRect();if(o.left!==m.left||o.top!==m.top){var g=`translate(${o.left-m.left}px, ${o.top-m.top}px)`;u.transform=u.transform?`${u.transform} ${g}`:g}}}},unfix(){if(b){var v=e.style;v.position=b.position,v.width=b.width,v.height=b.height,v.transform=b.transform}}},i.a.element=e}function Be(e,t,r,a){var i=(e&zn)!==0,o="both",s,f=t.inert,b=t.style.overflow,v,c;function y(){return Fa(()=>s??=r()(t,a?.()??{},{direction:o}))}var u={is_global:i,in(){t.inert=f,Jt(t,"introstart"),v=or(t,y(),c,1,()=>{Jt(t,"introend"),v?.abort(),v=s=void 0,t.style.overflow=b})},out(h){t.inert=!0,Jt(t,"outrostart"),c=or(t,y(),v,0,()=>{Jt(t,"outroend"),h?.()})},stop:()=>{v?.abort(),c?.abort()}},m=Ra;if((m.nodes.t??=[]).push(u),_n){var g=i;if(!g){for(var p=m.parent;p&&(p.f&Fn)!==0;)for(;(p=p.parent)&&(p.f&Bn)===0;);g=!p||(p.f&Wn)!==0}g&&La(()=>{Kr(()=>u.in())})}}function or(e,t,r,a,i){var o=a===1;if(Gn(t)){var s,f=!1;return Lt(()=>{if(!f){var h=t({direction:o?"in":"out"});s=or(e,h,r,a,i)}}),{abort:()=>{f=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return i(),{abort:jt,deactivate:jt,reset:jt,t:()=>a};const{delay:b=0,css:v,tick:c,easing:y=Ao}=t;var u=[];if(o&&r===void 0&&(c&&c(0,1),v)){var m=fa(v(0,1));u.push(m,m)}var g=()=>1-a,p=e.animate(u,{duration:b,fill:"forwards"});return p.onfinish=()=>{p.cancel();var h=r?.t()??1-a;r?.abort();var _=a-h,w=t.duration*Math.abs(_),D=[];if(w>0){var T=!1;if(v)for(var C=Math.ceil(w/16.666666666666668),P=0;P<=C;P+=1){var k=h+_*y(P/C),I=fa(v(k,1-k));D.push(I),T||=I.overflow==="hidden"}T&&(e.style.overflow="hidden"),g=()=>{var E=p.currentTime;return h+_*y(E/w)},c&&Do(()=>{if(p.playState!=="running")return!1;var E=g();return c(E,1-E),!0})}p=e.animate(D,{duration:w,fill:"forwards"}),p.onfinish=()=>{g=()=>a,c?.(a,1-a),i()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=jt)},deactivate:()=>{i=jt},reset:()=>{a===0&&c?.(1,0)},t:()=>g()}}function Jr(e,t,r){La(()=>{var a=Kr(()=>t(e,r?.())||{});if(r&&a?.update){var i=!1,o={};Xr(()=>{var s=r();Un(s),i&&Hn(o,s)&&(o=s,a.update(s))}),i=!0}if(a?.destroy)return()=>a.destroy()})}const ba=[...` 	
\r\fÂ \v\uFEFF`];function Io(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var i in r)if(r[i])a=a?a+" "+i:i;else if(a.length)for(var o=i.length,s=0;(s=a.indexOf(i,s))>=0;){var f=s+o;(s===0||ba.includes(a[s-1]))&&(f===a.length||ba.includes(a[f]))?a=(s===0?"":a.substring(0,s))+a.substring(f+1):s=f}}return a===""?null:a}function ga(e,t=!1){var r=t?" !important;":";",a="";for(var i in e){var o=e[i];o!=null&&o!==""&&(a+=" "+i+": "+o+r)}return a}function Or(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Oo(e,t){if(t){var r="",a,i;if(Array.isArray(t)?(a=t[0],i=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,f=!1,b=[];a&&b.push(...Object.keys(a).map(Or)),i&&b.push(...Object.keys(i).map(Or));var v=0,c=-1;const p=e.length;for(var y=0;y<p;y++){var u=e[y];if(f?u==="/"&&e[y-1]==="*"&&(f=!1):o?o===u&&(o=!1):u==="/"&&e[y+1]==="*"?f=!0:u==='"'||u==="'"?o=u:u==="("?s++:u===")"&&s--,!f&&o===!1&&s===0){if(u===":"&&c===-1)c=y;else if(u===";"||y===p-1){if(c!==-1){var m=Or(e.substring(v,c).trim());if(!b.includes(m)){u!==";"&&y++;var g=e.substring(v,y).trim();r+=" "+g+";"}}v=y+1,c=-1}}}}return a&&(r+=ga(a)),i&&(r+=ga(i,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function re(e,t,r,a,i,o){var s=e.__className;if(Ce||s!==r||s===void 0){var f=Io(r,a,o);(!Ce||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):e.className=f),e.__className=r}else if(o&&i!==o)for(var b in o){var v=!!o[b];(i==null||v!==!!i[b])&&e.classList.toggle(b,v)}return o}function Sr(e,t={},r,a){for(var i in r){var o=r[i];t[i]!==o&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,a))}}function Ht(e,t,r,a){var i=e.__style;if(Ce||i!==t){var o=Oo(t,a);(!Ce||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}else a&&(Array.isArray(a)?(Sr(e,r?.[0],a[0]),Sr(e,r?.[1],a[1],"important")):Sr(e,r,a));return a}const So=Symbol("is custom element"),jo=Symbol("is html");function tt(e){if(Ce){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;Br(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var i=e.checked;Br(e,"checked",null),e.checked=i}}};e.__on_r=r,Lt(r),Vn()}}function Co(e,t){var r=qa(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Br(e,t,r,a){var i=qa(e);Ce&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=r)&&(t==="loading"&&(e[Zn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Po(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function qa(e){return e.__attributes??={[So]:e.nodeName.includes("-"),[jo]:e.namespaceURI===Yn}}var pa=new Map;function Po(e){var t=e.getAttribute("is")||e.nodeName,r=pa.get(t);if(r)return r;pa.set(t,r=[]);for(var a,i=e,o=Element.prototype;o!==i;){a=Kn(i);for(var s in a)a[s].set&&r.push(s);i=qn(i)}return r}function Qr(e,t,r=t){var a=new WeakSet;Ba(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=Cr(e)?Pr(o):o,r(o),ht!==null&&a.add(ht),await Xn(),o!==(o=t())){var s=e.selectionStart,f=e.selectionEnd,b=e.value.length;if(e.value=o??"",f!==null){var v=e.value.length;s===f&&f===b&&v>b?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=s,e.selectionEnd=Math.min(f,v))}}}),(Ce&&e.defaultValue!==e.value||Kr(t)==null&&e.value)&&(r(Cr(e)?Pr(e.value):e.value),ht!==null&&a.add(ht)),Xr(()=>{var i=t();if(e===document.activeElement){var o=Jn??ht;if(a.has(o))return}Cr(e)&&i===Pr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const jr=new Set;function ir(e,t,r,a,i=a){var o=r.getAttribute("type")==="checkbox",s=e;let f=!1;if(t!==null)for(var b of t)s=s[b]??=[];s.push(r),Ba(r,"change",()=>{var v=r.__value;o&&(v=ma(s,v,r.checked)),i(v)},()=>i(o?[]:null)),Xr(()=>{var v=a();if(Ce&&r.defaultChecked!==r.checked){f=!0;return}o?(v=v||[],r.checked=v.includes(r.__value)):r.checked=Qn(r.__value,v)}),$n(()=>{var v=s.indexOf(r);v!==-1&&s.splice(v,1)}),jr.has(s)||(jr.add(s),Lt(()=>{s.sort((v,c)=>v.compareDocumentPosition(c)===4?-1:1),jr.delete(s)})),Lt(()=>{if(f){var v;if(o)v=ma(s,v,r.checked);else{var c=s.find(y=>y.checked);v=c?.__value}i(v)}})}function ma(e,t,r){for(var a=new Set,i=0;i<e.length;i+=1)e[i].checked&&a.add(e[i].__value);return r||a.delete(t),Array.from(a)}function Cr(e){var t=e.type;return t==="number"||t==="range"}function Pr(e){return e===""?null:+e}const Mr={regular:{sev1:"I do this because it's who I am",sev2:"I do this to become better",sev3:"I do this because I enjoy it"},maintenance:{sev1:"Life breaks without this",sev2:"Keeps things running smooth",sev3:"Can wait or be skipped"}},Mo={regular:{sev1:"Core",sev2:"Growth",sev3:"Enrichment"},maintenance:{sev1:"Essential",sev2:"Routine",sev3:"Optional"}},No={regular:{sev1:"C",sev2:"G",sev3:"E"},maintenance:{sev1:"S",sev2:"R",sev3:"O"}},Ro=["ðŸ’¼","ðŸ ","ðŸ’ª","ðŸ“š","ðŸ’°","â¤ï¸","ðŸŽ¯","ðŸš€","ðŸŽ¨","ðŸŽµ","âœˆï¸","ðŸŽ","ðŸ§˜","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ“±","ðŸ’»","ðŸ”§","ðŸ“","ðŸŽ“","ðŸƒ","ðŸ§ ","ðŸŒ±","â­","ðŸ”¥","ðŸ’¡","ðŸŽ®","ðŸ“¸","ðŸ›’","ðŸ¦","ðŸš—","ðŸ‹ï¸"];var Lo=B('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),Fo=B('<button><span class="text-xl"> </span> <span class="text-xs font-medium"> </span></button>'),Bo=B('<nav class="md:hidden pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav> <nav class="hidden md:flex fixed left-0 top-0 bottom-0 w-20 bg-base-200 border-r border-base-content/10 flex-col items-center py-6 gap-2"></nav>',1);function Wo(e,t){ye(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var a=Bo(),i=oe(a);Ee(i,21,()=>r,Se,(s,f)=>{var b=Lo();let v;b.__click=()=>t.onTabChange(n(f).id);let c;var y=d(b),u=d(y,!0);l(y);var m=x(y,2),g=d(m,!0);l(m),l(b),K(()=>{v=re(b,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,v,{"text-primary":t.activeTab===n(f).id,"text-base-content":t.activeTab!==n(f).id}),c=Ht(b,"",c,{opacity:t.activeTab===n(f).id?1:.4}),z(u,n(f).icon),z(g,n(f).label)}),A(s,b)}),l(i);var o=x(i,2);Ee(o,21,()=>r,Se,(s,f)=>{var b=Fo();b.__click=()=>t.onTabChange(n(f).id);var v=d(b),c=d(v,!0);l(v);var y=x(v,2),u=d(y,!0);l(y),l(b),K(()=>{re(b,1,`flex flex-col ${t.activeTab==n(f).id?"bg-primary/20 text-primary":"text-base-content "} items-center gap-1 px-3 py-3 rounded-lg transition-colors w-16 `),z(c,n(f).icon),z(u,n(f).label)}),A(s,b)}),l(o),A(e,a),we()}xe(["click"]);const zo=e=>e;function Go(e){const t=e-1;return t*t*t+1}function ha(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Dt(e,{delay:t=0,duration:r=400,easing:a=zo}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:o=>`opacity: ${o*i}`}}function Et(e,{delay:t=0,duration:r=400,easing:a=Go,x:i=0,y:o=0,opacity:s=0}={}){const f=getComputedStyle(e),b=+f.opacity,v=f.transform==="none"?"":f.transform,c=b*(1-s),[y,u]=ha(i),[m,g]=ha(o);return{delay:t,duration:r,easing:a,css:(p,h)=>`
			transform: ${v} translate(${(1-p)*y}${u}, ${(1-p)*m}${g});
			opacity: ${b-c*h}`}}var Uo=B('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),Ho=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function Vo(e,t){ye(t,!0);let r=Q(!1),a=Q(null);function i(u,m,g,p){u.stopPropagation(),O(a,{task:m,project:g,area:p},!0),O(r,!0)}function o(){O(r,!1),O(a,null)}function s(){return ro(t.currentWeekOf).map(u=>({date:u,dayName:Wa(u),isToday:ao(u)}))}async function f(u){if(!n(a))return;const{task:m,project:g,area:p}=n(a);o();const h=t.isTaskAssignedToDay(m.id);h===u?await er(m.id,g.id,t.currentWeekOf,u):(h&&await er(m.id,g.id,t.currentWeekOf,h),await to(m.id,g.id,p.id,m.name,t.currentWeekOf,u,!1))}var b={openDayPicker:i},v=fe(),c=oe(v);{var y=u=>{var m=Ho(),g=d(m);g.__click=o,g.__keydown=I=>I.key==="Escape"&&o();var p=x(g,2),h=d(p),_=d(h),w=x(d(_),2),D=d(w,!0);l(w),l(_);var T=x(_,2);T.__click=o,l(h);var C=x(h,2);Ee(C,21,s,Se,(I,E)=>{const S=$(()=>t.isTaskAssignedToDay(n(a).task.id)===n(E).date);var G=Uo();G.__click=()=>f(n(E).date);var U=d(G),q=d(U,!0);l(U);var H=x(U,2),M=d(H,!0);l(H),l(G),K(j=>{re(G,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${n(S)?"bg-primary text-primary-content border-primary":n(E).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),z(q,n(E).dayName),z(M,j)},[()=>n(E).date.split("-")[2]]),A(I,G)}),l(C);var P=x(C,2),k=d(P);k.__click=()=>{const I=t.isTaskAssignedToDay(n(a).task.id);I&&er(n(a).task.id,n(a).project.id,t.currentWeekOf,I),o()},l(P),l(p),l(m),K(()=>z(D,n(a).task.name)),Be(3,g,()=>Dt,()=>({duration:200})),Be(3,p,()=>Et,()=>({y:300,duration:300})),A(u,m)};V(c,u=>{n(r)&&n(a)&&u(y)})}return A(e,v),we(b)}xe(["click","keydown"]);function _a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_a(Object(r),!0).forEach(function(a){wt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _t(e){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(e)}function wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zo(e,t){if(e==null)return{};var r={},a=Object.keys(e),i,o;for(o=0;o<a.length;o++)i=a[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Yo(e,t){if(e==null)return{};var r=Zo(e,t),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qo(e,t){return Xo(e)||Qo(e,t)||$r(e,t)||ei()}function Fe(e){return Ko(e)||Jo(e)||$r(e)||$o()}function Ko(e){if(Array.isArray(e))return Wr(e)}function Xo(e){if(Array.isArray(e))return e}function Jo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qo(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],i=!0,o=!1,s,f;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));i=!0);}catch(b){o=!0,f=b}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw f}}return a}}function $r(e,t){if(e){if(typeof e=="string")return Wr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wr(e,t)}}function Wr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $o(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ei(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=$r(e))||t){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(b){throw b},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,f;return{s:function(){r=r.call(e)},n:function(){var b=r.next();return o=b.done,b},e:function(b){s=!0,f=b},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw f}}}}var ti="finalize",ri="consider";function kt(e,t,r){e.dispatchEvent(new CustomEvent(ti,{detail:{items:t,info:r}}))}function nt(e,t,r){e.dispatchEvent(new CustomEvent(ri,{detail:{items:t,info:r}}))}var br="draggedEntered",Zt="draggedLeft",gr="draggedOverIndex",ea="draggedLeftDocument",lr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function ai(e,t,r){e.dispatchEvent(new CustomEvent(br,{detail:{indexObj:t,draggedEl:r}}))}function ni(e,t,r){e.dispatchEvent(new CustomEvent(Zt,{detail:{draggedEl:t,type:lr.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function oi(e,t){e.dispatchEvent(new CustomEvent(Zt,{detail:{draggedEl:t,type:lr.OUTSIDE_OF_ANY}}))}function ii(e,t,r){e.dispatchEvent(new CustomEvent(gr,{detail:{indexObj:t,draggedEl:r}}))}function si(e){window.dispatchEvent(new CustomEvent(ea,{detail:{draggedEl:e}}))}var Oe={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:br,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:gr,DRAGGED_LEFT:Zt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Me={POINTER:"pointer",KEYBOARD:"keyboard"},pr="isDndShadowItem",mr="data-is-dnd-shadow-item-internal",li="data-is-dnd-shadow-item-hint",Ka="id:dnd-shadow-placeholder-0000",ci="dnd-action-dragged-el",he="id",zr=0;function Xa(){zr++}function Ja(){if(zr===0)throw new Error("Bug! trying to decrement when there are no dropzones");zr--}var ta=typeof window>"u";function Gr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?vi(e):e.getBoundingClientRect(),i=getComputedStyle(e),o=i.transform;if(o){var s,f,b,v;if(o.startsWith("matrix3d("))r=o.slice(9,-1).split(/, /),s=+r[0],f=+r[5],b=+r[12],v=+r[13];else if(o.startsWith("matrix("))r=o.slice(7,-1).split(/, /),s=+r[0],f=+r[3],b=+r[4],v=+r[5];else return a;var c=i.transformOrigin,y=a.x-b-(1-s)*parseFloat(c),u=a.y-v-(1-f)*parseFloat(c.slice(c.indexOf(" ")+1)),m=s?a.width/s:e.offsetWidth,g=f?a.height/f:e.offsetHeight;return{x:y,y:u,width:m,height:g,top:u,right:y+m,bottom:u+g,left:y}}else return a}function Qa(e){var t=Gr(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function $a(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function en(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function di(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hr(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Ft(e){return en($a(e))}function xa(e,t){var r=Ft(e),a=Qa(t);return hr(r,a)}function ya(e,t){var r=Ft(e),a=Ft(t);return di(r,a)}function ui(e){var t=$a(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function vi(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,i=!1,o=e.parentElement;o&&o!==document.body;){var s=window.getComputedStyle(o),f=s.overflowY,b=s.overflowX,v=f==="scroll"||f==="auto",c=b==="scroll"||b==="auto";if(v||c){var y=o.getBoundingClientRect();if(v){var u=Math.max(r.top,y.top),m=Math.min(r.bottom,y.bottom);(u!==r.top||m!==r.bottom)&&(a=!0),r.top=u,r.bottom=m}if(c){var g=Math.max(r.left,y.left),p=Math.min(r.right,y.right);(g!==r.left||p!==r.right)&&(i=!0),r.left=g,r.right=p}}o=o.parentElement}return a||i?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var xt;function ra(){xt=new Map}ra();function fi(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(mr)});if(t>=0)return xt.has(e)||xt.set(e,new Map),xt.get(e).set(t,Qa(e.children[t])),t}function bi(e,t){if(!xa(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=fi(t),i=0;i<r.length;i++)if(xa(e,r[i])){var o=xt.has(t)&&xt.get(t).get(i);return o&&!hr(Ft(e),o)?{index:a,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var s=Number.MAX_VALUE,f=void 0,b=0;b<r.length;b++){var v=ya(e,r[b]);v<s&&(s=v,f=b)}if(r.length>0){var c=r.length,y=r[c-1],u=y.cloneNode(!1);u.style.visibility="hidden",u.style.pointerEvents="none",t.appendChild(u);var m=ya(e,u);m<s&&(f=c),t.removeChild(u)}return{index:f,isProximityBased:!0}}function Ct(e){return JSON.stringify(e,null,2)}function cr(e){if(!e)throw new Error("cannot get depth of a falsy node");return tn(e,0)}function tn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?tn(e.parentElement,t+1):t-1}function gi(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function pi(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var mi=200,wa=10,Ur;function hi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mi,a=arguments.length>3?arguments[3]:void 0,i,o,s=!1,f,b=Array.from(t).sort(function(c,y){return cr(y)-cr(c)});function v(){var c=Ft(e),y=a.multiScrollIfNeeded();if(!y&&f&&Math.abs(f.x-c.x)<wa&&Math.abs(f.y-c.y)<wa){Ur=window.setTimeout(v,r);return}if(ui(e)){si(e);return}f=c;var u=!1,m=Vt(b),g;try{for(m.s();!(g=m.n()).done;){var p=g.value;y&&ra();var h=bi(e,p);if(h!==null){var _=h.index;u=!0,p!==i?(i&&ni(i,e,p),ai(p,h,e),i=p):_!==o&&(ii(p,h,e),o=_);break}}}catch(w){m.e(w)}finally{m.f()}!u&&s&&i?(oi(i,e),i=void 0,o=void 0,s=!1):s=!0,Ur=window.setTimeout(v,r)}v()}function _i(){clearTimeout(Ur),ra()}var Pt=30;function xi(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(o){var s=e,f=s.directionObj,b=s.stepPx;f&&(o.scrollBy(f.x*b,f.y*b),window.requestAnimationFrame(function(){return r(o)}))}function a(o){return Pt-o}function i(o,s){if(!s)return!1;var f=yi(o,s),b=!!e.directionObj;if(f===null)return b&&t(),!1;var v=!1,c=!1;return s.scrollHeight>s.clientHeight&&(f.bottom<Pt?(v=!0,e.directionObj={x:0,y:1},e.stepPx=a(f.bottom)):f.top<Pt&&(v=!0,e.directionObj={x:0,y:-1},e.stepPx=a(f.top)),!b&&v)||s.scrollWidth>s.clientWidth&&(f.right<Pt?(c=!0,e.directionObj={x:1,y:0},e.stepPx=a(f.right)):f.left<Pt&&(c=!0,e.directionObj={x:-1,y:0},e.stepPx=a(f.left)),!b&&c)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function yi(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return hr(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function wi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Ti(e),a=Array.from(r).sort(function(b,v){return cr(v)-cr(b)}),i=xi(),o=i.scrollIfNeeded,s=i.resetScrolling;function f(){var b=t();if(!b||!a)return!1;for(var v=a.filter(function(u){return hr(b,u.getBoundingClientRect())||u===document.scrollingElement}),c=0;c<v.length;c++){var y=o(b,v[c]);if(y)return!0}return!1}return{multiScrollIfNeeded:r.size>0?f:function(){return!1},destroy:function(){return s()}}}function ki(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),i=a.overflow;i.split(" ").some(function(o){return o.includes("auto")||o.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Ti(e){var t=new Set,r=Vt(e),a;try{for(r.s();!(a=r.n()).done;){var i=a.value;ki(i).forEach(function(o){return t.add(o)})}}catch(o){r.e(o)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Di(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",i=a?[e]:Fe(e.querySelectorAll("select")),o=Vt(i),s;try{for(o.s();!(s=o.n()).done;){var f=s.value;r.push(f.value)}}catch(D){o.e(D)}finally{o.f()}if(i.length>0)for(var b=a?[t]:Fe(t.querySelectorAll("select")),v=0;v<b.length;v++){var c=b[v],y=r[v],u=c.querySelector('option[value="'.concat(y,'"'));u&&u.setAttribute("selected",!0)}var m=e.tagName==="CANVAS",g=m?[e]:Fe(e.querySelectorAll("canvas"));if(g.length>0)for(var p=m?[t]:Fe(t.querySelectorAll("canvas")),h=0;h<p.length;h++){var _=g[h],w=p[h];w.width=_.width,w.height=_.height,_.width>0&&_.height>0&&w.getContext("2d").drawImage(_,0,0)}return t}var Bt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Ei=wt({},Bt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function rn(e){if(!Bt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Bt)));return Ei[e]}var Ai=.2;function st(e){return"".concat(e," ").concat(Ai,"s ease")}function Ii(e,t){var r=e.getBoundingClientRect(),a=Di(e);an(e,a),a.id=ci,a.style.position="fixed";var i=r.top,o=r.left;if(a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px"),t){var s=en(r);i-=s.y-t.y,o-=s.x-t.x,window.setTimeout(function(){a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(st("top"),", ").concat(st("left"),", ").concat(st("background-color"),", ").concat(st("opacity"),", ").concat(st("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(st("width"),", ").concat(st("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function Oi(e){e.style.cursor="grab"}function Si(e,t,r,a){an(t,e);var i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),s=i.width-o.width,f=i.height-o.height;if(s||f){var b={left:(r-o.left)/o.width,top:(a-o.top)/o.height};rn(Bt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-b.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-b.top*f,"px")}}function an(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||rn(Bt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function ji(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function nn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Ci(e){e.style.visibility="hidden",e.setAttribute(mr,"true")}function Pi(e){e.style.visibility="",e.removeAttribute(mr)}function tr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var i=t(a);Object.keys(i).forEach(function(o){a.style[o]=i[o]}),r(a).forEach(function(o){return a.classList.add(o)})})}function dr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var i=t(a);Object.keys(i).forEach(function(o){a.style[o]=""}),r(a).forEach(function(o){return a.classList.contains(o)&&a.classList.remove(o)})})}function Mi(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Ni="--any--",Ri=100,Li=20,Qt=3,Fi=80,ka={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ta="data-is-dnd-original-dragged-item",je,_e,Pe,_r,ve,xr,rt,De,He,Ae,$e=!1,aa=!1,na,Yt=!1,rr=[],Rt,Ve,Nt=!1,Ge=new Map,ge=new Map,Nr=new WeakMap;function Bi(e,t){Ge.has(t)||Ge.set(t,new Set),Ge.get(t).has(e)||(Ge.get(t).add(e),Xa())}function Da(e,t){Ge.get(t).delete(e),Ja(),Ge.get(t).size===0&&Ge.delete(t)}function Wi(){var e=Ge.get(_r),t=Vt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(br,on),a.addEventListener(Zt,sn),a.addEventListener(gr,ln)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(ea,Tt);var i=Math.max.apply(Math,Fe(Array.from(e.keys()).map(function(s){return ge.get(s).dropAnimationDurationMs}))),o=i===0?Li:Math.max(i,Ri);Rt=wi(e,function(){return Ae}),hi(_e,e,o*1.07,Rt)}function zi(){var e=Ge.get(_r),t=Vt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(br,on),a.removeEventListener(Zt,sn),a.removeEventListener(gr,ln)}}catch(i){t.e(i)}finally{t.f()}window.removeEventListener(ea,Tt),Rt&&(Rt.destroy(),Rt=void 0),_i()}function yr(e){return e.findIndex(function(t){return!!t[pr]})}function Gi(e){var t;return sr(sr({},e),{},(t={},wt(t,pr,!0),wt(t,he,Ka),t))}function on(e){var t=ge.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve)){if(Yt=!1,r=r.filter(function(f){return f[he]!==rt[he]&&f[he]!==Ka}),ve!==e.currentTarget){var i=ge.get(ve).items,o=i.filter(function(f){return!f[pr]});nt(ve,o,{trigger:Oe.DRAGGED_ENTERED_ANOTHER,id:Pe[he],source:Me.POINTER})}var s=e.detail.indexObj.index;De=e.currentTarget,r.splice(s,0,rt),nt(e.currentTarget,r,{trigger:Oe.DRAGGED_ENTERED,id:Pe[he],source:Me.POINTER})}}function sn(e){if($e){var t=ge.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve&&e.currentTarget!==De)){var i=Fe(r),o=yr(i);o!==-1&&i.splice(o,1);var s=De;De=void 0;var f=e.detail,b=f.type,v=f.theOtherDz;if(b===lr.OUTSIDE_OF_ANY||b===lr.LEFT_FOR_ANOTHER&&v!==ve&&ge.get(v).dropFromOthersDisabled){Yt=!0,De=ve;var c=s===ve?i:Fe(ge.get(ve).items);c.splice(xr,0,rt),nt(ve,c,{trigger:Oe.DRAGGED_LEFT_ALL,id:Pe[he],source:Me.POINTER})}nt(e.currentTarget,i,{trigger:Oe.DRAGGED_LEFT,id:Pe[he],source:Me.POINTER})}}}function ln(e){var t=ge.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve)){var i=Fe(r);Yt=!1;var o=e.detail.indexObj.index,s=yr(i);s!==-1&&i.splice(s,1),i.splice(o,0,rt),nt(e.currentTarget,i,{trigger:Oe.DRAGGED_OVER_INDEX,id:Pe[he],source:Me.POINTER})}}function ur(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Ae={x:t.clientX,y:t.clientY},_e.style.transform="translate3d(".concat(Ae.x-He.x,"px, ").concat(Ae.y-He.y,"px, 0)")}function Tt(){aa=!0,window.removeEventListener("mousemove",ur),window.removeEventListener("touchmove",ur),window.removeEventListener("mouseup",Tt),window.removeEventListener("touchend",Tt),zi(),Oi(_e),De||(De=ve);var e=ge.get(De),t=e.items,r=e.type;dr(Ge.get(r),function(o){return ge.get(o).dropTargetStyle},function(o){return ge.get(o).dropTargetClasses});var a=yr(t);a===-1&&De===ve&&(a=xr),t=t.map(function(o){return o[pr]?Pe:o});function i(){na(),kt(De,t,{trigger:Yt?Oe.DROPPED_OUTSIDE_OF_ANY:Oe.DROPPED_INTO_ZONE,id:Pe[he],source:Me.POINTER}),De!==ve&&kt(ve,ge.get(ve).items,{trigger:Oe.DROPPED_INTO_ANOTHER,id:Pe[he],source:Me.POINTER});var o=Array.from(De.children).find(function(s){return s.getAttribute(mr)});o&&Pi(o),Vi()}ge.get(De).dropAnimationDisabled?i():Ui(a,i)}function Ui(e,t){var r=e>-1?Gr(De.children[e],!1):Gr(De,!1),a={x:r.left-parseFloat(_e.style.left),y:r.top-parseFloat(_e.style.top)},i=ge.get(De),o=i.dropAnimationDurationMs,s="transform ".concat(o,"ms ease");_e.style.transition=_e.style.transition?_e.style.transition+","+s:s,_e.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,o)}function Hi(e,t){rr.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){nn(e),document.body.appendChild(e)})}function Vi(){_e&&_e.remove&&_e.remove(),je&&je.remove&&je.remove(),_e=void 0,je=void 0,Pe=void 0,_r=void 0,ve=void 0,xr=void 0,rt=void 0,De=void 0,He=void 0,Ae=void 0,$e=!1,aa=!1,na=void 0,Yt=!1,Ve&&clearTimeout(Ve),Ve=void 0,Nt=!1,rr.length&&(rr.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),rr=[])}function Zi(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:ka,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function o(){window.addEventListener("mousemove",b,{passive:!1}),window.addEventListener("touchmove",b,{passive:!1,capture:!1}),window.addEventListener("mouseup",f,{passive:!1}),window.addEventListener("touchend",f,{passive:!1})}function s(){window.removeEventListener("mousemove",b),window.removeEventListener("touchmove",b),window.removeEventListener("mouseup",f),window.removeEventListener("touchend",f),Ve&&(clearTimeout(Ve),Ve=void 0,Nt=!1)}function f(u){if(s(),je=void 0,He=void 0,Ae=void 0,u.type==="touchend"){var m=new Event("click",{bubbles:!0,cancelable:!0});u.target.dispatchEvent(m)}}function b(u){var m=!!u.touches,g=m?u.touches[0]:u;if(m&&a.delayTouchStartMs>0&&!Nt){Ae={x:g.clientX,y:g.clientY},(Math.abs(Ae.x-He.x)>=Qt||Math.abs(Ae.y-He.y)>=Qt)&&(Ve&&(clearTimeout(Ve),Ve=void 0),f(u));return}u.preventDefault(),Ae={x:g.clientX,y:g.clientY},(Math.abs(Ae.x-He.x)>=Qt||Math.abs(Ae.y-He.y)>=Qt)&&(s(),c())}function v(u){if(!(u.target!==u.currentTarget&&(u.target.value!==void 0||u.target.isContentEditable))&&!u.button&&!$e){var m=!!u.touches,g=m&&a.delayTouchStartMs>0;g||u.preventDefault(),u.stopPropagation();var p=m?u.touches[0]:u;He={x:p.clientX,y:p.clientY},Ae=sr({},He),je=u.currentTarget,g&&(Nt=!1,Ve=window.setTimeout(function(){je&&(Nt=!0,s(),c())},a.delayTouchStartMs)),o()}}function c(){$e=!0;var u=i.get(je);xr=u,ve=je.parentElement;var m=ve.closest("dialog")||ve.closest("[popover]")||ve.getRootNode(),g=m.body||m,p=a.items,h=a.type,_=a.centreDraggedOnCursor,w=Fe(p);Pe=w[u],_r=h,rt=Gi(Pe),_e=Ii(je,_&&Ae),g.appendChild(_e);function D(){je.parentElement?window.requestAnimationFrame(D):(je.setAttribute(Ta,!0),g.appendChild(je),Wi(),nn(je),rt[he]=Pe[he],_e.focus())}window.requestAnimationFrame(D),tr(Array.from(Ge.get(a.type)).filter(function(T){return T===ve||!ge.get(T).dropFromOthersDisabled}),function(T){return ge.get(T).dropTargetStyle},function(T){return ge.get(T).dropTargetClasses}),w.splice(u,1,rt),na=Mi(ve),nt(ve,w,{trigger:Oe.DRAG_STARTED,id:Pe[he],source:Me.POINTER}),window.addEventListener("mousemove",ur,{passive:!1}),window.addEventListener("touchmove",ur,{passive:!1,capture:!1}),window.addEventListener("mouseup",Tt,{passive:!1}),window.addEventListener("touchend",Tt,{passive:!1})}function y(u){var m=u.items,g=m===void 0?void 0:m,p=u.flipDurationMs,h=p===void 0?0:p,_=u.type,w=_===void 0?Ni:_,D=u.dragDisabled,T=D===void 0?!1:D,C=u.morphDisabled,P=C===void 0?!1:C,k=u.dropFromOthersDisabled,I=k===void 0?!1:k,E=u.dropTargetStyle,S=E===void 0?ka:E,G=u.dropTargetClasses,U=G===void 0?[]:G,q=u.transformDraggedElement,H=q===void 0?function(){}:q,M=u.centreDraggedOnCursor,j=M===void 0?!1:M,L=u.dropAnimationDisabled,X=L===void 0?!1:L,N=u.delayTouchStart,R=N===void 0?!1:N;a.dropAnimationDurationMs=h;var F=0;R===!0?F=Fi:typeof R=="number"&&isFinite(R)&&R>=0&&(F=R),a.delayTouchStartMs=F,a.type&&w!==a.type&&Da(e,a.type),a.type=w,a.items=Fe(g),a.dragDisabled=T,a.morphDisabled=P,a.transformDraggedElement=H,a.centreDraggedOnCursor=j,a.dropAnimationDisabled=X,r&&$e&&!aa&&(!gi(S,a.dropTargetStyle)||!pi(U,a.dropTargetClasses))&&(dr([e],function(){return a.dropTargetStyle},function(){return U}),tr([e],function(){return S},function(){return U})),a.dropTargetStyle=S,a.dropTargetClasses=Fe(U);function W(ne,be){return ge.get(ne)?ge.get(ne)[be]:a[be]}r&&$e&&a.dropFromOthersDisabled!==I&&(I?dr([e],function(ne){return W(ne,"dropTargetStyle")},function(ne){return W(ne,"dropTargetClasses")}):tr([e],function(ne){return W(ne,"dropTargetStyle")},function(ne){return W(ne,"dropTargetClasses")})),a.dropFromOthersDisabled=I,ge.set(e,a),Bi(e,w);for(var Y=$e?yr(a.items):-1,ee=0;ee<e.children.length;ee++){var ie=e.children[ee];if(ji(ie,T),ee===Y){P||Si(_e,ie,Ae.x,Ae.y),a.transformDraggedElement(_e,Pe,ee),Ci(ie);continue}ie.removeEventListener("mousedown",Nr.get(ie)),ie.removeEventListener("touchstart",Nr.get(ie)),T||(ie.addEventListener("mousedown",v),ie.addEventListener("touchstart",v),Nr.set(ie,v)),i.set(ie,ee),r||(r=!0)}}return y(t),{update:function(m){y(m)},destroy:function(){function m(){Da(e,ge.get(e).type),ge.delete(e)}$e&&!e.closest("[".concat(Ta,"]"))?Hi(e,m):m()}}}var $t,Hr={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},cn=($t={},wt($t,Hr.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),wt($t,Hr.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),$t),Yi="dnd-action-aria-alert",me;function Vr(){me||(me=document.createElement("div"),(function(){me.id=Yi,me.style.position="fixed",me.style.bottom="0",me.style.left="0",me.style.zIndex="-5",me.style.opacity="0",me.style.height="0",me.style.width="0",me.setAttribute("role","alert")})(),document.body.prepend(me),Object.entries(cn).forEach(function(e){var t=qo(e,2),r=t[0],a=t[1];return document.body.prepend(Xi(r,a))}))}function qi(){return ta?null:(document.readyState==="complete"?Vr():window.addEventListener("DOMContentLoaded",Vr),sr({},Hr))}function Ki(){ta||!me||(Object.keys(cn).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),me.remove(),me=void 0)}function Xi(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function yt(e){if(!ta){me||Vr(),me.innerHTML="";var t=document.createTextNode(e);me.appendChild(t),me.style.display="none",me.style.display="inline"}}var Ji="--any--",Ea={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Le=!1,Zr,Ie,ut="",lt,Ze,et="",vr=new WeakSet,Aa=new WeakMap,Ia=new WeakMap,Yr=new Map,Te=new Map,ze=new Map,fr;function Qi(e,t){ze.size===0&&(fr=qi(),window.addEventListener("keydown",dn),window.addEventListener("click",un)),ze.has(t)||ze.set(t,new Set),ze.get(t).has(e)||(ze.get(t).add(e),Xa())}function Oa(e,t){Ie===e&&Wt(),ze.get(t).delete(e),Ja(),ze.get(t).size===0&&ze.delete(t),ze.size===0&&(window.removeEventListener("keydown",dn),window.removeEventListener("click",un),fr=void 0,Ki())}function dn(e){if(Le)switch(e.key){case"Escape":{Wt();break}}}function un(){Le&&(vr.has(document.activeElement)||Wt())}function $i(e){if(Le){var t=e.currentTarget;if(t!==Ie){ut=t.getAttribute("aria-label")||"";var r=Te.get(Ie),a=r.items,i=a.find(function(y){return y[he]===Ze}),o=a.indexOf(i),s=a.splice(o,1)[0],f=Te.get(t),b=f.items,v=f.autoAriaDisabled;t.getBoundingClientRect().top<Ie.getBoundingClientRect().top||t.getBoundingClientRect().left<Ie.getBoundingClientRect().left?(b.push(s),v||yt("Moved item ".concat(et," to the end of the list ").concat(ut))):(b.unshift(s),v||yt("Moved item ".concat(et," to the beginning of the list ").concat(ut)));var c=Ie;kt(c,a,{trigger:Oe.DROPPED_INTO_ANOTHER,id:Ze,source:Me.KEYBOARD}),kt(t,b,{trigger:Oe.DROPPED_INTO_ZONE,id:Ze,source:Me.KEYBOARD}),Ie=t}}}function vn(){Yr.forEach(function(e,t){var r=e.update;return r(Te.get(t))})}function Wt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Te.get(Ie).autoAriaDisabled||yt("Stopped dragging item ".concat(et)),vr.has(document.activeElement)&&document.activeElement.blur(),e&&nt(Ie,Te.get(Ie).items,{trigger:Oe.DRAG_STOPPED,id:Ze,source:Me.KEYBOARD}),dr(ze.get(Zr),function(t){return Te.get(t).dropTargetStyle},function(t){return Te.get(t).dropTargetClasses}),lt=null,Ze=null,et="",Zr=null,Ie=null,ut="",Le=!1,vn()}function es(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ea,dropTargetClasses:[],autoAriaDisabled:!1};function a(c,y,u){c.length<=1||c.splice(u,1,c.splice(y,1,c[u])[0])}function i(c){switch(c.key){case"Enter":case" ":{if((c.target.disabled!==void 0||c.target.href||c.target.isContentEditable)&&!vr.has(c.target))return;c.preventDefault(),c.stopPropagation(),Le?Wt():o(c);break}case"ArrowDown":case"ArrowRight":{if(!Le)return;c.preventDefault(),c.stopPropagation();var y=Te.get(e),u=y.items,m=Array.from(e.children),g=m.indexOf(c.currentTarget);g<m.length-1&&(r.autoAriaDisabled||yt("Moved item ".concat(et," to position ").concat(g+2," in the list ").concat(ut)),a(u,g,g+1),kt(e,u,{trigger:Oe.DROPPED_INTO_ZONE,id:Ze,source:Me.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Le)return;c.preventDefault(),c.stopPropagation();var p=Te.get(e),h=p.items,_=Array.from(e.children),w=_.indexOf(c.currentTarget);w>0&&(r.autoAriaDisabled||yt("Moved item ".concat(et," to position ").concat(w," in the list ").concat(ut)),a(h,w,w-1),kt(e,h,{trigger:Oe.DROPPED_INTO_ZONE,id:Ze,source:Me.KEYBOARD}));break}}}function o(c){f(c.currentTarget),Ie=e,Zr=r.type,Le=!0;var y=Array.from(ze.get(r.type)).filter(function(m){return m===Ie||!Te.get(m).dropFromOthersDisabled});if(tr(y,function(m){return Te.get(m).dropTargetStyle},function(m){return Te.get(m).dropTargetClasses}),!r.autoAriaDisabled){var u="Started dragging item ".concat(et,". Use the arrow keys to move it within its list ").concat(ut);y.length>1&&(u+=", or tab to another list in order to move the item into it"),yt(u)}nt(e,Te.get(e).items,{trigger:Oe.DRAG_STARTED,id:Ze,source:Me.KEYBOARD}),vn()}function s(c){Le&&c.currentTarget!==lt&&(c.stopPropagation(),Wt(!1),o(c))}function f(c){var y=Te.get(e),u=y.items,m=Array.from(e.children),g=m.indexOf(c);lt=c,lt.tabIndex=r.zoneItemTabIndex,Ze=u[g][he],et=m[g].getAttribute("aria-label")||""}function b(c){var y=c.items,u=y===void 0?[]:y,m=c.type,g=m===void 0?Ji:m,p=c.dragDisabled,h=p===void 0?!1:p,_=c.zoneTabIndex,w=_===void 0?0:_,D=c.zoneItemTabIndex,T=D===void 0?0:D,C=c.dropFromOthersDisabled,P=C===void 0?!1:C,k=c.dropTargetStyle,I=k===void 0?Ea:k,E=c.dropTargetClasses,S=E===void 0?[]:E,G=c.autoAriaDisabled,U=G===void 0?!1:G;r.items=Fe(u),r.dragDisabled=h,r.dropFromOthersDisabled=P,r.zoneTabIndex=w,r.zoneItemTabIndex=T,r.dropTargetStyle=I,r.dropTargetClasses=S,r.autoAriaDisabled=U,r.type&&g!==r.type&&Oa(e,r.type),r.type=g,Qi(e,g),U||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",h?fr.DND_ZONE_DRAG_DISABLED:fr.DND_ZONE_ACTIVE)),Te.set(e,r),Le?e.tabIndex=e===Ie||lt.contains(e)||r.dropFromOthersDisabled||Ie&&r.type!==Te.get(Ie).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",$i);for(var q=function(j){var L=e.children[j];vr.add(L),L.tabIndex=Le?-1:r.zoneItemTabIndex,U||L.setAttribute("role","listitem"),L.removeEventListener("keydown",Aa.get(L)),L.removeEventListener("click",Ia.get(L)),h||(L.addEventListener("keydown",i),Aa.set(L,i),L.addEventListener("click",s),Ia.set(L,s)),Le&&r.items[j][he]===Ze&&(lt=L,lt.tabIndex=r.zoneItemTabIndex,L.focus())},H=0;H<e.children.length;H++)q(H)}b(t);var v={update:function(y){b(y)},destroy:function(){Oa(e,r.type),Te.delete(e),Yr.delete(e)}};return Yr.set(e,v),v}var ts=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function fn(e,t){if(rs(e))return{update:function(){},destroy:function(){}};Sa(t);var r=Zi(e,t),a=es(e,t);return{update:function(o){Sa(o),r.update(o),a.update(o)},destroy:function(){r.destroy(),a.destroy()}}}function rs(e){return!!e.closest("[".concat(li,'="true"]'))}function Sa(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var i=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var o=e.delayTouchStart;e.dropAnimationDisabled;var s=Yo(e,ts);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var f=t.find(function(c){return!{}.hasOwnProperty.call(c,he)});if(f)throw new Error("missing '".concat(he,"' property for item ").concat(Ct(f)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(_t(i),", ").concat(Ct(i)));if(r&&!ja(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(_t(r),", ").concat(Ct(r)));if(a&&!ja(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(_t(a),", ").concat(Ct(a)));if(o!==void 0&&o!==!1){var b=o===!0,v=typeof o=="number"&&isFinite(o)&&o>=0;if(!b&&!v)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(_t(o),", ").concat(Ct(o)))}}function ja(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function as(e){const t=e-1;return t*t*t+1}function bn(e,{from:t,to:r},a={}){var{delay:i=0,duration:o=P=>Math.sqrt(P)*120,easing:s=as}=a,f=getComputedStyle(e),b=f.transform==="none"?"":f.transform,[v,c]=f.transformOrigin.split(" ").map(parseFloat);v/=e.clientWidth,c/=e.clientHeight;var y=ns(e),u=e.clientWidth/r.width/y,m=e.clientHeight/r.height/y,g=t.left+t.width*v,p=t.top+t.height*c,h=r.left+r.width*v,_=r.top+r.height*c,w=(g-h)*u,D=(p-_)*m,T=t.width/r.width,C=t.height/r.height;return{delay:i,duration:typeof o=="function"?o(Math.sqrt(w*w+D*D)):o,easing:s,css:(P,k)=>{var I=k*w,E=k*D,S=P+k*T,G=P+k*C;return`transform: ${b} translate(${I}px, ${E}px) scale(${S}, ${G});`}}}function ns(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var os=B("<span> </span>"),is=B("<span> </span>"),ss=B("<span> </span>");function zt(e,t){let r=xo(t,"fullName",3,!1),a=$(()=>r()?Mo:No);var i=fe(),o=oe(i);{var s=b=>{var v=os(),c=d(v,!0);l(v),K(()=>{re(v,1,`text-center text-xs ${r()?"text-purple-400 bg-base-100/40 border border-base-content/10":"font-semibold bg-purple-500/20 text-purple-400"} rounded w-full h-full  items-center justify-center flex`),z(c,n(a)[t.type][t.level])}),A(b,v)},f=b=>{var v=fe(),c=oe(v);{var y=m=>{var g=is(),p=d(g,!0);l(g),K(()=>{re(g,1,`text-center text-xs ${r()?"text-emerald-300 bg-base-100/40 border border-base-content/10":"font-semibold bg-emerald-500/20 text-emerald-300"} rounded w-full h-full  items-center justify-center flex`),z(p,n(a)[t.type][t.level])}),A(m,g)},u=m=>{var g=fe(),p=oe(g);{var h=_=>{var w=ss(),D=d(w,!0);l(w),K(()=>{re(w,1,`text-center text-xs ${r()?"text-slate-400 bg-base-100/40 border border-base-content/10":"font-semibold bg-slate-500/30 text-slate-300"} rounded w-full h-full  items-center justify-center flex`),z(D,n(a)[t.type][t.level])}),A(_,w)};V(p,_=>{t.level=="sev3"&&_(h)},!0)}A(m,g)};V(c,m=>{t.level=="sev2"?m(y):m(u,!1)},!0)}A(b,v)};V(o,b=>{t.level=="sev1"?b(s):b(f,!1)})}A(e,i)}var ls=B('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-2xl"> </div> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content truncate"> </p></div> <div><span class="inline-flex size-5 mt-0.5"><!></span></div></div>'),cs=B('<div class="flex flex-col gap-2"></div>'),ds=B('<div class="h-1 bg-base-300"><div class="h-full bg-base-content/20 transition-all"></div></div>'),us=B('<div class="bg-base-100 rounded-lg hover:bg-primary/20 cursor-pointer overflow-hidden" tabindex="0" role="button"><!> <div class="flex items-start p-2"><span class="text-3xl me-3"> </span> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content mb-2"> </p> <p class="text-xs gap-3 flex items-center"><span class="flex w-20 h-5 mt-0.5"><!></span> <span> </span></p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),vs=B('<div class="flex flex-col gap-2"></div>'),fs=B('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),bs=B('<div class="flex flex-col gap-2"><div class="flex justify-between items-center"><div class="text-xs tracking-wider text-base-content/50 uppercase">Assigned projects</div></div> <!></div>');function gs(e,t){ye(t,!0);const r=200;let a=$(()=>t.assignedProjects.map(g=>({...g,id:g.project.id}))),i=$(()=>t.filterCompleted?n(a).filter(g=>!["completed","cancelled"].includes(g.project.status)):n(a)),o=Q(vt([]));ft(()=>{O(o,n(i),!0)});async function s(g,p){g.stopPropagation(),await za(p,t.currentWeekOf)}function f(g){const p=dt.getByProject(g),h=p.filter(w=>w.status==="active").length,_=p.filter(w=>w.status==="completed").length;return{active:h,completed:_,total:h+_}}function b(g){O(o,g.detail.items,!0)}function v(g){O(o,g.detail.items,!0);const{info:p}=g.detail,h=p.id,_=n(o).findIndex(P=>P.id===h);if(_===-1)return;const w=_>0?n(o)[_-1]:null,D=_<n(o).length-1?n(o)[_+1]:null;let T=null,C=null;if(w){const P=n(a).findIndex(k=>k.id===w.id);T=w.assignment.order,C=P<n(a).length-1?n(a)[P+1].assignment.order:null}else if(D){const P=n(a).findIndex(k=>k.id===D.id);T=P>0?n(a)[P-1].assignment.order:null,C=D.assignment.order}no(t.currentWeekOf,h,T,C)}var c=bs(),y=x(d(c),2);{var u=g=>{var p=fe(),h=oe(p);{var _=D=>{var T=cs();Ee(T,29,()=>n(o),({id:C,project:P,area:k})=>C,(C,P)=>{let k=()=>n(P).project,I=()=>n(P).area;var E=ls(),S=d(E),G=d(S,!0);l(S);var U=x(S,2),q=d(U),H=d(q,!0);l(q),l(U);var M=x(U,2),j=d(M),L=d(j);zt(L,{get level(){return k().severity},get type(){return k().type}}),l(j),l(M),l(E),K(()=>{z(G,I().icon),z(H,k().name)}),Ya(E,()=>bn,()=>({duration:r})),A(C,E)}),l(T),Jr(T,(C,P)=>fn?.(C,P),()=>({items:n(o),flipDurationMs:r,dropTargetStyle:{}})),ar("consider",T,b),ar("finalize",T,v),A(D,T)},w=D=>{var T=vs();Ee(T,21,()=>n(i),Se,(C,P)=>{let k=()=>n(P).project,I=()=>n(P).area;const E=$(()=>f(k().id)),S=$(()=>n(E).total>0?n(E).completed/n(E).total*100:0);var G=us();G.__click=()=>t.navigateToTasks(k());var U=d(G);{var q=ne=>{var be=ds(),ke=d(be);l(be),K(()=>Ht(ke,`width: ${n(S)??""}%`)),A(ne,be)};V(U,ne=>{n(E).total>0&&ne(q)})}var H=x(U,2),M=d(H),j=d(M,!0);l(M);var L=x(M,2),X=d(L),N=d(X,!0);l(X);var R=x(X,2),F=d(R),W=d(F);zt(W,{fullName:!0,get level(){return k().severity},get type(){return k().type}}),l(F);var Y=x(F,2),ee=d(Y);l(Y),l(R),l(L);var ie=x(L,2);ie.__click=ne=>s(ne,k().id),l(H),l(G),K(()=>{z(j,I().icon),z(N,k().name),re(Y,1,`flex justify-center badge badge-sm rounded badge-soft ${n(E).active==0?"badge-error":"bg-base-100/10 text-base-content/40"}`),z(ee,`${n(E).active??""} available`)}),A(C,G)}),l(T),A(D,T)};V(h,D=>{t.reorderMode?D(_):D(w,!1)})}A(g,p)},m=g=>{var p=fs();A(g,p)};V(y,g=>{n(o).length>0?g(u):g(m,!1)})}l(c),A(e,c),we()}xe(["click"]);var ps=B('<span class="text-xs text-primary-content px-2 py-1 bg-primary rounded"> </span>'),ms=B('<button class="text-start flex items-center gap-3 p-3 bg-base-100 rounded-lg transition-all hover:bg-primary/20 cursor-pointer"><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-base-content/50"> </p></div> <!></button>'),hs=B('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),_s=B('<div class="flex flex-col gap-2"></div>');function xs(e,t){ye(t,!0);var r=_s();Ee(r,21,()=>t.weekTasks,Se,(a,i)=>{let o=()=>n(i).task,s=()=>n(i).project,f=()=>n(i).area;const b=$(()=>t.isTaskAssignedToDay(o().id));var v=ms();v.__click=_=>t.openDayPicker(_,o(),s(),f());var c=d(v),y=d(c),u=d(y,!0);l(y);var m=x(y,2),g=d(m);l(m),l(c);var p=x(c,2);{var h=_=>{var w=ps(),D=d(w,!0);l(w),K(T=>z(D,T),[()=>Wa(n(b))]),A(_,w)};V(p,_=>{n(b)&&_(h)})}l(v),K(()=>{z(u,o().name),z(g,`${f().icon??""} ${s().name??""}`)}),A(a,v)},a=>{var i=hs();A(a,i)}),l(r),A(e,r),we()}xe(["click"]);var ys=bt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg> Reorder',1),ws=B("<button><!></button>"),ks=B('<div class="flex flex-col h-full"><div class="bg-base-100 border-b border-b-base-content/10"><div class="flex ps-4 pe-2 pt-4 pb-2 flex-row justify-between items-center"><div><h2 class="text-lg font-medium">Week</h2> <p class="text-xs text-base-content/50"> </p></div> <div class="flex gap-2"><button> </button> <!></div></div> <div class="flex gap-1 px-4 pb-3"><button> </button> <button> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-4"><!></div></div> <!>',1);function Ts(e,t){ye(t,!0);let r=Q(localStorage.getItem("filterAssignedProject")=="true"),a=Q(!1),i=()=>O(r,!n(r)),o=()=>O(a,!n(a));ft(()=>{localStorage.setItem("filterAssignedProject",n(r)+"")});let s=Q(vt(localStorage.getItem("weekTabView")||"projects"));ft(()=>{n(s)&&localStorage.setItem("weekTabView",n(s))});let f=vt(Gt());const b=$(()=>Ut.getWeek(f));let v;function c(N){return n(b)?n(b).tasksByDay.find(F=>F.taskId===N)?.date??null:null}let y=$(()=>n(b)?n(b).projectAssignments.map(N=>{const R=ct.getById(N.areaId);if(!R)return null;const W=Ye.getByArea(R.id).find(Y=>Y.id===N.projectId);return W?{assignment:N,project:W,area:R}:null}).filter(N=>N!==null):[]),u=$(()=>{const N=[];for(const{project:R,area:F}of n(y)){const W=dt.getByProject(R.id).filter(Y=>Y.status==="active");for(const Y of W)N.push({task:Y,project:R,area:F})}return N});var m=ks(),g=oe(m),p=d(g),h=d(p),_=d(h),w=x(d(_),2),D=d(w,!0);l(w),l(_);var T=x(_,2),C=d(T);C.__click=i;var P=d(C);l(C);var k=x(C,2);{var I=N=>{var R=ws();R.__click=o;var F=d(R);{var W=ee=>{var ie=Ca("Done");A(ee,ie)},Y=ee=>{var ie=ys();nr(),A(ee,ie)};V(F,ee=>{n(a)?ee(W):ee(Y,!1)})}l(R),K(()=>re(R,1,`btn btn-xs w-20 ${n(a)?"btn-primary":"btn-secondary btn-soft"}`)),A(N,R)};V(k,N=>{n(y).length>1&&N(I)})}l(T),l(h);var E=x(h,2),S=d(E);S.__click=()=>O(s,"projects");var G=d(S);l(S);var U=x(S,2);U.__click=()=>O(s,"tasks");var q=d(U);l(U),l(E),l(p);var H=x(p,2),M=d(H);{var j=N=>{gs(N,{get reorderMode(){return n(a)},get filterCompleted(){return n(r)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return f},get assignedProjects(){return n(y)}})},L=N=>{xs(N,{get openDayPicker(){return v.openDayPicker},get weekTasks(){return n(u)},isTaskAssignedToDay:c})};V(M,N=>{n(s)==="projects"?N(j):N(L,!1)})}l(H),l(g);var X=x(g,2);at(Vo(X,{get currentWeekOf(){return f},isTaskAssignedToDay:c}),N=>v=N,()=>v),K(N=>{z(D,N),re(C,1,`w-20 btn btn-xs ${n(r)?"btn-primary":"btn-secondary btn-soft"}`),z(P,`Filter :${n(r)?"ON":"OFF"}`),re(S,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${n(s)==="projects"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),z(G,`Projects (${n(y).length??""})`),re(U,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${n(s)==="tasks"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),z(q,`Tasks (${n(u).length??""})`)},[()=>oo(f)]),A(e,m),we()}xe(["click"]);var Ds=B('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),Es=B('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),As=B('<div class="flex flex-col gap-2"></div>'),Is=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="py-4 px-2 border-b border-base-content/10"><p class="font-medium text-base-content"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-2 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="flex gap-2"><label><input type="radio" name="action" class="radio radio-success radio-sm"/> <span class="text-sm">Completed</span></label> <label><input type="radio" name="action" class="radio radio-error radio-sm"/> <span class="text-sm">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function Os(e,t){ye(t,!0);const r=[];let a=Q("completed"),i=Q(vt([]));ft(()=>{t.show&&(O(a,"completed"),O(i,[],!0))});function o(m,g){g&&setTimeout(()=>m.focus(),0)}function s(){O(i,[...n(i),""],!0)}function f(m){O(i,n(i).filter((g,p)=>p!==m),!0)}function b(m,g){O(i,n(i).map((p,h)=>h===m?g:p),!0)}async function v(){if(t.taskByDay){n(a)==="completed"?await Ga(t.taskByDay.taskId,t.taskByDay.projectId,t.weekOf,t.taskByDay.date):await io(t.taskByDay.taskId,t.taskByDay.projectId,t.weekOf,t.taskByDay.date);for(const m of n(i))m.trim()&&await Ua(t.taskByDay.projectId,t.taskByDay.areaId,m.trim());t.onClose()}}var c=fe(),y=oe(c);{var u=m=>{var g=Is(),p=d(g);p.__click=function(...W){t.onClose?.apply(this,W)},p.__keydown=W=>W.key==="Escape"&&t.onClose();var h=x(p,2),_=d(h),w=d(_),D=d(w,!0);l(w);var T=x(w,2),C=d(T);l(T),l(_);var P=x(_,2),k=d(P),I=x(d(k),2),E=d(I),S=d(E);tt(S),S.value=S.__value="completed",nr(2),l(E);var G=x(E,2),U=d(G);tt(U),U.value=U.__value="cancelled",nr(2),l(G),l(I),l(k);var q=x(k,2),H=d(q),M=x(d(H),2);M.__click=s,l(H);var j=x(H,2);{var L=W=>{var Y=Ds();A(W,Y)},X=W=>{var Y=As();Ee(Y,21,()=>n(i),Se,(ee,ie,ne)=>{var be=Es(),ke=d(be);tt(ke),ke.__input=Ne=>b(ne,Ne.currentTarget.value),Jr(ke,(Ne,Ue)=>o?.(Ne,Ue),()=>ne===n(i).length-1);var We=x(ke,2);We.__click=()=>f(ne),l(be),K(()=>Co(ke,n(ie))),A(ee,be)}),l(Y),A(W,Y)};V(j,W=>{n(i).length===0?W(L):W(X,!1)})}l(q),l(P);var N=x(P,2),R=d(N);R.__click=function(...W){t.onClose?.apply(this,W)};var F=x(R,2);F.__click=v,l(N),l(h),l(g),K(()=>{z(D,t.taskByDay.name),z(C,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),re(E,1,`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border border-base-content/10 cursor-pointer hover:border-success ${n(a)==="completed"?"border-success bg-success/10":""}`),re(G,1,`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border border-base-content/10 cursor-pointer hover:border-error ${n(a)==="cancelled"?"border-error bg-error/10":""}`)}),Be(3,p,()=>Dt,()=>({duration:200})),ir(r,[],S,()=>n(a),W=>O(a,W)),ir(r,[],U,()=>n(a),W=>O(a,W)),Be(3,h,()=>Et,()=>({y:300,duration:300})),A(m,g)};V(y,m=>{t.show&&t.taskByDay&&m(u)})}A(e,c),we()}xe(["click","keydown","input"]);var Ss=bt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg> Reorder',1),js=B('<button type="button"><!></button>'),Cs=B('<div class="px-4 pb-3"><div class="flex items-center justify-between text-xs text-base-content/50 mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success transition-all rounded-full"></div></div></div>'),Ps=B('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate "> </p></div></div>'),Ms=B('<div class="flex flex-col gap-2 mb-4"></div>'),Ns=B('<div class="flex items-start gap-3 p-3 bg-base-100 border border-transparent rounded-lg hover:bg-primary/20 cursor-pointer"><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm text-base-content mb-2"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),Rs=B('<div class="flex flex-col gap-2 mb-4"></div>'),Ls=B('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),Fs=B('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),Bs=bt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Ws=bt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),zs=B('<div class="flex items-center gap-3 p-3 opacity-50"><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),Gs=B('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),Us=B('<div class="flex flex-col h-full"><div class="px-4 pt-4 pb-2 flex justify-between items-start"><div><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-base-content/50"> </p></div> <div><!> <button>Tomorrow</button></div></div> <!> <div class="flex-1 overflow-y-auto px-3 pb-4"><!> <!></div></div> <!>',1);function Hs(e,t){ye(t,!0);const r=Gt(),a=200,i=so(),o=lo();let s=Q(!1),f=Q(null),b=Q(""),v=Q(""),c=Q(""),y=Q(!1),u=Q(!1),m=$(()=>n(u)?o:i);const g=()=>{O(y,!n(y))},p=()=>{O(u,!n(u))};let h=$(()=>{const Z=Ut.getWeek(r);return Z?Z.tasksByDay.filter(J=>J.date===n(m)).map(J=>{const ce=dt.getById(J.taskId),le=ct.getById(J.areaId),ae=(le?Ye.getByArea(le.id):[]).find(te=>te.id===J.projectId);return{id:J.taskId,taskByDay:J,task:ce,areaIcon:le?.icon??"ðŸ“",areaName:le?.name??"Unknown",projectName:ae?.name??"Unknown"}}):[]}),_=$(()=>n(h)),w=$(()=>n(h).filter(Z=>Z.taskByDay.status!=="completed"&&Z.taskByDay.status!=="cancelled")),D=$(()=>n(h).filter(Z=>Z.taskByDay.status==="completed"||Z.taskByDay.status==="cancelled")),T=Q(vt([]));ft(()=>{O(T,n(w),!0)});function C(){const Z=n(D).length,J=n(h).length,ce=J>0?Z/J*100:0;return{completed:Z,total:J,percent:ce}}function P(Z){O(T,Z.detail.items,!0)}function k(Z){O(T,Z.detail.items,!0);const{info:J}=Z.detail,ce=J.id,le=n(T).findIndex(ue=>ue.id===ce);if(le===-1)return;const pe=le>0?n(T)[le-1]:null,ae=le<n(T).length-1?n(T)[le+1]:null;let te=null,de=null;if(pe){const ue=n(_).findIndex(se=>se.id===pe.id);te=pe.taskByDay.order,de=ue<n(_).length-1?n(_)[ue+1].taskByDay.order:null}else if(ae){const ue=n(_).findIndex(se=>se.id===ae.id);te=ue>0?n(_)[ue-1].taskByDay.order:null,de=ae.taskByDay.order}vo(r,n(m),ce,te,de)}async function I(Z){await Ga(Z.taskId,Z.projectId,r,n(m))}async function E(Z){await uo(Z.taskId,Z.projectId,r,n(m))}async function S(Z){await er(Z.taskId,Z.projectId,r,n(m))}function G(Z,J,ce,le){O(f,Z,!0),O(b,J,!0),O(v,ce,!0),O(c,le,!0),O(s,!0)}function U(){O(s,!1),O(f,null)}var q=Us(),H=oe(q),M=d(H),j=d(M),L=d(j),X=d(L,!0);l(L);var N=x(L,2),R=d(N);l(N),l(j);var F=x(j,2),W=d(F);{var Y=Z=>{var J=js();J.__click=g;var ce=d(J);{var le=ae=>{var te=Ca("Done");A(ae,te)},pe=ae=>{var te=Ss();nr(),A(ae,te)};V(ce,ae=>{n(y)?ae(le):ae(pe,!1)})}l(J),K(()=>re(J,1,`btn btn-xs ${n(y)?"btn-primary":"btn-secondary btn-soft"}`)),A(Z,J)};V(W,Z=>{n(w).length>1&&Z(Y)})}var ee=x(W,2);ee.__click=p,l(F),l(M);var ie=x(M,2);{var ne=Z=>{const J=$(C);var ce=Cs(),le=d(ce),pe=d(le),ae=d(pe);l(pe);var te=x(pe,2),de=d(te);l(te),l(le);var ue=x(le,2),se=d(ue);l(ue),l(ce),K(Re=>{z(ae,`${n(J).completed??""} of ${n(J).total??""} completed`),z(de,`${Re??""}%`),Ht(se,`width: ${n(J).percent??""}%`)},[()=>Math.round(n(J).percent)]),A(Z,ce)};V(ie,Z=>{C().total>0&&Z(ne)})}var be=x(ie,2),ke=d(be);{var We=Z=>{var J=fe(),ce=oe(J);{var le=ae=>{var te=Ms();Ee(te,29,()=>n(T),({id:de,taskByDay:ue,areaIcon:se,projectName:Re})=>de,(de,ue)=>{let se=()=>n(ue).taskByDay;var Re=Ps(),gt=x(d(Re),2),ot=d(gt),qe=d(ot,!0);l(ot),l(gt),l(Re),K(()=>z(qe,se().name)),Ya(Re,()=>bn,()=>({duration:a})),A(de,Re)}),l(te),Jr(te,(de,ue)=>fn?.(de,ue),()=>({items:n(T),flipDurationMs:a,dropTargetStyle:{}})),ar("consider",te,P),ar("finalize",te,k),A(ae,te)},pe=ae=>{var te=Rs();Ee(te,21,()=>n(w),Se,(de,ue)=>{let se=()=>n(ue).taskByDay,Re=()=>n(ue).areaIcon,gt=()=>n(ue).areaName,ot=()=>n(ue).projectName;var qe=Ns(),Je=d(qe);Je.__click=()=>I(se());var pt=x(Je,2);pt.__click=()=>G(se(),Re(),gt(),ot());var It=d(pt),wr=d(It,!0);l(It);var Ot=x(It,2),St=d(Ot);l(Ot),l(pt);var kr=x(pt,2);kr.__click=()=>S(se()),l(qe),K(()=>{z(wr,se().name),z(St,`${Re()??""}  ${ot()??""}`)}),A(de,qe)}),l(te),A(ae,te)};V(ce,ae=>{n(y)?ae(le):ae(pe,!1)})}A(Z,J)},Ne=Z=>{var J=fe(),ce=oe(J);{var le=ae=>{var te=Ls();A(ae,te)},pe=ae=>{var te=Fs();A(ae,te)};V(ce,ae=>{C().total===0?ae(le):ae(pe,!1)},!0)}A(Z,J)};V(ke,Z=>{n(T).length>0?Z(We):Z(Ne,!1)})}var Ue=x(ke,2);{var qt=Z=>{var J=Gs(),ce=d(J),le=d(ce);l(ce);var pe=x(ce,2);Ee(pe,21,()=>n(D),Se,(ae,te)=>{let de=()=>n(te).taskByDay,ue=()=>n(te).areaIcon,se=()=>n(te).areaName,Re=()=>n(te).projectName;const gt=$(()=>de().status==="completed"),ot=$(()=>de().status==="cancelled");var qe=zs(),Je=d(qe);Je.__click=()=>E(de());var pt=d(Je);{var It=mt=>{var Kt=Bs();A(mt,Kt)},wr=mt=>{var Kt=fe(),pn=oe(Kt);{var mn=Tr=>{var hn=Ws();A(Tr,hn)};V(pn,Tr=>{de().status==="cancelled"&&Tr(mn)},!0)}A(mt,Kt)};V(pt,mt=>{de().status==="completed"?mt(It):mt(wr,!1)})}l(Je);var Ot=x(Je,2),St=d(Ot),kr=d(St,!0);l(St);var oa=x(St,2),gn=d(oa);l(oa),l(Ot),l(qe),K(()=>{re(Je,1,`w-7 h-7 rounded-full ${n(gt)?"bg-success border-success text-success-content":n(ot)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),z(kr,de().name),z(gn,`${ue()??""} ${se()??""} Â· ${Re()??""}`)}),A(ae,qe)}),l(pe),l(J),K(()=>z(le,`Completed (${n(D).length??""})`)),A(Z,J)};V(Ue,Z=>{n(D).length>0&&!n(y)&&Z(qt)})}l(be),l(H);var At=x(H,2);Os(At,{get show(){return n(s)},get taskByDay(){return n(f)},get areaIcon(){return n(b)},get areaName(){return n(v)},get projectName(){return n(c)},get weekOf(){return r},onClose:U}),K(Z=>{z(X,n(u)?"Tomorrow":"Today"),z(R,`${Z??""}, ${n(m)??""}`),re(ee,1,`btn btn-xs ${n(u)?"btn-primary":"btn-secondary btn-soft"}`)},[()=>co(n(m))]),A(e,q),we()}xe(["click"]);const Rr=["none","reorder","edit","status"],Vs=[{value:"active",label:"Active",color:"border-s-primary"},{value:"blocked",label:"Blocked",color:"border-s-warning"},{value:"someday",label:"Someday",color:"border-s-info"},{value:"completed",label:"Completed",color:"border-s-success"},{value:"cancelled",label:"Cancelled",color:"border-s-error"}],Zs=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var Ys=B('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function qs(e,t){var r=Ys();r.__click=function(...a){t.handleClick?.apply(this,a)},A(e,r)}xe(["click"]);var Ks=B('<button type="button"> </button>'),Xs=B('<button type="button" class="btn btn-outline btn-error btn-sm">Archive</button>'),Js=B('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),Qs=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="grid grid-cols-8 gap-1"></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function $s(e,t){ye(t,!0);let r=Q(!1),a=Q(null),i=Q(""),o=Q("ðŸŽ¯"),s;function f(){O(a,null),O(i,""),O(o,"ðŸŽ¯"),O(r,!0),setTimeout(()=>s.focus(),100)}function b(w,D){w.stopPropagation(),O(a,D,!0),O(i,D.name,!0),O(o,D.icon,!0),O(r,!0),setTimeout(()=>s.focus(),100)}function v(){O(r,!1),O(a,null)}async function c(){!n(i).trim()||!n(o)||(n(a)?await fo(n(a).index,{name:n(i).trim(),icon:n(o)}):await bo(n(i).trim(),n(o)),v())}function y(w){return n(a)&&n(a).status=="archived"?!1:Ye.getByArea(w.id).filter(T=>T.status==="active").length===0}async function u(){!n(a)||!y(n(a))||(await go(n(a).index),v())}async function m(){n(a)&&(await po(n(a).index),v())}var g={openCreateAreaModal:f,openEditAreaModal:b},p=fe(),h=oe(p);{var _=w=>{var D=Qs(),T=d(D);T.__click=v,T.__keydown=F=>F.key==="Escape"&&v();var C=x(T,2),P=d(C),k=d(P),I=d(k,!0);l(k);var E=x(k,2);E.__click=v,l(P);var S=x(P,2),G=d(S),U=x(d(G),2);Ee(U,21,()=>Ro,Se,(F,W)=>{var Y=Ks();Y.__click=()=>O(o,n(W),!0);var ee=d(Y,!0);l(Y),K(()=>{re(Y,1,`aspect-square flex items-center justify-center text-lg rounded-lg transition-colors ${n(o)===n(W)?"bg-primary text-primary-content":"hover:bg-base-200"}`),z(ee,n(W))}),A(F,Y)}),l(U),l(G);var q=x(G,2),H=x(d(q),2);tt(H),H.__keydown=F=>F.key==="Enter"&&c(),at(H,F=>s=F,()=>s),l(q),l(S);var M=x(S,2),j=d(M);{var L=F=>{var W=fe(),Y=oe(W);{var ee=ne=>{var be=Xs();be.__click=u,K((ke,We)=>{be.disabled=ke,Br(be,"title",We)},[()=>!y(n(a)),()=>y(n(a))?"Archive area":"Cannot archive: has active projects"]),A(ne,be)},ie=ne=>{var be=fe(),ke=oe(be);{var We=Ne=>{var Ue=Js();Ue.__click=m,A(Ne,Ue)};V(ke,Ne=>{n(a).status=="archived"&&Ne(We)},!0)}A(ne,be)};V(Y,ne=>{n(a).status=="active"?ne(ee):ne(ie,!1)})}A(F,W)};V(j,F=>{n(a)&&F(L)})}var X=x(j,4);X.__click=v;var N=x(X,2);N.__click=c;var R=d(N,!0);l(N),l(M),l(C),l(D),K(F=>{z(I,n(a)?"Edit Area":"New Area"),N.disabled=F,z(R,n(a)?"Save":"Create")},[()=>!n(i).trim()||!n(o)]),Be(3,T,()=>Dt,()=>({duration:200})),Qr(H,()=>n(i),F=>O(i,F)),Be(3,C,()=>Et,()=>({y:300,duration:300})),A(w,D)};V(h,w=>{n(r)&&w(_)})}return A(e,p),we(g)}xe(["click","keydown"]);var el=B('<button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-6" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button>'),tl=B('<div class="flex flex-row gap-1"><button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†</button> <button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†’</button></div>'),rl=B("<div> </div>"),al=B('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm font-medium mb-0 pb-1 truncate"> </div> <p class="text-xs text-base-content/50"> </p></div></div></div></div>');function nl(e,t){ye(t,!0);const r=$(()=>Ye.getByArea(t.area.id).filter(w=>w.status==="active").length),a=$(()=>{const w=Gt(),D=Ut.getWeek(w),T=Ye.getByArea(t.area.id),C=T.filter(E=>E.status==="active"||E.status==="blocked"||E.status==="someday");if(C.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};if(D?.projectAssignments.some(E=>C.some(S=>S.id===E.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"â—†"};const k=T.filter(E=>E.status==="completed"&&E.completedAt),I=k.length>0?Math.max(...k.map(E=>new Date(E.completedAt).getTime())):null;if(I){const E=Date.now()-12096e5,S=Date.now()-720*60*60*1e3;if(I>=E)return{level:"active",color:"badge-info",icon:"â—"};if(I>=S)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var i=al();i.__click=()=>t.handleSelect(t.area);var o=d(i),s=d(o),f=d(s),b=d(f,!0);l(f);var v=x(f,2);{var c=w=>{var D=el();D.__click=T=>t.handleEdit(T,t.area),A(w,D)},y=w=>{var D=fe(),T=oe(D);{var C=k=>{var I=tl(),E=d(I);E.__click=G=>t.handleAreaMoveUp(G,t.index);var S=x(E,2);S.__click=G=>t.handleAreaMoveDown(G,t.index),l(I),K(()=>E.disabled=t.index==0),A(k,I)},P=k=>{var I=fe(),E=oe(I);{var S=G=>{var U=rl(),q=d(U,!0);l(U),K(()=>{re(U,1,`badge badge-sm rounded ${n(a).color??""} badge-soft`),z(q,n(a).level)}),A(G,U)};V(E,G=>{t.viewMode=="status"&&G(S)},!0)}A(k,I)};V(T,k=>{t.viewMode=="reorder"?k(C):k(P,!1)},!0)}A(w,D)};V(v,w=>{t.viewMode=="edit"?w(c):w(y,!1)})}l(s);var u=x(s,2),m=d(u),g=d(m),p=d(g,!0);l(g);var h=x(g,2),_=d(h);l(h),l(m),l(u),l(o),l(i),K(()=>{re(i,1,`rounded-lg bg-base-100 hover:bg-primary/20 transition-colors cursor-pointer w-full ${n(a).level==="avoiding"?"border border-error/20":n(a).level==="fading"?"border border-warning/20":n(a).level==="active"?"border border-info/20":n(a).level==="planned"?"border border-purple-500/20":""}`),Ht(i,n(a).level==="avoiding"?"background: rgba(248, 114, 114, 0.05); box-shadow: inset 0 0 20px rgba(248, 114, 114, 0.08); ":n(a).level==="fading"?"box-shadow: inset 0 0 30px rgba(251, 189, 35, 0.1);":n(a).level==="active"?"box-shadow: inset 0 0 30px rgba(58, 191, 248, 0.1);":n(a).level==="planned"?"box-shadow: inset 0 0 30px rgba(168, 85, 247, 0.1);":""),z(b,t.area.icon),z(p,t.area.name),z(_,`${n(r)??""} project${n(r)!==1?"s":""}`)}),A(e,i),we()}xe(["click"]);var ol=B('<button class="link text-base-content/50 text-sm capitalize"> </button>'),il=B('<div class="flex flex-col h-full"><div class="px-3 pt-5 pb-4 flex flex-row justify-between items-center bg-base-100 border-b border-base-content/10"><a href="/" class="flex flex-row items-center text-base-content/80"><svg version="1.1" id="Icons" class="size-12 mt-1 me-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><style type="text/css">.st0{fill:none;stroke:currentColor;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}</style><path class="st0" d="M11,13H5c-1.1,0-2-0.9-2-2V5c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,12.1,12.1,13,11,13z"></path><path class="st0" d="M11,29H5c-1.1,0-2-0.9-2-2v-6c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,28.1,12.1,29,11,29z"></path><line class="st0" x1="17" y1="5" x2="29" y2="5"></line><line class="st0" x1="17" y1="9" x2="24" y2="9"></line><line class="st0" x1="17" y1="21" x2="29" y2="21"></line><line class="st0" x1="17" y1="25" x2="24" y2="25"></line><polyline class="st0" points="6,7 8,9 11,6 "></polyline></g></svg> <div class="flex flex-col"><div class="text-xl text-base-content/80 tracking-wider font-medium">Doable</div> <div class="text-sm text-base-content/50">Life areas at a glance</div></div></a> <div class="flex flex-row gap-4"><!> <button class="link text-base-content/50 text-sm"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function sl(e,t){ye(t,!0);let r,a=Q(vt(localStorage.getItem("areasViewMode")||"none"));ft(()=>localStorage.setItem("areasViewMode",n(a)));let i=Q(!1),o=()=>O(a,Rr[(Rr.indexOf(n(a))+1)%Rr.length],!0),s=()=>O(i,!n(i));const f=$(()=>n(i)?ct.areas.filter(k=>k.status=="archived"):ct.areas.filter(k=>k.status=="active"));async function b(k,I){if(k.stopPropagation(),I===0)return;const E=ct.areas,S=n(f)[I],G=n(f)[I-1],U=E.findIndex(M=>M.id===G.id),q=U>0?E[U-1].index:null,H=G.index;await ca(S.index,q,H)}async function v(k,I){if(k.stopPropagation(),I===n(f).length-1)return;const E=ct.areas,S=n(f)[I],G=n(f)[I+1],U=E.findIndex(M=>M.id===G.id),q=G.index,H=U<E.length-1?E[U+1].index:null;await ca(S.index,q,H)}var c=il(),y=d(c),u=x(d(y),2),m=d(u);{var g=k=>{var I=ol();I.__click=o;var E=d(I,!0);l(I),K(()=>z(E,n(a))),A(k,I)};V(m,k=>{n(i)||k(g)})}var p=x(m,2);p.__click=s;var h=d(p,!0);l(p),l(u),l(y);var _=x(y,2),w=d(_),D=d(w);Ee(D,17,()=>n(f),Se,(k,I,E)=>{nl(k,{get area(){return n(I)},get handleSelect(){return t.onSelectArea},index:E,handleAreaMoveUp:b,handleAreaMoveDown:v,get viewMode(){return n(a)},get handleEdit(){return r.openEditAreaModal}})});var T=x(D,2);{var C=k=>{qs(k,{get handleClick(){return r.openCreateAreaModal}})};V(T,k=>{n(i)||k(C)})}l(w),l(_);var P=x(_,2);at($s(P,{}),k=>r=k,()=>r),l(c),K(()=>z(h,n(i)?"Active":"Archived")),A(e,c),we()}xe(["click"]);var ll=B('<button aria-label="edit"> </button>'),cl=B('<div tabindex="0" role="button" class="flex flex-row gap-2 items-start text-left"><p class="px-2 flex flex-row gap-2 text-sm mb-1.5 w-full text-base-content"><span class="w-8 h-8 flex mt-0.5"><!></span> <span class="flex-1"> </span> <!></p></div>'),dl=B('<div class="h-full bg-primary/80 transition-all"></div>'),ul=B('<span class="text-xs mx-0.5">â€¢</span> ',1),vl=B('<button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),fl=B('<button aria-label="edit"> </button>'),bl=B('<div class="w-full transition-colors bg-base-100 cursor-pointer hover:bg-primary/20" role="button" tabindex="0"><div class="flex-1 min-w-0 p-2 pt-4"><div class="flex flex-row items-start gap-2 "><div class="shrink-0 size-8"><!></div> <p class="text-sm mb-1.5 text-base-content"> </p></div> <div class="mb-2 mt-3 w-full items-center flex h-1 bg-neutral"><!></div> <div class="flex flex-row justify-between items-center ms-2"><p class="text-xs font-semibold text-base-content/50 "> <!></p> <div class="flex flex-row gap-2 items-center mt-1"><!> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-5" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button> <!></div></div></div></div>'),gl=B("<div><!></div>");function pl(e,t){ye(t,!0);const r=$(()=>dt.getByProject(t.project.id)),a=$(()=>n(r).filter(g=>g.status==="active").length),i=$(()=>n(r).filter(g=>g.status==="completed").length),o=$(()=>n(r).filter(g=>g.status==="active"||g.status==="completed").length),s=$(()=>n(o)>0?n(i)/n(o)*100:0);function f(g){for(const[p,h]of Object.entries(Ut.weeksByWeekOf))if(h.projectAssignments.some(_=>_.projectId===g))return p;return null}function b(g){const p=Gt();if(g===p)return"This week";const h=new Date(p),_=new Date(g),w=Math.round((_.getTime()-h.getTime())/(1e3*60*60*24)),D=Math.round(w/7);return D===1?"Next week":D>1?`In ${D} weeks`:D===-1?"Last week":g.slice(5)}const v=$(()=>f(t.project.id));var c=gl(),y=d(c);{var u=g=>{var p=cl();p.__click=()=>t.onclick(t.project);var h=d(p),_=d(h),w=d(_);zt(w,{get level(){return t.project.severity},get type(){return t.project.type}}),l(_);var D=x(_,2),T=d(D,!0);l(D);var C=x(D,2);{var P=k=>{var I=ll();I.__click=S=>t.handleProjectAssign(S,t.project);var E=d(I,!0);l(I),K(S=>{re(I,1,`badge badge-lg badge-soft ${n(v)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer justify-center rounded-lg items-center flex`),z(E,S)},[()=>b(n(v))]),A(k,I)};V(C,k=>{n(v)&&k(P)})}l(h),l(p),K(()=>z(T,t.project.name)),A(g,p)},m=g=>{var p=bl();p.__click=()=>t.navigateToTasks(t.project),p.__keydown=R=>R.key==="Enter"&&t.navigateToTasks(t.project);var h=d(p),_=d(h),w=d(_),D=d(w);zt(D,{get level(){return t.project.severity},get type(){return t.project.type}}),l(w);var T=x(w,2),C=d(T,!0);l(T),l(_);var P=x(_,2),k=d(P);{var I=R=>{var F=dl();K(()=>Ht(F,`width: ${n(s)??""}%`)),A(R,F)};V(k,R=>{n(o)>0&&R(I)})}l(P);var E=x(P,2),S=d(E),G=d(S),U=x(G);{var q=R=>{var F=ul(),W=x(oe(F));K(()=>z(W,` ${n(i)??""} done`)),A(R,F)};V(U,R=>{n(i)>0&&R(q)})}l(S);var H=x(S,2),M=d(H);{var j=R=>{var F=vl(),W=oe(F);W.__click=ee=>t.handleProjectMoveUp(ee,t.index);var Y=x(W,2);Y.__click=ee=>t.handleProjectMoveDown(ee,t.index),A(R,F)};V(M,R=>{t.allowReorder&&R(j)})}var L=x(M,2);L.__click=R=>t.handleEdit(R,t.project);var X=x(L,2);{var N=R=>{var F=fl();F.__click=Y=>t.handleProjectAssign(Y,t.project);var W=d(F,!0);l(F),K(Y=>{re(F,1,`badge badge-lg badge-soft ${n(v)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer flex justify-center rounded-lg items-center`),z(W,Y)},[()=>n(v)?b(n(v)):"Unassigned"]),A(R,F)};V(X,R=>{t.allowWeekAssignment&&R(N)})}l(H),l(E),l(h),l(p),K(()=>{z(C,t.project.name),z(G,`${n(a)??""} active `)}),A(g,p)};V(y,g=>{t.isSelected?g(m,!1):g(u)})}l(c),A(e,c),we()}xe(["click","keydown"]);var ml=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[575px] max-h-full bg-base-100 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-200 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="grid grid-cols-3 gap-1"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Someday</button> <button type="button">Cancelled</button> <button type="button">Done</button></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function hl(e,t){ye(t,!0);const r=[];let a=Q(!1),i=Q(null),o=Q(""),s=Q("active"),f=Q("regular"),b=Q("sev3"),v;function c(){console.log("Creating.."),O(i,null),O(o,""),O(s,"active"),O(f,"regular"),O(b,"sev3"),O(a,!0),setTimeout(()=>v.focus(),100)}function y(w,D){w.stopPropagation(),O(i,D,!0),O(o,D.name,!0),O(s,D.status,!0),O(f,D.type||"regular",!0),O(b,D.severity||"sev1",!0),O(a,!0),setTimeout(()=>v.focus(),100)}function u(){O(a,!1),O(i,null)}async function m(){!n(o).trim()||!t.selectedArea||(n(i)?await Ha(t.selectedArea.id,n(i).index,{name:n(o).trim(),status:n(s),type:n(f),severity:n(b)}):await mo(t.selectedArea.id,n(o).trim(),n(f),n(b)),u())}var g={openCreateProjectModal:c,openEditProjectModal:y},p=fe(),h=oe(p);{var _=w=>{var D=ml(),T=d(D);T.__click=u,T.__keydown=se=>se.key==="Escape"&&u();var C=x(T,2),P=d(C),k=d(P),I=d(k),E=d(I,!0);l(I);var S=x(I,2);S.__click=u,l(k);var G=x(k,2),U=d(G),q=x(d(U),2);tt(q),q.__keydown=se=>se.key==="Enter"&&m(),at(q,se=>v=se,()=>v),l(U);var H=x(U,2),M=x(d(H),2),j=d(M);tt(j),j.value=j.__value="regular";var L=x(j,2);tt(L),L.value=L.__value="maintenance",l(M),l(H);var X=x(H,4),N=d(X);N.__click=()=>O(b,"sev1");var R=x(d(N),2),F=d(R,!0);l(R),l(N);var W=x(N,2);W.__click=()=>O(b,"sev2");var Y=x(d(W),2),ee=d(Y,!0);l(Y),l(W);var ie=x(W,2);ie.__click=()=>O(b,"sev3");var ne=x(d(ie),2),be=d(ne,!0);l(ne),l(ie),l(X);var ke=x(X,4),We=d(ke);let Ne;We.__click=()=>O(s,"active");var Ue=x(We,2);let qt;Ue.__click=()=>O(s,"blocked");var At=x(Ue,2);let Z;At.__click=()=>O(s,"someday");var J=x(At,2);let ce;J.__click=()=>O(s,"cancelled");var le=x(J,2);let pe;le.__click=()=>O(s,"completed"),l(ke),l(G);var ae=x(G,2),te=x(d(ae),2);te.__click=u;var de=x(te,2);de.__click=m;var ue=d(de,!0);l(de),l(ae),l(P),l(C),l(D),K(se=>{z(E,n(i)?"Edit Project":"New Project"),re(N,1,`hover:bg-purple-500 btn justify-start gap-2 transition-all ${n(b)==="sev1"?"bg-purple-600 text-white":""}`),z(F,Mr[n(f)].sev1),re(W,1,`hover:bg-emerald-500 hover:text-white btn justify-start gap-2 ${n(b)==="sev2"?"bg-emerald-600 text-white":""} transition-all`),z(ee,Mr[n(f)].sev2),re(ie,1,`hover:bg-slate-500 hover:text-slate-300 ${n(b)==="sev3"?"bg-slate-500 text-white":""} btn justify-start gap-2 transition-all`),z(be,Mr[n(f)].sev3),Ne=re(We,1,"btn btn-sm hover:bg-warning hover:text-warning-content",null,Ne,{"btn-warning":n(s)==="active"}),qt=re(Ue,1,"btn btn-sm hover:btn-error",null,qt,{"btn-error":n(s)==="blocked"}),Z=re(At,1,"btn btn-sm hover:btn-info",null,Z,{"btn-info":n(s)==="someday"}),ce=re(J,1,"btn btn-sm hover:btn-neutral",null,ce,{"btn-info":n(s)==="cancelled"}),pe=re(le,1,"btn btn-sm hover:btn-success",null,pe,{"btn-success":n(s)==="completed"}),de.disabled=se,z(ue,n(i)?"Save":"Create")},[()=>!n(o).trim()]),Be(3,T,()=>Dt,()=>({duration:200})),Qr(q,()=>n(o),se=>O(o,se)),ir(r,[],j,()=>{"regular";return n(f)},se=>O(f,se)),ir(r,[],L,()=>{"maintenance";return n(f)},se=>O(f,se)),Be(3,C,()=>Et,()=>({y:300,duration:300})),A(w,D)};V(h,w=>{n(a)&&w(_)})}return A(e,p),we(g)}xe(["click","keydown"]);var _l=B('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),xl=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2"></div></div></div>');function yl(e,t){ye(t,!0);let r=Q(!1),a=Q(null),i=Q(void 0);function o(m,g,p){m.stopPropagation(),O(i,g,!0),O(a,p,!0),O(r,!0)}function s(){O(r,!1),O(a,null)}async function f(m,g){!n(a)||!n(i)||(g?await za(n(a).id,m):await _o(n(a).id,n(i).id,m),s())}function b(m,g){const p=g??Gt();return Ut.getWeek(p)?.projectAssignments.some(_=>_.projectId===m)??!1}var v={openWeekPicker:o},c=fe(),y=oe(c);{var u=m=>{var g=xl(),p=d(g);p.__click=s,p.__keydown=T=>T.key==="Escape"&&s();var h=x(p,2),_=d(h),w=x(d(_),2);w.__click=s,l(_);var D=x(_,2);Ee(D,21,ho,Se,(T,C)=>{const P=$(()=>b(n(a).id,n(C).weekOf));var k=_l();k.__click=()=>f(n(C).weekOf,n(P));var I=d(k),E=d(I,!0);l(I);var S=x(I,2),G=d(S,!0);l(S),l(k),K(()=>{re(k,1,`w-full p-3 text-left rounded-lg border transition-colors ${n(P)?"bg-primary/20 text-primary-content border-primary":"border-base-content/10 hover:border-primary"}`),z(E,n(C).label),z(G,n(C).weekOf)}),A(T,k)}),l(D),l(h),l(g),Be(3,p,()=>Dt,()=>({duration:200})),Be(3,h,()=>Et,()=>({y:300,duration:300})),A(m,g)};V(y,m=>{n(r)&&n(a)&&m(u)})}return A(e,c),we(v)}xe(["click","keydown"]);var wl=B("<button> </button>"),kl=B('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),Tl=B('<button type="button" class="flex items-center justify-center h-12 mx-3 border-2 border-dashed border-base-content/20 rounded-lg text-base-content/50 cursor-pointer transition-all hover:border-primary hover:text-primary"><span class="text-lg">+</span> <span class="text-sm">Add Project</span></button>'),Dl=B('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2"><div class="h-12 flex items-center "><button class="gap-2 text-sm text-secondary flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>â†</span> <span>Back</span></button></div> <div class="flex items-center gap-3 pe-2"><span class="text-4xl"> </span> <h2 class="text-lg"> </h2></div></div> <div class="flex gap-1 mt-4 px-3 pb-2 overflow-x-auto"></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!> <!></div></div></div> <!> <!>',1);function El(e,t){ye(t,!0);let r=Q(void 0);const a=M=>O(r,M.id,!0);let i,o,s=Q(vt(localStorage.getItem("projectTabView")||"active"));ft(()=>{n(s)&&localStorage.setItem("projectTabView",n(s))});let f=$(()=>!["completed","cancelled"].includes(n(s))),b=$(()=>Ye.getByArea(t.selectedArea.id).filter(M=>M.status===n(s)));function v(M){return Ye.getByArea(t.selectedArea.id).filter(j=>j.status===M).length}async function c(M,j){if(M.stopPropagation(),j===0||!t.selectedArea)return;const L=Ye.getByArea(t.selectedArea.id),X=n(b)[j],N=n(b)[j-1],R=L.findIndex(Y=>Y.id===N.id),F=R>0?L[R-1].index:null,W=N.index;await da(t.selectedArea.id,X.index,F,W)}async function y(M,j){if(M.stopPropagation(),!t.selectedArea||j===n(b).length-1)return;const L=Ye.getByArea(t.selectedArea.id),X=n(b)[j],N=n(b)[j+1],R=L.findIndex(Y=>Y.id===N.id),F=N.index,W=R<L.length-1?L[R+1].index:null;console.log(F,W),await da(t.selectedArea.id,X.index,F,W)}var u=Dl(),m=oe(u),g=d(m),p=d(g),h=d(p),_=d(h);_.__click=function(...M){t.navigateBack?.apply(this,M)},l(h);var w=x(h,2),D=d(w),T=d(D,!0);l(D);var C=x(D,2),P=d(C,!0);l(C),l(w),l(p);var k=x(p,2);Ee(k,21,()=>Vs,Se,(M,j)=>{const L=$(()=>n(s)===n(j).value),X=$(()=>v(n(j).value));var N=wl();N.__click=()=>O(s,n(j).value,!0);var R=d(N);l(N),K(()=>{re(N,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${n(L)?"bg-primary/40 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),z(R,`${n(j).label??""} (${n(X)??""})`)}),A(M,N)}),l(k),l(g);var I=x(g,2),E=d(I),S=d(E);Ee(S,17,()=>n(b),Se,(M,j,L)=>{{let X=$(()=>n(r)==n(j).id);pl(M,{get isSelected(){return n(X)},onclick:a,handleProjectAssign:(N,R)=>o.openWeekPicker(N,t.selectedArea,R),index:L,get allowReorder(){return n(f)},get navigateToTasks(){return t.navigateToTasks},get project(){return n(j)},get allowWeekAssignment(){return n(f)},get handleEdit(){return i.openEditProjectModal},handleProjectMoveUp:c,handleProjectMoveDown:y})}},M=>{var j=kl(),L=d(j);l(j),K(()=>z(L,`No ${n(s)??""} projects`)),A(M,j)});var G=x(S,2);{var U=M=>{var j=Tl();j.__click=function(...L){i.openCreateProjectModal?.apply(this,L)},A(M,j)};V(G,M=>{n(s)=="active"&&M(U)})}l(E),l(I),l(m);var q=x(m,2);at(hl(q,{get selectedArea(){return t.selectedArea}}),M=>i=M,()=>i);var H=x(q,2);at(yl(H,{}),M=>o=M,()=>o),K(()=>{z(T,t.selectedArea.icon),z(P,t.selectedArea.name)}),A(e,u),we()}xe(["click"]);var Al=B('<button type="button"> </button>'),Il=B('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),Ol=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Sl(e,t){ye(t,!0);let r=Q(!1),a=Q(null),i=Q(""),o=Q("active"),s;function f(){O(a,null),O(i,""),O(o,"active"),O(r,!0),setTimeout(()=>s.focus(),100)}function b(p,h){p.stopPropagation(),O(a,h,!0),O(i,h.name,!0),O(o,h.status,!0),O(r,!0),setTimeout(()=>s.focus(),100)}function v(){O(r,!1),O(a,null)}async function c(){!n(i).trim()||!t.selectedProject||!t.selectedArea||(n(a)?await Va(t.selectedProject.id,n(a).index,{name:n(i).trim(),status:n(o)}):await Ua(t.selectedProject.id,t.selectedArea.id,n(i).trim()),v())}var y={openCreateTaskModal:f,openEditTaskModal:b},u=fe(),m=oe(u);{var g=p=>{var h=Ol(),_=d(h);_.__click=v,_.__keydown=j=>j.key==="Escape"&&v();var w=x(_,2),D=d(w),T=d(D),C=d(T,!0);l(T);var P=x(T,2);P.__click=v,l(D);var k=x(D,2),I=d(k),E=x(d(I),2);tt(E),E.__keydown=j=>j.key==="Enter"&&c(),at(E,j=>s=j,()=>s),l(I);var S=x(I,2);{var G=j=>{var L=Il(),X=x(d(L),2);Ee(X,21,()=>Zs,Se,(N,R)=>{var F=Al();F.__click=()=>O(o,n(R).value,!0);var W=d(F,!0);l(F),K(()=>{re(F,1,`px-3 py-1.5 text-sm rounded-lg border transition-colors ${n(o)===n(R).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),z(W,n(R).label)}),A(N,F)}),l(X),l(L),A(j,L)};V(S,j=>{n(a)&&j(G)})}l(k);var U=x(k,2),q=x(d(U),2);q.__click=v;var H=x(q,2);H.__click=c;var M=d(H,!0);l(H),l(U),l(w),l(h),K(j=>{z(C,n(a)?"Edit Task":"New Task"),H.disabled=j,z(M,n(a)?"Save":"Create")},[()=>!n(i).trim()]),Be(3,_,()=>Dt,()=>({duration:200})),Qr(E,()=>n(i),j=>O(i,j)),Be(3,w,()=>Et,()=>({y:300,duration:300})),A(p,h)};V(m,p=>{n(r)&&p(g)})}return A(e,u),we(y)}xe(["click","keydown"]);var jl=bt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Cl=bt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Pl=bt('<svg class="w-3 h-3 text-warning" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),Ml=B('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),Nl=B('<div tabindex="0" role="button" class="hover:bg-primary/20 cursor-pointer w-full flex flex-row items-start border-b border-b-base-content/10 p-2"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function Rl(e,t){ye(t,!0);const r=$(()=>t.task.status==="completed"),a=$(()=>t.task.status==="cancelled"),i=$(()=>t.task.status==="blocked");var o=Nl();o.__click=g=>t.handleEdit(g,t.task);var s=d(o);s.__click=g=>t.toggleTaskComplete(g,t.task);var f=d(s);{var b=g=>{var p=jl();A(g,p)},v=g=>{var p=fe(),h=oe(p);{var _=D=>{var T=Cl();A(D,T)},w=D=>{var T=fe(),C=oe(T);{var P=k=>{var I=Pl();A(k,I)};V(C,k=>{n(i)&&k(P)},!0)}A(D,T)};V(h,D=>{n(a)?D(_):D(w,!1)},!0)}A(g,p)};V(f,g=>{n(r)?g(b):g(v,!1)})}l(s);var c=x(s,2),y=d(c,!0);l(c);var u=x(c,2);{var m=g=>{var p=Ml(),h=oe(p);h.__click=w=>t.handleTaskMoveUp(w,t.index);var _=x(h,2);_.__click=w=>t.handleTaskMoveDown(w,t.index),A(g,p)};V(u,g=>{t.reorderEnabled&&g(m)})}l(o),K(()=>{re(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(r)?"bg-success border-success text-success-content":n(i)?"border-warning":n(a)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"}`),s.disabled=n(a),z(y,t.task.name)}),A(e,o),we()}xe(["click"]);var Ll=B('<div class="flex flex-col h-full w-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col w-full items-start px-2"><div class="flex flex-row w-full justify-between h-12 items-center "><button class="gap-2 text-sm text-secondary flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>â†</span> <span>Back</span></button> <div class="badge badge-sm badge-secondary rounded"> </div></div> <div class="flex items-start gap-2"><div class="size-7"><!></div> <h2 class="text-base "> </h2></div> <div class="flex gap-1 overflow-x-auto my-2"><button class="text-base-content/50 bg-base-300 hover:bg-primary/50 hover:text-primary-content px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap">+ New</button> <button>Reorder</button> <button class="px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50">Complete project</button></div></div></div> <div class="flex-1 overflow-auto bg-base-200  min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0"></div></div></div> <!>',1);function Fl(e,t){ye(t,!0);let r,a=$(()=>Ye.getById(t.selectedProject.id)?.status),i=$(()=>dt.getByProject(t.selectedProject.id)),o=Q(!1),s=()=>O(o,!n(o));async function f(M){await Ha(t.selectedArea.id,t.selectedProject.index,{status:"completed"})}async function b(M,j){if(M.stopPropagation(),!t.selectedProject)return;const L=j.status==="completed"?"active":"completed";await Va(t.selectedProject.id,j.index,{status:L})}async function v(M,j){if(M.stopPropagation(),j===0||!t.selectedProject)return;const L=n(i),X=dt.getByProject(t.selectedProject.id),N=L[j],R=L[j-1],F=X.findIndex(ee=>ee.id===R.id),W=F>0?X[F-1].index:null,Y=R.index;await ua(t.selectedProject.id,N.index,W,Y)}async function c(M,j){if(M.stopPropagation(),!t.selectedProject)return;const L=n(i);if(j===L.length-1)return;const X=dt.getByProject(t.selectedProject.id),N=L[j],R=L[j+1],F=X.findIndex(ee=>ee.id===R.id),W=R.index,Y=F<X.length-1?X[F+1].index:null;await ua(t.selectedProject.id,N.index,W,Y)}var y=Ll(),u=oe(y),m=d(u),g=d(m),p=d(g),h=d(p);h.__click=function(...M){t.navigateBack?.apply(this,M)};var _=x(h,2),w=d(_,!0);l(_),l(p);var D=x(p,2),T=d(D),C=d(T);zt(C,{get level(){return t.selectedProject.severity},get type(){return t.selectedProject.type}}),l(T);var P=x(T,2),k=d(P,!0);l(P),l(D);var I=x(D,2),E=d(I);E.__click=function(...M){r.openCreateTaskModal?.apply(this,M)};var S=x(E,2);S.__click=s;var G=x(S,2);G.__click=f,l(I),l(g),l(m);var U=x(m,2),q=d(U);Ee(q,21,()=>n(i),Se,(M,j,L)=>{Rl(M,{get handleEdit(){return r.openEditTaskModal},handleTaskMoveUp:v,handleTaskMoveDown:c,index:L,get task(){return n(j)},toggleTaskComplete:b,get reorderEnabled(){return n(o)}})}),l(q),l(U),l(u);var H=x(u,2);at(Sl(H,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),M=>r=M,()=>r),K(()=>{z(w,n(a)),z(k,t.selectedProject.name),re(S,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${n(o)?"bg-primary/40 text-primary-content":"text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50"}`)}),A(e,y),we()}xe(["click"]);var Bl=B('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),Wl=B('<div class="h-screen flex flex-col bg-base-300 md:ml-20"><div class="max-md:pb-22 h-full"><!></div> <!></div>');function ql(e,t){ye(t,!0);const r=()=>s("areas"),a=()=>s("projects");let i=Q(void 0),o=Q(void 0);s("areas");function s(p){eo("",{activeTab:p})}function f(p){O(i,p,!0),s("projects")}function b(p){O(o,p,!0),O(i,ct.getById(p.areaId),!0),s("tasks")}var v=Wl(),c=d(v),y=d(c);{var u=p=>{sl(p,{onSelectArea:f})},m=p=>{var h=fe(),_=oe(h);{var w=T=>{El(T,{navigateBack:r,navigateToTasks:b,get selectedArea(){return n(i)}})},D=T=>{var C=fe(),P=oe(C);{var k=E=>{Fl(E,{navigateBack:a,get selectedArea(){return n(i)},get selectedProject(){return n(o)}})},I=E=>{var S=fe(),G=oe(S);{var U=H=>{Ts(H,{navigateToTasks:b})},q=H=>{var M=fe(),j=oe(M);{var L=N=>{Hs(N,{})},X=N=>{var R=fe(),F=oe(R);{var W=Y=>{var ee=Bl();A(Y,ee)};V(F,Y=>{it.state.activeTab==="review"&&Y(W)},!0)}A(N,R)};V(j,N=>{it.state.activeTab==="today"?N(L):N(X,!1)},!0)}A(H,M)};V(G,H=>{it.state.activeTab==="week"?H(U):H(q,!1)},!0)}A(E,S)};V(P,E=>{it.state.activeTab=="tasks"?E(k):E(I,!1)},!0)}A(T,C)};V(_,T=>{it.state.activeTab==="projects"?T(w):T(D,!1)},!0)}A(p,h)};V(y,p=>{it.state.activeTab==="areas"?p(u):p(m,!1)})}l(c);var g=x(c,2);Wo(g,{get activeTab(){return it.state.activeTab},onTabChange:s}),l(v),A(e,v),we()}export{ql as component};
