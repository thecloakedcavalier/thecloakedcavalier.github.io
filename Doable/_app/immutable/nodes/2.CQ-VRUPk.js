import{d as ee,f as N,a as P,s as O,c as $,b as Qe}from"../chunks/C0mSsNzB.js";import{y as We,E as Lt,K as Re,A as se,ao as zt,F as Vt,g as e,T as Ft,H as Ht,I as Ut,J as ft,L as Oe,B as Pe,aa as Gt,aC as qt,ah as gt,o as fe,aE as ce,z as qe,D as Jt,a8 as xt,a4 as Kt,aA as Xe,aF as Yt,aG as Qt,aH as Xt,aI as Zt,v as Tt,x as Pt,aJ as Le,aw as $t,az as ea,w as ta,aK as Mt,q as Se,aL as aa,aM as ra,aN as sa,aO as na,aP as oa,aQ as la,aR as St,a5 as ia,u as ca,r as Ct,aS as da,aT as va,aU as ua,p as te,l as ae,n as s,m as o,s as g,t as G,k as Z,O as Y,N as S,a6 as K,b as Ie,U as Ce}from"../chunks/BqVyvuT7.js";import{i as U}from"../chunks/Dgz-J3ua.js";import{a as ba}from"../chunks/B7KdNFor.js";import{p as ue}from"../chunks/kP0cd_1n.js";import{a1 as Me,a2 as fa,a3 as ga,a4 as xa,a5 as It,a6 as Et,a7 as he,a8 as ye,a9 as pa,aa as be,ab as de,ac as we,ad as _a,ae as ma,af as ka,ag as ha,ah as ya,ai as wa,aj as ja,ak as pt,al as Aa,am as Ta,an as Pa,ao as Ma,ap as _t,aq as Dt,ar as Sa,as as mt}from"../chunks/B3UtlAuG.js";import{b as ke}from"../chunks/BYS0SYey.js";function ne(a,t){return t}function Ca(a,t,n){for(var r=[],l=t.length,c,i=t.length,h=0;h<l;h++){let j=t[h];Pt(j,()=>{if(c){if(c.pending.delete(j),c.done.add(j),c.pending.size===0){var k=a.outrogroups;Je(Xe(c.done)),k.delete(c),k.size===0&&(a.outrogroups=null)}}else i-=1},!1)}if(i===0){var f=r.length===0&&n!==null;if(f){var m=n,y=m.parentNode;ea(y),y.append(m),a.items.clear()}Je(t,!f)}else c={pending:new Set(t),done:new Set},(a.outrogroups??=new Set).add(c)}function Je(a,t=!0){for(var n=0;n<a.length;n++)ta(a[n],t)}var kt;function oe(a,t,n,r,l,c=null){var i=a,h=new Map,f=(t&Mt)!==0;if(f){var m=a;i=se?Re(zt(m)):m.appendChild(We())}se&&Vt();var y=null,j=Ft(()=>{var p=n();return Yt(p)?p:p==null?[]:Xe(p)}),k,A=!0;function _(){v.fallback=y,Ia(v,k,i,t,r),y!==null&&(k.length===0?(y.f&ce)===0?Tt(y):(y.f^=ce,_e(y,null,i)):Pt(y,()=>{y=null}))}var x=Lt(()=>{k=e(j);var p=k.length;let T=!1;if(se){var C=Ht(i)===Ut;C!==(p===0)&&(i=ft(),Re(i),Oe(!1),T=!0)}for(var M=new Set,D=fe,L=Jt(),d=0;d<p;d+=1){se&&Pe.nodeType===Gt&&Pe.data===qt&&(i=Pe,T=!0,Oe(!1));var b=k[d],u=r(b,d),w=A?null:h.get(u);w?(w.v&&gt(w.v,b),w.i&&gt(w.i,d),L&&D.skipped_effects.delete(w.e)):(w=Ea(h,A?i:kt??=We(),b,u,d,l,t,n),A||(w.e.f|=ce),h.set(u,w)),M.add(u)}if(p===0&&c&&!y&&(A?y=qe(()=>c(i)):(y=qe(()=>c(kt??=We())),y.f|=ce)),se&&p>0&&Re(ft()),!A)if(L){for(const[I,W]of h)M.has(I)||D.skipped_effects.add(W.e);D.oncommit(_),D.ondiscard(()=>{})}else _();T&&Oe(!0),e(j)}),v={effect:x,items:h,outrogroups:null,fallback:y};A=!1,se&&(i=Pe)}function Ia(a,t,n,r,l){var c=(r&aa)!==0,i=t.length,h=a.items,f=a.effect.first,m,y=null,j,k=[],A=[],_,x,v,p;if(c)for(p=0;p<i;p+=1)_=t[p],x=l(_,p),v=h.get(x).e,(v.f&ce)===0&&(v.nodes?.a?.measure(),(j??=new Set).add(v));for(p=0;p<i;p+=1){if(_=t[p],x=l(_,p),v=h.get(x).e,a.outrogroups!==null)for(const w of a.outrogroups)w.pending.delete(v),w.done.delete(v);if((v.f&ce)!==0)if(v.f^=ce,v===f)_e(v,null,n);else{var T=y?y.next:f;v===a.effect.last&&(a.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),ve(a,y,v),ve(a,v,T),_e(v,T,n),y=v,k=[],A=[],f=y.next;continue}if((v.f&Le)!==0&&(Tt(v),c&&(v.nodes?.a?.unfix(),(j??=new Set).delete(v))),v!==f){if(m!==void 0&&m.has(v)){if(k.length<A.length){var C=A[0],M;y=C.prev;var D=k[0],L=k[k.length-1];for(M=0;M<k.length;M+=1)_e(k[M],C,n);for(M=0;M<A.length;M+=1)m.delete(A[M]);ve(a,D.prev,L.next),ve(a,y,D),ve(a,L,C),f=C,y=L,p-=1,k=[],A=[]}else m.delete(v),_e(v,f,n),ve(a,v.prev,v.next),ve(a,v,y===null?a.effect.first:y.next),ve(a,y,v),y=v;continue}for(k=[],A=[];f!==null&&f!==v;)(m??=new Set).add(f),A.push(f),f=f.next;if(f===null)continue}(v.f&ce)===0&&k.push(v),y=v,f=v.next}if(a.outrogroups!==null){for(const w of a.outrogroups)w.pending.size===0&&(Je(Xe(w.done)),a.outrogroups?.delete(w));a.outrogroups.size===0&&(a.outrogroups=null)}if(f!==null||m!==void 0){var d=[];if(m!==void 0)for(v of m)(v.f&Le)===0&&d.push(v);for(;f!==null;)(f.f&Le)===0&&f!==a.fallback&&d.push(f),f=f.next;var b=d.length;if(b>0){var u=(r&Mt)!==0&&i===0?n:null;if(c){for(p=0;p<b;p+=1)d[p].nodes?.a?.measure();for(p=0;p<b;p+=1)d[p].nodes?.a?.fix()}Ca(a,d,u)}}c&&Se(()=>{if(j!==void 0)for(v of j)v.nodes?.a?.apply()})}function Ea(a,t,n,r,l,c,i,h){var f=(i&Qt)!==0?(i&Xt)===0?Kt(n,!1,!1):xt(n):null,m=(i&Zt)!==0?xt(l):null;return{v:f,i:m,e:qe(()=>(c(t,f??n,m??l,h),()=>{a.delete(r)}))}}function _e(a,t,n){if(a.nodes)for(var r=a.nodes.start,l=a.nodes.end,c=t&&(t.f&ce)===0?t.nodes.start:n;r!==null;){var i=$t(r);if(c.before(r),r===l)return;r=i}}function ve(a,t,n){t===null?a.effect.first=n:t.next=n,n===null?a.effect.last=t:n.prev=t}const ht=[...` 	
\r\f¬†\v\uFEFF`];function Da(a,t,n){var r=a==null?"":""+a;if(t&&(r=r?r+" "+t:t),n){for(var l in n)if(n[l])r=r?r+" "+l:l;else if(r.length)for(var c=l.length,i=0;(i=r.indexOf(l,i))>=0;){var h=i+c;(i===0||ht.includes(r[i-1]))&&(h===r.length||ht.includes(r[h]))?r=(i===0?"":r.substring(0,i))+r.substring(h+1):i=h}}return r===""?null:r}function yt(a,t=!1){var n=t?" !important;":";",r="";for(var l in a){var c=a[l];c!=null&&c!==""&&(r+=" "+l+": "+c+n)}return r}function ze(a){return a[0]!=="-"||a[1]!=="-"?a.toLowerCase():a}function Na(a,t){if(t){var n="",r,l;if(Array.isArray(t)?(r=t[0],l=t[1]):r=t,a){a=String(a).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var c=!1,i=0,h=!1,f=[];r&&f.push(...Object.keys(r).map(ze)),l&&f.push(...Object.keys(l).map(ze));var m=0,y=-1;const x=a.length;for(var j=0;j<x;j++){var k=a[j];if(h?k==="/"&&a[j-1]==="*"&&(h=!1):c?c===k&&(c=!1):k==="/"&&a[j+1]==="*"?h=!0:k==='"'||k==="'"?c=k:k==="("?i++:k===")"&&i--,!h&&c===!1&&i===0){if(k===":"&&y===-1)y=j;else if(k===";"||j===x-1){if(y!==-1){var A=ze(a.substring(m,y).trim());if(!f.includes(A)){k!==";"&&j++;var _=a.substring(m,j).trim();n+=" "+_+";"}}m=j+1,y=-1}}}}return r&&(n+=yt(r)),l&&(n+=yt(l,!0)),n=n.trim(),n===""?null:n}return a==null?null:String(a)}function X(a,t,n,r,l,c){var i=a.__className;if(se||i!==n||i===void 0){var h=Da(n,r,c);(!se||h!==a.getAttribute("class"))&&(h==null?a.removeAttribute("class"):a.className=h),a.__className=n}else if(c&&l!==c)for(var f in c){var m=!!c[f];(l==null||m!==!!l[f])&&a.classList.toggle(f,m)}return c}function Ve(a,t={},n,r){for(var l in n){var c=n[l];t[l]!==c&&(n[l]==null?a.style.removeProperty(l):a.style.setProperty(l,c,r))}}function je(a,t,n,r){var l=a.__style;if(se||l!==t){var c=Na(t,r);(!se||c!==a.getAttribute("style"))&&(c==null?a.removeAttribute("style"):a.style.cssText=c),a.__style=t}else r&&(Array.isArray(r)?(Ve(a,n?.[0],r[0]),Ve(a,n?.[1],r[1],"important")):Ve(a,n,r));return r}const Ba=Symbol("is custom element"),Wa=Symbol("is html");function me(a){if(se){var t=!1,n=()=>{if(!t){if(t=!0,a.hasAttribute("value")){var r=a.value;Ke(a,"value",null),a.value=r}if(a.hasAttribute("checked")){var l=a.checked;Ke(a,"checked",null),a.checked=l}}};a.__on_r=n,Se(n),ra()}}function Ke(a,t,n,r){var l=Ra(a);se&&(l[t]=a.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&a.nodeName==="LINK")||l[t]!==(l[t]=n)&&(t==="loading"&&(a[sa]=n),n==null?a.removeAttribute(t):typeof n!="string"&&Oa(a).includes(t)?a[t]=n:a.setAttribute(t,n))}function Ra(a){return a.__attributes??={[Ba]:a.nodeName.includes("-"),[Wa]:a.namespaceURI===na}}var wt=new Map;function Oa(a){var t=a.getAttribute("is")||a.nodeName,n=wt.get(t);if(n)return n;wt.set(t,n=[]);for(var r,l=a,c=Element.prototype;c!==l;){r=la(l);for(var i in r)r[i].set&&n.push(i);l=oa(l)}return n}function Ze(a,t,n=t){var r=new WeakSet;St(a,"input",async l=>{var c=l?a.defaultValue:a.value;if(c=He(a)?Ue(c):c,n(c),fe!==null&&r.add(fe),await ia(),c!==(c=t())){var i=a.selectionStart,h=a.selectionEnd,f=a.value.length;if(a.value=c??"",h!==null){var m=a.value.length;i===h&&h===f&&m>f?(a.selectionStart=m,a.selectionEnd=m):(a.selectionStart=i,a.selectionEnd=Math.min(h,m))}}}),(se&&a.defaultValue!==a.value||ca(t)==null&&a.value)&&(n(He(a)?Ue(a.value):a.value),fe!==null&&r.add(fe)),Ct(()=>{var l=t();if(a===document.activeElement){var c=da??fe;if(r.has(c))return}He(a)&&l===Ue(a.value)||a.type==="date"&&!l&&!a.value||l!==a.value&&(a.value=l??"")})}const Fe=new Set;function jt(a,t,n,r,l=r){var c=n.getAttribute("type")==="checkbox",i=a;let h=!1;if(t!==null)for(var f of t)i=i[f]??=[];i.push(n),St(n,"change",()=>{var m=n.__value;c&&(m=At(i,m,n.checked)),l(m)},()=>l(c?[]:null)),Ct(()=>{var m=r();if(se&&n.defaultChecked!==n.checked){h=!0;return}c?(m=m||[],n.checked=m.includes(n.__value)):n.checked=va(n.__value,m)}),ua(()=>{var m=i.indexOf(n);m!==-1&&i.splice(m,1)}),Fe.has(i)||(Fe.add(i),Se(()=>{i.sort((m,y)=>m.compareDocumentPosition(y)===4?-1:1),Fe.delete(i)})),Se(()=>{if(h){var m;if(c)m=At(i,m,n.checked);else{var y=i.find(j=>j.checked);m=y?.__value}l(m)}})}function At(a,t,n){for(var r=new Set,l=0;l<a.length;l+=1)a[l].checked&&r.add(a[l].__value);return n||r.delete(t),Array.from(r)}function He(a){var t=a.type;return t==="number"||t==="range"}function Ue(a){return a===""?null:+a}const pe={regular:{sev1:"Core to who I am or want to become",sev2:"Significant progress toward a major goal",sev3:"Meaningful but not defining",sev4:"Nice to do, no real deadline",sev5:"Pure exploration or fun"},maintenance:{sev1:"Immediate risk if ignored (safety, legal, financial)",sev2:"Disrupts daily life if neglected",sev3:"Routine upkeep, flexible timing",sev4:"Minor improvement, no consequences",sev5:"Cosmetic or nice-to-have"}},La=["üíº","üè†","üí™","üìö","üí∞","‚ù§Ô∏è","üéØ","üöÄ","üé®","üéµ","‚úàÔ∏è","üçé","üßò","üë®‚Äçüë©‚Äçüëß‚Äçüë¶","ü§ù","üì±","üíª","üîß","üìù","üéì","üèÉ","üß†","üå±","‚≠ê","üî•","üí°","üéÆ","üì∏","üõí","üè¶","üöó","üèãÔ∏è"];ee(["click","keydown"]);var za=N('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),Va=N('<nav class="pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav>');function Fa(a,t){te(t,!0);const n=[{id:"areas",icon:"üìÅ",label:"Areas"},{id:"week",icon:"üìÖ",label:"Week"},{id:"today",icon:"‚òÄÔ∏è",label:"Today"}];var r=Va();oe(r,21,()=>n,ne,(l,c)=>{var i=za();let h;i.__click=()=>t.onTabChange(e(c).id);let f;var m=o(i),y=o(m,!0);s(m);var j=g(m,2),k=o(j,!0);s(j),s(i),G(()=>{h=X(i,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,h,{"text-primary":t.activeTab===e(c).id,"text-base-content":t.activeTab!==e(c).id}),f=je(i,"",f,{opacity:t.activeTab===e(c).id?1:.4}),O(y,e(c).icon),O(k,e(c).label)}),P(l,i)}),s(r),P(a,r),ae()}ee(["click"]);var Ha=N('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),Ua=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function Ga(a,t){te(t,!0);let n=Y(!1),r=Y(null);function l(k,A,_,x){k.stopPropagation(),S(r,{task:A,project:_,area:x},!0),S(n,!0)}function c(){S(n,!1),S(r,null)}function i(){return ga(t.currentWeekOf).map(k=>({date:k,dayName:It(k),isToday:xa(k)}))}async function h(k){if(!e(r))return;const{task:A,project:_,area:x}=e(r);c();const v=t.isTaskAssignedToDay(A.id);v===k?await Me(A.id,_.id,t.currentWeekOf,k):(v&&await Me(A.id,_.id,t.currentWeekOf,v),await fa(A.id,_.id,x.id,A.name,t.currentWeekOf,k,!1))}var f={openDayPicker:l},m=$(),y=Z(m);{var j=k=>{var A=Ua(),_=o(A);_.__click=c,_.__keydown=b=>b.key==="Escape"&&c();var x=g(_,2),v=o(x),p=o(v),T=g(o(p),2),C=o(T,!0);s(T),s(p);var M=g(p,2);M.__click=c,s(v);var D=g(v,2);oe(D,21,i,ne,(b,u)=>{const w=K(()=>t.isTaskAssignedToDay(e(r).task.id)===e(u).date);var I=Ha();I.__click=()=>h(e(u).date);var W=o(I),V=o(W,!0);s(W);var B=g(W,2),E=o(B,!0);s(B),s(I),G(H=>{X(I,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${e(w)?"bg-primary text-primary-content border-primary":e(u).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),O(V,e(u).dayName),O(E,H)},[()=>e(u).date.split("-")[2]]),P(b,I)}),s(D);var L=g(D,2),d=o(L);d.__click=()=>{const b=t.isTaskAssignedToDay(e(r).task.id);b&&Me(e(r).task.id,e(r).project.id,t.currentWeekOf,b),c()},s(L),s(x),s(A),G(()=>O(C,e(r).task.name)),P(k,A)};U(y,k=>{e(n)&&e(r)&&k(j)})}return P(a,m),ae(f)}ee(["click","keydown"]);var qa=N('<span class="text-center text-xs font-semibold bg-purple-500/20 text-purple-400 rounded w-full h-full  items-center justify-center flex">1</span>'),Ja=N('<span class="text-center text-xs font-semibold bg-red-500/20 text-red-400 rounded w-full h-full items-center justify-center flex">2</span>'),Ka=N('<span class="text-center text-xs font-semibold bg-yellow-500/20 text-yellow-400 rounded w-full h-full items-center justify-center flex">3</span>'),Ya=N('<span class="text-center text-xs font-semibold bg-blue-500/20 text-blue-500 rounded w-full h-full items-center justify-center flex">4</span>'),Qa=N('<span class="text-center text-xs font-semibold bg-emerald-500/20 text-emerald-300 rounded w-full h-full items-center justify-center flex">5</span>');function Ye(a,t){var n=$(),r=Z(n);{var l=i=>{var h=qa();P(i,h)},c=i=>{var h=$(),f=Z(h);{var m=j=>{var k=Ja();P(j,k)},y=j=>{var k=$(),A=Z(k);{var _=v=>{var p=Ka();P(v,p)},x=v=>{var p=$(),T=Z(p);{var C=D=>{var L=Ya();P(D,L)},M=D=>{var L=Qa();P(D,L)};U(T,D=>{t.level=="sev4"?D(C):D(M,!1)},!0)}P(v,p)};U(A,v=>{t.level=="sev3"?v(_):v(x,!1)},!0)}P(j,k)};U(f,j=>{t.level=="sev2"?j(m):j(y,!1)},!0)}P(i,h)};U(r,i=>{t.level=="sev1"?i(l):i(c,!1)})}P(a,n)}var Xa=N('<div class="h-1 bg-base-300"><div class="h-full bg-base-content/20 transition-all"></div></div>'),Za=N('<div class="bg-base-100 rounded-lg overflow-hidden" tabindex="0" role="button"><!> <div class="flex items-start gap-2 p-2"><div class="size-8 mt-0.5"><!></div> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content mb-1"> </p> <p class="text-sm "><span> </span> <span class="text-xs mx-0.5">‚Ä¢</span> <span class="text-base-content/50"> </span></p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">‚úï</button></div></div>'),$a=N('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),er=N('<div class="flex flex-col gap-2"><div class="flex justify-between items-center"><div class="text-xs tracking-wider text-base-content/50 uppercase">Assigned projects</div> <button> </button></div> <!></div>');function tr(a,t){te(t,!0);let n=Y(localStorage.getItem("filterAssignedProject")=="true"),r=()=>S(n,!e(n));Ie(()=>{localStorage.setItem("filterAssignedProject",e(n)+"")});async function l(j,k){j.stopPropagation(),await Et(k,t.currentWeekOf)}function c(j){const k=he.getByProject(j),A=k.filter(x=>x.status==="active").length,_=k.filter(x=>x.status==="completed").length;return{active:A,completed:_,total:A+_}}var i=er(),h=o(i),f=g(o(h),2);f.__click=r;var m=o(f);s(f),s(h);var y=g(h,2);oe(y,17,()=>t.assignedProjects,ne,(j,k)=>{let A=()=>e(k).project,_=()=>e(k).area;const x=K(()=>c(A().id)),v=K(()=>e(x).total>0?e(x).completed/e(x).total*100:0);var p=$(),T=Z(p);{var C=M=>{var D=Za();D.__click=()=>t.navigateToTasks(A());var L=o(D);{var d=R=>{var F=Xa(),Q=o(F);s(F),G(()=>je(Q,`width: ${e(v)??""}%`)),P(R,F)};U(L,R=>{e(x).total>0&&R(d)})}var b=g(L,2),u=o(b),w=o(u);Ye(w,{get level(){return A().severity}}),s(u);var I=g(u,2),W=o(I),V=o(W,!0);s(W);var B=g(W,2),E=o(B),H=o(E);s(E);var q=g(E,4),J=o(q,!0);s(q),s(B),s(I);var z=g(I,2);z.__click=R=>l(R,A().id),s(b),s(D),G(()=>{O(V,A().name),X(E,1,`text-base-content/50 ${e(x).active==0?"text-error":""}`),O(H,`${e(x).active??""} available`),O(J,_().name)}),P(M,D)};U(T,M=>{(!["completed","cancelled"].includes(A().status)&&e(n)||!e(n))&&M(C)})}P(j,p)},j=>{var k=$a();P(j,k)}),s(i),G(()=>{X(f,1,`w-20 btn btn-xs btn-soft btn-secondary ${e(n)?"bg-secondary text-secondary-content":""}`),O(m,`Filter :${e(n)?"ON":"OFF"}`)}),P(a,i),ae()}ee(["click"]);var ar=N('<span class="text-xs text-primary-content px-2 py-1 bg-primary rounded"> </span>'),rr=N('<button class="text-start flex items-center gap-3 p-3 bg-base-100 border border-base-content/10 rounded-lg transition-all hover:border-primary"><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-base-content/50"> </p></div> <!></button>'),sr=N('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),nr=N('<div class="flex flex-col gap-2"></div>');function or(a,t){te(t,!0);var n=nr();oe(n,21,()=>t.weekTasks,ne,(r,l)=>{let c=()=>e(l).task,i=()=>e(l).project,h=()=>e(l).area;const f=K(()=>t.isTaskAssignedToDay(c().id));var m=rr();m.__click=p=>t.openDayPicker(p,c(),i(),h());var y=o(m),j=o(y),k=o(j,!0);s(j);var A=g(j,2),_=o(A);s(A),s(y);var x=g(y,2);{var v=p=>{var T=ar(),C=o(T,!0);s(T),G(M=>O(C,M),[()=>It(e(f))]),P(p,T)};U(x,p=>{e(f)&&p(v)})}s(m),G(()=>{O(k,c().name),O(_,`${h().icon??""} ${i().name??""}`)}),P(r,m)},r=>{var l=sr();P(r,l)}),s(n),P(a,n),ae()}ee(["click"]);var lr=N('<div class="flex flex-col h-full"><div class="bg-base-100 border-b border-b-base-content/10"><div class="px-4 pt-4 pb-2 "><h2 class="text-lg font-medium">Week</h2> <p class="text-xs text-base-content/50"> </p></div> <div class="flex gap-1 px-4 pb-3"><button> </button> <button> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-4"><!></div></div> <!>',1);function ir(a,t){te(t,!0);let n=Y(Ce(localStorage.getItem("weekTabView")||"projects"));Ie(()=>{e(n)&&localStorage.setItem("weekTabView",e(n))});let r=Ce(ye());const l=K(()=>we.getWeek(r));let c;function i(u){return e(l)?e(l).tasksByDay.find(I=>I.taskId===u)?.date??null:null}let h=K(()=>e(l)?e(l).projectAssignments.map(u=>{const w=be.getById(u.areaId);if(!w)return null;const W=de.getByArea(w.id).find(V=>V.id===u.projectId);return W?{assignment:u,project:W,area:w}:null}).filter(u=>u!==null):[]),f=K(()=>{const u=[];for(const{project:w,area:I}of e(h)){const W=he.getByProject(w.id).filter(V=>V.status==="active");for(const V of W)u.push({task:V,project:w,area:I})}return u});var m=lr(),y=Z(m),j=o(y),k=o(j),A=g(o(k),2),_=o(A,!0);s(A),s(k);var x=g(k,2),v=o(x);v.__click=()=>S(n,"projects");var p=o(v);s(v);var T=g(v,2);T.__click=()=>S(n,"tasks");var C=o(T);s(T),s(x),s(j);var M=g(j,2),D=o(M);{var L=u=>{tr(u,{get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return r},get assignedProjects(){return e(h)}})},d=u=>{or(u,{get openDayPicker(){return c.openDayPicker},get weekTasks(){return e(f)},isTaskAssignedToDay:i})};U(D,u=>{e(n)==="projects"?u(L):u(d,!1)})}s(M),s(y);var b=g(y,2);ke(Ga(b,{get currentWeekOf(){return r},isTaskAssignedToDay:i}),u=>c=u,()=>c),G(u=>{O(_,u),X(v,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${e(n)==="projects"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),O(p,`Projects (${e(h).length??""})`),X(T,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${e(n)==="tasks"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),O(C,`Tasks (${e(f).length??""})`)},[()=>pa(r)]),P(a,m),ae()}ee(["click"]);var cr=N('<div class="px-4 pb-3"><div class="flex items-center justify-between text-xs text-base-content/50 mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success transition-all rounded-full"></div></div></div>'),dr=N('<div class="flex items-center gap-3 p-3 bg-base-100 border border-base-content/10 rounded-lg"><button type="button" aria-label="check" class="w-7 h-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content mb-2"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from today">‚úï</button></div>'),vr=N('<div class="flex flex-col gap-2 mb-4"></div>'),ur=N('<div class="text-center py-12"><span class="text-4xl block mb-3">üìã</span> <p class="text-base-content/50 text-sm mb-2">No tasks for today</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),br=N('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">üéâ</span> <p class="text-sm font-medium text-success">All done for today!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),fr=N('<div class="flex items-center gap-3 p-3 opacity-50"><button type="button" class="w-7 h-7 rounded-full bg-success border-2 border-success flex items-center justify-center flex-shrink-0 text-success-content" title="Mark as incomplete"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),gr=N('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),xr=N('<div class="flex flex-col h-full"><div class="px-4 pt-4 pb-2"><h2 class="text-lg font-medium">Today</h2> <p class="text-xs text-base-content/50"> </p></div> <!> <div class="flex-1 overflow-y-auto px-3 pb-4"><!> <!></div></div>');function pr(a,t){te(t,!0);const n=_a(),r=ye();let l=K(()=>{const d=we.getWeek(r);return d?d.tasksByDay.filter(b=>b.date===n).map(b=>{const u=he.getById(b.taskId),w=be.getById(b.areaId),W=(w?de.getByArea(w.id):[]).find(V=>V.id===b.projectId);return{taskByDay:b,task:u,areaIcon:w?.icon??"üìÅ",areaName:w?.name??"Unknown",projectName:W?.name??"Unknown"}}):[]}),c=K(()=>e(l).filter(d=>d.taskByDay.status!=="completed")),i=K(()=>e(l).filter(d=>d.taskByDay.status==="completed"));function h(){const d=e(l),b=d.filter(I=>I.taskByDay.status==="completed").length,u=d.length,w=u>0?b/u*100:0;return{completed:b,total:u,percent:w}}async function f(d){await ka(d.taskId,d.projectId,r,n)}async function m(d){await ha(d.taskId,d.projectId,r,n)}async function y(d){await Me(d.taskId,d.projectId,r,n)}var j=xr(),k=o(j),A=g(o(k),2),_=o(A);s(A),s(k);var x=g(k,2);{var v=d=>{const b=K(h);var u=cr(),w=o(u),I=o(w),W=o(I);s(I);var V=g(I,2),B=o(V);s(V),s(w);var E=g(w,2),H=o(E);s(E),s(u),G(q=>{O(W,`${e(b).completed??""} of ${e(b).total??""} completed`),O(B,`${q??""}%`),je(H,`width: ${e(b).percent??""}%`)},[()=>Math.round(e(b).percent)]),P(d,u)};U(x,d=>{h().total>0&&d(v)})}var p=g(x,2),T=o(p);{var C=d=>{var b=vr();oe(b,21,()=>e(c),ne,(u,w)=>{let I=()=>e(w).taskByDay,W=()=>e(w).areaIcon,V=()=>e(w).projectName;var B=dr(),E=o(B);E.__click=()=>f(I());var H=g(E,2),q=o(H),J=o(q,!0);s(q);var z=g(q,2),R=o(z);s(z),s(H);var F=g(H,2);F.__click=()=>y(I()),s(B),G(()=>{O(J,I().name),O(R,`${W()??""}  ${V()??""}`)}),P(u,B)}),s(b),P(d,b)},M=d=>{var b=$(),u=Z(b);{var w=W=>{var V=ur();P(W,V)},I=W=>{var V=br();P(W,V)};U(u,W=>{h().total===0?W(w):W(I,!1)},!0)}P(d,b)};U(T,d=>{e(c).length>0?d(C):d(M,!1)})}var D=g(T,2);{var L=d=>{var b=gr(),u=o(b),w=o(u);s(u);var I=g(u,2);oe(I,21,()=>e(i),ne,(W,V)=>{let B=()=>e(V).taskByDay,E=()=>e(V).areaIcon,H=()=>e(V).areaName,q=()=>e(V).projectName;var J=fr(),z=o(J);z.__click=()=>m(B());var R=g(z,2),F=o(R),Q=o(F,!0);s(F);var re=g(F,2),ie=o(re);s(re),s(R),s(J),G(()=>{O(Q,B().name),O(ie,`${E()??""} ${H()??""} ¬∑ ${q()??""}`)}),P(W,J)}),s(I),s(b),G(()=>O(w,`Completed (${e(i).length??""})`)),P(d,b)};U(D,d=>{e(i).length>0&&d(L)})}s(p),s(j),G(d=>O(_,`${d??""}, ${n??""}`),[()=>ma(n)]),P(a,j),ae()}ee(["click"]);const Ge=["none","reorder","edit","status"],_r=[{value:"active",label:"Active",color:"border-s-primary"},{value:"blocked",label:"Blocked",color:"border-s-warning"},{value:"someday",label:"Someday",color:"border-s-info"},{value:"completed",label:"Completed",color:"border-s-success"},{value:"cancelled",label:"Cancelled",color:"border-s-error"}],mr=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var kr=N('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function hr(a,t){var n=kr();n.__click=function(...r){t.handleClick?.apply(this,r)},P(a,n)}ee(["click"]);var yr=N('<button type="button"> </button>'),wr=N('<button type="button" class="btn btn-outline btn-error btn-sm">Archive</button>'),jr=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="grid grid-cols-8 gap-1"></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Ar(a,t){te(t,!0);let n=Y(!1),r=Y(null),l=Y(""),c=Y("üéØ");function i(){S(r,null),S(l,""),S(c,"üéØ"),S(n,!0)}function h(v,p){v.stopPropagation(),S(r,p,!0),S(l,p.name,!0),S(c,p.icon,!0),S(n,!0)}function f(){S(n,!1),S(r,null)}async function m(){!e(l).trim()||!e(c)||(e(r)?await ya(e(r).index,{name:e(l).trim(),icon:e(c)}):await wa(e(l).trim(),e(c)),f())}function y(v){return de.getByArea(v.id).filter(T=>T.status==="active").length===0}async function j(){!e(r)||!y(e(r))||(await ja(e(r).index),f())}var k={openCreateAreaModal:i,openEditAreaModal:h},A=$(),_=Z(A);{var x=v=>{var p=jr(),T=o(p);T.__click=f,T.__keydown=z=>z.key==="Escape"&&f();var C=g(T,2),M=o(C),D=o(M),L=o(D,!0);s(D);var d=g(D,2);d.__click=f,s(M);var b=g(M,2),u=o(b),w=g(o(u),2);oe(w,21,()=>La,ne,(z,R)=>{var F=yr();F.__click=()=>S(c,e(R),!0);var Q=o(F,!0);s(F),G(()=>{X(F,1,`aspect-square flex items-center justify-center text-lg rounded-lg transition-colors ${e(c)===e(R)?"bg-primary text-primary-content":"hover:bg-base-200"}`),O(Q,e(R))}),P(z,F)}),s(w),s(u);var I=g(u,2),W=g(o(I),2);me(W),W.__keydown=z=>z.key==="Enter"&&m(),s(I),s(b);var V=g(b,2),B=o(V);{var E=z=>{var R=wr();R.__click=j,G((F,Q)=>{R.disabled=F,Ke(R,"title",Q)},[()=>!y(e(r)),()=>y(e(r))?"Archive area":"Cannot archive: has active projects"]),P(z,R)};U(B,z=>{e(r)&&z(E)})}var H=g(B,4);H.__click=f;var q=g(H,2);q.__click=m;var J=o(q,!0);s(q),s(V),s(C),s(p),G(z=>{O(L,e(r)?"Edit Area":"New Area"),q.disabled=z,O(J,e(r)?"Save":"Create")},[()=>!e(l).trim()||!e(c)]),Ze(W,()=>e(l),z=>S(l,z)),P(v,p)};U(_,v=>{e(n)&&v(x)})}return P(a,A),ae(k)}ee(["click","keydown"]);var Tr=N('<button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-6" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button>'),Pr=N('<div class="flex flex-row gap-1"><button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üê</button> <button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üí</button></div>'),Mr=N("<div> </div>"),Sr=N('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm font-medium mb-0 pb-1 truncate"> </div> <p class="text-xs text-base-content/50"> </p></div></div></div></div>');function Cr(a,t){te(t,!0);const n=K(()=>de.getByArea(t.area.id).filter(T=>T.status==="active").length),r=K(()=>{const T=ye(),C=we.getWeek(T),M=de.getByArea(t.area.id),D=M.filter(u=>u.status==="active"||u.status==="blocked"||u.status==="someday");if(D.length===0)return{level:"clear",color:"badge-success",icon:"‚úì"};if(C?.projectAssignments.some(u=>D.some(w=>w.id===u.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"‚óÜ"};const d=M.filter(u=>u.status==="completed"&&u.completedAt),b=d.length>0?Math.max(...d.map(u=>new Date(u.completedAt).getTime())):null;if(b){const u=Date.now()-12096e5,w=Date.now()-720*60*60*1e3;if(b>=u)return{level:"active",color:"badge-info",icon:"‚óè"};if(b>=w)return{level:"fading",color:"badge-warning",icon:"‚óã"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var l=Sr();l.__click=()=>t.handleSelect(t.area);var c=o(l),i=o(c),h=o(i),f=o(h,!0);s(h);var m=g(h,2);{var y=T=>{var C=Tr();C.__click=M=>t.handleEdit(M,t.area),P(T,C)},j=T=>{var C=$(),M=Z(C);{var D=d=>{var b=Pr(),u=o(b);u.__click=I=>t.handleAreaMoveUp(I,t.index);var w=g(u,2);w.__click=I=>t.handleAreaMoveDown(I,t.index),s(b),G(()=>u.disabled=t.index==0),P(d,b)},L=d=>{var b=$(),u=Z(b);{var w=I=>{var W=Mr(),V=o(W,!0);s(W),G(()=>{X(W,1,`badge badge-sm rounded ${e(r).color??""} badge-soft`),O(V,e(r).level)}),P(I,W)};U(u,I=>{t.viewMode=="status"&&I(w)},!0)}P(d,b)};U(M,d=>{t.viewMode=="reorder"?d(D):d(L,!1)},!0)}P(T,C)};U(m,T=>{t.viewMode=="edit"?T(y):T(j,!1)})}s(i);var k=g(i,2),A=o(k),_=o(A),x=o(_,!0);s(_);var v=g(_,2),p=o(v);s(v),s(A),s(k),s(c),s(l),G(()=>{X(l,1,`rounded-lg bg-base-100 hover:bg-primary/20 transition-colors cursor-pointer w-full ${e(r).level==="avoiding"?"border border-error/20":e(r).level==="fading"?"border border-warning/20":e(r).level==="active"?"border border-info/20":e(r).level==="planned"?"border border-purple-500/20":""}`),je(l,e(r).level==="avoiding"?"box-shadow: inset 0 0 30px rgba(248, 114, 114, 0.1);":e(r).level==="fading"?"box-shadow: inset 0 0 30px rgba(251, 189, 35, 0.1);":e(r).level==="active"?"box-shadow: inset 0 0 30px rgba(58, 191, 248, 0.1);":e(r).level==="planned"?"box-shadow: inset 0 0 30px rgba(168, 85, 247, 0.1);":""),O(f,t.area.icon),O(x,t.area.name),O(p,`${e(n)??""} project${e(n)!==1?"s":""}`)}),P(a,l),ae()}ee(["click"]);var Ir=N('<button class="link text-base-content/50 text-sm capitalize"> </button>'),Er=N('<div class="flex flex-col h-full"><div class="px-3 pt-5 pb-4 flex flex-row justify-between items-center bg-base-100 border-b border-base-content/10"><a href="/" class="flex flex-row items-center text-base-content/80"><svg version="1.1" id="Icons" class="size-12 mt-1 me-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><style type="text/css">.st0{fill:none;stroke:currentColor;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}</style><path class="st0" d="M11,13H5c-1.1,0-2-0.9-2-2V5c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,12.1,12.1,13,11,13z"></path><path class="st0" d="M11,29H5c-1.1,0-2-0.9-2-2v-6c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,28.1,12.1,29,11,29z"></path><line class="st0" x1="17" y1="5" x2="29" y2="5"></line><line class="st0" x1="17" y1="9" x2="24" y2="9"></line><line class="st0" x1="17" y1="21" x2="29" y2="21"></line><line class="st0" x1="17" y1="25" x2="24" y2="25"></line><polyline class="st0" points="6,7 8,9 11,6 "></polyline></g></svg> <div class="flex flex-col"><div class="text-xl text-base-content/80 tracking-wider font-medium">Doable</div> <div class="text-sm text-base-content/50">Life areas at a glance</div></div></a> <div class="flex flex-row gap-4"><!> <button class="link text-base-content/50 text-sm"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function Dr(a,t){te(t,!0);let n,r=Y(Ce(localStorage.getItem("areasViewMode")||"none"));Ie(()=>localStorage.setItem("areasViewMode",e(r)));let l=Y(!1),c=()=>S(r,Ge[(Ge.indexOf(e(r))+1)%Ge.length],!0),i=()=>S(l,!e(l));const h=K(()=>e(l)?be.archived:be.areas);async function f(d,b){d.stopPropagation();const u=be.areas;if(b===0)return;const w=u[b],I=b>1?u[b-2].index:null,W=u[b-1].index;await pt(w.index,I,W)}async function m(d,b){d.stopPropagation();const u=be.areas;if(b===u.length-1)return;const w=u[b],I=u[b+1].index,W=b<u.length-2?u[b+2].index:null;await pt(w.index,I,W)}var y=Er(),j=o(y),k=g(o(j),2),A=o(k);{var _=d=>{var b=Ir();b.__click=c;var u=o(b,!0);s(b),G(()=>O(u,e(r))),P(d,b)};U(A,d=>{e(l)||d(_)})}var x=g(A,2);x.__click=i;var v=o(x,!0);s(x),s(k),s(j);var p=g(j,2),T=o(p),C=o(T);oe(C,17,()=>e(h),ne,(d,b,u)=>{Cr(d,{get area(){return e(b)},get handleSelect(){return t.onSelectArea},index:u,handleAreaMoveUp:f,handleAreaMoveDown:m,get viewMode(){return e(r)},get handleEdit(){return n.openEditAreaModal}})});var M=g(C,2);{var D=d=>{hr(d,{get handleClick(){return n.openCreateAreaModal}})};U(M,d=>{e(l)||d(D)})}s(T),s(p);var L=g(p,2);ke(Ar(L,{}),d=>n=d,()=>n),s(y),G(()=>O(v,e(l)?"Active":"Archived")),P(a,y),ae()}ee(["click"]);var Nr=N('<button aria-label="edit"> </button>'),Br=N('<div tabindex="0" role="button" class="flex flex-row gap-2 items-start text-left"><p class="px-2 flex flex-row gap-2 text-sm mb-1.5 w-full text-base-content"><span class="w-8 h-8 flex mt-0.5"><!></span> <span class="flex-1"> </span> <!></p></div>'),Wr=N('<div class="h-full bg-primary/80 transition-all"></div>'),Rr=N('<span class="text-xs mx-0.5">‚Ä¢</span> ',1),Or=N('<button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üë</button> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üì</button>',1),Lr=N('<button aria-label="edit"> </button>'),zr=N('<div class="w-full transition-colors bg-base-100 cursor-pointer hover:bg-primary/20" role="button" tabindex="0"><div class="flex-1 min-w-0 p-2 pt-4"><div class="flex flex-row items-start gap-2 "><div class="shrink-0 size-8"><!></div> <p class="text-sm mb-1.5 text-base-content"> </p></div> <div class="mb-2 mt-3 w-full items-center flex h-1 bg-neutral"><!></div> <div class="flex flex-row justify-between items-center ms-2"><p class="text-xs font-semibold text-base-content/50 "> <!></p> <div class="flex flex-row gap-2 items-center mt-1"><!> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-5" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button> <!></div></div></div></div>'),Vr=N("<div><!></div>");function Fr(a,t){te(t,!0);const n=K(()=>he.getByProject(t.project.id)),r=K(()=>e(n).filter(_=>_.status==="active").length),l=K(()=>e(n).filter(_=>_.status==="completed").length),c=K(()=>e(n).filter(_=>_.status==="active"||_.status==="completed").length),i=K(()=>e(c)>0?e(l)/e(c)*100:0);function h(_){for(const[x,v]of Object.entries(we.weeksByWeekOf))if(v.projectAssignments.some(p=>p.projectId===_))return x;return null}function f(_){const x=ye();if(_===x)return"This week";const v=new Date(x),p=new Date(_),T=Math.round((p.getTime()-v.getTime())/(1e3*60*60*24)),C=Math.round(T/7);return C===1?"Next week":C>1?`In ${C} weeks`:C===-1?"Last week":_.slice(5)}const m=K(()=>h(t.project.id));var y=Vr(),j=o(y);{var k=_=>{var x=Br();x.__click=()=>t.onclick(t.project);var v=o(x),p=o(v),T=o(p);Ye(T,{get level(){return t.project.severity}}),s(p);var C=g(p,2),M=o(C,!0);s(C);var D=g(C,2);{var L=d=>{var b=Nr();b.__click=w=>t.handleProjectAssign(w,t.project);var u=o(b,!0);s(b),G(w=>{X(b,1,`badge badge-lg badge-soft ${e(m)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer justify-center rounded-lg items-center flex`),O(u,w)},[()=>f(e(m))]),P(d,b)};U(D,d=>{e(m)&&d(L)})}s(v),s(x),G(()=>O(M,t.project.name)),P(_,x)},A=_=>{var x=zr();x.__click=()=>t.navigateToTasks(t.project),x.__keydown=R=>R.key==="Enter"&&t.navigateToTasks(t.project);var v=o(x),p=o(v),T=o(p),C=o(T);Ye(C,{get level(){return t.project.severity}}),s(T);var M=g(T,2),D=o(M,!0);s(M),s(p);var L=g(p,2),d=o(L);{var b=R=>{var F=Wr();G(()=>je(F,`width: ${e(i)??""}%`)),P(R,F)};U(d,R=>{e(c)>0&&R(b)})}s(L);var u=g(L,2),w=o(u),I=o(w),W=g(I);{var V=R=>{var F=Rr(),Q=g(Z(F));G(()=>O(Q,` ${e(l)??""} done`)),P(R,F)};U(W,R=>{e(l)>0&&R(V)})}s(w);var B=g(w,2),E=o(B);{var H=R=>{var F=Or(),Q=Z(F);Q.__click=ie=>t.handleProjectMoveUp(ie,t.index);var re=g(Q,2);re.__click=ie=>t.handleProjectMoveDown(ie,t.index),P(R,F)};U(E,R=>{t.allowReorder&&R(H)})}var q=g(E,2);q.__click=R=>t.handleEdit(R,t.project);var J=g(q,2);{var z=R=>{var F=Lr();F.__click=re=>t.handleProjectAssign(re,t.project);var Q=o(F,!0);s(F),G(re=>{X(F,1,`badge badge-lg badge-soft ${e(m)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer flex justify-center rounded-lg items-center`),O(Q,re)},[()=>e(m)?f(e(m)):"Unassigned"]),P(R,F)};U(J,R=>{t.allowWeekAssignment&&R(z)})}s(B),s(u),s(v),s(x),G(()=>{O(D,t.project.name),O(I,`${e(r)??""} active `)}),P(_,x)};U(j,_=>{t.isSelected?_(A,!1):_(k)})}s(y),P(a,y),ae()}ee(["click","keydown"]);var Hr=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[650px] max-h-full bg-base-100 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-200 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">4</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">5</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="grid grid-cols-3 gap-1"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Someday</button> <button type="button">Cancelled</button> <button type="button">Done</button></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function Ur(a,t){te(t,!0);const n=[];let r=Y(!1),l=Y(null),c=Y(""),i=Y("active"),h=Y("regular"),f=Y("sev3");function m(){console.log("Creating.."),S(l,null),S(c,""),S(i,"active"),S(h,"regular"),S(f,"sev3"),S(r,!0)}function y(p,T){p.stopPropagation(),S(l,T,!0),S(c,T.name,!0),S(i,T.status,!0),S(h,T.type||"regular",!0),S(f,T.severity||"sev1",!0),S(r,!0)}function j(){S(r,!1),S(l,null)}async function k(){!e(c).trim()||!t.selectedArea||(e(l)?await Aa(t.selectedArea.id,e(l).index,{name:e(c).trim(),status:e(i),type:e(h),severity:e(f)}):await Ta(t.selectedArea.id,e(c).trim(),e(h),e(f)),j())}var A={openCreateProjectModal:m,openEditProjectModal:y},_=$(),x=Z(_);{var v=p=>{var T=Hr(),C=o(T);C.__click=j,C.__keydown=le=>le.key==="Escape"&&j();var M=g(C,2),D=o(M),L=o(D),d=o(L),b=o(d,!0);s(d);var u=g(d,2);u.__click=j,s(L);var w=g(L,2),I=o(w),W=g(o(I),2);me(W),W.__keydown=le=>le.key==="Enter"&&k(),s(I);var V=g(I,2),B=g(o(V),2),E=o(B);me(E),E.value=E.__value="regular";var H=g(E,2);me(H),H.value=H.__value="maintenance",s(B),s(V);var q=g(V,4),J=o(q);let z;J.__click=()=>S(f,"sev1");var R=g(o(J),2),F=o(R,!0);s(R),s(J);var Q=g(J,2);let re;Q.__click=()=>S(f,"sev2");var ie=g(o(Q),2),Nt=o(ie,!0);s(ie),s(Q);var ge=g(Q,2);let $e;ge.__click=()=>S(f,"sev3");var et=g(o(ge),2),Bt=o(et,!0);s(et),s(ge);var xe=g(ge,2);let tt;xe.__click=()=>S(f,"sev4");var at=g(o(xe),2),Wt=o(at,!0);s(at),s(xe);var Ae=g(xe,2);let rt;Ae.__click=()=>S(f,"sev5");var st=g(o(Ae),2),Rt=o(st,!0);s(st),s(Ae),s(q);var nt=g(q,4),Ee=o(nt);let ot;Ee.__click=()=>S(i,"active");var De=g(Ee,2);let lt;De.__click=()=>S(i,"blocked");var Ne=g(De,2);let it;Ne.__click=()=>S(i,"someday");var Be=g(Ne,2);let ct;Be.__click=()=>S(i,"cancelled");var dt=g(Be,2);let vt;dt.__click=()=>S(i,"completed"),s(nt),s(w);var ut=g(w,2),bt=g(o(ut),2);bt.__click=j;var Te=g(bt,2);Te.__click=k;var Ot=o(Te,!0);s(Te),s(ut),s(D),s(M),s(T),G(le=>{O(b,e(l)?"Edit Project":"New Project"),z=X(J,1,"hover:bg-purple-600 btn btn-sm justify-start gap-2 transition-all",null,z,{"bg-purple-600":e(f)==="sev1","text-white":e(f)==="sev1"}),O(F,pe[e(h)].sev1),re=X(Q,1,"hover:bg-red-500 btn btn-sm justify-start gap-2 transition-all",null,re,{"bg-red-500":e(f)==="sev2","text-white":e(f)==="sev2"}),O(Nt,pe[e(h)].sev2),$e=X(ge,1,"hover:bg-yellow-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,$e,{"bg-yellow-500":e(f)==="sev3","text-black":e(f)==="sev3"}),O(Bt,pe[e(h)].sev3),tt=X(xe,1,"hover:bg-sky-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,tt,{"bg-sky-500":e(f)==="sev4","text-black":e(f)==="sev4"}),O(Wt,pe[e(h)].sev4),rt=X(Ae,1,"hover:bg-emerald-500 hover:text-black btn btn-sm justify-start gap-3 transition-all",null,rt,{"bg-emerald-500":e(f)==="sev5","text-black":e(f)==="sev5"}),O(Rt,pe[e(h)].sev5),ot=X(Ee,1,"btn btn-sm hover:bg-warning hover:text-warning-content",null,ot,{"btn-warning":e(i)==="active"}),lt=X(De,1,"btn btn-sm hover:btn-error",null,lt,{"btn-error":e(i)==="blocked"}),it=X(Ne,1,"btn btn-sm hover:btn-info",null,it,{"btn-info":e(i)==="someday"}),ct=X(Be,1,"btn btn-sm hover:btn-neutral",null,ct,{"btn-info":e(i)==="cancelled"}),vt=X(dt,1,"btn btn-sm hover:btn-success",null,vt,{"btn-success":e(i)==="completed"}),Te.disabled=le,O(Ot,e(l)?"Save":"Create")},[()=>!e(c).trim()]),Ze(W,()=>e(c),le=>S(c,le)),jt(n,[],E,()=>{"regular";return e(h)},le=>S(h,le)),jt(n,[],H,()=>{"maintenance";return e(h)},le=>S(h,le)),P(p,T)};U(x,p=>{e(r)&&p(v)})}return P(a,_),ae(A)}ee(["click","keydown"]);var Gr=N('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),qr=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-2"></div></div></div>');function Jr(a,t){te(t,!0);let n=Y(!1),r=Y(null),l=Y(void 0);function c(A,_,x){A.stopPropagation(),S(l,_,!0),S(r,x,!0),S(n,!0)}function i(){S(n,!1),S(r,null)}async function h(A,_){!e(r)||!e(l)||(_?await Et(e(r).id,A):await Ma(e(r).id,e(l).id,A),i())}function f(A,_){const x=_??ye();return we.getWeek(x)?.projectAssignments.some(p=>p.projectId===A)??!1}var m={openWeekPicker:c},y=$(),j=Z(y);{var k=A=>{var _=qr(),x=o(_);x.__click=i,x.__keydown=M=>M.key==="Escape"&&i();var v=g(x,2),p=o(v),T=g(o(p),2);T.__click=i,s(p);var C=g(p,2);oe(C,21,Pa,ne,(M,D)=>{const L=K(()=>f(e(r).id,e(D).weekOf));var d=Gr();d.__click=()=>h(e(D).weekOf,e(L));var b=o(d),u=o(b,!0);s(b);var w=g(b,2),I=o(w,!0);s(w),s(d),G(()=>{X(d,1,`w-full p-3 text-left rounded-lg border transition-colors ${e(L)?"bg-primary/20 text-primary-content border-primary":"border-base-content/10 hover:border-primary"}`),O(u,e(D).label),O(I,e(D).weekOf)}),P(M,d)}),s(C),s(v),s(_),P(A,_)};U(j,A=>{e(n)&&e(r)&&A(k)})}return P(a,y),ae(m)}ee(["click","keydown"]);var Kr=N("<button> </button>"),Yr=N('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),Qr=N('<button type="button" class="flex items-center h-16 gap-2 p-3 border-2 border-dashed border-base-content/20 rounded-lg text-base-content/50 cursor-pointer transition-all hover:border-primary hover:text-primary"><span class="text-lg">+</span> <span class="text-sm">Add Project</span></button>'),Xr=N('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2 "><button class="gap-2 mx-3 mt-2 mb-1 text-sm text-secondary w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>‚Üê</span> <span>Back</span></button> <div class="flex items-center gap-3 pe-2"><span class="text-4xl"> </span> <h2 class="text-lg "> </h2></div></div> <div class="flex gap-1 mt-4  px-3 pb-2 overflow-x-auto"></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!> <!></div></div></div> <!> <!>',1);function Zr(a,t){te(t,!0);let n=Y(void 0);const r=B=>S(n,B.id,!0);let l,c,i=Y(Ce(localStorage.getItem("projectTabView")||"active"));Ie(()=>{e(i)&&localStorage.setItem("projectTabView",e(i))});let h=K(()=>!["completed","cancelled"].includes(e(i))),f=K(()=>de.getByArea(t.selectedArea.id).filter(B=>B.status===e(i)));function m(B){return de.getByArea(t.selectedArea.id).filter(E=>E.status===B).length}async function y(B,E){if(B.stopPropagation(),E===0||!t.selectedArea)return;const H=de.getByArea(t.selectedArea.id),q=e(f)[E],J=e(f)[E-1],z=H.findIndex(Q=>Q.id===J.id),R=z>0?H[z-1].index:null,F=J.index;await _t(t.selectedArea.id,q.index,R,F)}async function j(B,E){if(B.stopPropagation(),!t.selectedArea||E===e(f).length-1)return;const H=de.getByArea(t.selectedArea.id),q=e(f)[E],J=e(f)[E+1],z=H.findIndex(Q=>Q.id===J.id),R=J.index,F=z<H.length-1?H[z+1].index:null;console.log(R,F),await _t(t.selectedArea.id,q.index,R,F)}var k=Xr(),A=Z(k),_=o(A),x=o(_),v=o(x);v.__click=function(...B){t.navigateBack?.apply(this,B)};var p=g(v,2),T=o(p),C=o(T,!0);s(T);var M=g(T,2),D=o(M,!0);s(M),s(p),s(x);var L=g(x,2);oe(L,21,()=>_r,ne,(B,E)=>{const H=K(()=>e(i)===e(E).value),q=K(()=>m(e(E).value));var J=Kr();J.__click=()=>S(i,e(E).value,!0);var z=o(J);s(J),G(()=>{X(J,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${e(H)?"bg-primary/40 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),O(z,`${e(E).label??""} (${e(q)??""})`)}),P(B,J)}),s(L),s(_);var d=g(_,2),b=o(d),u=o(b);oe(u,17,()=>e(f),ne,(B,E,H)=>{{let q=K(()=>e(n)==e(E).id);Fr(B,{get isSelected(){return e(q)},onclick:r,handleProjectAssign:(J,z)=>c.openWeekPicker(J,t.selectedArea,z),index:H,get allowReorder(){return e(h)},get navigateToTasks(){return t.navigateToTasks},get project(){return e(E)},get allowWeekAssignment(){return e(h)},get handleEdit(){return l.openEditProjectModal},handleProjectMoveUp:y,handleProjectMoveDown:j})}},B=>{var E=Yr(),H=o(E);s(E),G(()=>O(H,`No ${e(i)??""} projects`)),P(B,E)});var w=g(u,2);{var I=B=>{var E=Qr();E.__click=function(...H){l.openCreateProjectModal?.apply(this,H)},P(B,E)};U(w,B=>{e(i)=="active"&&B(I)})}s(b),s(d),s(A);var W=g(A,2);ke(Ur(W,{get selectedArea(){return t.selectedArea}}),B=>l=B,()=>l);var V=g(W,2);ke(Jr(V,{}),B=>c=B,()=>c),G(()=>{O(C,t.selectedArea.icon),O(D,t.selectedArea.name)}),P(a,k),ae()}ee(["click"]);var $r=N('<button type="button"> </button>'),es=N('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),ts=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function as(a,t){te(t,!0);let n=Y(!1),r=Y(null),l=Y(""),c=Y("active");function i(){S(r,null),S(l,""),S(c,"active"),S(n,!0)}function h(_,x){_.stopPropagation(),S(r,x,!0),S(l,x.name,!0),S(c,x.status,!0),S(n,!0)}function f(){S(n,!1),S(r,null)}async function m(){!e(l).trim()||!t.selectedProject||!t.selectedArea||(e(r)?await Dt(t.selectedProject.id,e(r).index,{name:e(l).trim(),status:e(c)}):await Sa(t.selectedProject.id,t.selectedArea.id,e(l).trim()),f())}var y={openCreateTaskModal:i,openEditTaskModal:h},j=$(),k=Z(j);{var A=_=>{var x=ts(),v=o(x);v.__click=f,v.__keydown=E=>E.key==="Escape"&&f();var p=g(v,2),T=o(p),C=o(T),M=o(C,!0);s(C);var D=g(C,2);D.__click=f,s(T);var L=g(T,2),d=o(L),b=g(o(d),2);me(b),b.__keydown=E=>E.key==="Enter"&&m(),s(d);var u=g(d,2);{var w=E=>{var H=es(),q=g(o(H),2);oe(q,21,()=>mr,ne,(J,z)=>{var R=$r();R.__click=()=>S(c,e(z).value,!0);var F=o(R,!0);s(R),G(()=>{X(R,1,`px-3 py-1.5 text-sm rounded-lg border transition-colors ${e(c)===e(z).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),O(F,e(z).label)}),P(J,R)}),s(q),s(H),P(E,H)};U(u,E=>{e(r)&&E(w)})}s(L);var I=g(L,2),W=g(o(I),2);W.__click=f;var V=g(W,2);V.__click=m;var B=o(V,!0);s(V),s(I),s(p),s(x),G(E=>{O(M,e(r)?"Edit Task":"New Task"),V.disabled=E,O(B,e(r)?"Save":"Create")},[()=>!e(l).trim()]),Ze(b,()=>e(l),E=>S(l,E)),P(_,x)};U(k,_=>{e(n)&&_(A)})}return P(a,j),ae(y)}ee(["click","keydown"]);var rs=Qe('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),ss=Qe('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),ns=Qe('<svg class="w-3 h-3 text-warning" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),os=N('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üë</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üì</button>',1),ls=N('<div tabindex="0" role="button" class="hover:bg-primary/20 cursor-pointer w-full flex flex-row items-start border-b border-b-base-content/10 p-2"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function is(a,t){te(t,!0);const n=K(()=>t.task.status==="completed"),r=K(()=>t.task.status==="cancelled"),l=K(()=>t.task.status==="blocked");var c=ls();c.__click=_=>t.handleEdit(_,t.task);var i=o(c);i.__click=_=>t.toggleTaskComplete(_,t.task);var h=o(i);{var f=_=>{var x=rs();P(_,x)},m=_=>{var x=$(),v=Z(x);{var p=C=>{var M=ss();P(C,M)},T=C=>{var M=$(),D=Z(M);{var L=d=>{var b=ns();P(d,b)};U(D,d=>{e(l)&&d(L)},!0)}P(C,M)};U(v,C=>{e(r)?C(p):C(T,!1)},!0)}P(_,x)};U(h,_=>{e(n)?_(f):_(m,!1)})}s(i);var y=g(i,2),j=o(y,!0);s(y);var k=g(y,2);{var A=_=>{var x=os(),v=Z(x);v.__click=T=>t.handleTaskMoveUp(T,t.index);var p=g(v,2);p.__click=T=>t.handleTaskMoveDown(T,t.index),P(_,x)};U(k,_=>{t.reorderEnabled&&_(A)})}s(c),G(()=>{X(i,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${e(n)?"bg-success border-success text-success-content":e(l)?"border-warning":e(r)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"}`),i.disabled=e(r),O(j,t.task.name)}),P(a,c),ae()}ee(["click"]);var cs=N('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2 "><button class="gap-2 mx-3 mt-2 mb-0 text-sm text-secondary w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>‚Üê</span> <span>Back</span></button> <div class="flex items-center gap-2"><svg class="size-10 inline shrink-0 text-base-content/40 align-text-bottom -mb-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg> <h2 class="text-base "> </h2></div> <div class="flex gap-1 overflow-x-auto my-2"><button class="text-base-content/50 bg-base-300 hover:bg-primary/50 hover:text-primary-content px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap">+ New</button> <button>Reorder</button></div></div></div> <div class="flex-1 overflow-auto bg-base-200  min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0"></div></div></div> <!>',1);function ds(a,t){te(t,!0);let n,r=K(()=>he.getByProject(t.selectedProject.id)),l=Y(!1),c=()=>S(l,!e(l));async function i(d,b){if(d.stopPropagation(),!t.selectedProject)return;const u=b.status==="completed"?"active":"completed";await Dt(t.selectedProject.id,b.index,{status:u})}async function h(d,b){if(d.stopPropagation(),b===0||!t.selectedProject)return;const u=e(r)[b],w=b>1?e(r)[b-2].index:null,I=e(r)[b-1].index;await mt(t.selectedProject.id,u.index,w,I)}async function f(d,b){if(d.stopPropagation(),!t.selectedProject||b===e(r).length-1)return;const u=e(r)[b],w=e(r)[b+1].index,I=b<e(r).length-2?e(r)[b+2].index:null;await mt(t.selectedProject.id,u.index,w,I)}var m=cs(),y=Z(m),j=o(y),k=o(j),A=o(k);A.__click=function(...d){t.navigateBack?.apply(this,d)};var _=g(A,2),x=g(o(_),2),v=o(x,!0);s(x),s(_);var p=g(_,2),T=o(p);T.__click=function(...d){n.openCreateTaskModal?.apply(this,d)};var C=g(T,2);C.__click=c,s(p),s(k),s(j);var M=g(j,2),D=o(M);oe(D,21,()=>e(r),ne,(d,b,u)=>{is(d,{get handleEdit(){return n.openEditTaskModal},handleTaskMoveUp:h,handleTaskMoveDown:f,index:u,get task(){return e(b)},toggleTaskComplete:i,get reorderEnabled(){return e(l)}})}),s(D),s(M),s(y);var L=g(y,2);ke(as(L,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),d=>n=d,()=>n),G(()=>{O(v,t.selectedProject.name),X(C,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${e(l)?"bg-primary/40 text-primary-content":"text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50"}`)}),P(a,m),ae()}ee(["click"]);var vs=N('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),us=N('<div class="h-screen flex flex-col bg-base-300"><div class="pb-22 h-full"><!></div> <!></div>');function ks(a,t){te(t,!0);const n=()=>i("areas"),r=()=>i("projects");let l=Y(void 0),c=Y(void 0);i("areas");function i(x){ba("",{activeTab:x})}function h(x){S(l,x,!0),i("projects")}function f(x){S(c,x,!0),S(l,be.getById(x.areaId),!0),i("tasks")}var m=us(),y=o(m),j=o(y);{var k=x=>{Dr(x,{onSelectArea:h})},A=x=>{var v=$(),p=Z(v);{var T=M=>{Zr(M,{navigateBack:n,navigateToTasks:f,get selectedArea(){return e(l)}})},C=M=>{var D=$(),L=Z(D);{var d=u=>{ds(u,{navigateBack:r,get selectedArea(){return e(l)},get selectedProject(){return e(c)}})},b=u=>{var w=$(),I=Z(w);{var W=B=>{ir(B,{navigateToTasks:f})},V=B=>{var E=$(),H=Z(E);{var q=z=>{pr(z,{})},J=z=>{var R=$(),F=Z(R);{var Q=re=>{var ie=vs();P(re,ie)};U(F,re=>{ue.state.activeTab==="review"&&re(Q)},!0)}P(z,R)};U(H,z=>{ue.state.activeTab==="today"?z(q):z(J,!1)},!0)}P(B,E)};U(I,B=>{ue.state.activeTab==="week"?B(W):B(V,!1)},!0)}P(u,w)};U(L,u=>{ue.state.activeTab=="tasks"?u(d):u(b,!1)},!0)}P(M,D)};U(p,M=>{ue.state.activeTab==="projects"?M(T):M(C,!1)},!0)}P(x,v)};U(j,x=>{ue.state.activeTab==="areas"?x(k):x(A,!1)})}s(y);var _=g(y,2);Fa(_,{get activeTab(){return ue.state.activeTab},onTabChange:i}),s(m),P(a,m),ae()}export{ks as component};
