import{b as Hn,d as Te,f as R,a as O,s as z,c as be,e as _t,g as ft}from"../chunks/BZEdlEMl.js";import{M as Rr,U as Vn,_ as Lr,O as Be,aq as Un,V as Zn,g as a,w as Yn,X as qn,Y as Kn,Z as xa,$ as Fr,Q as ir,aa as Xn,aE as Jn,ah as ya,H as St,aG as nt,N as Kr,T as Qn,a8 as wa,a4 as $n,aC as la,aH as eo,aI as to,aJ as ro,aK as ao,I as qa,K as Ka,aL as Br,ay as no,aB as oo,J as io,aM as Xa,q as Kt,aN as so,A as Ja,aO as lo,aP as Ht,W as co,aQ as uo,au as vo,m as Qa,b as da,aR as fo,ap as $a,n as ca,e as bo,aS as go,aT as po,aU as mo,aV as ho,aW as en,a5 as tn,aX as _o,aY as xo,ao as yo,p as _e,i as se,j as xe,l,s as _,k as c,t as oe,a1 as te,y as A,a6 as Z,x as Ue,a as it,a0 as rn,ai as sr}from"../chunks/BphPPNBQ.js";import{i as ee}from"../chunks/DV1qLrvh.js";import{a as wo}from"../chunks/DHxXBOH1.js";import{p as pt}from"../chunks/DogyT5zg.js";import{a1 as ur,a2 as ko,a3 as vr,a4 as To,a5 as an,a6 as nn,a7 as on,a8 as Do,a9 as sn,aa as xt,ab as Ao,ac as kt,ad as Eo,ae as ut,af as ot,ag as yt,ah as Mt,ai as Xr,aj as Jr,ak as ln,al as Oo,am as Io,an as So,ao as Co,ap as jo,aq as Mo,ar as Po,as as No,at as Ro,au as ka,av as Lo,aw as Fo,ax as Bo,ay as zo,az as dn,aA as Wo,aB as Go,aC as Ho,aD as Ta,aE as Da,aF as cn,aG as Aa}from"../chunks/DSDm_LjF.js";import{b as Ne,p as Ea}from"../chunks/SOnF2QN3.js";function Ge(e,t){return t}function Vo(e,t,r){for(var n=[],o=t.length,i,s=t.length,b=0;b<o;b++){let w=t[b];Ka(w,()=>{if(i){if(i.pending.delete(w),i.done.add(w),i.pending.size===0){var g=e.outrogroups;Qr(la(i.done)),g.delete(i),g.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var v=n.length===0&&r!==null;if(v){var u=r,d=u.parentNode;oo(d),d.append(u),e.items.clear()}Qr(t,!v)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function Qr(e,t=!0){for(var r=0;r<e.length;r++)io(e[r],t)}var Oa;function ke(e,t,r,n,o,i=null){var s=e,b=new Map,v=(t&Xa)!==0;if(v){var u=e;s=Be?Lr(Un(u)):u.appendChild(Rr())}Be&&Zn();var d=null,w=Yn(()=>{var x=r();return eo(x)?x:x==null?[]:la(x)}),g,f=!0;function p(){m.fallback=d,Uo(m,g,s,t,n),d!==null&&(g.length===0?(d.f&nt)===0?qa(d):(d.f^=nt,Zt(d,null,s)):Ka(d,()=>{d=null}))}var h=Vn(()=>{g=a(w);var x=g.length;let y=!1;if(Be){var T=qn(s)===Kn;T!==(x===0)&&(s=xa(),Lr(s),Fr(!1),y=!0)}for(var D=new Set,C=St,I=Qn(),k=0;k<x;k+=1){Be&&ir.nodeType===Xn&&ir.data===Jn&&(s=ir,y=!0,Fr(!1));var E=g[k],S=n(E,k),j=f?null:b.get(S);j?(j.v&&ya(j.v,E),j.i&&ya(j.i,k),I&&C.skipped_effects.delete(j.e)):(j=Zo(b,f?s:Oa??=Rr(),E,S,k,o,t,r),f||(j.e.f|=nt),b.set(S,j)),D.add(S)}if(x===0&&i&&!d&&(f?d=Kr(()=>i(s)):(d=Kr(()=>i(Oa??=Rr())),d.f|=nt)),Be&&x>0&&Lr(xa()),!f)if(I){for(const[L,F]of b)D.has(L)||C.skipped_effects.add(F.e);C.oncommit(p),C.ondiscard(()=>{})}else p();y&&Fr(!0),a(w)}),m={effect:h,items:b,outrogroups:null,fallback:d};f=!1,Be&&(s=ir)}function Uo(e,t,r,n,o){var i=(n&so)!==0,s=t.length,b=e.items,v=e.effect.first,u,d=null,w,g=[],f=[],p,h,m,x;if(i)for(x=0;x<s;x+=1)p=t[x],h=o(p,x),m=b.get(h).e,(m.f&nt)===0&&(m.nodes?.a?.measure(),(w??=new Set).add(m));for(x=0;x<s;x+=1){if(p=t[x],h=o(p,x),m=b.get(h).e,e.outrogroups!==null)for(const j of e.outrogroups)j.pending.delete(m),j.done.delete(m);if((m.f&nt)!==0)if(m.f^=nt,m===v)Zt(m,null,r);else{var y=d?d.next:v;m===e.effect.last&&(e.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),st(e,d,m),st(e,m,y),Zt(m,y,r),d=m,g=[],f=[],v=d.next;continue}if((m.f&Br)!==0&&(qa(m),i&&(m.nodes?.a?.unfix(),(w??=new Set).delete(m))),m!==v){if(u!==void 0&&u.has(m)){if(g.length<f.length){var T=f[0],D;d=T.prev;var C=g[0],I=g[g.length-1];for(D=0;D<g.length;D+=1)Zt(g[D],T,r);for(D=0;D<f.length;D+=1)u.delete(f[D]);st(e,C.prev,I.next),st(e,d,C),st(e,I,T),v=T,d=I,x-=1,g=[],f=[]}else u.delete(m),Zt(m,v,r),st(e,m.prev,m.next),st(e,m,d===null?e.effect.first:d.next),st(e,d,m),d=m;continue}for(g=[],f=[];v!==null&&v!==m;)(u??=new Set).add(v),f.push(v),v=v.next;if(v===null)continue}(m.f&nt)===0&&g.push(m),d=m,v=m.next}if(e.outrogroups!==null){for(const j of e.outrogroups)j.pending.size===0&&(Qr(la(j.done)),e.outrogroups?.delete(j));e.outrogroups.size===0&&(e.outrogroups=null)}if(v!==null||u!==void 0){var k=[];if(u!==void 0)for(m of u)(m.f&Br)===0&&k.push(m);for(;v!==null;)(v.f&Br)===0&&v!==e.fallback&&k.push(v),v=v.next;var E=k.length;if(E>0){var S=(n&Xa)!==0&&s===0?r:null;if(i){for(x=0;x<E;x+=1)k[x].nodes?.a?.measure();for(x=0;x<E;x+=1)k[x].nodes?.a?.fix()}Vo(e,k,S)}}i&&Kt(()=>{if(w!==void 0)for(m of w)m.nodes?.a?.apply()})}function Zo(e,t,r,n,o,i,s,b){var v=(s&to)!==0?(s&ro)===0?$n(r,!1,!1):wa(r):null,u=(s&ao)!==0?wa(o):null;return{v,i:u,e:Kr(()=>(i(t,v??r,u??o,b),()=>{e.delete(n)}))}}function Zt(e,t,r){if(e.nodes)for(var n=e.nodes.start,o=e.nodes.end,i=t&&(t.f&nt)===0?t.nodes.start:r;n!==null;){var s=no(n);if(i.before(n),n===o)return;n=s}}function st(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const Yo=()=>performance.now(),at={tick:e=>requestAnimationFrame(e),now:()=>Yo(),tasks:new Set};function un(){const e=at.now();at.tasks.forEach(t=>{t.c(e)||(at.tasks.delete(t),t.f())}),at.tasks.size!==0&&at.tick(un)}function qo(e){let t;return at.tasks.size===0&&at.tick(un),{promise:new Promise(r=>{at.tasks.add(t={c:e,f:r})}),abort(){at.tasks.delete(t)}}}function lr(e,t){$a(()=>{e.dispatchEvent(new CustomEvent(t))})}function Ko(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Ia(e){const t={},r=e.split(";");for(const n of r){const[o,i]=n.split(":");if(!o||i===void 0)break;const s=Ko(o.trim());t[s]=i.trim()}return t}const Xo=e=>e;function zt(e,t,r){var n=Ja,o=n.nodes,i,s,b,v=null;o.a??={element:e,measure(){i=this.element.getBoundingClientRect()},apply(){if(b?.abort(),s=this.element.getBoundingClientRect(),i.left!==s.left||i.right!==s.right||i.top!==s.top||i.bottom!==s.bottom){const u=t()(this.element,{from:i,to:s},r?.());b=gr(this.element,u,void 0,1,()=>{b?.abort(),b=void 0})}},fix(){if(!e.getAnimations().length){var{position:u,width:d,height:w}=getComputedStyle(e);if(u!=="absolute"&&u!=="fixed"){var g=e.style;v={position:g.position,width:g.width,height:g.height,transform:g.transform},g.position="absolute",g.width=d,g.height=w;var f=e.getBoundingClientRect();if(i.left!==f.left||i.top!==f.top){var p=`translate(${i.left-f.left}px, ${i.top-f.top}px)`;g.transform=g.transform?`${g.transform} ${p}`:p}}}},unfix(){if(v){var u=e.style;u.position=v.position,u.width=v.width,u.height=v.height,u.transform=v.transform}}},o.a.element=e}function He(e,t,r,n){var o=(e&fo)!==0,i="both",s,b=t.inert,v=t.style.overflow,u,d;function w(){return $a(()=>s??=r()(t,n?.()??{},{direction:i}))}var g={is_global:o,in(){t.inert=b,lr(t,"introstart"),u=gr(t,w(),d,1,()=>{lr(t,"introend"),u?.abort(),u=s=void 0,t.style.overflow=v})},out(m){t.inert=!0,lr(t,"outrostart"),d=gr(t,w(),u,0,()=>{lr(t,"outroend"),m?.()})},stop:()=>{u?.abort(),d?.abort()}},f=Ja;if((f.nodes.t??=[]).push(g),Hn){var p=o;if(!p){for(var h=f.parent;h&&(h.f&co)!==0;)for(;(h=h.parent)&&(h.f&uo)===0;);p=!h||(h.f&vo)!==0}p&&Qa(()=>{da(()=>g.in())})}}function gr(e,t,r,n,o){var i=n===1;if(lo(t)){var s,b=!1;return Kt(()=>{if(!b){var m=t({direction:i?"in":"out"});s=gr(e,m,r,n,o)}}),{abort:()=>{b=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return o(),{abort:Ht,deactivate:Ht,reset:Ht,t:()=>n};const{delay:v=0,css:u,tick:d,easing:w=Xo}=t;var g=[];if(i&&r===void 0&&(d&&d(0,1),u)){var f=Ia(u(0,1));g.push(f,f)}var p=()=>1-n,h=e.animate(g,{duration:v,fill:"forwards"});return h.onfinish=()=>{h.cancel();var m=r?.t()??1-n;r?.abort();var x=n-m,y=t.duration*Math.abs(x),T=[];if(y>0){var D=!1;if(u)for(var C=Math.ceil(y/16.666666666666668),I=0;I<=C;I+=1){var k=m+x*w(I/C),E=Ia(u(k,1-k));T.push(E),D||=E.overflow==="hidden"}D&&(e.style.overflow="hidden"),p=()=>{var S=h.currentTime;return m+x*w(S/y)},d&&qo(()=>{if(h.playState!=="running")return!1;var S=p();return d(S,1-S),!0})}h=e.animate(T,{duration:y,fill:"forwards"}),h.onfinish=()=>{p=()=>n,d?.(n,1-n),o()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=Ht)},deactivate:()=>{o=Ht},reset:()=>{n===0&&d?.(1,0)},t:()=>p()}}function ua(e,t,r){Qa(()=>{var n=da(()=>t(e,r?.())||{});if(r&&n?.update){var o=!1,i={};ca(()=>{var s=r();bo(s),o&&go(i,s)&&(i=s,n.update(s))}),o=!0}if(n?.destroy)return()=>n.destroy()})}const Sa=[...` 	
\r\fÂ \v\uFEFF`];function Jo(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var o in r)if(r[o])n=n?n+" "+o:o;else if(n.length)for(var i=o.length,s=0;(s=n.indexOf(o,s))>=0;){var b=s+i;(s===0||Sa.includes(n[s-1]))&&(b===n.length||Sa.includes(n[b]))?n=(s===0?"":n.substring(0,s))+n.substring(b+1):s=b}}return n===""?null:n}function Ca(e,t=!1){var r=t?" !important;":";",n="";for(var o in e){var i=e[o];i!=null&&i!==""&&(n+=" "+o+": "+i+r)}return n}function zr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Qo(e,t){if(t){var r="",n,o;if(Array.isArray(t)?(n=t[0],o=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,b=!1,v=[];n&&v.push(...Object.keys(n).map(zr)),o&&v.push(...Object.keys(o).map(zr));var u=0,d=-1;const h=e.length;for(var w=0;w<h;w++){var g=e[w];if(b?g==="/"&&e[w-1]==="*"&&(b=!1):i?i===g&&(i=!1):g==="/"&&e[w+1]==="*"?b=!0:g==='"'||g==="'"?i=g:g==="("?s++:g===")"&&s--,!b&&i===!1&&s===0){if(g===":"&&d===-1)d=w;else if(g===";"||w===h-1){if(d!==-1){var f=zr(e.substring(u,d).trim());if(!v.includes(f)){g!==";"&&w++;var p=e.substring(u,w).trim();r+=" "+p+";"}}u=w+1,d=-1}}}}return n&&(r+=Ca(n)),o&&(r+=Ca(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function $(e,t,r,n,o,i){var s=e.__className;if(Be||s!==r||s===void 0){var b=Jo(r,n,i);(!Be||b!==e.getAttribute("class"))&&(b==null?e.removeAttribute("class"):e.className=b),e.__className=r}else if(i&&o!==i)for(var v in i){var u=!!i[v];(o==null||u!==!!o[v])&&e.classList.toggle(v,u)}return i}function Wr(e,t={},r,n){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,n))}}function va(e,t,r,n){var o=e.__style;if(Be||o!==t){var i=Qo(t,n);(!Be||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else n&&(Array.isArray(n)?(Wr(e,r?.[0],n[0]),Wr(e,r?.[1],n[1],"important")):Wr(e,r,n));return n}const $o=Symbol("is custom element"),ei=Symbol("is html");function qe(e){if(Be){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;ja(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;ja(e,"checked",null),e.checked=o}}};e.__on_r=r,Kt(r),po()}}function ti(e,t){var r=vn(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function ja(e,t,r,n){var o=vn(e);Be&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="loading"&&(e[mo]=r),e.removeAttribute(t))}function vn(e){return e.__attributes??={[$o]:e.nodeName.includes("-"),[ei]:e.namespaceURI===ho}}function Tr(e,t,r=t){var n=new WeakSet;en(e,"input",async o=>{var i=o?e.defaultValue:e.value;if(i=Hr(e)?Vr(i):i,r(i),St!==null&&n.add(St),await tn(),i!==(i=t())){var s=e.selectionStart,b=e.selectionEnd,v=e.value.length;if(e.value=i??"",b!==null){var u=e.value.length;s===b&&b===v&&u>v?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=s,e.selectionEnd=Math.min(b,u))}}}),(Be&&e.defaultValue!==e.value||da(t)==null&&e.value)&&(r(Hr(e)?Vr(e.value):e.value),St!==null&&n.add(St)),ca(()=>{var o=t();if(e===document.activeElement){var i=_o??St;if(n.has(i))return}Hr(e)&&o===Vr(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const Gr=new Set;function Ct(e,t,r,n,o=n){var i=r.getAttribute("type")==="checkbox",s=e;let b=!1;if(t!==null)for(var v of t)s=s[v]??=[];s.push(r),en(r,"change",()=>{var u=r.__value;i&&(u=Ma(s,u,r.checked)),o(u)},()=>o(i?[]:null)),ca(()=>{var u=n();if(Be&&r.defaultChecked!==r.checked){b=!0;return}i?(u=u||[],r.checked=u.includes(r.__value)):r.checked=xo(r.__value,u)}),yo(()=>{var u=s.indexOf(r);u!==-1&&s.splice(u,1)}),Gr.has(s)||(Gr.add(s),Kt(()=>{s.sort((u,d)=>u.compareDocumentPosition(d)===4?-1:1),Gr.delete(s)})),Kt(()=>{if(b){var u;if(i)u=Ma(s,u,r.checked);else{var d=s.find(w=>w.checked);u=d?.__value}o(u)}})}function Ma(e,t,r){for(var n=new Set,o=0;o<e.length;o+=1)e[o].checked&&n.add(e[o].__value);return r||n.delete(t),Array.from(n)}function Hr(e){var t=e.type;return t==="number"||t==="range"}function Vr(e){return e===""?null:+e}const Ur={regular:{sev1:"I do this because it's who I am",sev2:"I do this to become better",sev3:"I do this because I enjoy it"},maintenance:{sev1:"Life breaks without this",sev2:"Keeps things running smooth",sev3:"Can wait or be skipped"}},ri={regular:{sev1:"Core",sev2:"Growth",sev3:"Enrichment"},maintenance:{sev1:"Essential",sev2:"Routine",sev3:"Optional"}},ai=["ðŸ’¼","ðŸ“Š","ðŸ“ˆ","ðŸ“‹","ðŸ“","ðŸ—‚ï¸","ðŸ“Œ","ðŸŽ¯","ðŸ ","ðŸ¡","ðŸ›‹ï¸","ðŸ§¹","ðŸ³","ðŸ›’","ðŸ§º","ðŸª´","ðŸ’ª","ðŸƒ","ðŸ‹ï¸","ðŸ§˜","ðŸš´","ðŸŠ","âš½","ðŸŽ¾","ðŸ“š","ðŸŽ“","ðŸ“–","âœï¸","ðŸ”¬","ðŸ§ª","ðŸŒ","ðŸ’¡","ðŸ’°","ðŸ’µ","ðŸ¦","ðŸ’³","ðŸ“‰","ðŸª™","ðŸ’Ž","ðŸ§","â¤ï¸","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ‘¥","ðŸ’‘","ðŸ‘¶","ðŸ•","ðŸˆ","ðŸŽ¨","ðŸŽµ","ðŸŽ¸","ðŸŽ¹","ðŸ“¸","ðŸŽ¬","ðŸŽ­","âœï¸","ðŸ’»","ðŸ“±","ðŸ–¥ï¸","âŒ¨ï¸","ðŸ”§","âš™ï¸","ðŸ¤–","ðŸŽ®","âœˆï¸","ðŸš—","ðŸš€","ðŸ—ºï¸","ðŸ–ï¸","â›°ï¸","ðŸ•ï¸","ðŸŒ…","ðŸ§ ","ðŸŒ±","â˜€ï¸","ðŸŒ¸","ðŸ¦‹","ðŸŒˆ","âœ¨","ðŸ’«","ðŸŽ","ðŸ¥—","ðŸ¥‘","ðŸ³","â˜•","ðŸµ","ðŸ¥¤","ðŸ§ƒ","â­","ðŸ”¥","ðŸ†","ðŸ¥‡","ðŸŽ–ï¸","ðŸ…","ðŸ‘‘","ðŸ’¯","ðŸ“","ðŸ—“ï¸","â°","ðŸ””","ðŸ’¬","ðŸ“§","ðŸŽ","ðŸŽ‰"];var ni=R('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),oi=R('<button><span class="text-xl"> </span> <span class="text-xs font-medium"> </span></button>'),ii=R('<nav class="md:hidden pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav> <nav class="hidden md:flex fixed left-0 top-0 bottom-0 w-20 bg-base-200 border-r border-base-content/10 flex-col items-center py-6 gap-2"></nav>',1);function si(e,t){_e(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var n=ii(),o=se(n);ke(o,21,()=>r,Ge,(s,b)=>{var v=ni();let u;v.__click=()=>t.onTabChange(a(b).id);let d;var w=c(v),g=c(w,!0);l(w);var f=_(w,2),p=c(f,!0);l(f),l(v),oe(()=>{u=$(v,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,u,{"text-primary":t.activeTab===a(b).id,"text-base-content":t.activeTab!==a(b).id}),d=va(v,"",d,{opacity:t.activeTab===a(b).id?1:.4}),z(g,a(b).icon),z(p,a(b).label)}),O(s,v)}),l(o);var i=_(o,2);ke(i,21,()=>r,Ge,(s,b)=>{var v=oi();v.__click=()=>t.onTabChange(a(b).id);var u=c(v),d=c(u,!0);l(u);var w=_(u,2),g=c(w,!0);l(w),l(v),oe(()=>{$(v,1,`flex flex-col ${t.activeTab==a(b).id?"bg-primary/20 text-primary":"text-base-content "} items-center gap-1 px-3 py-3 rounded-lg transition-colors w-16 `),z(d,a(b).icon),z(g,a(b).label)}),O(s,v)}),l(i),O(e,n),xe()}Te(["click"]);const li=e=>e;function di(e){const t=e-1;return t*t*t+1}function Pa(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Tt(e,{delay:t=0,duration:r=400,easing:n=li}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:i=>`opacity: ${i*o}`}}function Dt(e,{delay:t=0,duration:r=400,easing:n=di,x:o=0,y:i=0,opacity:s=0}={}){const b=getComputedStyle(e),v=+b.opacity,u=b.transform==="none"?"":b.transform,d=v*(1-s),[w,g]=Pa(o),[f,p]=Pa(i);return{delay:t,duration:r,easing:n,css:(h,m)=>`
			transform: ${u} translate(${(1-h)*w}${g}, ${(1-h)*f}${p});
			opacity: ${v-d*m}`}}var ci=R('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),ui=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function vi(e,t){_e(t,!0);let r=te(!1),n=te(null);function o(f,p){f.stopPropagation(),A(n,p,!0),A(r,!0)}function i(){A(r,!1),A(n,null)}function s(){return an(t.currentWeekOf).map(f=>({date:f,dayName:on(f),isToday:nn(f)}))}async function b(f){if(!a(n))return;const p=a(n);i();const h=t.isTaskAssignedToDay(p.id);p.type==="oneoff"?h===f?await ur(p.id,t.currentWeekOf,f):(h&&await ur(p.id,t.currentWeekOf,h),await ko(p.id,p.areaId,p.name,p.status,t.currentWeekOf,f)):h===f?await vr(p.id,p.projectId,t.currentWeekOf,f):(h&&await vr(p.id,p.projectId,t.currentWeekOf,h),await To(p.id,p.projectId,p.areaId,p.name,p.status,t.currentWeekOf,f,!1))}async function v(){if(!a(n))return;const f=a(n),p=t.isTaskAssignedToDay(f.id);p&&(f.type==="oneoff"?await ur(f.id,t.currentWeekOf,p):await vr(f.id,f.projectId,t.currentWeekOf,p)),i()}var u={openDayPicker:o},d=be(),w=se(d);{var g=f=>{var p=ui(),h=c(p);h.__click=i,h.__keydown=S=>S.key==="Escape"&&i();var m=_(h,2),x=c(m),y=c(x),T=_(c(y),2),D=c(T,!0);l(T),l(y);var C=_(y,2);C.__click=i,l(x);var I=_(x,2);ke(I,21,s,Ge,(S,j)=>{const L=Z(()=>t.isTaskAssignedToDay(a(n).id)===a(j).date);var F=ci();F.__click=()=>b(a(j).date);var K=c(F),B=c(K,!0);l(K);var V=_(K,2),M=c(V,!0);l(V),l(F),oe(H=>{$(F,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${a(L)?"bg-primary/10 text-primary border-primary":a(j).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),z(B,a(j).dayName),z(M,H)},[()=>a(j).date.split("-")[2]]),O(S,F)}),l(I);var k=_(I,2),E=c(k);E.__click=v,l(k),l(m),l(p),oe(()=>z(D,a(n).name)),He(3,h,()=>Tt,()=>({duration:200})),He(3,m,()=>Dt,()=>({y:300,duration:300})),O(f,p)};ee(w,f=>{a(r)&&a(n)&&f(g)})}return O(e,d),xe(u)}Te(["click","keydown"]);function Na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Na(Object(r),!0).forEach(function(n){Rt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Na(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jt(e){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function Rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fi(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function bi(e,t){if(e==null)return{};var r=fi(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gi(e,t){return mi(e)||_i(e,t)||fa(e,t)||yi()}function Ze(e){return pi(e)||hi(e)||fa(e)||xi()}function pi(e){if(Array.isArray(e))return $r(e)}function mi(e){if(Array.isArray(e))return e}function hi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _i(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,s,b;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));o=!0);}catch(v){i=!0,b=v}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw b}}return n}}function fa(e,t){if(e){if(typeof e=="string")return $r(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $r(e,t)}}function $r(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=fa(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(v){throw v},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,b;return{s:function(){r=r.call(e)},n:function(){var v=r.next();return i=v.done,v},e:function(v){s=!0,b=v},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(s)throw b}}}}var wi="finalize",ki="consider";function Lt(e,t,r){e.dispatchEvent(new CustomEvent(wi,{detail:{items:t,info:r}}))}function vt(e,t,r){e.dispatchEvent(new CustomEvent(ki,{detail:{items:t,info:r}}))}var Dr="draggedEntered",er="draggedLeft",Ar="draggedOverIndex",ba="draggedLeftDocument",mr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Ti(e,t,r){e.dispatchEvent(new CustomEvent(Dr,{detail:{indexObj:t,draggedEl:r}}))}function Di(e,t,r){e.dispatchEvent(new CustomEvent(er,{detail:{draggedEl:t,type:mr.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Ai(e,t){e.dispatchEvent(new CustomEvent(er,{detail:{draggedEl:t,type:mr.OUTSIDE_OF_ANY}}))}function Ei(e,t,r){e.dispatchEvent(new CustomEvent(Ar,{detail:{indexObj:t,draggedEl:r}}))}function Oi(e){window.dispatchEvent(new CustomEvent(ba,{detail:{draggedEl:e}}))}var Re={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Dr,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Ar,DRAGGED_LEFT:er,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},We={POINTER:"pointer",KEYBOARD:"keyboard"},Er="isDndShadowItem",Or="data-is-dnd-shadow-item-internal",Ii="data-is-dnd-shadow-item-hint",fn="id:dnd-shadow-placeholder-0000",Si="dnd-action-dragged-el",Ae="id",ea=0;function bn(){ea++}function gn(){if(ea===0)throw new Error("Bug! trying to decrement when there are no dropzones");ea--}var ga=typeof window>"u";function ta(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?Mi(e):e.getBoundingClientRect(),o=getComputedStyle(e),i=o.transform;if(i){var s,b,v,u;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],b=+r[5],v=+r[12],u=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],b=+r[3],v=+r[4],u=+r[5];else return n;var d=o.transformOrigin,w=n.x-v-(1-s)*parseFloat(d),g=n.y-u-(1-b)*parseFloat(d.slice(d.indexOf(" ")+1)),f=s?n.width/s:e.offsetWidth,p=b?n.height/b:e.offsetHeight;return{x:w,y:g,width:f,height:p,top:g,right:w+f,bottom:g+p,left:w}}else return n}function pn(e){var t=ta(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function mn(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function hn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Ci(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ir(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Xt(e){return hn(mn(e))}function Ra(e,t){var r=Xt(e),n=pn(t);return Ir(r,n)}function La(e,t){var r=Xt(e),n=Xt(t);return Ci(r,n)}function ji(e){var t=mn(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Mi(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=!1,o=!1,i=e.parentElement;i&&i!==document.body;){var s=window.getComputedStyle(i),b=s.overflowY,v=s.overflowX,u=b==="scroll"||b==="auto",d=v==="scroll"||v==="auto";if(u||d){var w=i.getBoundingClientRect();if(u){var g=Math.max(r.top,w.top),f=Math.min(r.bottom,w.bottom);(g!==r.top||f!==r.bottom)&&(n=!0),r.top=g,r.bottom=f}if(d){var p=Math.max(r.left,w.left),h=Math.min(r.right,w.right);(p!==r.left||h!==r.right)&&(o=!0),r.left=p,r.right=h}}i=i.parentElement}return n||o?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Pt;function pa(){Pt=new Map}pa();function Pi(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Or)});if(t>=0)return Pt.has(e)||Pt.set(e,new Map),Pt.get(e).set(t,pn(e.children[t])),t}function Ni(e,t){if(!Ra(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var n=Pi(t),o=0;o<r.length;o++)if(Ra(e,r[o])){var i=Pt.has(t)&&Pt.get(t).get(o);return i&&!Ir(Xt(e),i)?{index:n,isProximityBased:!1}:{index:o,isProximityBased:!1}}for(var s=Number.MAX_VALUE,b=void 0,v=0;v<r.length;v++){var u=La(e,r[v]);u<s&&(s=u,b=v)}if(r.length>0){var d=r.length,w=r[d-1],g=w.cloneNode(!1);g.style.visibility="hidden",g.style.pointerEvents="none",t.appendChild(g);var f=La(e,g);f<s&&(b=d),t.removeChild(g)}return{index:b,isProximityBased:!0}}function Vt(e){return JSON.stringify(e,null,2)}function hr(e){if(!e)throw new Error("cannot get depth of a falsy node");return _n(e,0)}function _n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?_n(e.parentElement,t+1):t-1}function Ri(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Li(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Fi=200,Fa=10,ra;function Bi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fi,n=arguments.length>3?arguments[3]:void 0,o,i,s=!1,b,v=Array.from(t).sort(function(d,w){return hr(w)-hr(d)});function u(){var d=Xt(e),w=n.multiScrollIfNeeded();if(!w&&b&&Math.abs(b.x-d.x)<Fa&&Math.abs(b.y-d.y)<Fa){ra=window.setTimeout(u,r);return}if(ji(e)){Oi(e);return}b=d;var g=!1,f=$t(v),p;try{for(f.s();!(p=f.n()).done;){var h=p.value;w&&pa();var m=Ni(e,h);if(m!==null){var x=m.index;g=!0,h!==o?(o&&Di(o,e,h),Ti(h,m,e),o=h):x!==i&&(Ei(h,m,e),i=x);break}}}catch(y){f.e(y)}finally{f.f()}!g&&s&&o?(Ai(o,e),o=void 0,i=void 0,s=!1):s=!0,ra=window.setTimeout(u,r)}u()}function zi(){clearTimeout(ra),pa()}var Ut=30;function Wi(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var s=e,b=s.directionObj,v=s.stepPx;b&&(i.scrollBy(b.x*v,b.y*v),window.requestAnimationFrame(function(){return r(i)}))}function n(i){return Ut-i}function o(i,s){if(!s)return!1;var b=Gi(i,s),v=!!e.directionObj;if(b===null)return v&&t(),!1;var u=!1,d=!1;return s.scrollHeight>s.clientHeight&&(b.bottom<Ut?(u=!0,e.directionObj={x:0,y:1},e.stepPx=n(b.bottom)):b.top<Ut&&(u=!0,e.directionObj={x:0,y:-1},e.stepPx=n(b.top)),!v&&u)||s.scrollWidth>s.clientWidth&&(b.right<Ut?(d=!0,e.directionObj={x:1,y:0},e.stepPx=n(b.right)):b.left<Ut&&(d=!0,e.directionObj={x:-1,y:0},e.stepPx=n(b.left)),!v&&d)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:o,resetScrolling:t}}function Gi(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Ir(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Hi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Ui(e),n=Array.from(r).sort(function(v,u){return hr(u)-hr(v)}),o=Wi(),i=o.scrollIfNeeded,s=o.resetScrolling;function b(){var v=t();if(!v||!n)return!1;for(var u=n.filter(function(g){return Ir(v,g.getBoundingClientRect())||g===document.scrollingElement}),d=0;d<u.length;d++){var w=i(v,u[d]);if(w)return!0}return!1}return{multiScrollIfNeeded:r.size>0?b:function(){return!1},destroy:function(){return s()}}}function Vi(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),o=n.overflow;o.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Ui(e){var t=new Set,r=$t(e),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;Vi(o).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Zi(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",o=n?[e]:Ze(e.querySelectorAll("select")),i=$t(o),s;try{for(i.s();!(s=i.n()).done;){var b=s.value;r.push(b.value)}}catch(T){i.e(T)}finally{i.f()}if(o.length>0)for(var v=n?[t]:Ze(t.querySelectorAll("select")),u=0;u<v.length;u++){var d=v[u],w=r[u],g=d.querySelector('option[value="'.concat(w,'"'));g&&g.setAttribute("selected",!0)}var f=e.tagName==="CANVAS",p=f?[e]:Ze(e.querySelectorAll("canvas"));if(p.length>0)for(var h=f?[t]:Ze(t.querySelectorAll("canvas")),m=0;m<h.length;m++){var x=p[m],y=h[m];y.width=x.width,y.height=x.height,x.width>0&&x.height>0&&y.getContext("2d").drawImage(x,0,0)}return t}var Jt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Yi=Rt({},Jt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function xn(e){if(!Jt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Jt)));return Yi[e]}var qi=.2;function mt(e){return"".concat(e," ").concat(qi,"s ease")}function Ki(e,t){var r=e.getBoundingClientRect(),n=Zi(e);yn(e,n),n.id=Si,n.style.position="fixed";var o=r.top,i=r.left;if(n.style.top="".concat(o,"px"),n.style.left="".concat(i,"px"),t){var s=hn(r);o-=s.y-t.y,i-=s.x-t.x,window.setTimeout(function(){n.style.top="".concat(o,"px"),n.style.left="".concat(i,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(mt("top"),", ").concat(mt("left"),", ").concat(mt("background-color"),", ").concat(mt("opacity"),", ").concat(mt("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(mt("width"),", ").concat(mt("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function Xi(e){e.style.cursor="grab"}function Ji(e,t,r,n){yn(t,e);var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=o.width-i.width,b=o.height-i.height;if(s||b){var v={left:(r-i.left)/i.width,top:(n-i.top)/i.height};xn(Jt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(o.height,"px"),e.style.width="".concat(o.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-v.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-v.top*b,"px")}}function yn(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||xn(Jt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function Qi(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function wn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function $i(e){e.style.visibility="hidden",e.setAttribute(Or,"true")}function es(e){e.style.visibility="",e.removeAttribute(Or)}function fr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var o=t(n);Object.keys(o).forEach(function(i){n.style[i]=o[i]}),r(n).forEach(function(i){return n.classList.add(i)})})}function _r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var o=t(n);Object.keys(o).forEach(function(i){n.style[i]=""}),r(n).forEach(function(i){return n.classList.contains(i)&&n.classList.remove(i)})})}function ts(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var rs="--any--",as=100,ns=20,dr=3,os=80,Ba={outline:"rgba(255, 255, 102, 0.7) solid 2px"},za="data-is-dnd-original-dragged-item",Fe,Se,ze,Sr,ge,Cr,ct,je,$e,Me,lt=!1,ma=!1,ha,tr=!1,br=[],qt,et,Yt=!1,Xe=new Map,he=new Map,Zr=new WeakMap;function is(e,t){Xe.has(t)||Xe.set(t,new Set),Xe.get(t).has(e)||(Xe.get(t).add(e),bn())}function Wa(e,t){Xe.get(t).delete(e),gn(),Xe.get(t).size===0&&Xe.delete(t)}function ss(){var e=Xe.get(Sr),t=$t(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(Dr,kn),n.addEventListener(er,Tn),n.addEventListener(Ar,Dn)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(ba,Ft);var o=Math.max.apply(Math,Ze(Array.from(e.keys()).map(function(s){return he.get(s).dropAnimationDurationMs}))),i=o===0?ns:Math.max(o,as);qt=Hi(e,function(){return Me}),Bi(Se,e,i*1.07,qt)}function ls(){var e=Xe.get(Sr),t=$t(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(Dr,kn),n.removeEventListener(er,Tn),n.removeEventListener(Ar,Dn)}}catch(o){t.e(o)}finally{t.f()}window.removeEventListener(ba,Ft),qt&&(qt.destroy(),qt=void 0),zi()}function jr(e){return e.findIndex(function(t){return!!t[Er]})}function ds(e){var t;return pr(pr({},e),{},(t={},Rt(t,Er,!0),Rt(t,Ae,fn),t))}function kn(e){var t=he.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==ge)){if(tr=!1,r=r.filter(function(b){return b[Ae]!==ct[Ae]&&b[Ae]!==fn}),ge!==e.currentTarget){var o=he.get(ge).items,i=o.filter(function(b){return!b[Er]});vt(ge,i,{trigger:Re.DRAGGED_ENTERED_ANOTHER,id:ze[Ae],source:We.POINTER})}var s=e.detail.indexObj.index;je=e.currentTarget,r.splice(s,0,ct),vt(e.currentTarget,r,{trigger:Re.DRAGGED_ENTERED,id:ze[Ae],source:We.POINTER})}}function Tn(e){if(lt){var t=he.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==ge&&e.currentTarget!==je)){var o=Ze(r),i=jr(o);i!==-1&&o.splice(i,1);var s=je;je=void 0;var b=e.detail,v=b.type,u=b.theOtherDz;if(v===mr.OUTSIDE_OF_ANY||v===mr.LEFT_FOR_ANOTHER&&u!==ge&&he.get(u).dropFromOthersDisabled){tr=!0,je=ge;var d=s===ge?o:Ze(he.get(ge).items);d.splice(Cr,0,ct),vt(ge,d,{trigger:Re.DRAGGED_LEFT_ALL,id:ze[Ae],source:We.POINTER})}vt(e.currentTarget,o,{trigger:Re.DRAGGED_LEFT,id:ze[Ae],source:We.POINTER})}}}function Dn(e){var t=he.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==ge)){var o=Ze(r);tr=!1;var i=e.detail.indexObj.index,s=jr(o);s!==-1&&o.splice(s,1),o.splice(i,0,ct),vt(e.currentTarget,o,{trigger:Re.DRAGGED_OVER_INDEX,id:ze[Ae],source:We.POINTER})}}function xr(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Me={x:t.clientX,y:t.clientY},Se.style.transform="translate3d(".concat(Me.x-$e.x,"px, ").concat(Me.y-$e.y,"px, 0)")}function Ft(){ma=!0,window.removeEventListener("mousemove",xr),window.removeEventListener("touchmove",xr),window.removeEventListener("mouseup",Ft),window.removeEventListener("touchend",Ft),ls(),Xi(Se),je||(je=ge);var e=he.get(je),t=e.items,r=e.type;_r(Xe.get(r),function(i){return he.get(i).dropTargetStyle},function(i){return he.get(i).dropTargetClasses});var n=jr(t);n===-1&&je===ge&&(n=Cr),t=t.map(function(i){return i[Er]?ze:i});function o(){ha(),Lt(je,t,{trigger:tr?Re.DROPPED_OUTSIDE_OF_ANY:Re.DROPPED_INTO_ZONE,id:ze[Ae],source:We.POINTER}),je!==ge&&Lt(ge,he.get(ge).items,{trigger:Re.DROPPED_INTO_ANOTHER,id:ze[Ae],source:We.POINTER});var i=Array.from(je.children).find(function(s){return s.getAttribute(Or)});i&&es(i),vs()}he.get(je).dropAnimationDisabled?o():cs(n,o)}function cs(e,t){var r=e>-1?ta(je.children[e],!1):ta(je,!1),n={x:r.left-parseFloat(Se.style.left),y:r.top-parseFloat(Se.style.top)},o=he.get(je),i=o.dropAnimationDurationMs,s="transform ".concat(i,"ms ease");Se.style.transition=Se.style.transition?Se.style.transition+","+s:s,Se.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,i)}function us(e,t){br.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){wn(e),document.body.appendChild(e)})}function vs(){Se&&Se.remove&&Se.remove(),Fe&&Fe.remove&&Fe.remove(),Se=void 0,Fe=void 0,ze=void 0,Sr=void 0,ge=void 0,Cr=void 0,ct=void 0,je=void 0,$e=void 0,Me=void 0,lt=!1,ma=!1,ha=void 0,tr=!1,et&&clearTimeout(et),et=void 0,Yt=!1,br.length&&(br.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),br=[])}function fs(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ba,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},o=new Map;function i(){window.addEventListener("mousemove",v,{passive:!1}),window.addEventListener("touchmove",v,{passive:!1,capture:!1}),window.addEventListener("mouseup",b,{passive:!1}),window.addEventListener("touchend",b,{passive:!1})}function s(){window.removeEventListener("mousemove",v),window.removeEventListener("touchmove",v),window.removeEventListener("mouseup",b),window.removeEventListener("touchend",b),et&&(clearTimeout(et),et=void 0,Yt=!1)}function b(g){if(s(),Fe=void 0,$e=void 0,Me=void 0,g.type==="touchend"){var f=new Event("click",{bubbles:!0,cancelable:!0});g.target.dispatchEvent(f)}}function v(g){var f=!!g.touches,p=f?g.touches[0]:g;if(f&&n.delayTouchStartMs>0&&!Yt){Me={x:p.clientX,y:p.clientY},(Math.abs(Me.x-$e.x)>=dr||Math.abs(Me.y-$e.y)>=dr)&&(et&&(clearTimeout(et),et=void 0),b(g));return}g.preventDefault(),Me={x:p.clientX,y:p.clientY},(Math.abs(Me.x-$e.x)>=dr||Math.abs(Me.y-$e.y)>=dr)&&(s(),d())}function u(g){if(!(g.target!==g.currentTarget&&(g.target.value!==void 0||g.target.isContentEditable))&&!g.button&&!lt){var f=!!g.touches,p=f&&n.delayTouchStartMs>0;p||g.preventDefault(),g.stopPropagation();var h=f?g.touches[0]:g;$e={x:h.clientX,y:h.clientY},Me=pr({},$e),Fe=g.currentTarget,p&&(Yt=!1,et=window.setTimeout(function(){Fe&&(Yt=!0,s(),d())},n.delayTouchStartMs)),i()}}function d(){lt=!0;var g=o.get(Fe);Cr=g,ge=Fe.parentElement;var f=ge.closest("dialog")||ge.closest("[popover]")||ge.getRootNode(),p=f.body||f,h=n.items,m=n.type,x=n.centreDraggedOnCursor,y=Ze(h);ze=y[g],Sr=m,ct=ds(ze),Se=Ki(Fe,x&&Me),p.appendChild(Se);function T(){Fe.parentElement?window.requestAnimationFrame(T):(Fe.setAttribute(za,!0),p.appendChild(Fe),ss(),wn(Fe),ct[Ae]=ze[Ae],Se.focus())}window.requestAnimationFrame(T),fr(Array.from(Xe.get(n.type)).filter(function(D){return D===ge||!he.get(D).dropFromOthersDisabled}),function(D){return he.get(D).dropTargetStyle},function(D){return he.get(D).dropTargetClasses}),y.splice(g,1,ct),ha=ts(ge),vt(ge,y,{trigger:Re.DRAG_STARTED,id:ze[Ae],source:We.POINTER}),window.addEventListener("mousemove",xr,{passive:!1}),window.addEventListener("touchmove",xr,{passive:!1,capture:!1}),window.addEventListener("mouseup",Ft,{passive:!1}),window.addEventListener("touchend",Ft,{passive:!1})}function w(g){var f=g.items,p=f===void 0?void 0:f,h=g.flipDurationMs,m=h===void 0?0:h,x=g.type,y=x===void 0?rs:x,T=g.dragDisabled,D=T===void 0?!1:T,C=g.morphDisabled,I=C===void 0?!1:C,k=g.dropFromOthersDisabled,E=k===void 0?!1:k,S=g.dropTargetStyle,j=S===void 0?Ba:S,L=g.dropTargetClasses,F=L===void 0?[]:L,K=g.transformDraggedElement,B=K===void 0?function(){}:K,V=g.centreDraggedOnCursor,M=V===void 0?!1:V,H=g.dropAnimationDisabled,Y=H===void 0?!1:H,U=g.delayTouchStart,Q=U===void 0?!1:U;n.dropAnimationDurationMs=m;var N=0;Q===!0?N=os:typeof Q=="number"&&isFinite(Q)&&Q>=0&&(N=Q),n.delayTouchStartMs=N,n.type&&y!==n.type&&Wa(e,n.type),n.type=y,n.items=Ze(p),n.dragDisabled=D,n.morphDisabled=I,n.transformDraggedElement=B,n.centreDraggedOnCursor=M,n.dropAnimationDisabled=Y,r&&lt&&!ma&&(!Ri(j,n.dropTargetStyle)||!Li(F,n.dropTargetClasses))&&(_r([e],function(){return n.dropTargetStyle},function(){return F}),fr([e],function(){return j},function(){return F})),n.dropTargetStyle=j,n.dropTargetClasses=Ze(F);function q(W,ce){return he.get(W)?he.get(W)[ce]:n[ce]}r&&lt&&n.dropFromOthersDisabled!==E&&(E?_r([e],function(W){return q(W,"dropTargetStyle")},function(W){return q(W,"dropTargetClasses")}):fr([e],function(W){return q(W,"dropTargetStyle")},function(W){return q(W,"dropTargetClasses")})),n.dropFromOthersDisabled=E,he.set(e,n),is(e,y);for(var re=lt?jr(n.items):-1,ie=0;ie<e.children.length;ie++){var ae=e.children[ie];if(Qi(ae,D),ie===re){I||Ji(Se,ae,Me.x,Me.y),n.transformDraggedElement(Se,ze,ie),$i(ae);continue}ae.removeEventListener("mousedown",Zr.get(ae)),ae.removeEventListener("touchstart",Zr.get(ae)),D||(ae.addEventListener("mousedown",u),ae.addEventListener("touchstart",u),Zr.set(ae,u)),o.set(ae,ie),r||(r=!0)}}return w(t),{update:function(f){w(f)},destroy:function(){function f(){Wa(e,he.get(e).type),he.delete(e)}lt&&!e.closest("[".concat(za,"]"))?us(e,f):f()}}}var cr,aa={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},An=(cr={},Rt(cr,aa.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Rt(cr,aa.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),cr),bs="dnd-action-aria-alert",we;function na(){we||(we=document.createElement("div"),(function(){we.id=bs,we.style.position="fixed",we.style.bottom="0",we.style.left="0",we.style.zIndex="-5",we.style.opacity="0",we.style.height="0",we.style.width="0",we.setAttribute("role","alert")})(),document.body.prepend(we),Object.entries(An).forEach(function(e){var t=gi(e,2),r=t[0],n=t[1];return document.body.prepend(ms(r,n))}))}function gs(){return ga?null:(document.readyState==="complete"?na():window.addEventListener("DOMContentLoaded",na),pr({},aa))}function ps(){ga||!we||(Object.keys(An).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),we.remove(),we=void 0)}function ms(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Nt(e){if(!ga){we||na(),we.innerHTML="";var t=document.createTextNode(e);we.appendChild(t),we.style.display="none",we.style.display="inline"}}var hs="--any--",Ga={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ve=!1,oa,Pe,wt="",ht,tt,dt="",yr=new WeakSet,Ha=new WeakMap,Va=new WeakMap,ia=new Map,Ce=new Map,Ke=new Map,wr;function _s(e,t){Ke.size===0&&(wr=gs(),window.addEventListener("keydown",En),window.addEventListener("click",On)),Ke.has(t)||Ke.set(t,new Set),Ke.get(t).has(e)||(Ke.get(t).add(e),bn())}function Ua(e,t){Pe===e&&Qt(),Ke.get(t).delete(e),gn(),Ke.get(t).size===0&&Ke.delete(t),Ke.size===0&&(window.removeEventListener("keydown",En),window.removeEventListener("click",On),wr=void 0,ps())}function En(e){if(Ve)switch(e.key){case"Escape":{Qt();break}}}function On(){Ve&&(yr.has(document.activeElement)||Qt())}function xs(e){if(Ve){var t=e.currentTarget;if(t!==Pe){wt=t.getAttribute("aria-label")||"";var r=Ce.get(Pe),n=r.items,o=n.find(function(w){return w[Ae]===tt}),i=n.indexOf(o),s=n.splice(i,1)[0],b=Ce.get(t),v=b.items,u=b.autoAriaDisabled;t.getBoundingClientRect().top<Pe.getBoundingClientRect().top||t.getBoundingClientRect().left<Pe.getBoundingClientRect().left?(v.push(s),u||Nt("Moved item ".concat(dt," to the end of the list ").concat(wt))):(v.unshift(s),u||Nt("Moved item ".concat(dt," to the beginning of the list ").concat(wt)));var d=Pe;Lt(d,n,{trigger:Re.DROPPED_INTO_ANOTHER,id:tt,source:We.KEYBOARD}),Lt(t,v,{trigger:Re.DROPPED_INTO_ZONE,id:tt,source:We.KEYBOARD}),Pe=t}}}function In(){ia.forEach(function(e,t){var r=e.update;return r(Ce.get(t))})}function Qt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Ce.get(Pe).autoAriaDisabled||Nt("Stopped dragging item ".concat(dt)),yr.has(document.activeElement)&&document.activeElement.blur(),e&&vt(Pe,Ce.get(Pe).items,{trigger:Re.DRAG_STOPPED,id:tt,source:We.KEYBOARD}),_r(Ke.get(oa),function(t){return Ce.get(t).dropTargetStyle},function(t){return Ce.get(t).dropTargetClasses}),ht=null,tt=null,dt="",oa=null,Pe=null,wt="",Ve=!1,In()}function ys(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ga,dropTargetClasses:[],autoAriaDisabled:!1};function n(d,w,g){d.length<=1||d.splice(g,1,d.splice(w,1,d[g])[0])}function o(d){switch(d.key){case"Enter":case" ":{if((d.target.disabled!==void 0||d.target.href||d.target.isContentEditable)&&!yr.has(d.target))return;d.preventDefault(),d.stopPropagation(),Ve?Qt():i(d);break}case"ArrowDown":case"ArrowRight":{if(!Ve)return;d.preventDefault(),d.stopPropagation();var w=Ce.get(e),g=w.items,f=Array.from(e.children),p=f.indexOf(d.currentTarget);p<f.length-1&&(r.autoAriaDisabled||Nt("Moved item ".concat(dt," to position ").concat(p+2," in the list ").concat(wt)),n(g,p,p+1),Lt(e,g,{trigger:Re.DROPPED_INTO_ZONE,id:tt,source:We.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Ve)return;d.preventDefault(),d.stopPropagation();var h=Ce.get(e),m=h.items,x=Array.from(e.children),y=x.indexOf(d.currentTarget);y>0&&(r.autoAriaDisabled||Nt("Moved item ".concat(dt," to position ").concat(y," in the list ").concat(wt)),n(m,y,y-1),Lt(e,m,{trigger:Re.DROPPED_INTO_ZONE,id:tt,source:We.KEYBOARD}));break}}}function i(d){b(d.currentTarget),Pe=e,oa=r.type,Ve=!0;var w=Array.from(Ke.get(r.type)).filter(function(f){return f===Pe||!Ce.get(f).dropFromOthersDisabled});if(fr(w,function(f){return Ce.get(f).dropTargetStyle},function(f){return Ce.get(f).dropTargetClasses}),!r.autoAriaDisabled){var g="Started dragging item ".concat(dt,". Use the arrow keys to move it within its list ").concat(wt);w.length>1&&(g+=", or tab to another list in order to move the item into it"),Nt(g)}vt(e,Ce.get(e).items,{trigger:Re.DRAG_STARTED,id:tt,source:We.KEYBOARD}),In()}function s(d){Ve&&d.currentTarget!==ht&&(d.stopPropagation(),Qt(!1),i(d))}function b(d){var w=Ce.get(e),g=w.items,f=Array.from(e.children),p=f.indexOf(d);ht=d,ht.tabIndex=r.zoneItemTabIndex,tt=g[p][Ae],dt=f[p].getAttribute("aria-label")||""}function v(d){var w=d.items,g=w===void 0?[]:w,f=d.type,p=f===void 0?hs:f,h=d.dragDisabled,m=h===void 0?!1:h,x=d.zoneTabIndex,y=x===void 0?0:x,T=d.zoneItemTabIndex,D=T===void 0?0:T,C=d.dropFromOthersDisabled,I=C===void 0?!1:C,k=d.dropTargetStyle,E=k===void 0?Ga:k,S=d.dropTargetClasses,j=S===void 0?[]:S,L=d.autoAriaDisabled,F=L===void 0?!1:L;r.items=Ze(g),r.dragDisabled=m,r.dropFromOthersDisabled=I,r.zoneTabIndex=y,r.zoneItemTabIndex=D,r.dropTargetStyle=E,r.dropTargetClasses=j,r.autoAriaDisabled=F,r.type&&p!==r.type&&Ua(e,r.type),r.type=p,_s(e,p),F||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",m?wr.DND_ZONE_DRAG_DISABLED:wr.DND_ZONE_ACTIVE)),Ce.set(e,r),Ve?e.tabIndex=e===Pe||ht.contains(e)||r.dropFromOthersDisabled||Pe&&r.type!==Ce.get(Pe).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",xs);for(var K=function(M){var H=e.children[M];yr.add(H),H.tabIndex=Ve?-1:r.zoneItemTabIndex,F||H.setAttribute("role","listitem"),H.removeEventListener("keydown",Ha.get(H)),H.removeEventListener("click",Va.get(H)),m||(H.addEventListener("keydown",o),Ha.set(H,o),H.addEventListener("click",s),Va.set(H,s)),Ve&&r.items[M][Ae]===tt&&(ht=H,ht.tabIndex=r.zoneItemTabIndex,H.focus())},B=0;B<e.children.length;B++)K(B)}v(t);var u={update:function(w){v(w)},destroy:function(){Ua(e,r.type),Ce.delete(e),ia.delete(e)}};return ia.set(e,u),u}var ws=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function Sn(e,t){if(ks(e))return{update:function(){},destroy:function(){}};Za(t);var r=fs(e,t),n=ys(e,t);return{update:function(i){Za(i),r.update(i),n.update(i)},destroy:function(){r.destroy(),n.destroy()}}}function ks(e){return!!e.closest("[".concat(Ii,'="true"]'))}function Za(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var o=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var i=e.delayTouchStart;e.dropAnimationDisabled;var s=bi(e,ws);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var b=t.find(function(d){return!{}.hasOwnProperty.call(d,Ae)});if(b)throw new Error("missing '".concat(Ae,"' property for item ").concat(Vt(b)));if(o&&!Array.isArray(o))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(jt(o),", ").concat(Vt(o)));if(r&&!Ya(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(jt(r),", ").concat(Vt(r)));if(n&&!Ya(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(jt(n),", ").concat(Vt(n)));if(i!==void 0&&i!==!1){var v=i===!0,u=typeof i=="number"&&isFinite(i)&&i>=0;if(!v&&!u)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(jt(i),", ").concat(Vt(i)))}}function Ya(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function Ts(e){const t=e-1;return t*t*t+1}function Mr(e){return--e*e*e*e*e+1}function Wt(e,{from:t,to:r},n={}){var{delay:o=0,duration:i=I=>Math.sqrt(I)*120,easing:s=Ts}=n,b=getComputedStyle(e),v=b.transform==="none"?"":b.transform,[u,d]=b.transformOrigin.split(" ").map(parseFloat);u/=e.clientWidth,d/=e.clientHeight;var w=Ds(e),g=e.clientWidth/r.width/w,f=e.clientHeight/r.height/w,p=t.left+t.width*u,h=t.top+t.height*d,m=r.left+r.width*u,x=r.top+r.height*d,y=(p-m)*g,T=(h-x)*f,D=t.width/r.width,C=t.height/r.height;return{delay:o,duration:typeof i=="function"?i(Math.sqrt(y*y+T*T)):i,easing:s,css:(I,k)=>{var E=k*y,S=k*T,j=I+k*D,L=I+k*C;return`transform: ${v} translate(${E}px, ${S}px) scale(${j}, ${L});`}}}function Ds(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var As=R("<span> </span>");function kr(e,t){_e(t,!0);const r={regular:{sev1:"bg-purple-500/20 text-purple-400",sev2:"bg-teal-500/20 text-teal-400",sev3:"bg-sky-500/20 text-sky-400"},maintenance:{sev1:"bg-rose-400/20 text-rose-400",sev2:"bg-lime-500/20 text-lime-400",sev3:"bg-slate-400/20 text-slate-400"}},n=Z(()=>ri[t.type][t.level]),o=Z(()=>r[t.type][t.level]||"bg-slate-400/20 text-slate-400");var i=As(),s=c(i,!0);l(i),oe(()=>{$(i,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${a(o)??""}`),z(s,a(n))}),O(e,i),xe()}var Es=R("<span> </span>");function Bt(e,t){var r=Es(),n=c(r,!0);l(r),oe(()=>{$(r,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${t.classes??""}`),z(n,t.label)}),O(e,r)}var Os=R('<div class="flex items-center gap-2 p-2 bg-base-200 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-2xl"> </div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate"> </p></div> <div><!></div></div>'),Is=R('<div class="flex flex-col gap-2"></div>'),Ss=R('<div tabindex="0" role="button"><div class="flex items-start p-3"><div class="flex-1 min-w-0"><div class="flex flex-col gap-3"><p class="text-sm text-base-content"><span class="text-base"> </span> </p> <div class="h-1 bg-base-300/50"><div></div></div> <p class="text-xs gap-1 flex items-center"><!> <!> <!></p></div></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),Cs=R('<div class="flex flex-col gap-2"></div>'),js=R('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),Ms=R('<div class="flex flex-col "><!></div>');function Ps(e,t){_e(t,!0);const r=200;let n=Z(()=>t.assignedProjects.map(f=>({...f,id:f.project.id}))),o=te(Ue([]));it(()=>{A(o,a(n),!0)});async function i(f,p){f.stopPropagation(),await sn(p,t.currentWeekOf)}function s(f){const p=xt.getByProject(f),h=p.filter(x=>!["completed","cancelled"].includes(x.status)).length,m=p.filter(x=>["completed","cancelled"].includes(x.status)).length;return{active:h,completed:m,total:h+m}}function b(f){A(o,f.detail.items,!0)}function v(f){A(o,f.detail.items,!0);const{info:p}=f.detail,h=p.id,m=a(o).findIndex(C=>C.id===h);if(m===-1)return;const x=m>0?a(o)[m-1]:null,y=m<a(o).length-1?a(o)[m+1]:null;let T=null,D=null;if(x){const C=a(n).findIndex(I=>I.id===x.id);T=x.assignment.order,D=C<a(n).length-1?a(n)[C+1].assignment.order:null}else if(y){const C=a(n).findIndex(I=>I.id===y.id);T=C>0?a(n)[C-1].assignment.order:null,D=y.assignment.order}Do(t.currentWeekOf,h,T,D)}var u=Ms(),d=c(u);{var w=f=>{var p=be(),h=se(p);{var m=y=>{var T=Is();ke(T,29,()=>a(o),({id:D,project:C,area:I})=>D,(D,C)=>{let I=()=>a(C).project,k=()=>a(C).area;var E=Os(),S=c(E),j=c(S,!0);l(S);var L=_(S,2),F=c(L),K=c(F,!0);l(F),l(L);var B=_(L,2),V=c(B);kr(V,{get level(){return I().severity},get type(){return I().type}}),l(B),l(E),oe(()=>{z(j,k().icon),z(K,I().name)}),zt(E,()=>Wt,()=>({duration:r})),O(D,E)}),l(T),ua(T,(D,C)=>Sn?.(D,C),()=>({items:a(o),flipDurationMs:r,dropTargetStyle:{}})),_t("consider",T,b),_t("finalize",T,v),O(y,T)},x=y=>{var T=Cs();ke(T,21,()=>a(n),Ge,(D,C)=>{let I=()=>a(C).project,k=()=>a(C).area;const E=Z(()=>s(I().id)),S=Z(()=>a(E).total>0?a(E).completed/a(E).total*100:0);var j=Ss();j.__click=()=>t.navigateToTasks(I());var L=c(j),F=c(L),K=c(F),B=c(K),V=c(B),M=c(V,!0);l(V);var H=_(V);l(B);var Y=_(B,2),U=c(Y);l(Y);var Q=_(Y,2),N=c(Q);kr(N,{get level(){return I().severity},get type(){return I().type}});var q=_(N,2);{let ae=Z(()=>a(E).active==0?"text-error bg-error/10 border-error/10 border":"bg-base-100 text-base-content/50");Bt(q,{get classes(){return a(ae)},get label(){return`${a(E).active??""} available`}})}var re=_(q,2);Bt(re,{classes:"bg-base-100 text-base-content/50",get label(){return k().name}}),l(Q),l(K),l(F);var ie=_(F,2);ie.__click=ae=>i(ae,I().id),l(L),l(j),oe(()=>{$(j,1,`bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer overflow-hidden ${I().status=="blocked"?"glow-error":""} `),z(M,k().icon),z(H,` ${I().name??""}`),$(U,1,`h-full ${I().status=="cancelled"?"bg-base-100":I().status=="completed"?"bg-success/80":"bg-primary"} transition-all`),va(U,`width: ${a(S)??""}%`)}),O(D,j)}),l(T),O(y,T)};ee(h,y=>{t.reorderMode?y(m):y(x,!1)})}O(f,p)},g=f=>{var p=js();O(f,p)};ee(d,f=>{a(o).length>0?f(w):f(g,!1)})}l(u),O(e,u),xe()}Te(["click"]);var Ns=R('<button><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <div class="flex flex-row items-center justify-between"><p class="text-xs text-muted"> </p> <!></div></div></button>'),Rs=R('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),Ls=R('<div class="flex flex-col gap-2"></div>');function Fs(e,t){_e(t,!0);var r=Ls();ke(r,21,()=>t.weekTasks,Ge,(n,o)=>{const i=Z(()=>t.isTaskAssignedToDay(a(o).id));var s=Ns();s.__click=m=>t.openDayPicker(m,a(o));var b=c(s),v=c(b),u=c(v,!0);l(v);var d=_(v,2),w=c(d),g=c(w);l(w);var f=_(w,2);{var p=m=>{{let x=Z(()=>a(o).status=="cancelled"?"bg-base-100 text-base-content/80 border-base-content/80":"bg-success/10 text-success border-success"),y=Z(()=>Ao(a(o).completedAt.split(" ")[0]));Bt(m,{get classes(){return a(x)},get label(){return a(y)}})}},h=m=>{var x=be(),y=se(x);{var T=D=>{{let C=Z(()=>on(a(i)));Bt(D,{classes:"bg-primary/10 text-primary border-primary",get label(){return a(C)}})}};ee(y,D=>{a(i)&&D(T)},!0)}O(m,x)};ee(f,m=>{a(o).completedAt?m(p):m(h,!1)})}l(d),l(b),l(s),oe(()=>{$(s,1,`${a(o).status=="blocked"?"glow-error":""} text-start flex items-center gap-3 p-3 bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer`),z(u,a(o).name),z(g,`${a(o).areaIcon??""} ${(a(o).type==="oneoff"?"One-off":a(o).projectName)??""}`)}),O(n,s)},n=>{var o=Rs();O(n,o)}),l(r),O(e,r),xe()}Te(["click"]);let Yr=Ue({});class sa{scrollTimeout;#e=te();get scrollContainer(){return a(this.#e)}set scrollContainer(t){A(this.#e,t,!0)}pageKey="default"+Math.random();get positions(){return Yr}save(t,r){Yr[t]=r}get(t){return Yr[t]||0}handleScroll=()=>{clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.scrollContainer&&this.save(this.pageKey,this.scrollContainer.scrollTop)},100)};restoreScroll=async(t,r)=>{if(await tn(),this.scrollContainer=t,this.pageKey=r,this.scrollContainer){const n=this.get(this.pageKey);n&&(this.scrollContainer.scrollTop=n)}}}var Bs=R('<button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button>'),zs=R('<button type="button"><span>Pending</span></button> <button type="button"><span>Resolved</span></button>',1),Ws=R('<button type="button"><span>Pending</span></button> <button type="button"><span>Resolved</span></button>',1),Gs=R('<div class="flex flex-col h-full"><div class="bg-base-300 ps-4 pe-2 pt-1 pb-0 flex flex-col gap-4 border-b border-b-base-content/10"><div class="flex flex-row justify-between items-center"><div class="text-center w-full"><h2 class="text-lg font-medium">This Week</h2> <p class="text-xs text-base-content/50"> </p></div></div> <div class="flex items-center justify-between h-8"><div class="flex gap-1"><button>Projects</button> <button>Tasks</button></div> <!></div></div> <div class="px-4 py-2 border-b flex justify-end border-b-base-content/10 gap-4"><!></div> <div><!></div> <div><!></div></div> <!>',1);function Hs(e,t){_e(t,!0);let r,n;const o=new sa,i=new sa;rn(()=>{o.restoreScroll(r,"weekview_projects"),i.restoreScroll(n,"weekview_tasks")});let s=te(!1),b=()=>A(s,!a(s)),v=te(Ue(localStorage.getItem("weekTabFilterModeProjects")||"pending"));it(()=>{a(v)&&localStorage.setItem("weekTabFilterModeProjects",a(v))});let u=te(Ue(localStorage.getItem("weekTabFilterModeTasks")||"pending"));it(()=>{a(u)&&localStorage.setItem("weekTabFilterModeTasks",a(u))});let d=te(Ue(localStorage.getItem("weekTabView")||"projects"));it(()=>{a(d)&&localStorage.setItem("weekTabView",a(d))});let w=Ue(kt());const g=Z(()=>ut.getWeek(w));let f;function p(P){return a(g)?a(g).tasksByDay.find(X=>X.taskId===P)?.date??null:null}let h=Z(()=>a(g)?a(g).projectAssignments.map(P=>{const G=ot.getById(P.areaId);if(!G)return null;const de=yt.getByArea(G.id).find(ve=>ve.id===P.projectId);return de?{assignment:P,project:de,area:G}:null}).filter(P=>P!==null):[]),m=Z(()=>a(h).filter(P=>a(v)=="resolved"?["completed","cancelled"].includes(P.project.status):!["completed","cancelled"].includes(P.project.status))),x=Z(()=>{const P=[];for(const{project:G,area:X}of a(h)){const de=xt.getByProject(G.id);for(const ve of de)P.push({type:"task",id:ve.id,name:ve.name,status:ve.status,areaIcon:X.icon,areaName:X.name,projectName:G.name,areaId:X.id,projectId:G.id,completedAt:ve.completedAt})}if(a(g))for(const G of a(g).oneOffAssignments){const X=Mt.getById(G.oneOffId);if(!X)continue;const de=ot.getById(G.areaId);de&&P.push({type:"oneoff",id:X.id,name:X.name,status:X.status,areaIcon:de.icon,areaName:de.name,projectName:"One-off",areaId:de.id,projectId:"",completedAt:X.completedAt})}return P});const y=Z(()=>an(w)),T=Z(()=>a(y)[0]),D=Z(()=>a(y)[6]);let C=Z(()=>a(x).filter(P=>{if(a(u)=="resolved"){if(!P.completedAt)return!1;const G=P.completedAt.split("T")[0];return G>=a(T)&&G<=a(D)}return!["completed","cancelled"].includes(P.status)}).sort((P,G)=>a(u)=="resolved"?(G.completedAt??"").localeCompare(P.completedAt??""):0));var I=Gs(),k=se(I),E=c(k),S=c(E),j=c(S),L=_(c(j),2),F=c(L,!0);l(L),l(j),l(S);var K=_(S,2),B=c(K),V=c(B);V.__click=()=>A(d,"projects");var M=_(V,2);M.__click=()=>A(d,"tasks"),l(B);var H=_(B,2);{var Y=P=>{var G=Bs();G.__click=b;var X=_(c(G));l(G),oe(()=>{$(G,1,`btn mb-2 ${a(s)?"btn-success":"btn-ghost"} btn-xs`),z(X,` ${a(s)?"Done":"Reorder"}`)}),O(P,G)};ee(H,P=>{a(d)=="projects"&&a(m).length>1&&P(Y)})}l(K),l(E);var U=_(E,2),Q=c(U);{var N=P=>{var G=zs(),X=se(G);X.__click=()=>A(v,"pending");var de=_(X,2);de.__click=()=>A(v,"resolved"),oe(()=>{$(X,1,`${a(v)=="pending"?"bg-primary/20 text-primary":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),$(de,1,`${a(v)=="resolved"?"bg-success/20 text-success":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `)}),O(P,G)},q=P=>{var G=Ws(),X=se(G);X.__click=()=>A(u,"pending");var de=_(X,2);de.__click=()=>A(u,"resolved"),oe(()=>{$(X,1,`${a(u)=="pending"?"bg-primary/20 text-primary":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),$(de,1,`${a(u)=="resolved"?"bg-success/20 text-success":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `)}),O(P,G)};ee(Q,P=>{a(d)=="projects"?P(N):P(q,!1)})}l(U);var re=_(U,2),ie=c(re);{var ae=P=>{Ps(P,{get reorderMode(){return a(s)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return w},get assignedProjects(){return a(m)}})};ee(ie,P=>{a(d)==="projects"&&P(ae)})}l(re),Ne(re,P=>r=P,()=>r);var W=_(re,2),ce=c(W);{var ne=P=>{Fs(P,{get openDayPicker(){return f.openDayPicker},get weekTasks(){return a(C)},isTaskAssignedToDay:p})};ee(ce,P=>{a(d)=="tasks"&&P(ne)})}l(W),Ne(W,P=>n=P,()=>n),l(k);var le=_(k,2);Ne(vi(le,{get currentWeekOf(){return w},isTaskAssignedToDay:p}),P=>f=P,()=>f),oe((P,G)=>{z(F,P),$(V,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${a(d)=="projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),$(M,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${a(d)=="tasks"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),$(re,1,`${G??""} flex-1 overflow-y-auto px-3 py-4`),$(W,1,`${a(d)=="tasks"?"":"hidden"} flex-1 overflow-y-auto px-3 py-4`)},[()=>Eo(w),()=>a(d).match(/projects/)?"":"hidden"]),_t("scroll",re,function(...P){o.handleScroll?.apply(this,P)}),_t("scroll",W,function(...P){i.handleScroll?.apply(this,P)}),O(e,I),xe()}Te(["click"]);var Vs=R('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),Us=R('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),Zs=R('<div class="flex flex-col gap-2"></div>'),Ys=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="p-4 border-b border-base-content/10"><p class="font-medium text-base-content mb-2"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-3 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="join w-full"><label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Active</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Blocked</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Completed</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function qs(e,t){_e(t,!0);const r=[];let n=te("completed"),o=te(Ue([]));it(()=>{t.show&&(A(n,t.taskByDay?.status||"completed",!0),A(o,[],!0))});function i(f,p){p&&setTimeout(()=>f.focus(),0)}function s(){A(o,[...a(o),""],!0)}function b(f){A(o,a(o).filter((p,h)=>h!==f),!0)}function v(f,p){A(o,a(o).map((h,m)=>m===f?p:h),!0)}async function u(){if(t.taskByDay){t.taskByDay.isOneOff?await Xr(t.taskByDay.taskId,t.taskByDay.areaId,a(n)):await Jr(t.taskByDay.taskId,t.taskByDay.projectId,a(n));for(const f of a(o))f.trim()&&await ln(t.taskByDay.projectId,t.taskByDay.areaId,f.trim());t.onClose()}}var d=be(),w=se(d);{var g=f=>{var p=Ys(),h=c(p);h.__click=function(...W){t.onClose?.apply(this,W)},h.__keydown=W=>W.key==="Escape"&&t.onClose();var m=_(h,2),x=c(m),y=c(x),T=c(y,!0);l(y);var D=_(y,2),C=c(D);l(D),l(x);var I=_(x,2),k=c(I),E=_(c(k),2),S=c(E),j=c(S);qe(j),j.value=j.__value="active",sr(2),l(S);var L=_(S,2),F=c(L);qe(F),F.value=F.__value="blocked",sr(2),l(L);var K=_(L,2),B=c(K);qe(B),B.value=B.__value="completed",sr(2),l(K);var V=_(K,2),M=c(V);qe(M),M.value=M.__value="cancelled",sr(2),l(V),l(E),l(k);var H=_(k,2),Y=c(H),U=_(c(Y),2);U.__click=s,l(Y);var Q=_(Y,2);{var N=W=>{var ce=Vs();O(W,ce)},q=W=>{var ce=Zs();ke(ce,21,()=>a(o),Ge,(ne,le,P)=>{var G=Us(),X=c(G);qe(X),X.__input=ve=>v(P,ve.currentTarget.value),ua(X,(ve,Ee)=>i?.(ve,Ee),()=>P===a(o).length-1);var de=_(X,2);de.__click=()=>b(P),l(G),oe(()=>ti(X,a(le))),O(ne,G)}),l(ce),O(W,ce)};ee(Q,W=>{a(o).length===0?W(N):W(q,!1)})}l(H),l(I);var re=_(I,2),ie=c(re);ie.__click=function(...W){t.onClose?.apply(this,W)};var ae=_(ie,2);ae.__click=u,l(re),l(m),l(p),oe(()=>{z(T,t.taskByDay.name),z(C,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),$(S,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${a(n)==="active"?"bg-primary/10 border-primary":""}`),$(L,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${a(n)==="blocked"?"bg-error/10 border-error":""}`),$(K,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${a(n)==="completed"?"bg-success/10 border-success":""}`),$(V,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${a(n)==="cancelled"?"bg-base-content/10 border-base-content/40":""}`)}),He(3,h,()=>Tt,()=>({duration:200})),Ct(r,[],j,()=>a(n),W=>A(n,W)),Ct(r,[],F,()=>a(n),W=>A(n,W)),Ct(r,[],B,()=>a(n),W=>A(n,W)),Ct(r,[],M,()=>a(n),W=>A(n,W)),He(3,m,()=>Dt,()=>({y:300,duration:300})),O(f,p)};ee(w,f=>{t.show&&t.taskByDay&&f(g)})}O(e,d),xe()}Te(["click","keydown","input"]);var Ks=R('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate "> </p></div></div>'),Xs=R('<div class="flex flex-col gap-2 mb-4"></div>'),Js=R('<div><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm mb-2"> </p> <p class="text-xs text-muted truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),Qs=R('<div class="flex flex-col gap-2 mb-4"></div>'),$s=R('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),el=R('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),tl=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),rl=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),al=R('<div class="flex items-center gap-3 p-3 opacity-50 "><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),nl=R('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),ol=R('<div class="flex flex-col h-full "><div class="flex flex-col gap-4 pt-1 pb-0 border-b border-base-content/10"><div class="flex flex-row justify-between items-center px-2"><button aria-label="prev" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button> <button class="cursor-pointer text-center w-full "><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-muted"> </p></button> <button aria-label="next" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="transform:rotate(180deg)" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button></div> <div class="flex items-center px-2"><div class="flex-1"><div class="px-4 pb-3 flex flex-col"><div class="flex items-center justify-between text-xs text-muted mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success/85 transition-all rounded-full"></div></div></div></div> <button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-3"><!> <!></div></div> <!>',1);function il(e,t){_e(t,!0);let r;const n=new sa;rn(()=>n.restoreScroll(r,"todayview"));const o=kt(),i=200,s=()=>A(v,Io(a(u)),!0),b=()=>A(v,So(a(u)),!0);let v=te(Ue(new Date));const u=Z(()=>Co(a(v)));let d=Z(()=>{const J=ut.getWeek(o);return J?J.tasksByDay.filter(ue=>ue.date===a(u)).map(ue=>{if(ue.isOneOff){const Oe=Mt.getById(ue.taskId),pe=ot.getById(ue.areaId);return{id:ue.taskId,taskByDay:ue,task:Oe,areaIcon:pe?.icon??"ðŸ“",areaName:pe?.name??"Unknown",projectName:"One-off"}}else{const Oe=xt.getById(ue.taskId),pe=ot.getById(ue.areaId),me=(pe?yt.getByArea(pe.id):[]).find(fe=>fe.id===ue.projectId);return{id:ue.taskId,taskByDay:ue,task:Oe,areaIcon:pe?.icon??"ðŸ“",areaName:pe?.name??"Unknown",projectName:me?.name??"Unknown"}}}):[]}),w=Z(()=>a(d)),g=Z(()=>a(d).filter(J=>J.taskByDay.status!=="completed"&&J.taskByDay.status!=="cancelled")),f=Z(()=>a(d).filter(J=>J.taskByDay.status==="completed"||J.taskByDay.status==="cancelled")),p=te(!1),h=te(null),m=te(""),x=te(""),y=te(""),T=te(!1);const D=()=>{A(T,!a(T))};let C=te(Ue([]));it(()=>{A(C,a(g),!0)});let I=Z(()=>{const J=a(f).length,ue=a(d).length,Oe=ue>0?J/ue*100:0;return{completed:J,total:ue,percent:Oe}});function k(J){A(C,J.detail.items,!0)}function E(J){A(C,J.detail.items,!0);const{info:ue}=J.detail,Oe=ue.id,pe=a(C).findIndex(De=>De.id===Oe);if(pe===-1)return;const Ye=pe>0?a(C)[pe-1]:null,me=pe<a(C).length-1?a(C)[pe+1]:null;let fe=null,Ie=null;if(Ye){const De=a(w).findIndex(Le=>Le.id===Ye.id);fe=Ye.taskByDay.order,Ie=De<a(w).length-1?a(w)[De+1].taskByDay.order:null}else if(me){const De=a(w).findIndex(Le=>Le.id===me.id);fe=De>0?a(w)[De-1].taskByDay.order:null,Ie=me.taskByDay.order}jo(o,a(u),Oe,fe,Ie)}async function S(J){J.isOneOff?await Xr(J.taskId,J.areaId,"completed"):await Jr(J.taskId,J.projectId,"completed")}async function j(J){J.isOneOff?await Xr(J.taskId,J.areaId,"active"):await Jr(J.taskId,J.projectId,"active")}async function L(J){J.isOneOff?await ur(J.taskId,o,a(u)):await vr(J.taskId,J.projectId,o,a(u))}function F(J,ue,Oe,pe){A(h,J,!0),A(m,ue,!0),A(x,Oe,!0),A(y,pe,!0),A(p,!0)}function K(){A(p,!1),A(h,null)}var B=ol(),V=se(B),M=c(V),H=c(M),Y=c(H);Y.__click=b;var U=_(Y,2);U.__click=()=>A(v,new Date,!0);var Q=c(U),N=c(Q,!0);l(Q);var q=_(Q,2),re=c(q,!0);l(q),l(U);var ie=_(U,2);ie.__click=s,l(H);var ae=_(H,2),W=c(ae),ce=c(W),ne=c(ce),le=c(ne),P=c(le);l(le);var G=_(le,2),X=c(G);l(G),l(ne);var de=_(ne,2),ve=c(de);l(de),l(ce),l(W);var Ee=_(W,2);Ee.__click=D;var rt=_(c(Ee));l(Ee),l(ae),l(M);var ye=_(M,2),_a=c(ye);{var Pn=J=>{var ue=be(),Oe=se(ue);{var pe=me=>{var fe=Xs();ke(fe,29,()=>a(C),({id:Ie,taskByDay:De,areaIcon:Le,projectName:Je})=>Ie,(Ie,De)=>{let Le=()=>a(De).taskByDay;var Je=Ks(),At=_(c(Je),2),bt=c(At),gt=c(bt,!0);l(bt),l(At),l(Je),oe(()=>z(gt,Le().name)),zt(Je,()=>Wt,()=>({duration:i})),O(Ie,Je)}),l(fe),ua(fe,(Ie,De)=>Sn?.(Ie,De),()=>({items:a(C),flipDurationMs:i,dropTargetStyle:{}})),_t("consider",fe,k),_t("finalize",fe,E),O(me,fe)},Ye=me=>{var fe=Qs();ke(fe,21,()=>a(g),Ge,(Ie,De)=>{let Le=()=>a(De).taskByDay,Je=()=>a(De).areaIcon,At=()=>a(De).areaName,bt=()=>a(De).projectName;const gt=Z(()=>Le().status=="blocked");var Qe=Js(),rr=c(Qe);rr.__click=()=>S(Le());var Et=_(rr,2);Et.__click=()=>F(Le(),Je(),At(),bt());var Gt=c(Et),ar=c(Gt,!0);l(Gt);var Ot=_(Gt,2),Pr=c(Ot);l(Ot),l(Et);var nr=_(Et,2);nr.__click=()=>L(Le()),l(Qe),oe(()=>{$(Qe,1,`flex items-start gap-2 p-3 bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer ${a(gt)?"glow-error":""}`),z(ar,Le().name),z(Pr,`${Je()??""}  ${bt()??""}`)}),O(Ie,Qe)}),l(fe),O(me,fe)};ee(Oe,me=>{a(T)?me(pe):me(Ye,!1)})}O(J,ue)},Nn=J=>{var ue=be(),Oe=se(ue);{var pe=me=>{var fe=$s();O(me,fe)},Ye=me=>{var fe=el();O(me,fe)};ee(Oe,me=>{a(I).total===0?me(pe):me(Ye,!1)},!0)}O(J,ue)};ee(_a,J=>{a(C).length>0?J(Pn):J(Nn,!1)})}var Rn=_(_a,2);{var Ln=J=>{var ue=nl(),Oe=c(ue),pe=c(Oe);l(Oe);var Ye=_(Oe,2);ke(Ye,21,()=>a(f),Ge,(me,fe)=>{let Ie=()=>a(fe).taskByDay,De=()=>a(fe).areaIcon,Le=()=>a(fe).areaName,Je=()=>a(fe).projectName;const At=Z(()=>Ie().status==="completed"),bt=Z(()=>Ie().status==="cancelled");var gt=al(),Qe=c(gt);Qe.__click=()=>j(Ie());var rr=c(Qe);{var Et=It=>{var or=tl();O(It,or)},Gt=It=>{var or=be(),zn=se(or);{var Wn=Nr=>{var Gn=rl();O(Nr,Gn)};ee(zn,Nr=>{Ie().status==="cancelled"&&Nr(Wn)},!0)}O(It,or)};ee(rr,It=>{Ie().status==="completed"?It(Et):It(Gt,!1)})}l(Qe);var ar=_(Qe,2),Ot=c(ar),Pr=c(Ot,!0);l(Ot);var nr=_(Ot,2),Bn=c(nr);l(nr),l(ar),l(gt),oe(()=>{$(Qe,1,`w-7 h-7 rounded-full ${a(At)?"bg-success border-success text-success-content":a(bt)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),z(Pr,Ie().name),z(Bn,`${De()??""} ${Le()??""} Â· ${Je()??""}`)}),O(me,gt)}),l(Ye),l(ue),oe(()=>z(pe,`Completed (${a(f).length??""})`)),O(J,ue)};ee(Rn,J=>{a(f).length>0&&!a(T)&&J(Ln)})}l(ye),Ne(ye,J=>r=J,()=>r),l(V);var Fn=_(V,2);qs(Fn,{get show(){return a(p)},get taskByDay(){return a(h)},get areaIcon(){return a(m)},get areaName(){return a(x)},get projectName(){return a(y)},get weekOf(){return o},onClose:K}),oe((J,ue)=>{z(N,J),z(re,a(u)),z(P,`${a(I).completed??""} of ${a(I).total??""} completed`),z(X,`${ue??""}%`),va(ve,`width: ${a(I).percent??""}%`),$(Ee,1,`btn w-20 ${a(T)?"btn-success":"btn-ghost"} btn-xs`),z(rt,` ${a(T)?"Done":"Reorder"}`)},[()=>nn(a(u))?"Today":Oo(a(u)),()=>Math.round(a(I).percent)]),_t("scroll",ye,function(...J){n.handleScroll?.apply(this,J)}),O(e,B),xe()}Te(["click"]);const qr=["reorder","status"],Cn=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var sl=R('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function ll(e,t){var r=sl();r.__click=function(...n){t.handleClick?.apply(this,n)},O(e,r)}Te(["click"]);var dl=R('<button type="button"> </button>'),cl=R('<button type="button" class="btn btn-outline btn-error btn-sm" title="Archive">Archive</button>'),ul=R('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),vl=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4 flex flex-col"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="h-40 overflow-y-auto rounded-lg border border-base-content/10 p-2"><div class="grid grid-cols-8 gap-1"></div></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function jn(e,t){_e(t,!0);let r=te(!1),n=te(null),o=te(""),i=te("ðŸŽ¯"),s;function b(){A(n,null),A(o,""),A(i,"ðŸŽ¯"),A(r,!0),setTimeout(()=>s.focus(),100)}function v(x,y){x.stopPropagation(),A(n,y,!0),A(o,y.name,!0),A(i,y.icon,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function u(){A(r,!1),A(n,null)}async function d(){!a(o).trim()||!a(i)||(a(n)?(await Mo(a(n).index,{name:a(o).trim(),icon:a(i)}),a(n).name=a(o).trim(),a(n).icon=a(i)):await Po(a(o).trim(),a(i)),u())}async function w(){a(n)&&(await No(a(n).index),u())}async function g(){a(n)&&(await Ro(a(n).index),u())}var f={openCreateAreaModal:b,openEditAreaModal:v},p=be(),h=se(p);{var m=x=>{var y=vl(),T=c(y);T.__click=u,T.__keydown=N=>N.key==="Escape"&&u();var D=_(T,2),C=c(D),I=c(C),k=c(I,!0);l(I);var E=_(I,2);E.__click=u,l(C);var S=_(C,2),j=c(S),L=_(c(j),2),F=c(L);ke(F,21,()=>ai,Ge,(N,q)=>{var re=dl();re.__click=()=>A(i,a(q),!0);var ie=c(re,!0);l(re),oe(()=>{$(re,1,`aspect-square cursor-pointer flex items-center justify-center text-lg rounded-lg transition-colors ${a(i)===a(q)?"bg-primary/20 ring-2 ring-primary":"hover:bg-base-200"}`),z(ie,a(q))}),O(N,re)}),l(F),l(L),l(j);var K=_(j,2),B=_(c(K),2);qe(B),B.__keydown=N=>N.key==="Enter"&&d(),Ne(B,N=>s=N,()=>s),l(K),l(S);var V=_(S,2),M=c(V);{var H=N=>{var q=be(),re=se(q);{var ie=W=>{var ce=cl();ce.__click=w,O(W,ce)},ae=W=>{var ce=be(),ne=se(ce);{var le=P=>{var G=ul();G.__click=g,O(P,G)};ee(ne,P=>{a(n).status=="archived"&&P(le)},!0)}O(W,ce)};ee(re,W=>{a(n).status=="active"?W(ie):W(ae,!1)})}O(N,q)};ee(M,N=>{a(n)&&N(H)})}var Y=_(M,4);Y.__click=u;var U=_(Y,2);U.__click=d;var Q=c(U,!0);l(U),l(V),l(D),l(y),oe(N=>{z(k,a(n)?"Edit Area":"New Area"),U.disabled=N,z(Q,a(n)?"Save":"Create")},[()=>!a(o).trim()||!a(i)]),He(3,T,()=>Tt,()=>({duration:200})),Tr(B,()=>a(o),N=>A(o,N)),He(3,D,()=>Dt,()=>({y:300,duration:300})),O(x,y)};ee(h,x=>{a(r)&&x(m)})}return O(e,p),xe(f)}Te(["click","keydown"]);var fl=R("<span> </span>");function bl(e,t){const r={clear:"badge-success",planned:"badge-primary",active:"badge-info",fading:"badge-warning",avoiding:"badge-error"},n=Z(()=>r[t.status]||"badge-neutral");var o=fl(),i=c(o,!0);l(o),oe(()=>{$(o,1,`rounded badge badge-sm badge-soft ${a(n)??""} font-semibold uppercase tracking-wide text-[10px]`),z(i,t.status)}),O(e,o)}var gl=R('<div class="flex flex-row gap-1"><button aria-label="edit" class="btn btn-sm btn-ghost">â†</button> <button aria-label="edit" class="btn btn-sm btn-ghost">â†’</button></div>'),pl=R('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm tracking-wide mb-0 pb-1 truncate"> </div> <p class="text-muted text-xs text-base-content/50"> </p></div></div></div></div>');function ml(e,t){_e(t,!0);const r=Z(()=>yt.getByArea(t.area.id).filter(y=>!["completed","cancelled"].includes(y.status)).length),n=Z(()=>{const y=kt(),T=ut.getWeek(y),D=yt.getByArea(t.area.id),C=Mt.getByArea(t.area.id),I=D.filter(M=>M.status==="active"||M.status==="blocked"),k=C.filter(M=>M.status==="active"||M.status==="blocked");if(I.length===0&&k.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};const E=T?.projectAssignments.some(M=>I.some(H=>H.id===M.projectId))??!1,S=T?.oneOffAssignments.some(M=>k.some(H=>H.id===M.oneOffId))??!1;if(E||S)return{level:"planned",color:"text-purple-500",icon:"â—†"};const j=D.filter(M=>M.status==="completed"&&M.completedAt),L=C.filter(M=>M.status==="completed"&&M.completedAt),F=j.map(M=>new Date(M.completedAt).getTime()),K=L.map(M=>new Date(M.completedAt).getTime()),B=[...F,...K],V=B.length>0?Math.max(...B):null;if(V){const M=Date.now()-12096e5,H=Date.now()-720*60*60*1e3;if(V>=M)return{level:"active",color:"badge-info",icon:"â—"};if(V>=H)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var o=pl();o.__click=()=>t.handleSelect(t.area);var i=c(o),s=c(i),b=c(s),v=c(b,!0);l(b);var u=_(b,2);{var d=y=>{var T=gl(),D=c(T);D.__click=I=>t.handleAreaMoveUp(I,t.index);var C=_(D,2);C.__click=I=>t.handleAreaMoveDown(I,t.index),l(T),oe(()=>D.disabled=t.index==0),O(y,T)},w=y=>{var T=be(),D=se(T);{var C=I=>{bl(I,{get status(){return a(n).level}})};ee(D,I=>{t.viewMode=="status"&&I(C)},!0)}O(y,T)};ee(u,y=>{t.viewMode=="reorder"?y(d):y(w,!1)})}l(s);var g=_(s,2),f=c(g),p=c(f),h=c(p,!0);l(p);var m=_(p,2),x=c(m);l(m),l(f),l(g),l(i),l(o),oe(()=>{$(o,1,`rounded-lg bg-base-200 hover:bg-base-100 transition-colors cursor-pointer w-full ${a(n).level==="avoiding"?"border border-error/20":a(n).level==="fading"?"border border-warning/20":a(n).level==="active"?"border border-info/20":a(n).level==="planned"?"border border-purple-500/20":""}`),z(v,t.area.icon),z(h,t.area.name),z(x,`${a(r)??""} project${a(r)!==1?"s":""}`)}),O(e,o),xe()}Te(["click"]);var hl=R("<button> </button>"),_l=R("<div><!></div>"),xl=R('<div class="flex flex-col h-full bg-base-300"><div class="px-3 pt-1 pb-2 flex flex-row justify-between items-center border-b border-base-content/10"><a href="/" class="flex text-base-content/80 flex-row items-center "><div class="flex flex-col"><div class="text-lg tracking-wider font-medium">Doable</div></div></a> <div class="flex flex-row gap-4"><!> <button class="btn btn-xs btn-ghost"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function yl(e,t){_e(t,!0);let r,n=te(Ue(localStorage.getItem("areasViewMode")||"status"));it(()=>localStorage.setItem("areasViewMode",a(n)));let o=te(!1),i=()=>A(n,qr[(qr.indexOf(a(n))+1)%qr.length],!0),s=()=>A(o,!a(o));const b=Z(()=>a(o)?ot.areas.filter(k=>k.status=="archived"):ot.areas.filter(k=>k.status=="active"));async function v(k,E){if(k.stopPropagation(),E===0)return;const S=ot.areas,j=a(b)[E],L=a(b)[E-1],F=S.findIndex(V=>V.id===L.id),K=F>0?S[F-1].index:null,B=L.index;await ka(j.index,K,B)}async function u(k,E){if(k.stopPropagation(),E===a(b).length-1)return;const S=ot.areas,j=a(b)[E],L=a(b)[E+1],F=S.findIndex(V=>V.id===L.id),K=L.index,B=F<S.length-1?S[F+1].index:null;await ka(j.index,K,B)}var d=xl(),w=c(d),g=_(c(w),2),f=c(g);{var p=k=>{var E=hl();E.__click=i;var S=c(E,!0);l(E),oe(()=>{$(E,1,`btn btn-xs capitalize ${a(n)=="reorder"?"btn-success":"btn-ghost"}`),z(S,a(n)=="reorder"?"Done":"Reorder")}),O(k,E)};ee(f,k=>{a(o)||k(p)})}var h=_(f,2);h.__click=s;var m=c(h,!0);l(h),l(g),l(w);var x=_(w,2),y=c(x),T=c(y);ke(T,27,()=>a(b),k=>k.id,(k,E,S)=>{var j=_l(),L=c(j);ml(L,{get area(){return a(E)},get handleSelect(){return t.onSelectArea},get index(){return a(S)},handleAreaMoveUp:v,handleAreaMoveDown:u,get viewMode(){return a(n)}}),l(j),zt(j,()=>Wt,()=>({duration:250,easing:Mr})),O(k,j)});var D=_(T,2);{var C=k=>{ll(k,{get handleClick(){return r.openCreateAreaModal}})};ee(D,k=>{a(o)||k(C)})}l(y),l(x);var I=_(x,2);Ne(jn(I,{}),k=>r=k,()=>r),l(d),oe(()=>z(m,a(o)?"Active":"Archived")),O(e,d),xe()}Te(["click"]);var wl=R('<span class="text-xs mx-0.5">â€¢</span> ',1),kl=R('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),Tl=R('<button class="cursor-pointer flex items-center"><!></button>'),Dl=R('<div class="px-3 "><div role="button" tabindex="0"><div class="flex text-sm "> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <p class="text-2xs text-muted font-medium text-base-content/50 "> <!></p></div> <div class="flex flex-row gap-1 items-center"><!></div></div></div></div>');function Al(e,t){_e(t,!0);const r=Z(()=>xt.getByProject(t.project.id)),n=Z(()=>a(r).filter(k=>k.status==="active").length),o=Z(()=>a(r).filter(k=>k.status==="completed").length);function i(k){for(const[E,S]of Object.entries(ut.weeksByWeekOf))if(S.projectAssignments.some(j=>j.projectId===k))return E;return null}function s(k){const E=kt();if(k===E)return"This week";const S=new Date(E),j=new Date(k),L=Math.round((j.getTime()-S.getTime())/(1e3*60*60*24)),F=Math.round(L/7);return F===1?"Next week":F>1?`In ${F} weeks`:F===-1?"Last week":k.slice(5)}const b=Z(()=>i(t.project.id));var v=Dl(),u=c(v);u.__click=()=>t.navigateToTasks(t.project),u.__keydown=k=>k.key==="Enter"&&t.navigateToTasks(t.project);var d=c(u),w=c(d,!0);l(d);var g=_(d,2),f=c(g),p=c(f);kr(p,{get type(){return t.project.type},get level(){return t.project.severity}});var h=_(p,2),m=c(h),x=_(m);{var y=k=>{var E=wl(),S=_(se(E));oe(()=>z(S,` ${a(o)??""} done`)),O(k,E)};ee(x,k=>{a(o)>0&&k(y)})}l(h),l(f);var T=_(f,2),D=c(T);{var C=k=>{var E=kl(),S=se(E);S.__click=L=>t.handleProjectMoveUp(L,t.index);var j=_(S,2);j.__click=L=>t.handleProjectMoveDown(L,t.index),O(k,E)},I=k=>{var E=Tl();E.__click=j=>t.handleProjectAssign(j,t.project);var S=c(E);{let j=Z(()=>a(b)?"bg-accent/20 text-accent":"bg-slate-400/20 text-slate-400"),L=Z(()=>a(b)?s(a(b)):"Unassigned");Bt(S,{get classes(){return a(j)},get label(){return a(L)}})}l(E),O(k,E)};ee(D,k=>{t.reorderMode?k(C):k(I,!1)})}l(T),l(g),l(u),l(v),oe(()=>{$(u,1,`flex ${t.project.status=="blocked"?"glow-error":t.project.status=="completed"?"glow-success":""} flex-col p-3 gap-2 transition-colors bg-base-200 cursor-pointer hover:bg-base-100 rounded-lg `),z(w,t.project.name),z(m,`${a(n)??""} active `)}),O(e,v),xe()}Te(["click","keydown"]);var El=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[605px] max-h-full bg-base-300 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-300 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="join w-full"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Completed</button> <button type="button">Cancelled</button></div></div> <div class="flex gap-3 p-4 pb-10  border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function Mn(e,t){_e(t,!0);const r=[];let n=te(!1),o=te(null),i=te(""),s=te("active"),b=te("regular"),v=te("sev3"),u;function d(){console.log("Creating.."),A(o,null),A(i,""),A(s,"active"),A(b,"regular"),A(v,"sev3"),A(n,!0),setTimeout(()=>u.focus(),100)}function w(y,T){y.stopPropagation(),A(o,T,!0),A(i,T.name,!0),A(s,T.status,!0),A(b,T.type||"regular",!0),A(v,T.severity||"sev1",!0),A(n,!0),setTimeout(()=>u.focus(),100)}function g(){A(n,!1),A(o,null)}async function f(){!a(i).trim()||!t.selectedArea||(a(o)?(await Lo(t.selectedArea.id,a(o).index,{name:a(i).trim(),status:a(s),type:a(b),severity:a(v)}),a(o).name=a(i).trim(),a(o).status=a(s),a(o).type=a(b),a(o).severity=a(v)):await Fo(t.selectedArea.id,a(i).trim(),a(b),a(v)),g())}var p={openCreateProjectModal:d,openEditProjectModal:w},h=be(),m=se(h);{var x=y=>{var T=El(),D=c(T);D.__click=g,D.__keydown=ye=>ye.key==="Escape"&&g();var C=_(D,2),I=c(C),k=c(I),E=c(k),S=c(E,!0);l(E);var j=_(E,2);j.__click=g,l(k);var L=_(k,2),F=c(L),K=_(c(F),2);qe(K),K.__keydown=ye=>ye.key==="Enter"&&f(),Ne(K,ye=>u=ye,()=>u),l(F);var B=_(F,2),V=_(c(B),2),M=c(V);qe(M),M.value=M.__value="regular";var H=_(M,2);qe(H),H.value=H.__value="maintenance",l(V),l(B);var Y=_(B,4),U=c(Y);U.__click=()=>A(v,"sev1");var Q=_(c(U),2),N=c(Q,!0);l(Q),l(U);var q=_(U,2);q.__click=()=>A(v,"sev2");var re=_(c(q),2),ie=c(re,!0);l(re),l(q);var ae=_(q,2);ae.__click=()=>A(v,"sev3");var W=_(c(ae),2),ce=c(W,!0);l(W),l(ae),l(Y);var ne=_(Y,4),le=c(ne);le.__click=()=>A(s,"active");var P=_(le,2);P.__click=()=>A(s,"blocked");var G=_(P,2);G.__click=()=>A(s,"completed");var X=_(G,2);X.__click=()=>A(s,"cancelled"),l(ne),l(L);var de=_(L,2),ve=_(c(de),2);ve.__click=g;var Ee=_(ve,2);Ee.__click=f;var rt=c(Ee,!0);l(Ee),l(de),l(I),l(C),l(T),oe(ye=>{z(S,a(o)?"Edit Project":"New Project"),$(U,1,`hover:bg-purple-500 btn justify-start gap-2 transition-all ${a(v)==="sev1"?"bg-purple-600 text-white":""}`),z(N,Ur[a(b)].sev1),$(q,1,`hover:bg-emerald-500 hover:text-white btn justify-start gap-2 ${a(v)==="sev2"?"bg-emerald-600 text-white":""} transition-all`),z(ie,Ur[a(b)].sev2),$(ae,1,`hover:bg-slate-500 hover:text-slate-300 ${a(v)==="sev3"?"bg-slate-500 text-white":""} btn justify-start gap-2 transition-all`),z(ce,Ur[a(b)].sev3),$(le,1,`join-item btn btn-sm flex-1 ${a(s)==="active"?"btn-primary":""}`),$(P,1,`join-item btn btn-sm flex-1 ${a(s)==="blocked"?"btn-error":""}`),$(G,1,`join-item btn btn-sm flex-1 ${a(s)==="completed"?"btn-success":""}`),$(X,1,`join-item btn btn-sm flex-1 ${a(s)==="cancelled"?"bg-base-content/30":""}`),Ee.disabled=ye,z(rt,a(o)?"Save":"Create")},[()=>!a(i).trim()]),He(3,D,()=>Tt,()=>({duration:200})),Tr(K,()=>a(i),ye=>A(i,ye)),Ct(r,[],M,()=>{"regular";return a(b)},ye=>A(b,ye)),Ct(r,[],H,()=>{"maintenance";return a(b)},ye=>A(b,ye)),He(3,C,()=>Dt,()=>({y:300,duration:300})),O(y,T)};ee(m,y=>{a(n)&&y(x)})}return O(e,h),xe(p)}Te(["click","keydown"]);var Ol=R('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),Il=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2 pb-10 "></div></div></div>');function Sl(e,t){_e(t,!0);let r=te(!1),n=te(null),o=te(void 0);function i(f,p,h){f.stopPropagation(),A(o,p,!0),A(n,h,!0),A(r,!0)}function s(){A(r,!1),A(n,null)}async function b(f,p){!a(n)||!a(o)||(p?await sn(a(n).id,f):await zo(a(n).id,a(o).id,f),s())}function v(f,p){const h=p??kt();return ut.getWeek(h)?.projectAssignments.some(x=>x.projectId===f)??!1}var u={openWeekPicker:i},d=be(),w=se(d);{var g=f=>{var p=Il(),h=c(p);h.__click=s,h.__keydown=D=>D.key==="Escape"&&s();var m=_(h,2),x=c(m),y=_(c(x),2);y.__click=s,l(x);var T=_(x,2);ke(T,21,Bo,Ge,(D,C)=>{const I=Z(()=>v(a(n).id,a(C).weekOf));var k=Ol();k.__click=()=>b(a(C).weekOf,a(I));var E=c(k),S=c(E,!0);l(E);var j=_(E,2),L=c(j,!0);l(j),l(k),oe(()=>{$(k,1,`w-full p-3 text-left rounded-lg border transition-colors ${a(I)?"bg-base-200 text-primary border-primary":"border-base-content/10 hover:border-primary"}`),z(S,a(C).label),z(L,a(C).weekOf)}),O(D,k)}),l(T),l(m),l(p),He(3,h,()=>Tt,()=>({duration:200})),He(3,m,()=>Dt,()=>({y:300,duration:300})),O(f,p)};ee(w,f=>{a(r)&&a(n)&&f(g)})}return O(e,d),xe(u)}Te(["click","keydown"]);var Cl=R('<button type="button"> </button>'),jl=R('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="join w-full"></div></div>'),Ml=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Buy groceries, Call mom"/></div> <!></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Pl(e,t){_e(t,!0);let r=te(!1),n=te(null),o=te(""),i=te("active"),s;function b(){A(n,null),A(o,""),A(i,"active"),A(r,!0),setTimeout(()=>s.focus(),100)}function v(h,m){h.stopPropagation(),A(n,m,!0),A(o,m.name,!0),A(i,m.status,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function u(){A(r,!1),A(n,null)}async function d(){!a(o).trim()||!t.selectedArea||(a(n)?await dn(t.selectedArea.id,a(n).index,{name:a(o).trim(),status:a(i)}):await Wo(t.selectedArea.id,a(o).trim()),u())}var w={openCreateOneOffModal:b,openEditOneOffModal:v},g=be(),f=se(g);{var p=h=>{var m=Ml(),x=c(m);x.__click=u,x.__keydown=M=>M.key==="Escape"&&u();var y=_(x,2),T=c(y),D=c(T),C=c(D,!0);l(D);var I=_(D,2);I.__click=u,l(T);var k=_(T,2),E=c(k),S=_(c(E),2);qe(S),S.__keydown=M=>M.key==="Enter"&&d(),Ne(S,M=>s=M,()=>s),l(E);var j=_(E,2);{var L=M=>{var H=jl(),Y=_(c(H),2);ke(Y,21,()=>Cn,Ge,(U,Q)=>{var N=Cl();N.__click=()=>A(i,a(Q).value,!0);var q=c(N,!0);l(N),oe(()=>{$(N,1,`join-item btn btn-sm flex-1 ${a(i)===a(Q).value?a(Q).value==="active"?"btn-primary":a(Q).value==="blocked"?"btn-warning":a(Q).value==="completed"?"btn-success":"btn-neutral":""}`),z(q,a(Q).label)}),O(U,N)}),l(Y),l(H),O(M,H)};ee(j,M=>{a(n)&&M(L)})}l(k);var F=_(k,2),K=_(c(F),2);K.__click=u;var B=_(K,2);B.__click=d;var V=c(B,!0);l(B),l(F),l(y),l(m),oe(M=>{z(C,a(n)?"Edit One-off":"New One-off"),B.disabled=M,z(V,a(n)?"Save":"Create")},[()=>!a(o).trim()]),He(3,x,()=>Tt,()=>({duration:200})),Tr(S,()=>a(o),M=>A(o,M)),He(3,y,()=>Dt,()=>({y:300,duration:300})),O(h,m)};ee(f,h=>{a(r)&&h(p)})}return O(e,g),xe(w)}Te(["click","keydown"]);var Nl=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Rl=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Ll=ft('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),Fl=R('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),Bl=R('<button class="cursor-pointer flex items-center"><!></button>'),zl=R('<div class="px-2"><div class="flex flex-col gap-1 p-3 bg-base-200 rounded-lg  cursor-pointer hover:bg-base-100 transition-colors" role="button" tabindex="0"><div class="flex flex-row"><button type="button"><!></button> <span> </span></div> <div class="flex flex-row items-center justify-end"><!></div></div></div>'),Wl=R('<div class="text-center py-8 text-base-content/50 text-sm">No one-offs yet</div>'),Gl=R("<!> <!>",1);function Hl(e,t){_e(t,!0);let r=Ea(t,"filterMode",3,"active"),n=Ea(t,"reorderMode",3,!1),o;const i=kt();let s=Z(()=>Mt.getByArea(t.selectedArea.id).filter(x=>{if(r()=="active")return["active","blocked"].includes(x.status)&&b(x.id);if(r()=="someday")return["active","blocked"].includes(x.status)&&!b(x.id);if(r()=="resolved")return["cancelled","completed"].includes(x.status)}));function b(x){return ut.isOneOffAssignedToWeek(x,i)}async function v(x,y){x.stopPropagation();const T=y.status==="completed"?"active":"completed";await dn(t.selectedArea.id,y.index,{status:T})}async function u(x,y){x.stopPropagation(),b(y.id)?await Go(y.id,i):await Ho(y.id,t.selectedArea.id,i)}async function d(x,y){if(x.stopPropagation(),y===0)return;const T=Mt.getByArea(t.selectedArea.id),D=a(s)[y],C=a(s)[y-1],I=T.findIndex(S=>S.id===C.id),k=I>0?T[I-1].index:null,E=C.index;await Ta(t.selectedArea.id,D.index,k,E)}async function w(x,y){if(x.stopPropagation(),y===a(s).length-1)return;const T=Mt.getByArea(t.selectedArea.id),D=a(s)[y],C=a(s)[y+1],I=T.findIndex(S=>S.id===C.id),k=C.index,E=I<T.length-1?T[I+1].index:null;await Ta(t.selectedArea.id,D.index,k,E)}function g(){o.openCreateOneOffModal()}var f={openCreateModal:g},p=Gl(),h=se(p);ke(h,27,()=>a(s),x=>x.id,(x,y,T)=>{const D=Z(()=>b(a(y).id)),C=Z(()=>a(y).status=="completed"),I=Z(()=>a(y).status=="cancelled"),k=Z(()=>a(y).status=="blocked");var E=zl(),S=c(E);S.__click=N=>o.openEditOneOffModal(N,a(y)),S.__keydown=N=>N.key==="Enter"&&o.openEditOneOffModal(N,a(y));var j=c(S),L=c(j);L.__click=N=>v(N,a(y));var F=c(L);{var K=N=>{var q=Nl();O(N,q)},B=N=>{var q=be(),re=se(q);{var ie=W=>{var ce=Rl();O(W,ce)},ae=W=>{var ce=be(),ne=se(ce);{var le=P=>{var G=Ll();O(P,G)};ee(ne,P=>{a(k)&&P(le)},!0)}O(W,ce)};ee(re,W=>{a(I)?W(ie):W(ae,!1)},!0)}O(N,q)};ee(F,N=>{a(C)?N(K):N(B,!1)})}l(L);var V=_(L,2),M=c(V,!0);l(V),l(j);var H=_(j,2),Y=c(H);{var U=N=>{var q=Fl(),re=se(q);re.__click=ae=>d(ae,a(T));var ie=_(re,2);ie.__click=ae=>w(ae,a(T)),O(N,q)},Q=N=>{var q=Bl();q.__click=ie=>u(ie,a(y));var re=c(q);{let ie=Z(()=>a(D)?"bg-accent/20 text-accent":"bg-slate-400/20 text-slate-400"),ae=Z(()=>a(D)?"This week":"Unassigned");Bt(re,{get classes(){return a(ie)},get label(){return a(ae)}})}l(q),O(N,q)};ee(Y,N=>{n()?N(U):N(Q,!1)})}l(H),l(S),l(E),oe(()=>{$(L,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${a(C)?"bg-success/70 border-success/10 text-success-content":a(k)?"text-error border-error bg-error/30":a(I)?"bg-base-content/15 border-base-content/30 text-base-content":"border-base-content/30 hover:border-success/70"}`),L.disabled=a(I),$(V,1,`flex-1 text-sm ${a(y).status==="completed"?"line-through text-base-content/50":""}`),z(M,a(y).name)}),zt(E,()=>Wt,()=>({duration:250,easing:Mr})),O(x,E)},x=>{var y=Wl();O(x,y)});var m=_(h,2);return Ne(Pl(m,{get selectedArea(){return t.selectedArea}}),x=>o=x,()=>o),O(e,p),xe(f)}Te(["click","keydown"]);var Vl=R("<button> </button>"),Ul=R('<button type="button"> </button>'),Zl=R("<div><!></div>"),Yl=R('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),ql=R('<div class="flex flex-col h-full bg-base-300"><div class="flex flex-row items-center justify-between p-3"><div class="flex flex-row gap-2 items-center"><div class="text-3xl"> </div> <h2 class="text-lg tracking-wide"> </h2></div> <div class="flex flex-row gap-2"><button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="px-4 border-b border-base-content/10 pt-2 pb-0 border-b flex border-b-base-content/10 gap-1"></div> <div class="p-2 border-b border-base-content/10 flex justify-between items-center"><div class="w-20"><button type="button"><span class="me-1 text-base">+</span> <span>New</span></button></div> <div class="shrink-0"></div> <button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!></div></div></div> <!> <!> <!>',1);function Kl(e,t){_e(t,!0);let r,n,o,i;const s=kt(),b=["projects","oneoffs"];let v=te(Ue(localStorage.getItem("projectTabView")||b[0]));it(()=>{a(v)&&localStorage.setItem("projectTabView",a(v))});const u=["active","someday","resolved"];let d=te(Ue(localStorage.getItem("projectsTabFilterModeProjects")||u[0]));it(()=>{a(d)&&localStorage.setItem("projectsTabFilterModeProjects",a(d))});let w=te(!1),g=()=>A(w,!a(w)),f=Z(()=>yt.getByArea(t.selectedArea.id).filter(ne=>a(v)=="oneoffs"?!1:a(d)=="active"?["active","blocked"].includes(ne.status)&&ut.isProjectAssignedToWeek(ne.id,s):a(d)=="resolved"?["completed","cancelled"].includes(ne.status):["active","blocked"].includes(ne.status)&&!ut.isProjectAssignedToWeek(ne.id,s)));async function p(ne,le){if(ne.stopPropagation(),le===0||!t.selectedArea)return;const P=yt.getByArea(t.selectedArea.id),G=a(f)[le],X=a(f)[le-1],de=P.findIndex(rt=>rt.id===X.id),ve=de>0?P[de-1].index:null,Ee=X.index;await Da(t.selectedArea.id,G.index,ve,Ee)}async function h(ne,le){if(ne.stopPropagation(),!t.selectedArea||le===a(f).length-1)return;const P=yt.getByArea(t.selectedArea.id),G=a(f)[le],X=a(f)[le+1],de=P.findIndex(rt=>rt.id===X.id),ve=X.index,Ee=de<P.length-1?P[de+1].index:null;console.log(ve,Ee),await Da(t.selectedArea.id,G.index,ve,Ee)}async function m(){a(v)=="projects"?o.openCreateProjectModal():a(v)=="oneoffs"&&r.openCreateModal()}function x(){return a(d)=="active"?"bg-accent/20 text-accent":a(d)=="someday"?"bg-primary/20 text-primary":"bg-success/10 text-success"}var y=ql(),T=se(y),D=c(T),C=c(D),I=c(C),k=c(I,!0);l(I);var E=_(I,2),S=c(E,!0);l(E),l(C);var j=_(C,2),L=c(j);L.__click=ne=>n.openEditAreaModal(ne,t.selectedArea),l(j),l(D);var F=_(D,2);ke(F,21,()=>u,Ge,(ne,le)=>{const P=Z(()=>a(d)===a(le));var G=Vl();G.__click=()=>A(d,a(le),!0);var X=c(G,!0);l(G),oe(()=>{$(G,1,`capitalize px-3 py-2 border-b border-b-2 text-sm tracking-wider rounded-t-md transition-colors cursor-pointer whitespace-nowrap ${a(P)?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),z(X,a(le))}),O(ne,G)}),l(F);var K=_(F,2),B=c(K),V=c(B);let M;V.__click=m,l(B);var H=_(B,2);ke(H,21,()=>b,Ge,(ne,le)=>{const P=Z(()=>a(v)===a(le)),G=Z(x);var X=Ul();X.__click=()=>A(v,a(le),!0);var de=c(X,!0);l(X),oe(()=>{$(X,1,`${(a(P)?a(G):"text-muted")??""} capitalize px-3 py-1 rounded text-xs cursor-pointer `),z(de,a(le))}),O(ne,X)}),l(H);var Y=_(H,2);Y.__click=g;var U=_(c(Y));l(Y),l(K);var Q=_(K,2),N=c(Q),q=c(N);{var re=ne=>{Ne(Hl(ne,{get selectedArea(){return t.selectedArea},get filterMode(){return a(d)},get reorderMode(){return a(w)}}),le=>r=le,()=>r)},ie=ne=>{var le=be(),P=se(le);ke(P,27,()=>a(f),G=>G.id,(G,X,de)=>{var ve=Zl(),Ee=c(ve);Al(Ee,{get index(){return a(de)},get reorderMode(){return a(w)},handleProjectAssign:(rt,ye)=>i.openWeekPicker(rt,t.selectedArea,ye),get navigateToTasks(){return t.navigateToTasks},get project(){return a(X)},handleProjectMoveUp:p,handleProjectMoveDown:h}),l(ve),zt(ve,()=>Wt,()=>({duration:250,easing:Mr})),O(G,ve)},G=>{var X=Yl(),de=c(X);l(X),oe(()=>z(de,`No ${a(v)??""} projects`)),O(G,X)}),O(ne,le)};ee(q,ne=>{a(v)==="oneoffs"?ne(re):ne(ie,!1)})}l(N),l(Q),l(T);var ae=_(T,2);Ne(Mn(ae,{get selectedArea(){return t.selectedArea}}),ne=>o=ne,()=>o);var W=_(ae,2);Ne(Sl(W,{}),ne=>i=ne,()=>i);var ce=_(W,2);Ne(jn(ce,{}),ne=>n=ne,()=>n),oe(()=>{z(k,t.selectedArea.icon),z(S,t.selectedArea.name),M=$(V,1,"text-primary  shrink-0 text-sm cursor-pointer no-underline ",null,M,{hidden:a(d)!="someday"}),$(Y,1,`btn ${a(w)?"btn-success":"btn-ghost"} w-20 btn-xs`),z(U,` ${a(w)?"Done":"Reorder"}`)}),O(e,y),xe()}Te(["click"]);var Xl=R('<button type="button"> </button>'),Jl=R('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),Ql=R('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function $l(e,t){_e(t,!0);let r=te(!1),n=te(null),o=te(""),i=te("active"),s;function b(){A(n,null),A(o,""),A(i,"active"),A(r,!0),setTimeout(()=>s.focus(),100)}function v(h,m){h.stopPropagation(),A(n,m,!0),A(o,m.name,!0),A(i,m.status,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function u(){A(r,!1),A(n,null)}async function d(){!a(o).trim()||!t.selectedProject||!t.selectedArea||(a(n)?await cn(t.selectedProject.id,a(n).index,{name:a(o).trim(),status:a(i)}):await ln(t.selectedProject.id,t.selectedArea.id,a(o).trim()),u())}var w={openCreateTaskModal:b,openEditTaskModal:v},g=be(),f=se(g);{var p=h=>{var m=Ql(),x=c(m);x.__click=u,x.__keydown=M=>M.key==="Escape"&&u();var y=_(x,2),T=c(y),D=c(T),C=c(D,!0);l(D);var I=_(D,2);I.__click=u,l(T);var k=_(T,2),E=c(k),S=_(c(E),2);qe(S),S.__keydown=M=>M.key==="Enter"&&d(),Ne(S,M=>s=M,()=>s),l(E);var j=_(E,2);{var L=M=>{var H=Jl(),Y=_(c(H),2);ke(Y,21,()=>Cn,Ge,(U,Q)=>{var N=Xl();N.__click=()=>A(i,a(Q).value,!0);var q=c(N,!0);l(N),oe(()=>{$(N,1,`px-2 py-1.5 text-sm rounded-lg border transition-colors ${a(i)===a(Q).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),z(q,a(Q).label)}),O(U,N)}),l(Y),l(H),O(M,H)};ee(j,M=>{a(n)&&M(L)})}l(k);var F=_(k,2),K=_(c(F),2);K.__click=u;var B=_(K,2);B.__click=d;var V=c(B,!0);l(B),l(F),l(y),l(m),oe(M=>{z(C,a(n)?"Edit Task":"New Task"),B.disabled=M,z(V,a(n)?"Save":"Create")},[()=>!a(o).trim()]),He(3,x,()=>Tt,()=>({duration:200})),Tr(S,()=>a(o),M=>A(o,M)),He(3,y,()=>Dt,()=>({y:300,duration:300})),O(h,m)};ee(f,h=>{a(r)&&h(p)})}return O(e,g),xe(w)}Te(["click","keydown"]);var ed=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),td=ft('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),rd=ft('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),ad=R('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),nd=R('<div tabindex="0" role="button" class="hover:bg-base-100 cursor-pointer w-full flex flex-row items-start py-4 px-3 bg-base-200 rounded-md"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function od(e,t){_e(t,!0);const r=Z(()=>t.task.status==="completed"),n=Z(()=>t.task.status==="cancelled"),o=Z(()=>t.task.status==="blocked");var i=nd();i.__click=p=>t.handleEdit(p,t.task);var s=c(i);s.__click=p=>t.toggleTaskComplete(p,t.task);var b=c(s);{var v=p=>{var h=ed();O(p,h)},u=p=>{var h=be(),m=se(h);{var x=T=>{var D=td();O(T,D)},y=T=>{var D=be(),C=se(D);{var I=k=>{var E=rd();O(k,E)};ee(C,k=>{a(o)&&k(I)},!0)}O(T,D)};ee(m,T=>{a(n)?T(x):T(y,!1)},!0)}O(p,h)};ee(b,p=>{a(r)?p(v):p(u,!1)})}l(s);var d=_(s,2),w=c(d,!0);l(d);var g=_(d,2);{var f=p=>{var h=ad(),m=se(h);m.__click=y=>t.handleTaskMoveUp(y,t.index);var x=_(m,2);x.__click=y=>t.handleTaskMoveDown(y,t.index),O(p,h)};ee(g,p=>{t.reorderEnabled&&p(f)})}l(i),oe(()=>{$(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${a(r)?"bg-success/70 border-success/10 text-success-content":a(o)?"text-error border-error bg-error/30":a(n)?"bg-base-content/15 border-base-content/30 text-base-content":"border-base-content/30 hover:border-success/70"}`),s.disabled=a(n),z(w,t.task.name)}),O(e,i),xe()}Te(["click"]);var id=R("<span> </span>");function sd(e,t){const r={active:{label:"Active",class:"bg-info/20 text-info"},blocked:{label:"Blocked",class:"bg-error/20 text-error"},completed:{label:"Completed",class:"bg-success/20 text-success"},cancelled:{label:"Cancelled",class:"bg-base-content/10 text-base-content/40"}},n=Z(()=>r[t.status]||r.active);var o=id(),i=c(o,!0);l(o),oe(()=>{$(o,1,`inline-flex items-center px-2 py-0.5 rounded text-2xs font-medium ${a(n).class??""}`),z(i,a(n).label)}),O(e,o)}var ld=R("<div><!></div>"),dd=R('<div class="flex flex-col h-full w-full bg-base-300"><div class="flex flex-col p-3 gap-3 border-b border-base-content/10"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row items-center gap-1 text-xs  text-muted"><div class="text-base"> </div> <div> </div></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="mb-1"> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <!></div> <button type="button" class="text-xs flex items-center cursor-pointer mb-1 text-primary"><span class="me-1 text-base">+</span> <span>Add Task</span></button></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0 gap-2"></div></div></div> <!> <!>',1);function cd(e,t){_e(t,!0);let r,n,o=Z(()=>xt.getByProject(t.selectedProject.id)),i=te(!1),s=()=>A(i,!a(i));async function b(Y,U){if(Y.stopPropagation(),!t.selectedProject)return;const Q=U.status==="completed"?"active":"completed";await cn(t.selectedProject.id,U.index,{status:Q})}async function v(Y,U){if(Y.stopPropagation(),U===0||!t.selectedProject)return;const Q=a(o),N=xt.getByProject(t.selectedProject.id),q=Q[U],re=Q[U-1],ie=N.findIndex(ce=>ce.id===re.id),ae=ie>0?N[ie-1].index:null,W=re.index;await Aa(t.selectedProject.id,q.index,ae,W)}async function u(Y,U){if(Y.stopPropagation(),!t.selectedProject)return;const Q=a(o);if(U===Q.length-1)return;const N=xt.getByProject(t.selectedProject.id),q=Q[U],re=Q[U+1],ie=N.findIndex(ce=>ce.id===re.id),ae=re.index,W=ie<N.length-1?N[ie+1].index:null;await Aa(t.selectedProject.id,q.index,ae,W)}var d=dd(),w=se(d),g=c(w),f=c(g),p=c(f),h=c(p),m=c(h,!0);l(h);var x=_(h,2),y=c(x,!0);l(x),l(p);var T=_(p,2),D=c(T);D.__click=s;var C=_(c(D));l(D);var I=_(D,2);I.__click=Y=>r.openEditProjectModal(Y,t.selectedProject),l(T),l(f);var k=_(f,2),E=c(k,!0);l(k);var S=_(k,2),j=c(S),L=c(j);sd(L,{get status(){return t.selectedProject.status}});var F=_(L,2);kr(F,{get level(){return t.selectedProject.severity},get type(){return t.selectedProject.type}}),l(j);var K=_(j,2);K.__click=function(...Y){n.openCreateTaskModal?.apply(this,Y)},l(S),l(g);var B=_(g,2),V=c(B);ke(V,31,()=>a(o),Y=>Y.id,(Y,U,Q)=>{var N=ld(),q=c(N);od(q,{get handleEdit(){return n.openEditTaskModal},handleTaskMoveUp:v,handleTaskMoveDown:u,get index(){return a(Q)},get task(){return a(U)},toggleTaskComplete:b,get reorderEnabled(){return a(i)}}),l(N),zt(N,()=>Wt,()=>({duration:250,easing:Mr})),O(Y,N)}),l(V),l(B),l(w);var M=_(w,2);Ne($l(M,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),Y=>n=Y,()=>n);var H=_(M,2);Ne(Mn(H,{get selectedArea(){return t.selectedArea}}),Y=>r=Y,()=>r),oe(()=>{z(m,t.selectedArea.icon),z(y,t.selectedArea.name),$(D,1,`btn ${a(i)?"btn-success":"btn-ghost"} btn-xs`),z(C,` ${a(i)?"Done":"Reorder"}`),z(E,t.selectedProject.name)}),O(e,d),xe()}Te(["click"]);var ud=R('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),vd=R('<div class="h-screen flex flex-col bg-base-300 md:ml-20"><div class="max-md:pb-22 h-full"><!></div> <!></div>');function xd(e,t){_e(t,!0);const r=()=>s("areas"),n=()=>s("projects");let o=te(void 0),i=te(void 0);s("areas");function s(h){wo("",{activeTab:h})}function b(h){A(o,h,!0),s("projects")}function v(h){A(i,h,!0),A(o,ot.getById(h.areaId),!0),s("tasks")}var u=vd(),d=c(u),w=c(d);{var g=h=>{yl(h,{onSelectArea:b})},f=h=>{var m=be(),x=se(m);{var y=D=>{Kl(D,{navigateBack:r,navigateToTasks:v,get selectedArea(){return a(o)}})},T=D=>{var C=be(),I=se(C);{var k=S=>{cd(S,{navigateBack:n,get selectedArea(){return a(o)},get selectedProject(){return a(i)}})},E=S=>{var j=be(),L=se(j);{var F=B=>{Hs(B,{navigateToTasks:v})},K=B=>{var V=be(),M=se(V);{var H=U=>{il(U,{})},Y=U=>{var Q=be(),N=se(Q);{var q=re=>{var ie=ud();O(re,ie)};ee(N,re=>{pt.state.activeTab==="review"&&re(q)},!0)}O(U,Q)};ee(M,U=>{pt.state.activeTab==="today"?U(H):U(Y,!1)},!0)}O(B,V)};ee(L,B=>{pt.state.activeTab==="week"?B(F):B(K,!1)},!0)}O(S,j)};ee(I,S=>{pt.state.activeTab=="tasks"?S(k):S(E,!1)},!0)}O(D,C)};ee(x,D=>{pt.state.activeTab==="projects"?D(y):D(T,!1)},!0)}O(h,m)};ee(w,h=>{pt.state.activeTab==="areas"?h(g):h(f,!1)})}l(d);var p=_(d,2);si(p,{get activeTab(){return pt.state.activeTab},onTabChange:s}),l(u),O(e,u),xe()}export{xd as component};
