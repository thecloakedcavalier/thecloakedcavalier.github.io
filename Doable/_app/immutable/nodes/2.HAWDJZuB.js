import{b as Rn,d as xe,f as L,a as C,s as F,c as ue,e as gt,g as Kt}from"../chunks/CGnZdhXE.js";import{y as jr,E as Nn,K as Mr,A as Ce,aq as Ln,F as Fn,g as n,T as Bn,H as zn,I as Wn,J as pa,L as Pr,B as nr,aa as Gn,aE as Hn,ah as ma,o as Dt,aG as et,z as Ur,D as Vn,a8 as ha,a4 as Un,aC as ra,aH as Zn,aI as Yn,aJ as Kn,aK as qn,v as Ga,x as Ha,aL as Rr,ay as Xn,aB as Jn,w as Qn,aM as Va,q as Vt,aN as $n,W as Ua,aO as eo,aP as Ft,G as to,aQ as ro,au as ao,e as Za,u as aa,aR as no,ap as Ya,r as na,h as oo,aS as io,aT as so,aU as lo,aV as co,aW as Ka,a5 as qa,aX as uo,aY as vo,ao as fo,p as be,k as ae,l as ge,n as l,s as _,m as v,t as re,O as $,N as S,a6 as J,U as tt,b as _t,M as Xa,ai as or}from"../chunks/7bkGZ6DT.js";import{i as ee}from"../chunks/DaU4y34V.js";import{a as bo}from"../chunks/CVKTJVs6.js";import{p as ut}from"../chunks/CmacQv6Q.js";import{a1 as cr,a2 as go,a3 as po,a4 as Ja,a5 as Qa,a6 as mo,a7 as $a,a8 as pt,a9 as Pt,aa as ho,ab as bt,ac as mt,ad as xt,ae as Et,af as en,ag as _o,ah as xo,ai as yo,aj as wo,ak as ko,al as To,am as Do,an as Eo,ao as Ao,ap as _a,aq as Io,ar as So,as as Co,at as Oo,au as xa,av as tn,aw as ya}from"../chunks/CYL8Mji0.js";import{b as Re}from"../chunks/8t4SGWy4.js";function Fe(e,t){return t}function jo(e,t,r){for(var a=[],i=t.length,o,s=t.length,u=0;u<i;u++){let y=t[u];Ha(y,()=>{if(o){if(o.pending.delete(y),o.done.add(y),o.pending.size===0){var f=e.outrogroups;Zr(ra(o.done)),f.delete(o),f.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var b=a.length===0&&r!==null;if(b){var c=r,d=c.parentNode;Jn(d),d.append(c),e.items.clear()}Zr(t,!b)}else o={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(o)}function Zr(e,t=!0){for(var r=0;r<e.length;r++)Qn(e[r],t)}var wa;function ke(e,t,r,a,i,o=null){var s=e,u=new Map,b=(t&Va)!==0;if(b){var c=e;s=Ce?Mr(Ln(c)):c.appendChild(jr())}Ce&&Fn();var d=null,y=Bn(()=>{var w=r();return Zn(w)?w:w==null?[]:ra(w)}),f,p=!0;function g(){h.fallback=d,Mo(h,f,s,t,a),d!==null&&(f.length===0?(d.f&et)===0?Ga(d):(d.f^=et,Wt(d,null,s)):Ha(d,()=>{d=null}))}var m=Nn(()=>{f=n(y);var w=f.length;let k=!1;if(Ce){var E=zn(s)===Wn;E!==(w===0)&&(s=pa(),Mr(s),Pr(!1),k=!0)}for(var T=new Set,M=Dt,j=Vn(),x=0;x<w;x+=1){Ce&&nr.nodeType===Gn&&nr.data===Hn&&(s=nr,k=!0,Pr(!1));var I=f[x],D=a(I,x),O=p?null:u.get(D);O?(O.v&&ma(O.v,I),O.i&&ma(O.i,x),j&&M.skipped_effects.delete(O.e)):(O=Po(u,p?s:wa??=jr(),I,D,x,i,t,r),p||(O.e.f|=et),u.set(D,O)),T.add(D)}if(w===0&&o&&!d&&(p?d=Ur(()=>o(s)):(d=Ur(()=>o(wa??=jr())),d.f|=et)),Ce&&w>0&&Mr(pa()),!p)if(j){for(const[R,W]of u)T.has(R)||M.skipped_effects.add(W.e);M.oncommit(g),M.ondiscard(()=>{})}else g();k&&Pr(!0),n(y)}),h={effect:m,items:u,outrogroups:null,fallback:d};p=!1,Ce&&(s=nr)}function Mo(e,t,r,a,i){var o=(a&$n)!==0,s=t.length,u=e.items,b=e.effect.first,c,d=null,y,f=[],p=[],g,m,h,w;if(o)for(w=0;w<s;w+=1)g=t[w],m=i(g,w),h=u.get(m).e,(h.f&et)===0&&(h.nodes?.a?.measure(),(y??=new Set).add(h));for(w=0;w<s;w+=1){if(g=t[w],m=i(g,w),h=u.get(m).e,e.outrogroups!==null)for(const O of e.outrogroups)O.pending.delete(h),O.done.delete(h);if((h.f&et)!==0)if(h.f^=et,h===b)Wt(h,null,r);else{var k=d?d.next:b;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),at(e,d,h),at(e,h,k),Wt(h,k,r),d=h,f=[],p=[],b=d.next;continue}if((h.f&Rr)!==0&&(Ga(h),o&&(h.nodes?.a?.unfix(),(y??=new Set).delete(h))),h!==b){if(c!==void 0&&c.has(h)){if(f.length<p.length){var E=p[0],T;d=E.prev;var M=f[0],j=f[f.length-1];for(T=0;T<f.length;T+=1)Wt(f[T],E,r);for(T=0;T<p.length;T+=1)c.delete(p[T]);at(e,M.prev,j.next),at(e,d,M),at(e,j,E),b=E,d=j,w-=1,f=[],p=[]}else c.delete(h),Wt(h,b,r),at(e,h.prev,h.next),at(e,h,d===null?e.effect.first:d.next),at(e,d,h),d=h;continue}for(f=[],p=[];b!==null&&b!==h;)(c??=new Set).add(b),p.push(b),b=b.next;if(b===null)continue}(h.f&et)===0&&f.push(h),d=h,b=h.next}if(e.outrogroups!==null){for(const O of e.outrogroups)O.pending.size===0&&(Zr(ra(O.done)),e.outrogroups?.delete(O));e.outrogroups.size===0&&(e.outrogroups=null)}if(b!==null||c!==void 0){var x=[];if(c!==void 0)for(h of c)(h.f&Rr)===0&&x.push(h);for(;b!==null;)(b.f&Rr)===0&&b!==e.fallback&&x.push(b),b=b.next;var I=x.length;if(I>0){var D=(a&Va)!==0&&s===0?r:null;if(o){for(w=0;w<I;w+=1)x[w].nodes?.a?.measure();for(w=0;w<I;w+=1)x[w].nodes?.a?.fix()}jo(e,x,D)}}o&&Vt(()=>{if(y!==void 0)for(h of y)h.nodes?.a?.apply()})}function Po(e,t,r,a,i,o,s,u){var b=(s&Yn)!==0?(s&Kn)===0?Un(r,!1,!1):ha(r):null,c=(s&qn)!==0?ha(i):null;return{v:b,i:c,e:Ur(()=>(o(t,b??r,c??i,u),()=>{e.delete(a)}))}}function Wt(e,t,r){if(e.nodes)for(var a=e.nodes.start,i=e.nodes.end,o=t&&(t.f&et)===0?t.nodes.start:r;a!==null;){var s=Xn(a);if(o.before(a),a===i)return;a=s}}function at(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const Ro=()=>performance.now(),$e={tick:e=>requestAnimationFrame(e),now:()=>Ro(),tasks:new Set};function rn(){const e=$e.now();$e.tasks.forEach(t=>{t.c(e)||($e.tasks.delete(t),t.f())}),$e.tasks.size!==0&&$e.tick(rn)}function No(e){let t;return $e.tasks.size===0&&$e.tick(rn),{promise:new Promise(r=>{$e.tasks.add(t={c:e,f:r})}),abort(){$e.tasks.delete(t)}}}function ir(e,t){Ya(()=>{e.dispatchEvent(new CustomEvent(t))})}function Lo(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ka(e){const t={},r=e.split(";");for(const a of r){const[i,o]=a.split(":");if(!i||o===void 0)break;const s=Lo(i.trim());t[s]=o.trim()}return t}const Fo=e=>e;function qt(e,t,r){var a=Ua,i=a.nodes,o,s,u,b=null;i.a??={element:e,measure(){o=this.element.getBoundingClientRect()},apply(){if(u?.abort(),s=this.element.getBoundingClientRect(),o.left!==s.left||o.right!==s.right||o.top!==s.top||o.bottom!==s.bottom){const c=t()(this.element,{from:o,to:s},r?.());u=vr(this.element,c,void 0,1,()=>{u?.abort(),u=void 0})}},fix(){if(!e.getAnimations().length){var{position:c,width:d,height:y}=getComputedStyle(e);if(c!=="absolute"&&c!=="fixed"){var f=e.style;b={position:f.position,width:f.width,height:f.height,transform:f.transform},f.position="absolute",f.width=d,f.height=y;var p=e.getBoundingClientRect();if(o.left!==p.left||o.top!==p.top){var g=`translate(${o.left-p.left}px, ${o.top-p.top}px)`;f.transform=f.transform?`${f.transform} ${g}`:g}}}},unfix(){if(b){var c=e.style;c.position=b.position,c.width=b.width,c.height=b.height,c.transform=b.transform}}},i.a.element=e}function Be(e,t,r,a){var i=(e&no)!==0,o="both",s,u=t.inert,b=t.style.overflow,c,d;function y(){return Ya(()=>s??=r()(t,a?.()??{},{direction:o}))}var f={is_global:i,in(){t.inert=u,ir(t,"introstart"),c=vr(t,y(),d,1,()=>{ir(t,"introend"),c?.abort(),c=s=void 0,t.style.overflow=b})},out(h){t.inert=!0,ir(t,"outrostart"),d=vr(t,y(),c,0,()=>{ir(t,"outroend"),h?.()})},stop:()=>{c?.abort(),d?.abort()}},p=Ua;if((p.nodes.t??=[]).push(f),Rn){var g=i;if(!g){for(var m=p.parent;m&&(m.f&to)!==0;)for(;(m=m.parent)&&(m.f&ro)===0;);g=!m||(m.f&ao)!==0}g&&Za(()=>{aa(()=>f.in())})}}function vr(e,t,r,a,i){var o=a===1;if(eo(t)){var s,u=!1;return Vt(()=>{if(!u){var h=t({direction:o?"in":"out"});s=vr(e,h,r,a,i)}}),{abort:()=>{u=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return i(),{abort:Ft,deactivate:Ft,reset:Ft,t:()=>a};const{delay:b=0,css:c,tick:d,easing:y=Fo}=t;var f=[];if(o&&r===void 0&&(d&&d(0,1),c)){var p=ka(c(0,1));f.push(p,p)}var g=()=>1-a,m=e.animate(f,{duration:b,fill:"forwards"});return m.onfinish=()=>{m.cancel();var h=r?.t()??1-a;r?.abort();var w=a-h,k=t.duration*Math.abs(w),E=[];if(k>0){var T=!1;if(c)for(var M=Math.ceil(k/16.666666666666668),j=0;j<=M;j+=1){var x=h+w*y(j/M),I=ka(c(x,1-x));E.push(I),T||=I.overflow==="hidden"}T&&(e.style.overflow="hidden"),g=()=>{var D=m.currentTime;return h+w*y(D/k)},d&&No(()=>{if(m.playState!=="running")return!1;var D=g();return d(D,1-D),!0})}m=e.animate(E,{duration:k,fill:"forwards"}),m.onfinish=()=>{g=()=>a,d?.(a,1-a),i()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Ft)},deactivate:()=>{i=Ft},reset:()=>{a===0&&d?.(1,0)},t:()=>g()}}function oa(e,t,r){Za(()=>{var a=aa(()=>t(e,r?.())||{});if(r&&a?.update){var i=!1,o={};na(()=>{var s=r();oo(s),i&&io(o,s)&&(o=s,a.update(s))}),i=!0}if(a?.destroy)return()=>a.destroy()})}const Ta=[...` 	
\r\fÂ \v\uFEFF`];function Bo(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var i in r)if(r[i])a=a?a+" "+i:i;else if(a.length)for(var o=i.length,s=0;(s=a.indexOf(i,s))>=0;){var u=s+o;(s===0||Ta.includes(a[s-1]))&&(u===a.length||Ta.includes(a[u]))?a=(s===0?"":a.substring(0,s))+a.substring(u+1):s=u}}return a===""?null:a}function Da(e,t=!1){var r=t?" !important;":";",a="";for(var i in e){var o=e[i];o!=null&&o!==""&&(a+=" "+i+": "+o+r)}return a}function Nr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function zo(e,t){if(t){var r="",a,i;if(Array.isArray(t)?(a=t[0],i=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,u=!1,b=[];a&&b.push(...Object.keys(a).map(Nr)),i&&b.push(...Object.keys(i).map(Nr));var c=0,d=-1;const m=e.length;for(var y=0;y<m;y++){var f=e[y];if(u?f==="/"&&e[y-1]==="*"&&(u=!1):o?o===f&&(o=!1):f==="/"&&e[y+1]==="*"?u=!0:f==='"'||f==="'"?o=f:f==="("?s++:f===")"&&s--,!u&&o===!1&&s===0){if(f===":"&&d===-1)d=y;else if(f===";"||y===m-1){if(d!==-1){var p=Nr(e.substring(c,d).trim());if(!b.includes(p)){f!==";"&&y++;var g=e.substring(c,y).trim();r+=" "+g+";"}}c=y+1,d=-1}}}}return a&&(r+=Da(a)),i&&(r+=Da(i,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function te(e,t,r,a,i,o){var s=e.__className;if(Ce||s!==r||s===void 0){var u=Bo(r,a,o);(!Ce||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=r}else if(o&&i!==o)for(var b in o){var c=!!o[b];(i==null||c!==!!i[b])&&e.classList.toggle(b,c)}return o}function Lr(e,t={},r,a){for(var i in r){var o=r[i];t[i]!==o&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,a))}}function ia(e,t,r,a){var i=e.__style;if(Ce||i!==t){var o=zo(t,a);(!Ce||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}else a&&(Array.isArray(a)?(Lr(e,r?.[0],a[0]),Lr(e,r?.[1],a[1],"important")):Lr(e,r,a));return a}const Wo=Symbol("is custom element"),Go=Symbol("is html");function Je(e){if(Ce){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;Ea(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var i=e.checked;Ea(e,"checked",null),e.checked=i}}};e.__on_r=r,Vt(r),so()}}function Ho(e,t){var r=an(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Ea(e,t,r,a){var i=an(e);Ce&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=r)&&(t==="loading"&&(e[lo]=r),e.removeAttribute(t))}function an(e){return e.__attributes??={[Wo]:e.nodeName.includes("-"),[Go]:e.namespaceURI===co}}function sa(e,t,r=t){var a=new WeakSet;Ka(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=Br(e)?zr(o):o,r(o),Dt!==null&&a.add(Dt),await qa(),o!==(o=t())){var s=e.selectionStart,u=e.selectionEnd,b=e.value.length;if(e.value=o??"",u!==null){var c=e.value.length;s===u&&u===b&&c>b?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=s,e.selectionEnd=Math.min(u,c))}}}),(Ce&&e.defaultValue!==e.value||aa(t)==null&&e.value)&&(r(Br(e)?zr(e.value):e.value),Dt!==null&&a.add(Dt)),na(()=>{var i=t();if(e===document.activeElement){var o=uo??Dt;if(a.has(o))return}Br(e)&&i===zr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const Fr=new Set;function At(e,t,r,a,i=a){var o=r.getAttribute("type")==="checkbox",s=e;let u=!1;if(t!==null)for(var b of t)s=s[b]??=[];s.push(r),Ka(r,"change",()=>{var c=r.__value;o&&(c=Aa(s,c,r.checked)),i(c)},()=>i(o?[]:null)),na(()=>{var c=a();if(Ce&&r.defaultChecked!==r.checked){u=!0;return}o?(c=c||[],r.checked=c.includes(r.__value)):r.checked=vo(r.__value,c)}),fo(()=>{var c=s.indexOf(r);c!==-1&&s.splice(c,1)}),Fr.has(s)||(Fr.add(s),Vt(()=>{s.sort((c,d)=>c.compareDocumentPosition(d)===4?-1:1),Fr.delete(s)})),Vt(()=>{if(u){var c;if(o)c=Aa(s,c,r.checked);else{var d=s.find(y=>y.checked);c=d?.__value}i(c)}})}function Aa(e,t,r){for(var a=new Set,i=0;i<e.length;i+=1)e[i].checked&&a.add(e[i].__value);return r||a.delete(t),Array.from(a)}function Br(e){var t=e.type;return t==="number"||t==="range"}function zr(e){return e===""?null:+e}const Wr={regular:{sev1:"I do this because it's who I am",sev2:"I do this to become better",sev3:"I do this because I enjoy it"},maintenance:{sev1:"Life breaks without this",sev2:"Keeps things running smooth",sev3:"Can wait or be skipped"}},Vo={regular:{sev1:"Core",sev2:"Growth",sev3:"Enrichment"},maintenance:{sev1:"Essential",sev2:"Routine",sev3:"Optional"}},Uo=["ðŸ’¼","ðŸ“Š","ðŸ“ˆ","ðŸ“‹","ðŸ“","ðŸ—‚ï¸","ðŸ“Œ","ðŸŽ¯","ðŸ ","ðŸ¡","ðŸ›‹ï¸","ðŸ§¹","ðŸ³","ðŸ›’","ðŸ§º","ðŸª´","ðŸ’ª","ðŸƒ","ðŸ‹ï¸","ðŸ§˜","ðŸš´","ðŸŠ","âš½","ðŸŽ¾","ðŸ“š","ðŸŽ“","ðŸ“–","âœï¸","ðŸ”¬","ðŸ§ª","ðŸŒ","ðŸ’¡","ðŸ’°","ðŸ’µ","ðŸ¦","ðŸ’³","ðŸ“‰","ðŸª™","ðŸ’Ž","ðŸ§","â¤ï¸","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ‘¥","ðŸ’‘","ðŸ‘¶","ðŸ•","ðŸˆ","ðŸŽ¨","ðŸŽµ","ðŸŽ¸","ðŸŽ¹","ðŸ“¸","ðŸŽ¬","ðŸŽ­","âœï¸","ðŸ’»","ðŸ“±","ðŸ–¥ï¸","âŒ¨ï¸","ðŸ”§","âš™ï¸","ðŸ¤–","ðŸŽ®","âœˆï¸","ðŸš—","ðŸš€","ðŸ—ºï¸","ðŸ–ï¸","â›°ï¸","ðŸ•ï¸","ðŸŒ…","ðŸ§ ","ðŸŒ±","â˜€ï¸","ðŸŒ¸","ðŸ¦‹","ðŸŒˆ","âœ¨","ðŸ’«","ðŸŽ","ðŸ¥—","ðŸ¥‘","ðŸ³","â˜•","ðŸµ","ðŸ¥¤","ðŸ§ƒ","â­","ðŸ”¥","ðŸ†","ðŸ¥‡","ðŸŽ–ï¸","ðŸ…","ðŸ‘‘","ðŸ’¯","ðŸ“","ðŸ—“ï¸","â°","ðŸ””","ðŸ’¬","ðŸ“§","ðŸŽ","ðŸŽ‰"];var Zo=L('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),Yo=L('<button><span class="text-xl"> </span> <span class="text-xs font-medium"> </span></button>'),Ko=L('<nav class="md:hidden pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav> <nav class="hidden md:flex fixed left-0 top-0 bottom-0 w-20 bg-base-200 border-r border-base-content/10 flex-col items-center py-6 gap-2"></nav>',1);function qo(e,t){be(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var a=Ko(),i=ae(a);ke(i,21,()=>r,Fe,(s,u)=>{var b=Zo();let c;b.__click=()=>t.onTabChange(n(u).id);let d;var y=v(b),f=v(y,!0);l(y);var p=_(y,2),g=v(p,!0);l(p),l(b),re(()=>{c=te(b,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,c,{"text-primary":t.activeTab===n(u).id,"text-base-content":t.activeTab!==n(u).id}),d=ia(b,"",d,{opacity:t.activeTab===n(u).id?1:.4}),F(f,n(u).icon),F(g,n(u).label)}),C(s,b)}),l(i);var o=_(i,2);ke(o,21,()=>r,Fe,(s,u)=>{var b=Yo();b.__click=()=>t.onTabChange(n(u).id);var c=v(b),d=v(c,!0);l(c);var y=_(c,2),f=v(y,!0);l(y),l(b),re(()=>{te(b,1,`flex flex-col ${t.activeTab==n(u).id?"bg-primary/20 text-primary":"text-base-content "} items-center gap-1 px-3 py-3 rounded-lg transition-colors w-16 `),F(d,n(u).icon),F(f,n(u).label)}),C(s,b)}),l(o),C(e,a),ge()}xe(["click"]);const Xo=e=>e;function Jo(e){const t=e-1;return t*t*t+1}function Ia(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Rt(e,{delay:t=0,duration:r=400,easing:a=Xo}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:o=>`opacity: ${o*i}`}}function Nt(e,{delay:t=0,duration:r=400,easing:a=Jo,x:i=0,y:o=0,opacity:s=0}={}){const u=getComputedStyle(e),b=+u.opacity,c=u.transform==="none"?"":u.transform,d=b*(1-s),[y,f]=Ia(i),[p,g]=Ia(o);return{delay:t,duration:r,easing:a,css:(m,h)=>`
			transform: ${c} translate(${(1-m)*y}${f}, ${(1-m)*p}${g});
			opacity: ${b-d*h}`}}var Qo=L('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),$o=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function ei(e,t){be(t,!0);let r=$(!1),a=$(null);function i(f,p,g,m){f.stopPropagation(),S(a,{task:p,project:g,area:m},!0),S(r,!0)}function o(){S(r,!1),S(a,null)}function s(){return po(t.currentWeekOf).map(f=>({date:f,dayName:Qa(f),isToday:Ja(f)}))}async function u(f){if(!n(a))return;const{task:p,project:g,area:m}=n(a);o();const h=t.isTaskAssignedToDay(p.id);h===f?await cr(p.id,g.id,t.currentWeekOf,f):(h&&await cr(p.id,g.id,t.currentWeekOf,h),await go(p.id,g.id,m.id,p.name,t.currentWeekOf,f,!1))}var b={openDayPicker:i},c=ue(),d=ae(c);{var y=f=>{var p=$o(),g=v(p);g.__click=o,g.__keydown=I=>I.key==="Escape"&&o();var m=_(g,2),h=v(m),w=v(h),k=_(v(w),2),E=v(k,!0);l(k),l(w);var T=_(w,2);T.__click=o,l(h);var M=_(h,2);ke(M,21,s,Fe,(I,D)=>{const O=J(()=>t.isTaskAssignedToDay(n(a).task.id)===n(D).date);var R=Qo();R.__click=()=>u(n(D).date);var W=v(R),q=v(W,!0);l(W);var B=_(W,2),X=v(B,!0);l(B),l(R),re(G=>{te(R,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${n(O)?"bg-primary/10 text-primary border-primary":n(D).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),F(q,n(D).dayName),F(X,G)},[()=>n(D).date.split("-")[2]]),C(I,R)}),l(M);var j=_(M,2),x=v(j);x.__click=()=>{const I=t.isTaskAssignedToDay(n(a).task.id);I&&cr(n(a).task.id,n(a).project.id,t.currentWeekOf,I),o()},l(j),l(m),l(p),re(()=>F(E,n(a).task.name)),Be(3,g,()=>Rt,()=>({duration:200})),Be(3,m,()=>Nt,()=>({y:300,duration:300})),C(f,p)};ee(d,f=>{n(r)&&n(a)&&f(y)})}return C(e,c),ge(b)}xe(["click","keydown"]);function Sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sa(Object(r),!0).forEach(function(a){Ot(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sa(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function It(e){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}function Ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ti(e,t){if(e==null)return{};var r={},a=Object.keys(e),i,o;for(o=0;o<a.length;o++)i=a[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ri(e,t){if(e==null)return{};var r=ti(e,t),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ai(e,t){return oi(e)||si(e,t)||la(e,t)||ci()}function Le(e){return ni(e)||ii(e)||la(e)||li()}function ni(e){if(Array.isArray(e))return Yr(e)}function oi(e){if(Array.isArray(e))return e}function ii(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function si(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],i=!0,o=!1,s,u;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));i=!0);}catch(b){o=!0,u=b}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw u}}return a}}function la(e,t){if(e){if(typeof e=="string")return Yr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yr(e,t)}}function Yr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function li(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ci(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=la(e))||t){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(b){throw b},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,u;return{s:function(){r=r.call(e)},n:function(){var b=r.next();return o=b.done,b},e:function(b){s=!0,u=b},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw u}}}}var di="finalize",ui="consider";function jt(e,t,r){e.dispatchEvent(new CustomEvent(di,{detail:{items:t,info:r}}))}function st(e,t,r){e.dispatchEvent(new CustomEvent(ui,{detail:{items:t,info:r}}))}var yr="draggedEntered",Jt="draggedLeft",wr="draggedOverIndex",ca="draggedLeftDocument",br={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function vi(e,t,r){e.dispatchEvent(new CustomEvent(yr,{detail:{indexObj:t,draggedEl:r}}))}function fi(e,t,r){e.dispatchEvent(new CustomEvent(Jt,{detail:{draggedEl:t,type:br.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function bi(e,t){e.dispatchEvent(new CustomEvent(Jt,{detail:{draggedEl:t,type:br.OUTSIDE_OF_ANY}}))}function gi(e,t,r){e.dispatchEvent(new CustomEvent(wr,{detail:{indexObj:t,draggedEl:r}}))}function pi(e){window.dispatchEvent(new CustomEvent(ca,{detail:{draggedEl:e}}))}var Ae={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:yr,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:wr,DRAGGED_LEFT:Jt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},je={POINTER:"pointer",KEYBOARD:"keyboard"},kr="isDndShadowItem",Tr="data-is-dnd-shadow-item-internal",mi="data-is-dnd-shadow-item-hint",nn="id:dnd-shadow-placeholder-0000",hi="dnd-action-dragged-el",fe="id",Kr=0;function on(){Kr++}function sn(){if(Kr===0)throw new Error("Bug! trying to decrement when there are no dropzones");Kr--}var da=typeof window>"u";function qr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?yi(e):e.getBoundingClientRect(),i=getComputedStyle(e),o=i.transform;if(o){var s,u,b,c;if(o.startsWith("matrix3d("))r=o.slice(9,-1).split(/, /),s=+r[0],u=+r[5],b=+r[12],c=+r[13];else if(o.startsWith("matrix("))r=o.slice(7,-1).split(/, /),s=+r[0],u=+r[3],b=+r[4],c=+r[5];else return a;var d=i.transformOrigin,y=a.x-b-(1-s)*parseFloat(d),f=a.y-c-(1-u)*parseFloat(d.slice(d.indexOf(" ")+1)),p=s?a.width/s:e.offsetWidth,g=u?a.height/u:e.offsetHeight;return{x:y,y:f,width:p,height:g,top:f,right:y+p,bottom:f+g,left:y}}else return a}function ln(e){var t=qr(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function cn(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function dn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function _i(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Dr(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Ut(e){return dn(cn(e))}function Ca(e,t){var r=Ut(e),a=ln(t);return Dr(r,a)}function Oa(e,t){var r=Ut(e),a=Ut(t);return _i(r,a)}function xi(e){var t=cn(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function yi(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,i=!1,o=e.parentElement;o&&o!==document.body;){var s=window.getComputedStyle(o),u=s.overflowY,b=s.overflowX,c=u==="scroll"||u==="auto",d=b==="scroll"||b==="auto";if(c||d){var y=o.getBoundingClientRect();if(c){var f=Math.max(r.top,y.top),p=Math.min(r.bottom,y.bottom);(f!==r.top||p!==r.bottom)&&(a=!0),r.top=f,r.bottom=p}if(d){var g=Math.max(r.left,y.left),m=Math.min(r.right,y.right);(g!==r.left||m!==r.right)&&(i=!0),r.left=g,r.right=m}}o=o.parentElement}return a||i?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var St;function ua(){St=new Map}ua();function wi(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Tr)});if(t>=0)return St.has(e)||St.set(e,new Map),St.get(e).set(t,ln(e.children[t])),t}function ki(e,t){if(!Ca(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=wi(t),i=0;i<r.length;i++)if(Ca(e,r[i])){var o=St.has(t)&&St.get(t).get(i);return o&&!Dr(Ut(e),o)?{index:a,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var s=Number.MAX_VALUE,u=void 0,b=0;b<r.length;b++){var c=Oa(e,r[b]);c<s&&(s=c,u=b)}if(r.length>0){var d=r.length,y=r[d-1],f=y.cloneNode(!1);f.style.visibility="hidden",f.style.pointerEvents="none",t.appendChild(f);var p=Oa(e,f);p<s&&(u=d),t.removeChild(f)}return{index:u,isProximityBased:!0}}function Bt(e){return JSON.stringify(e,null,2)}function gr(e){if(!e)throw new Error("cannot get depth of a falsy node");return un(e,0)}function un(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?un(e.parentElement,t+1):t-1}function Ti(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Di(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Ei=200,ja=10,Xr;function Ai(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ei,a=arguments.length>3?arguments[3]:void 0,i,o,s=!1,u,b=Array.from(t).sort(function(d,y){return gr(y)-gr(d)});function c(){var d=Ut(e),y=a.multiScrollIfNeeded();if(!y&&u&&Math.abs(u.x-d.x)<ja&&Math.abs(u.y-d.y)<ja){Xr=window.setTimeout(c,r);return}if(xi(e)){pi(e);return}u=d;var f=!1,p=Xt(b),g;try{for(p.s();!(g=p.n()).done;){var m=g.value;y&&ua();var h=ki(e,m);if(h!==null){var w=h.index;f=!0,m!==i?(i&&fi(i,e,m),vi(m,h,e),i=m):w!==o&&(gi(m,h,e),o=w);break}}}catch(k){p.e(k)}finally{p.f()}!f&&s&&i?(bi(i,e),i=void 0,o=void 0,s=!1):s=!0,Xr=window.setTimeout(c,r)}c()}function Ii(){clearTimeout(Xr),ua()}var zt=30;function Si(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(o){var s=e,u=s.directionObj,b=s.stepPx;u&&(o.scrollBy(u.x*b,u.y*b),window.requestAnimationFrame(function(){return r(o)}))}function a(o){return zt-o}function i(o,s){if(!s)return!1;var u=Ci(o,s),b=!!e.directionObj;if(u===null)return b&&t(),!1;var c=!1,d=!1;return s.scrollHeight>s.clientHeight&&(u.bottom<zt?(c=!0,e.directionObj={x:0,y:1},e.stepPx=a(u.bottom)):u.top<zt&&(c=!0,e.directionObj={x:0,y:-1},e.stepPx=a(u.top)),!b&&c)||s.scrollWidth>s.clientWidth&&(u.right<zt?(d=!0,e.directionObj={x:1,y:0},e.stepPx=a(u.right)):u.left<zt&&(d=!0,e.directionObj={x:-1,y:0},e.stepPx=a(u.left)),!b&&d)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function Ci(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Dr(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Oi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Mi(e),a=Array.from(r).sort(function(b,c){return gr(c)-gr(b)}),i=Si(),o=i.scrollIfNeeded,s=i.resetScrolling;function u(){var b=t();if(!b||!a)return!1;for(var c=a.filter(function(f){return Dr(b,f.getBoundingClientRect())||f===document.scrollingElement}),d=0;d<c.length;d++){var y=o(b,c[d]);if(y)return!0}return!1}return{multiScrollIfNeeded:r.size>0?u:function(){return!1},destroy:function(){return s()}}}function ji(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),i=a.overflow;i.split(" ").some(function(o){return o.includes("auto")||o.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Mi(e){var t=new Set,r=Xt(e),a;try{for(r.s();!(a=r.n()).done;){var i=a.value;ji(i).forEach(function(o){return t.add(o)})}}catch(o){r.e(o)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Pi(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",i=a?[e]:Le(e.querySelectorAll("select")),o=Xt(i),s;try{for(o.s();!(s=o.n()).done;){var u=s.value;r.push(u.value)}}catch(E){o.e(E)}finally{o.f()}if(i.length>0)for(var b=a?[t]:Le(t.querySelectorAll("select")),c=0;c<b.length;c++){var d=b[c],y=r[c],f=d.querySelector('option[value="'.concat(y,'"'));f&&f.setAttribute("selected",!0)}var p=e.tagName==="CANVAS",g=p?[e]:Le(e.querySelectorAll("canvas"));if(g.length>0)for(var m=p?[t]:Le(t.querySelectorAll("canvas")),h=0;h<m.length;h++){var w=g[h],k=m[h];k.width=w.width,k.height=w.height,w.width>0&&w.height>0&&k.getContext("2d").drawImage(w,0,0)}return t}var Zt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Ri=Ot({},Zt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function vn(e){if(!Zt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Zt)));return Ri[e]}var Ni=.2;function vt(e){return"".concat(e," ").concat(Ni,"s ease")}function Li(e,t){var r=e.getBoundingClientRect(),a=Pi(e);fn(e,a),a.id=hi,a.style.position="fixed";var i=r.top,o=r.left;if(a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px"),t){var s=dn(r);i-=s.y-t.y,o-=s.x-t.x,window.setTimeout(function(){a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(vt("top"),", ").concat(vt("left"),", ").concat(vt("background-color"),", ").concat(vt("opacity"),", ").concat(vt("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(vt("width"),", ").concat(vt("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function Fi(e){e.style.cursor="grab"}function Bi(e,t,r,a){fn(t,e);var i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),s=i.width-o.width,u=i.height-o.height;if(s||u){var b={left:(r-o.left)/o.width,top:(a-o.top)/o.height};vn(Zt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-b.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-b.top*u,"px")}}function fn(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||vn(Zt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function zi(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function bn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Wi(e){e.style.visibility="hidden",e.setAttribute(Tr,"true")}function Gi(e){e.style.visibility="",e.removeAttribute(Tr)}function dr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var i=t(a);Object.keys(i).forEach(function(o){a.style[o]=i[o]}),r(a).forEach(function(o){return a.classList.add(o)})})}function pr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var i=t(a);Object.keys(i).forEach(function(o){a.style[o]=""}),r(a).forEach(function(o){return a.classList.contains(o)&&a.classList.remove(o)})})}function Hi(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Vi="--any--",Ui=100,Zi=20,sr=3,Yi=80,Ma={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Pa="data-is-dnd-original-dragged-item",Se,_e,Oe,Er,se,Ar,it,we,qe,De,nt=!1,va=!1,fa,Qt=!1,ur=[],Ht,Xe,Gt=!1,Ve=new Map,ce=new Map,Gr=new WeakMap;function Ki(e,t){Ve.has(t)||Ve.set(t,new Set),Ve.get(t).has(e)||(Ve.get(t).add(e),on())}function Ra(e,t){Ve.get(t).delete(e),sn(),Ve.get(t).size===0&&Ve.delete(t)}function qi(){var e=Ve.get(Er),t=Xt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(yr,gn),a.addEventListener(Jt,pn),a.addEventListener(wr,mn)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(ca,Mt);var i=Math.max.apply(Math,Le(Array.from(e.keys()).map(function(s){return ce.get(s).dropAnimationDurationMs}))),o=i===0?Zi:Math.max(i,Ui);Ht=Oi(e,function(){return De}),Ai(_e,e,o*1.07,Ht)}function Xi(){var e=Ve.get(Er),t=Xt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(yr,gn),a.removeEventListener(Jt,pn),a.removeEventListener(wr,mn)}}catch(i){t.e(i)}finally{t.f()}window.removeEventListener(ca,Mt),Ht&&(Ht.destroy(),Ht=void 0),Ii()}function Ir(e){return e.findIndex(function(t){return!!t[kr]})}function Ji(e){var t;return fr(fr({},e),{},(t={},Ot(t,kr,!0),Ot(t,fe,nn),t))}function gn(e){var t=ce.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==se)){if(Qt=!1,r=r.filter(function(u){return u[fe]!==it[fe]&&u[fe]!==nn}),se!==e.currentTarget){var i=ce.get(se).items,o=i.filter(function(u){return!u[kr]});st(se,o,{trigger:Ae.DRAGGED_ENTERED_ANOTHER,id:Oe[fe],source:je.POINTER})}var s=e.detail.indexObj.index;we=e.currentTarget,r.splice(s,0,it),st(e.currentTarget,r,{trigger:Ae.DRAGGED_ENTERED,id:Oe[fe],source:je.POINTER})}}function pn(e){if(nt){var t=ce.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==se&&e.currentTarget!==we)){var i=Le(r),o=Ir(i);o!==-1&&i.splice(o,1);var s=we;we=void 0;var u=e.detail,b=u.type,c=u.theOtherDz;if(b===br.OUTSIDE_OF_ANY||b===br.LEFT_FOR_ANOTHER&&c!==se&&ce.get(c).dropFromOthersDisabled){Qt=!0,we=se;var d=s===se?i:Le(ce.get(se).items);d.splice(Ar,0,it),st(se,d,{trigger:Ae.DRAGGED_LEFT_ALL,id:Oe[fe],source:je.POINTER})}st(e.currentTarget,i,{trigger:Ae.DRAGGED_LEFT,id:Oe[fe],source:je.POINTER})}}}function mn(e){var t=ce.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==se)){var i=Le(r);Qt=!1;var o=e.detail.indexObj.index,s=Ir(i);s!==-1&&i.splice(s,1),i.splice(o,0,it),st(e.currentTarget,i,{trigger:Ae.DRAGGED_OVER_INDEX,id:Oe[fe],source:je.POINTER})}}function mr(e){e.preventDefault();var t=e.touches?e.touches[0]:e;De={x:t.clientX,y:t.clientY},_e.style.transform="translate3d(".concat(De.x-qe.x,"px, ").concat(De.y-qe.y,"px, 0)")}function Mt(){va=!0,window.removeEventListener("mousemove",mr),window.removeEventListener("touchmove",mr),window.removeEventListener("mouseup",Mt),window.removeEventListener("touchend",Mt),Xi(),Fi(_e),we||(we=se);var e=ce.get(we),t=e.items,r=e.type;pr(Ve.get(r),function(o){return ce.get(o).dropTargetStyle},function(o){return ce.get(o).dropTargetClasses});var a=Ir(t);a===-1&&we===se&&(a=Ar),t=t.map(function(o){return o[kr]?Oe:o});function i(){fa(),jt(we,t,{trigger:Qt?Ae.DROPPED_OUTSIDE_OF_ANY:Ae.DROPPED_INTO_ZONE,id:Oe[fe],source:je.POINTER}),we!==se&&jt(se,ce.get(se).items,{trigger:Ae.DROPPED_INTO_ANOTHER,id:Oe[fe],source:je.POINTER});var o=Array.from(we.children).find(function(s){return s.getAttribute(Tr)});o&&Gi(o),es()}ce.get(we).dropAnimationDisabled?i():Qi(a,i)}function Qi(e,t){var r=e>-1?qr(we.children[e],!1):qr(we,!1),a={x:r.left-parseFloat(_e.style.left),y:r.top-parseFloat(_e.style.top)},i=ce.get(we),o=i.dropAnimationDurationMs,s="transform ".concat(o,"ms ease");_e.style.transition=_e.style.transition?_e.style.transition+","+s:s,_e.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,o)}function $i(e,t){ur.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){bn(e),document.body.appendChild(e)})}function es(){_e&&_e.remove&&_e.remove(),Se&&Se.remove&&Se.remove(),_e=void 0,Se=void 0,Oe=void 0,Er=void 0,se=void 0,Ar=void 0,it=void 0,we=void 0,qe=void 0,De=void 0,nt=!1,va=!1,fa=void 0,Qt=!1,Xe&&clearTimeout(Xe),Xe=void 0,Gt=!1,ur.length&&(ur.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),ur=[])}function ts(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ma,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function o(){window.addEventListener("mousemove",b,{passive:!1}),window.addEventListener("touchmove",b,{passive:!1,capture:!1}),window.addEventListener("mouseup",u,{passive:!1}),window.addEventListener("touchend",u,{passive:!1})}function s(){window.removeEventListener("mousemove",b),window.removeEventListener("touchmove",b),window.removeEventListener("mouseup",u),window.removeEventListener("touchend",u),Xe&&(clearTimeout(Xe),Xe=void 0,Gt=!1)}function u(f){if(s(),Se=void 0,qe=void 0,De=void 0,f.type==="touchend"){var p=new Event("click",{bubbles:!0,cancelable:!0});f.target.dispatchEvent(p)}}function b(f){var p=!!f.touches,g=p?f.touches[0]:f;if(p&&a.delayTouchStartMs>0&&!Gt){De={x:g.clientX,y:g.clientY},(Math.abs(De.x-qe.x)>=sr||Math.abs(De.y-qe.y)>=sr)&&(Xe&&(clearTimeout(Xe),Xe=void 0),u(f));return}f.preventDefault(),De={x:g.clientX,y:g.clientY},(Math.abs(De.x-qe.x)>=sr||Math.abs(De.y-qe.y)>=sr)&&(s(),d())}function c(f){if(!(f.target!==f.currentTarget&&(f.target.value!==void 0||f.target.isContentEditable))&&!f.button&&!nt){var p=!!f.touches,g=p&&a.delayTouchStartMs>0;g||f.preventDefault(),f.stopPropagation();var m=p?f.touches[0]:f;qe={x:m.clientX,y:m.clientY},De=fr({},qe),Se=f.currentTarget,g&&(Gt=!1,Xe=window.setTimeout(function(){Se&&(Gt=!0,s(),d())},a.delayTouchStartMs)),o()}}function d(){nt=!0;var f=i.get(Se);Ar=f,se=Se.parentElement;var p=se.closest("dialog")||se.closest("[popover]")||se.getRootNode(),g=p.body||p,m=a.items,h=a.type,w=a.centreDraggedOnCursor,k=Le(m);Oe=k[f],Er=h,it=Ji(Oe),_e=Li(Se,w&&De),g.appendChild(_e);function E(){Se.parentElement?window.requestAnimationFrame(E):(Se.setAttribute(Pa,!0),g.appendChild(Se),qi(),bn(Se),it[fe]=Oe[fe],_e.focus())}window.requestAnimationFrame(E),dr(Array.from(Ve.get(a.type)).filter(function(T){return T===se||!ce.get(T).dropFromOthersDisabled}),function(T){return ce.get(T).dropTargetStyle},function(T){return ce.get(T).dropTargetClasses}),k.splice(f,1,it),fa=Hi(se),st(se,k,{trigger:Ae.DRAG_STARTED,id:Oe[fe],source:je.POINTER}),window.addEventListener("mousemove",mr,{passive:!1}),window.addEventListener("touchmove",mr,{passive:!1,capture:!1}),window.addEventListener("mouseup",Mt,{passive:!1}),window.addEventListener("touchend",Mt,{passive:!1})}function y(f){var p=f.items,g=p===void 0?void 0:p,m=f.flipDurationMs,h=m===void 0?0:m,w=f.type,k=w===void 0?Vi:w,E=f.dragDisabled,T=E===void 0?!1:E,M=f.morphDisabled,j=M===void 0?!1:M,x=f.dropFromOthersDisabled,I=x===void 0?!1:x,D=f.dropTargetStyle,O=D===void 0?Ma:D,R=f.dropTargetClasses,W=R===void 0?[]:R,q=f.transformDraggedElement,B=q===void 0?function(){}:q,X=f.centreDraggedOnCursor,G=X===void 0?!1:X,V=f.dropAnimationDisabled,Z=V===void 0?!1:V,P=f.delayTouchStart,z=P===void 0?!1:P;a.dropAnimationDurationMs=h;var A=0;z===!0?A=Yi:typeof z=="number"&&isFinite(z)&&z>=0&&(A=z),a.delayTouchStartMs=A,a.type&&k!==a.type&&Ra(e,a.type),a.type=k,a.items=Le(g),a.dragDisabled=T,a.morphDisabled=j,a.transformDraggedElement=B,a.centreDraggedOnCursor=G,a.dropAnimationDisabled=Z,r&&nt&&!va&&(!Ti(O,a.dropTargetStyle)||!Di(W,a.dropTargetClasses))&&(pr([e],function(){return a.dropTargetStyle},function(){return W}),dr([e],function(){return O},function(){return W})),a.dropTargetStyle=O,a.dropTargetClasses=Le(W);function N(H,ne){return ce.get(H)?ce.get(H)[ne]:a[ne]}r&&nt&&a.dropFromOthersDisabled!==I&&(I?pr([e],function(H){return N(H,"dropTargetStyle")},function(H){return N(H,"dropTargetClasses")}):dr([e],function(H){return N(H,"dropTargetStyle")},function(H){return N(H,"dropTargetClasses")})),a.dropFromOthersDisabled=I,ce.set(e,a),Ki(e,k);for(var U=nt?Ir(a.items):-1,Q=0;Q<e.children.length;Q++){var Y=e.children[Q];if(zi(Y,T),Q===U){j||Bi(_e,Y,De.x,De.y),a.transformDraggedElement(_e,Oe,Q),Wi(Y);continue}Y.removeEventListener("mousedown",Gr.get(Y)),Y.removeEventListener("touchstart",Gr.get(Y)),T||(Y.addEventListener("mousedown",c),Y.addEventListener("touchstart",c),Gr.set(Y,c)),i.set(Y,Q),r||(r=!0)}}return y(t),{update:function(p){y(p)},destroy:function(){function p(){Ra(e,ce.get(e).type),ce.delete(e)}nt&&!e.closest("[".concat(Pa,"]"))?$i(e,p):p()}}}var lr,Jr={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},hn=(lr={},Ot(lr,Jr.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Ot(lr,Jr.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),lr),rs="dnd-action-aria-alert",de;function Qr(){de||(de=document.createElement("div"),(function(){de.id=rs,de.style.position="fixed",de.style.bottom="0",de.style.left="0",de.style.zIndex="-5",de.style.opacity="0",de.style.height="0",de.style.width="0",de.setAttribute("role","alert")})(),document.body.prepend(de),Object.entries(hn).forEach(function(e){var t=ai(e,2),r=t[0],a=t[1];return document.body.prepend(os(r,a))}))}function as(){return da?null:(document.readyState==="complete"?Qr():window.addEventListener("DOMContentLoaded",Qr),fr({},Jr))}function ns(){da||!de||(Object.keys(hn).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),de.remove(),de=void 0)}function os(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Ct(e){if(!da){de||Qr(),de.innerHTML="";var t=document.createTextNode(e);de.appendChild(t),de.style.display="none",de.style.display="inline"}}var is="--any--",Na={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ne=!1,$r,Ee,ht="",ft,Qe,ot="",hr=new WeakSet,La=new WeakMap,Fa=new WeakMap,ea=new Map,ye=new Map,He=new Map,_r;function ss(e,t){He.size===0&&(_r=as(),window.addEventListener("keydown",_n),window.addEventListener("click",xn)),He.has(t)||He.set(t,new Set),He.get(t).has(e)||(He.get(t).add(e),on())}function Ba(e,t){Ee===e&&Yt(),He.get(t).delete(e),sn(),He.get(t).size===0&&He.delete(t),He.size===0&&(window.removeEventListener("keydown",_n),window.removeEventListener("click",xn),_r=void 0,ns())}function _n(e){if(Ne)switch(e.key){case"Escape":{Yt();break}}}function xn(){Ne&&(hr.has(document.activeElement)||Yt())}function ls(e){if(Ne){var t=e.currentTarget;if(t!==Ee){ht=t.getAttribute("aria-label")||"";var r=ye.get(Ee),a=r.items,i=a.find(function(y){return y[fe]===Qe}),o=a.indexOf(i),s=a.splice(o,1)[0],u=ye.get(t),b=u.items,c=u.autoAriaDisabled;t.getBoundingClientRect().top<Ee.getBoundingClientRect().top||t.getBoundingClientRect().left<Ee.getBoundingClientRect().left?(b.push(s),c||Ct("Moved item ".concat(ot," to the end of the list ").concat(ht))):(b.unshift(s),c||Ct("Moved item ".concat(ot," to the beginning of the list ").concat(ht)));var d=Ee;jt(d,a,{trigger:Ae.DROPPED_INTO_ANOTHER,id:Qe,source:je.KEYBOARD}),jt(t,b,{trigger:Ae.DROPPED_INTO_ZONE,id:Qe,source:je.KEYBOARD}),Ee=t}}}function yn(){ea.forEach(function(e,t){var r=e.update;return r(ye.get(t))})}function Yt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;ye.get(Ee).autoAriaDisabled||Ct("Stopped dragging item ".concat(ot)),hr.has(document.activeElement)&&document.activeElement.blur(),e&&st(Ee,ye.get(Ee).items,{trigger:Ae.DRAG_STOPPED,id:Qe,source:je.KEYBOARD}),pr(He.get($r),function(t){return ye.get(t).dropTargetStyle},function(t){return ye.get(t).dropTargetClasses}),ft=null,Qe=null,ot="",$r=null,Ee=null,ht="",Ne=!1,yn()}function cs(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Na,dropTargetClasses:[],autoAriaDisabled:!1};function a(d,y,f){d.length<=1||d.splice(f,1,d.splice(y,1,d[f])[0])}function i(d){switch(d.key){case"Enter":case" ":{if((d.target.disabled!==void 0||d.target.href||d.target.isContentEditable)&&!hr.has(d.target))return;d.preventDefault(),d.stopPropagation(),Ne?Yt():o(d);break}case"ArrowDown":case"ArrowRight":{if(!Ne)return;d.preventDefault(),d.stopPropagation();var y=ye.get(e),f=y.items,p=Array.from(e.children),g=p.indexOf(d.currentTarget);g<p.length-1&&(r.autoAriaDisabled||Ct("Moved item ".concat(ot," to position ").concat(g+2," in the list ").concat(ht)),a(f,g,g+1),jt(e,f,{trigger:Ae.DROPPED_INTO_ZONE,id:Qe,source:je.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Ne)return;d.preventDefault(),d.stopPropagation();var m=ye.get(e),h=m.items,w=Array.from(e.children),k=w.indexOf(d.currentTarget);k>0&&(r.autoAriaDisabled||Ct("Moved item ".concat(ot," to position ").concat(k," in the list ").concat(ht)),a(h,k,k-1),jt(e,h,{trigger:Ae.DROPPED_INTO_ZONE,id:Qe,source:je.KEYBOARD}));break}}}function o(d){u(d.currentTarget),Ee=e,$r=r.type,Ne=!0;var y=Array.from(He.get(r.type)).filter(function(p){return p===Ee||!ye.get(p).dropFromOthersDisabled});if(dr(y,function(p){return ye.get(p).dropTargetStyle},function(p){return ye.get(p).dropTargetClasses}),!r.autoAriaDisabled){var f="Started dragging item ".concat(ot,". Use the arrow keys to move it within its list ").concat(ht);y.length>1&&(f+=", or tab to another list in order to move the item into it"),Ct(f)}st(e,ye.get(e).items,{trigger:Ae.DRAG_STARTED,id:Qe,source:je.KEYBOARD}),yn()}function s(d){Ne&&d.currentTarget!==ft&&(d.stopPropagation(),Yt(!1),o(d))}function u(d){var y=ye.get(e),f=y.items,p=Array.from(e.children),g=p.indexOf(d);ft=d,ft.tabIndex=r.zoneItemTabIndex,Qe=f[g][fe],ot=p[g].getAttribute("aria-label")||""}function b(d){var y=d.items,f=y===void 0?[]:y,p=d.type,g=p===void 0?is:p,m=d.dragDisabled,h=m===void 0?!1:m,w=d.zoneTabIndex,k=w===void 0?0:w,E=d.zoneItemTabIndex,T=E===void 0?0:E,M=d.dropFromOthersDisabled,j=M===void 0?!1:M,x=d.dropTargetStyle,I=x===void 0?Na:x,D=d.dropTargetClasses,O=D===void 0?[]:D,R=d.autoAriaDisabled,W=R===void 0?!1:R;r.items=Le(f),r.dragDisabled=h,r.dropFromOthersDisabled=j,r.zoneTabIndex=k,r.zoneItemTabIndex=T,r.dropTargetStyle=I,r.dropTargetClasses=O,r.autoAriaDisabled=W,r.type&&g!==r.type&&Ba(e,r.type),r.type=g,ss(e,g),W||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",h?_r.DND_ZONE_DRAG_DISABLED:_r.DND_ZONE_ACTIVE)),ye.set(e,r),Ne?e.tabIndex=e===Ee||ft.contains(e)||r.dropFromOthersDisabled||Ee&&r.type!==ye.get(Ee).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",ls);for(var q=function(G){var V=e.children[G];hr.add(V),V.tabIndex=Ne?-1:r.zoneItemTabIndex,W||V.setAttribute("role","listitem"),V.removeEventListener("keydown",La.get(V)),V.removeEventListener("click",Fa.get(V)),h||(V.addEventListener("keydown",i),La.set(V,i),V.addEventListener("click",s),Fa.set(V,s)),Ne&&r.items[G][fe]===Qe&&(ft=V,ft.tabIndex=r.zoneItemTabIndex,V.focus())},B=0;B<e.children.length;B++)q(B)}b(t);var c={update:function(y){b(y)},destroy:function(){Ba(e,r.type),ye.delete(e),ea.delete(e)}};return ea.set(e,c),c}var ds=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function wn(e,t){if(us(e))return{update:function(){},destroy:function(){}};za(t);var r=ts(e,t),a=cs(e,t);return{update:function(o){za(o),r.update(o),a.update(o)},destroy:function(){r.destroy(),a.destroy()}}}function us(e){return!!e.closest("[".concat(mi,'="true"]'))}function za(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var i=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var o=e.delayTouchStart;e.dropAnimationDisabled;var s=ri(e,ds);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var u=t.find(function(d){return!{}.hasOwnProperty.call(d,fe)});if(u)throw new Error("missing '".concat(fe,"' property for item ").concat(Bt(u)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(It(i),", ").concat(Bt(i)));if(r&&!Wa(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(It(r),", ").concat(Bt(r)));if(a&&!Wa(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(It(a),", ").concat(Bt(a)));if(o!==void 0&&o!==!1){var b=o===!0,c=typeof o=="number"&&isFinite(o)&&o>=0;if(!b&&!c)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(It(o),", ").concat(Bt(o)))}}function Wa(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function vs(e){const t=e-1;return t*t*t+1}function ba(e){return--e*e*e*e*e+1}function $t(e,{from:t,to:r},a={}){var{delay:i=0,duration:o=j=>Math.sqrt(j)*120,easing:s=vs}=a,u=getComputedStyle(e),b=u.transform==="none"?"":u.transform,[c,d]=u.transformOrigin.split(" ").map(parseFloat);c/=e.clientWidth,d/=e.clientHeight;var y=fs(e),f=e.clientWidth/r.width/y,p=e.clientHeight/r.height/y,g=t.left+t.width*c,m=t.top+t.height*d,h=r.left+r.width*c,w=r.top+r.height*d,k=(g-h)*f,E=(m-w)*p,T=t.width/r.width,M=t.height/r.height;return{delay:i,duration:typeof o=="function"?o(Math.sqrt(k*k+E*E)):o,easing:s,css:(j,x)=>{var I=x*k,D=x*E,O=j+x*T,R=j+x*M;return`transform: ${b} translate(${I}px, ${D}px) scale(${O}, ${R});`}}}function fs(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var bs=L("<span> </span>");function xr(e,t){be(t,!0);const r={regular:{sev1:"bg-purple-500/20 text-purple-400",sev2:"bg-teal-500/20 text-teal-400",sev3:"bg-sky-500/20 text-sky-400"},maintenance:{sev1:"bg-rose-400/20 text-rose-400",sev2:"bg-lime-500/20 text-lime-400",sev3:"bg-slate-400/20 text-slate-400"}},a=J(()=>Vo[t.type][t.level]),i=J(()=>r[t.type][t.level]||"bg-slate-400/20 text-slate-400");var o=bs(),s=v(o,!0);l(o),re(()=>{te(o,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${n(i)??""}`),F(s,n(a))}),C(e,o),ge()}var gs=L("<span> </span>");function kn(e,t){var r=gs(),a=v(r,!0);l(r),re(()=>{te(r,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${t.classes??""}`),F(a,t.label)}),C(e,r)}var ps=L('<div class="flex items-center gap-2 p-2 bg-base-200 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-2xl"> </div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate"> </p></div> <div><!></div></div>'),ms=L('<div class="flex flex-col gap-2"></div>'),hs=L('<div tabindex="0" role="button"><div class="flex items-start p-3"><div class="flex-1 min-w-0"><div class="flex flex-col gap-3"><p class="text-sm text-base-content"><span class="text-base"> </span> </p> <div class="h-1 bg-base-300/50"><div class="h-full bg-primary/50 transition-all"></div></div> <p class="text-xs gap-1 flex items-center"><!> <!></p></div></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),_s=L('<div class="flex flex-col gap-2"></div>'),xs=L('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),ys=L('<div class="flex flex-col "><!></div>');function ws(e,t){be(t,!0);const r=200;let a=J(()=>t.assignedProjects.map(g=>({...g,id:g.project.id}))),i=J(()=>t.filterCompleted?n(a).filter(g=>["completed","cancelled"].includes(g.project.status)):n(a).filter(g=>!["completed","cancelled"].includes(g.project.status))),o=$(tt([]));_t(()=>{S(o,n(i),!0)});async function s(g,m){g.stopPropagation(),await $a(m,t.currentWeekOf)}function u(g){const m=pt.getByProject(g),h=m.filter(k=>k.status==="active").length,w=m.filter(k=>k.status==="completed").length;return{active:h,completed:w,total:h+w}}function b(g){S(o,g.detail.items,!0)}function c(g){S(o,g.detail.items,!0);const{info:m}=g.detail,h=m.id,w=n(o).findIndex(j=>j.id===h);if(w===-1)return;const k=w>0?n(o)[w-1]:null,E=w<n(o).length-1?n(o)[w+1]:null;let T=null,M=null;if(k){const j=n(a).findIndex(x=>x.id===k.id);T=k.assignment.order,M=j<n(a).length-1?n(a)[j+1].assignment.order:null}else if(E){const j=n(a).findIndex(x=>x.id===E.id);T=j>0?n(a)[j-1].assignment.order:null,M=E.assignment.order}mo(t.currentWeekOf,h,T,M)}var d=ys(),y=v(d);{var f=g=>{var m=ue(),h=ae(m);{var w=E=>{var T=ms();ke(T,29,()=>n(o),({id:M,project:j,area:x})=>M,(M,j)=>{let x=()=>n(j).project,I=()=>n(j).area;var D=ps(),O=v(D),R=v(O,!0);l(O);var W=_(O,2),q=v(W),B=v(q,!0);l(q),l(W);var X=_(W,2),G=v(X);xr(G,{get level(){return x().severity},get type(){return x().type}}),l(X),l(D),re(()=>{F(R,I().icon),F(B,x().name)}),qt(D,()=>$t,()=>({duration:r})),C(M,D)}),l(T),oa(T,(M,j)=>wn?.(M,j),()=>({items:n(o),flipDurationMs:r,dropTargetStyle:{}})),gt("consider",T,b),gt("finalize",T,c),C(E,T)},k=E=>{var T=_s();ke(T,21,()=>n(i),Fe,(M,j)=>{let x=()=>n(j).project,I=()=>n(j).area;const D=J(()=>u(x().id)),O=J(()=>n(D).total>0?n(D).completed/n(D).total*100:0);var R=hs();R.__click=()=>t.navigateToTasks(x());var W=v(R),q=v(W),B=v(q),X=v(B),G=v(X),V=v(G,!0);l(G);var Z=_(G);l(X);var P=_(X,2),z=v(P);l(P);var A=_(P,2),N=v(A);xr(N,{get level(){return x().severity},get type(){return x().type}});var U=_(N,2);{let Y=J(()=>n(D).active==0?"text-error bg-error/10 border-error/10 border":"bg-base-100 text-base-content/50");kn(U,{get classes(){return n(Y)},get label(){return`${n(D).active??""} available`}})}l(A),l(B),l(q);var Q=_(q,2);Q.__click=Y=>s(Y,x().id),l(W),l(R),re(()=>{te(R,1,`bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer overflow-hidden ${x().status=="blocked"?"glow-error":""} `),F(V,I().icon),F(Z,` ${x().name??""}`),ia(z,`width: ${n(O)??""}%`)}),C(M,R)}),l(T),C(E,T)};ee(h,E=>{t.reorderMode?E(w):E(k,!1)})}C(g,m)},p=g=>{var m=xs();C(g,m)};ee(y,g=>{n(o).length>0?g(f):g(p,!1)})}l(d),C(e,d),ge()}xe(["click"]);var ks=L('<span class="text-xs text-primary px-2 py-1 bg-primary/10 border-primary/20 border rounded"> </span>'),Ts=L('<button><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-muted"> </p></div> <!></button>'),Ds=L('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),Es=L('<div class="flex flex-col gap-2"></div>');function As(e,t){be(t,!0);var r=Es();ke(r,21,()=>t.weekTasks,Fe,(a,i)=>{let o=()=>n(i).task,s=()=>n(i).project,u=()=>n(i).area;const b=J(()=>t.isTaskAssignedToDay(o().id));var c=Ts();c.__click=w=>t.openDayPicker(w,o(),s(),u());var d=v(c),y=v(d),f=v(y,!0);l(y);var p=_(y,2),g=v(p);l(p),l(d);var m=_(d,2);{var h=w=>{var k=ks(),E=v(k,!0);l(k),re(T=>F(E,T),[()=>Qa(n(b))]),C(w,k)};ee(m,w=>{n(b)&&w(h)})}l(c),re(()=>{te(c,1,`${o().status=="blocked"?"glow-error":""} text-start flex items-center gap-3 p-3 bg-base-200 rounded-lg transition-all hover:bg-base-100 cursor-pointer`),F(f,o().name),F(g,`${u().icon??""} ${s().name??""}`)}),C(a,c)},a=>{var i=Ds();C(a,i)}),l(r),C(e,r),ge()}xe(["click"]);let Hr=tt({});class ta{scrollTimeout;#e=$();get scrollContainer(){return n(this.#e)}set scrollContainer(t){S(this.#e,t,!0)}pageKey="default"+Math.random();get positions(){return Hr}save(t,r){Hr[t]=r}get(t){return Hr[t]||0}handleScroll=()=>{clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.scrollContainer&&(console.log("Saving scroll top for ",this.pageKey,this.scrollContainer.scrollTop),this.save(this.pageKey,this.scrollContainer.scrollTop))},100)};restoreScroll=async(t,r)=>{if(await qa(),this.scrollContainer=t,this.pageKey=r,this.scrollContainer){const a=this.get(this.pageKey);console.log("Restoring scroll top for ",this.pageKey,a),a&&(this.scrollContainer.scrollTop=a,console.log(this.scrollContainer.scrollTop))}}}var Is=L('<button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button>'),Ss=L('<div class="flex flex-col h-full"><div class="bg-base-300 ps-4 pe-2 pt-1 pb-0 flex flex-col gap-4 border-b border-b-base-content/10"><div class="flex flex-row justify-between items-center"><div class="text-center w-full"><h2 class="text-lg font-medium">This Week</h2> <p class="text-xs text-base-content/50"> </p></div></div> <div class="flex items-center justify-between h-8"><div class="flex gap-1"><button>Active</button> <button>Completed</button> <button>Tasks</button></div> <!></div></div> <div><!></div> <div><!></div></div> <!>',1);function Cs(e,t){be(t,!0);let r,a;const i=new ta,o=new ta;Xa(()=>{i.restoreScroll(r,"weekview_projects"),o.restoreScroll(a,"weekview_tasks")});let s=localStorage.getItem("filterAssignedProject")=="true",u=$(!1),b=()=>S(u,!n(u));_t(()=>{localStorage.setItem("filterAssignedProject",s+"")});let c=$(tt(localStorage.getItem("weekTabView")||"active_projects"));_t(()=>{n(c)&&localStorage.setItem("weekTabView",n(c))});let d=tt(Pt());const y=J(()=>xt.getWeek(d));let f;function p(A){return n(y)?n(y).tasksByDay.find(U=>U.taskId===A)?.date??null:null}let g=J(()=>n(y)?n(y).projectAssignments.map(A=>{const N=bt.getById(A.areaId);if(!N)return null;const Q=mt.getByArea(N.id).find(Y=>Y.id===A.projectId);return Q?{assignment:A,project:Q,area:N}:null}).filter(A=>A!==null):[]),m=J(()=>{const A=[];for(const{project:N,area:U}of n(g)){const Q=pt.getByProject(N.id).filter(Y=>["active","blocked"].includes(Y.status));for(const Y of Q)A.push({task:Y,project:N,area:U})}return A});var h=Ss(),w=ae(h),k=v(w),E=v(k),T=v(E),M=_(v(T),2),j=v(M,!0);l(M),l(T),l(E);var x=_(E,2),I=v(x),D=v(I);D.__click=()=>S(c,"active_projects");var O=_(D,2);O.__click=()=>S(c,"completed_projects");var R=_(O,2);R.__click=()=>S(c,"tasks"),l(I);var W=_(I,2);{var q=A=>{var N=Is();N.__click=b;var U=_(v(N));l(N),re(()=>{te(N,1,`btn mb-2 ${n(u)?"btn-success":"btn-ghost"} btn-xs`),F(U,` ${n(u)?"Done":"Reorder"}`)}),C(A,N)};ee(W,A=>{n(c)=="active_projects"&&n(g).length>1&&A(q)})}l(x),l(k);var B=_(k,2),X=v(B);{var G=A=>{{let N=J(()=>n(u)&&n(c)=="active_projects"),U=J(()=>n(c)=="completed_projects");ws(A,{get reorderMode(){return n(N)},get filterCompleted(){return n(U)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return d},get assignedProjects(){return n(g)}})}};ee(X,A=>{(n(c)==="active_projects"||n(c)==="completed_projects")&&A(G)})}l(B),Re(B,A=>r=A,()=>r);var V=_(B,2),Z=v(V);{var P=A=>{As(A,{get openDayPicker(){return f.openDayPicker},get weekTasks(){return n(m)},isTaskAssignedToDay:p})};ee(Z,A=>{n(c)=="tasks"&&A(P)})}l(V),Re(V,A=>a=A,()=>a),l(w);var z=_(w,2);Re(ei(z,{get currentWeekOf(){return d},isTaskAssignedToDay:p}),A=>f=A,()=>f),re((A,N)=>{F(j,A),te(D,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(c)=="active_projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),te(O,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(c)=="completed_projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),te(R,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(c)=="tasks"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),te(B,1,`${N??""} flex-1 overflow-y-auto px-3 py-4`),te(V,1,`${n(c)=="tasks"?"":"hidden"} flex-1 overflow-y-auto px-3 py-4`)},[()=>ho(d),()=>n(c).match(/projects/)?"":"hidden"]),gt("scroll",B,function(...A){i.handleScroll?.apply(this,A)}),gt("scroll",V,function(...A){o.handleScroll?.apply(this,A)}),C(e,h),ge()}xe(["click"]);var Os=L('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),js=L('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),Ms=L('<div class="flex flex-col gap-2"></div>'),Ps=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="p-4 border-b border-base-content/10"><p class="font-medium text-base-content mb-2"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-3 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="join w-full"><label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Active</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Blocked</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Completed</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function Rs(e,t){be(t,!0);const r=[];let a=$("completed"),i=$(tt([]));_t(()=>{t.show&&(S(a,t.taskByDay?.status||"completed",!0),S(i,[],!0))});function o(p,g){g&&setTimeout(()=>p.focus(),0)}function s(){S(i,[...n(i),""],!0)}function u(p){S(i,n(i).filter((g,m)=>m!==p),!0)}function b(p,g){S(i,n(i).map((m,h)=>h===p?g:m),!0)}async function c(){if(t.taskByDay){n(a)==="completed"?await Et(t.taskByDay.taskId,t.taskByDay.projectId,"completed"):n(a)==="blocked"?await Et(t.taskByDay.taskId,t.taskByDay.projectId,"blocked"):n(a)==="cancelled"?await Et(t.taskByDay.taskId,t.taskByDay.projectId,"cancelled"):n(a)==="active"&&await Et(t.taskByDay.taskId,t.taskByDay.projectId,"active");for(const p of n(i))p.trim()&&await en(t.taskByDay.projectId,t.taskByDay.areaId,p.trim());t.onClose()}}var d=ue(),y=ae(d);{var f=p=>{var g=Ps(),m=v(g);m.__click=function(...H){t.onClose?.apply(this,H)},m.__keydown=H=>H.key==="Escape"&&t.onClose();var h=_(m,2),w=v(h),k=v(w),E=v(k,!0);l(k);var T=_(k,2),M=v(T);l(T),l(w);var j=_(w,2),x=v(j),I=_(v(x),2),D=v(I),O=v(D);Je(O),O.value=O.__value="active",or(2),l(D);var R=_(D,2),W=v(R);Je(W),W.value=W.__value="blocked",or(2),l(R);var q=_(R,2),B=v(q);Je(B),B.value=B.__value="completed",or(2),l(q);var X=_(q,2),G=v(X);Je(G),G.value=G.__value="cancelled",or(2),l(X),l(I),l(x);var V=_(x,2),Z=v(V),P=_(v(Z),2);P.__click=s,l(Z);var z=_(Z,2);{var A=H=>{var ne=Os();C(H,ne)},N=H=>{var ne=Ms();ke(ne,21,()=>n(i),Fe,(Ue,ze,Me)=>{var Pe=js(),Ze=v(Pe);Je(Ze),Ze.__input=rt=>b(Me,rt.currentTarget.value),oa(Ze,(rt,We)=>o?.(rt,We),()=>Me===n(i).length-1);var lt=_(Ze,2);lt.__click=()=>u(Me),l(Pe),re(()=>Ho(Ze,n(ze))),C(Ue,Pe)}),l(ne),C(H,ne)};ee(z,H=>{n(i).length===0?H(A):H(N,!1)})}l(V),l(j);var U=_(j,2),Q=v(U);Q.__click=function(...H){t.onClose?.apply(this,H)};var Y=_(Q,2);Y.__click=c,l(U),l(h),l(g),re(()=>{F(E,t.taskByDay.name),F(M,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),te(D,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="active"?"bg-primary/10 border-primary":""}`),te(R,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="blocked"?"bg-error/10 border-error":""}`),te(q,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="completed"?"bg-success/10 border-success":""}`),te(X,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="cancelled"?"bg-base-content/10 border-base-content/40":""}`)}),Be(3,m,()=>Rt,()=>({duration:200})),At(r,[],O,()=>n(a),H=>S(a,H)),At(r,[],W,()=>n(a),H=>S(a,H)),At(r,[],B,()=>n(a),H=>S(a,H)),At(r,[],G,()=>n(a),H=>S(a,H)),Be(3,h,()=>Nt,()=>({y:300,duration:300})),C(p,g)};ee(y,p=>{t.show&&t.taskByDay&&p(f)})}C(e,d),ge()}xe(["click","keydown","input"]);var Ns=L('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate "> </p></div></div>'),Ls=L('<div class="flex flex-col gap-2 mb-4"></div>'),Fs=L('<div><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm mb-2"> </p> <p class="text-xs text-muted truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),Bs=L('<div class="flex flex-col gap-2 mb-4"></div>'),zs=L('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),Ws=L('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),Gs=Kt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Hs=Kt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Vs=L('<div class="flex items-center gap-3 p-3 opacity-50 "><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),Us=L('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),Zs=L('<div class="flex flex-col h-full "><div class="flex flex-col gap-4 pt-1 pb-0 border-b border-base-content/10"><div class="flex flex-row justify-between items-center px-2"><button aria-label="prev" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button> <button class="cursor-pointer text-center w-full "><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-muted"> </p></button> <button aria-label="next" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="transform:rotate(180deg)" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button></div> <div class="flex items-center px-2"><div class="flex-1"><div class="px-4 pb-3 flex flex-col"><div class="flex items-center justify-between text-xs text-muted mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success/85 transition-all rounded-full"></div></div></div></div> <button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-3"><!> <!></div></div> <!>',1);function Ys(e,t){be(t,!0);let r;const a=new ta;Xa(()=>a.restoreScroll(r,"todayview"));const i=Pt(),o=200,s=()=>S(b,xo(n(c)),!0),u=()=>S(b,yo(n(c)),!0);let b=$(tt(new Date));const c=J(()=>wo(n(b)));let d=J(()=>{const K=xt.getWeek(i);return K?K.tasksByDay.filter(oe=>oe.date===n(c)).map(oe=>{const Te=pt.getById(oe.taskId),me=bt.getById(oe.areaId),le=(me?mt.getByArea(me.id):[]).find(ie=>ie.id===oe.projectId);return{id:oe.taskId,taskByDay:oe,task:Te,areaIcon:me?.icon??"ðŸ“",areaName:me?.name??"Unknown",projectName:le?.name??"Unknown"}}):[]}),y=J(()=>n(d)),f=J(()=>n(d).filter(K=>K.taskByDay.status!=="completed"&&K.taskByDay.status!=="cancelled")),p=J(()=>n(d).filter(K=>K.taskByDay.status==="completed"||K.taskByDay.status==="cancelled")),g=$(!1),m=$(null),h=$(""),w=$(""),k=$(""),E=$(!1);const T=()=>{S(E,!n(E))};let M=$(tt([]));_t(()=>{S(M,n(f),!0)});let j=J(()=>{const K=n(p).length,oe=n(d).length,Te=oe>0?K/oe*100:0;return{completed:K,total:oe,percent:Te}});function x(K){S(M,K.detail.items,!0)}function I(K){S(M,K.detail.items,!0);const{info:oe}=K.detail,Te=oe.id,me=n(M).findIndex(ve=>ve.id===Te);if(me===-1)return;const Ge=me>0?n(M)[me-1]:null,le=me<n(M).length-1?n(M)[me+1]:null;let ie=null,he=null;if(Ge){const ve=n(y).findIndex(Ie=>Ie.id===Ge.id);ie=Ge.taskByDay.order,he=ve<n(y).length-1?n(y)[ve+1].taskByDay.order:null}else if(le){const ve=n(y).findIndex(Ie=>Ie.id===le.id);ie=ve>0?n(y)[ve-1].taskByDay.order:null,he=le.taskByDay.order}ko(i,n(c),Te,ie,he)}async function D(K){await Et(K.taskId,K.projectId,"completed")}async function O(K){await Et(K.taskId,K.projectId,"active")}async function R(K){await cr(K.taskId,K.projectId,i,n(c))}function W(K,oe,Te,me){S(m,K,!0),S(h,oe,!0),S(w,Te,!0),S(k,me,!0),S(g,!0)}function q(){S(g,!1),S(m,null)}var B=Zs(),X=ae(B),G=v(X),V=v(G),Z=v(V);Z.__click=u;var P=_(Z,2);P.__click=()=>S(b,new Date,!0);var z=v(P),A=v(z,!0);l(z);var N=_(z,2),U=v(N,!0);l(N),l(P);var Q=_(P,2);Q.__click=s,l(V);var Y=_(V,2),H=v(Y),ne=v(H),Ue=v(ne),ze=v(Ue),Me=v(ze);l(ze);var Pe=_(ze,2),Ze=v(Pe);l(Pe),l(Ue);var lt=_(Ue,2),rt=v(lt);l(lt),l(ne),l(H);var We=_(H,2);We.__click=T;var Sr=_(v(We));l(We),l(Y),l(G);var pe=_(G,2),ga=v(pe);{var En=K=>{var oe=ue(),Te=ae(oe);{var me=le=>{var ie=Ls();ke(ie,29,()=>n(M),({id:he,taskByDay:ve,areaIcon:Ie,projectName:Ye})=>he,(he,ve)=>{let Ie=()=>n(ve).taskByDay;var Ye=Ns(),yt=_(v(Ye),2),ct=v(yt),dt=v(ct,!0);l(ct),l(yt),l(Ye),re(()=>F(dt,Ie().name)),qt(Ye,()=>$t,()=>({duration:o})),C(he,Ye)}),l(ie),oa(ie,(he,ve)=>wn?.(he,ve),()=>({items:n(M),flipDurationMs:o,dropTargetStyle:{}})),gt("consider",ie,x),gt("finalize",ie,I),C(le,ie)},Ge=le=>{var ie=Bs();ke(ie,21,()=>n(f),Fe,(he,ve)=>{let Ie=()=>n(ve).taskByDay,Ye=()=>n(ve).areaIcon,yt=()=>n(ve).areaName,ct=()=>n(ve).projectName;const dt=J(()=>Ie().status=="blocked");var Ke=Fs(),er=v(Ke);er.__click=()=>D(Ie());var wt=_(er,2);wt.__click=()=>W(Ie(),Ye(),yt(),ct());var Lt=v(wt),tr=v(Lt,!0);l(Lt);var kt=_(Lt,2),Cr=v(kt);l(kt),l(wt);var rr=_(wt,2);rr.__click=()=>R(Ie()),l(Ke),re(()=>{te(Ke,1,`flex items-start gap-2 p-3 bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer ${n(dt)?"glow-error":""}`),F(tr,Ie().name),F(Cr,`${Ye()??""}  ${ct()??""}`)}),C(he,Ke)}),l(ie),C(le,ie)};ee(Te,le=>{n(E)?le(me):le(Ge,!1)})}C(K,oe)},An=K=>{var oe=ue(),Te=ae(oe);{var me=le=>{var ie=zs();C(le,ie)},Ge=le=>{var ie=Ws();C(le,ie)};ee(Te,le=>{n(j).total===0?le(me):le(Ge,!1)},!0)}C(K,oe)};ee(ga,K=>{n(M).length>0?K(En):K(An,!1)})}var In=_(ga,2);{var Sn=K=>{var oe=Us(),Te=v(oe),me=v(Te);l(Te);var Ge=_(Te,2);ke(Ge,21,()=>n(p),Fe,(le,ie)=>{let he=()=>n(ie).taskByDay,ve=()=>n(ie).areaIcon,Ie=()=>n(ie).areaName,Ye=()=>n(ie).projectName;const yt=J(()=>he().status==="completed"),ct=J(()=>he().status==="cancelled");var dt=Vs(),Ke=v(dt);Ke.__click=()=>O(he());var er=v(Ke);{var wt=Tt=>{var ar=Gs();C(Tt,ar)},Lt=Tt=>{var ar=ue(),jn=ae(ar);{var Mn=Or=>{var Pn=Hs();C(Or,Pn)};ee(jn,Or=>{he().status==="cancelled"&&Or(Mn)},!0)}C(Tt,ar)};ee(er,Tt=>{he().status==="completed"?Tt(wt):Tt(Lt,!1)})}l(Ke);var tr=_(Ke,2),kt=v(tr),Cr=v(kt,!0);l(kt);var rr=_(kt,2),On=v(rr);l(rr),l(tr),l(dt),re(()=>{te(Ke,1,`w-7 h-7 rounded-full ${n(yt)?"bg-success border-success text-success-content":n(ct)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),F(Cr,he().name),F(On,`${ve()??""} ${Ie()??""} Â· ${Ye()??""}`)}),C(le,dt)}),l(Ge),l(oe),re(()=>F(me,`Completed (${n(p).length??""})`)),C(K,oe)};ee(In,K=>{n(p).length>0&&!n(E)&&K(Sn)})}l(pe),Re(pe,K=>r=K,()=>r),l(X);var Cn=_(X,2);Rs(Cn,{get show(){return n(g)},get taskByDay(){return n(m)},get areaIcon(){return n(h)},get areaName(){return n(w)},get projectName(){return n(k)},get weekOf(){return i},onClose:q}),re((K,oe)=>{F(A,K),F(U,n(c)),F(Me,`${n(j).completed??""} of ${n(j).total??""} completed`),F(Ze,`${oe??""}%`),ia(rt,`width: ${n(j).percent??""}%`),te(We,1,`btn w-20 ${n(E)?"btn-success":"btn-ghost"} btn-xs`),F(Sr,` ${n(E)?"Done":"Reorder"}`)},[()=>Ja(n(c))?"Today":_o(n(c)),()=>Math.round(n(j).percent)]),gt("scroll",pe,function(...K){a.handleScroll?.apply(this,K)}),C(e,B),ge()}xe(["click"]);const Vr=["reorder","status"],Ks=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var qs=L('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function Xs(e,t){var r=qs();r.__click=function(...a){t.handleClick?.apply(this,a)},C(e,r)}xe(["click"]);var Js=L('<button type="button"> </button>'),Qs=L('<button type="button" class="btn btn-outline btn-error btn-sm" title="Archive">Archive</button>'),$s=L('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),el=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4 flex flex-col"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="h-40 overflow-y-auto rounded-lg border border-base-content/10 p-2"><div class="grid grid-cols-8 gap-1"></div></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Tn(e,t){be(t,!0);let r=$(!1),a=$(null),i=$(""),o=$("ðŸŽ¯"),s;function u(){S(a,null),S(i,""),S(o,"ðŸŽ¯"),S(r,!0),setTimeout(()=>s.focus(),100)}function b(w,k){w.stopPropagation(),S(a,k,!0),S(i,k.name,!0),S(o,k.icon,!0),S(r,!0),setTimeout(()=>s.focus(),100)}function c(){S(r,!1),S(a,null)}async function d(){!n(i).trim()||!n(o)||(n(a)?(await To(n(a).index,{name:n(i).trim(),icon:n(o)}),n(a).name=n(i).trim(),n(a).icon=n(o)):await Do(n(i).trim(),n(o)),c())}async function y(){n(a)&&(await Eo(n(a).index),c())}async function f(){n(a)&&(await Ao(n(a).index),c())}var p={openCreateAreaModal:u,openEditAreaModal:b},g=ue(),m=ae(g);{var h=w=>{var k=el(),E=v(k);E.__click=c,E.__keydown=A=>A.key==="Escape"&&c();var T=_(E,2),M=v(T),j=v(M),x=v(j,!0);l(j);var I=_(j,2);I.__click=c,l(M);var D=_(M,2),O=v(D),R=_(v(O),2),W=v(R);ke(W,21,()=>Uo,Fe,(A,N)=>{var U=Js();U.__click=()=>S(o,n(N),!0);var Q=v(U,!0);l(U),re(()=>{te(U,1,`aspect-square cursor-pointer flex items-center justify-center text-lg rounded-lg transition-colors ${n(o)===n(N)?"bg-primary/20 ring-2 ring-primary":"hover:bg-base-200"}`),F(Q,n(N))}),C(A,U)}),l(W),l(R),l(O);var q=_(O,2),B=_(v(q),2);Je(B),B.__keydown=A=>A.key==="Enter"&&d(),Re(B,A=>s=A,()=>s),l(q),l(D);var X=_(D,2),G=v(X);{var V=A=>{var N=ue(),U=ae(N);{var Q=H=>{var ne=Qs();ne.__click=y,C(H,ne)},Y=H=>{var ne=ue(),Ue=ae(ne);{var ze=Me=>{var Pe=$s();Pe.__click=f,C(Me,Pe)};ee(Ue,Me=>{n(a).status=="archived"&&Me(ze)},!0)}C(H,ne)};ee(U,H=>{n(a).status=="active"?H(Q):H(Y,!1)})}C(A,N)};ee(G,A=>{n(a)&&A(V)})}var Z=_(G,4);Z.__click=c;var P=_(Z,2);P.__click=d;var z=v(P,!0);l(P),l(X),l(T),l(k),re(A=>{F(x,n(a)?"Edit Area":"New Area"),P.disabled=A,F(z,n(a)?"Save":"Create")},[()=>!n(i).trim()||!n(o)]),Be(3,E,()=>Rt,()=>({duration:200})),sa(B,()=>n(i),A=>S(i,A)),Be(3,T,()=>Nt,()=>({y:300,duration:300})),C(w,k)};ee(m,w=>{n(r)&&w(h)})}return C(e,g),ge(p)}xe(["click","keydown"]);var tl=L("<span> </span>");function rl(e,t){const r={clear:"badge-success",planned:"badge-primary",active:"badge-info",fading:"badge-warning",avoiding:"badge-error"},a=J(()=>r[t.status]||"badge-neutral");var i=tl(),o=v(i,!0);l(i),re(()=>{te(i,1,`rounded badge badge-sm badge-soft ${n(a)??""} font-semibold uppercase tracking-wide text-[10px]`),F(o,t.status)}),C(e,i)}var al=L('<div class="flex flex-row gap-1"><button aria-label="edit" class="btn btn-sm btn-ghost">â†</button> <button aria-label="edit" class="btn btn-sm btn-ghost">â†’</button></div>'),nl=L('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm tracking-wide mb-0 pb-1 truncate"> </div> <p class="text-muted text-xs text-base-content/50"> </p></div></div></div></div>');function ol(e,t){be(t,!0);const r=J(()=>mt.getByArea(t.area.id).filter(k=>k.status==="active").length),a=J(()=>{const k=Pt(),E=xt.getWeek(k),T=mt.getByArea(t.area.id),M=T.filter(D=>D.status==="active"||D.status==="blocked"||D.status==="someday");if(M.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};if(E?.projectAssignments.some(D=>M.some(O=>O.id===D.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"â—†"};const x=T.filter(D=>D.status==="completed"&&D.completedAt),I=x.length>0?Math.max(...x.map(D=>new Date(D.completedAt).getTime())):null;if(I){const D=Date.now()-12096e5,O=Date.now()-720*60*60*1e3;if(I>=D)return{level:"active",color:"badge-info",icon:"â—"};if(I>=O)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var i=nl();i.__click=()=>t.handleSelect(t.area);var o=v(i),s=v(o),u=v(s),b=v(u,!0);l(u);var c=_(u,2);{var d=k=>{var E=al(),T=v(E);T.__click=j=>t.handleAreaMoveUp(j,t.index);var M=_(T,2);M.__click=j=>t.handleAreaMoveDown(j,t.index),l(E),re(()=>T.disabled=t.index==0),C(k,E)},y=k=>{var E=ue(),T=ae(E);{var M=j=>{rl(j,{get status(){return n(a).level}})};ee(T,j=>{t.viewMode=="status"&&j(M)},!0)}C(k,E)};ee(c,k=>{t.viewMode=="reorder"?k(d):k(y,!1)})}l(s);var f=_(s,2),p=v(f),g=v(p),m=v(g,!0);l(g);var h=_(g,2),w=v(h);l(h),l(p),l(f),l(o),l(i),re(()=>{te(i,1,`rounded-lg bg-base-200 hover:bg-base-100 transition-colors cursor-pointer w-full ${n(a).level==="avoiding"?"border border-error/20":n(a).level==="fading"?"border border-warning/20":n(a).level==="active"?"border border-info/20":n(a).level==="planned"?"border border-purple-500/20":""}`),F(b,t.area.icon),F(m,t.area.name),F(w,`${n(r)??""} project${n(r)!==1?"s":""}`)}),C(e,i),ge()}xe(["click"]);var il=L("<button> </button>"),sl=L("<div><!></div>"),ll=L('<div class="flex flex-col h-full bg-base-300"><div class="px-3 pt-1 pb-2 flex flex-row justify-between items-center border-b border-base-content/10"><a href="/" class="flex text-base-content/80 flex-row items-center "><div class="flex flex-col"><div class="text-lg tracking-wider font-medium">Doable</div></div></a> <div class="flex flex-row gap-4"><!> <button class="btn btn-xs btn-ghost"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function cl(e,t){be(t,!0);let r,a=$(tt(localStorage.getItem("areasViewMode")||"none"));_t(()=>localStorage.setItem("areasViewMode",n(a)));let i=$(!1),o=()=>S(a,Vr[(Vr.indexOf(n(a))+1)%Vr.length],!0),s=()=>S(i,!n(i));const u=J(()=>n(i)?bt.areas.filter(x=>x.status=="archived"):bt.areas.filter(x=>x.status=="active"));async function b(x,I){if(x.stopPropagation(),I===0)return;const D=bt.areas,O=n(u)[I],R=n(u)[I-1],W=D.findIndex(X=>X.id===R.id),q=W>0?D[W-1].index:null,B=R.index;await _a(O.index,q,B)}async function c(x,I){if(x.stopPropagation(),I===n(u).length-1)return;const D=bt.areas,O=n(u)[I],R=n(u)[I+1],W=D.findIndex(X=>X.id===R.id),q=R.index,B=W<D.length-1?D[W+1].index:null;await _a(O.index,q,B)}var d=ll(),y=v(d),f=_(v(y),2),p=v(f);{var g=x=>{var I=il();I.__click=o;var D=v(I,!0);l(I),re(()=>{te(I,1,`btn btn-xs capitalize ${n(a)=="reorder"?"btn-success":"btn-ghost"}`),F(D,n(a)=="reorder"?"Done":"Reorder")}),C(x,I)};ee(p,x=>{n(i)||x(g)})}var m=_(p,2);m.__click=s;var h=v(m,!0);l(m),l(f),l(y);var w=_(y,2),k=v(w),E=v(k);ke(E,27,()=>n(u),x=>x.id,(x,I,D)=>{var O=sl(),R=v(O);ol(R,{get area(){return n(I)},get handleSelect(){return t.onSelectArea},get index(){return n(D)},handleAreaMoveUp:b,handleAreaMoveDown:c,get viewMode(){return n(a)}}),l(O),qt(O,()=>$t,()=>({duration:250,easing:ba})),C(x,O)});var T=_(E,2);{var M=x=>{Xs(x,{get handleClick(){return r.openCreateAreaModal}})};ee(T,x=>{n(i)||x(M)})}l(k),l(w);var j=_(w,2);Re(Tn(j,{}),x=>r=x,()=>r),l(d),re(()=>F(h,n(i)?"Active":"Archived")),C(e,d),ge()}xe(["click"]);var dl=L('<span class="text-xs mx-0.5">â€¢</span> ',1),ul=L('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),vl=L('<button class="cursor-pointer flex items-center"><!></button>'),fl=L('<div class="px-3 "><div role="button" tabindex="0"><div class="flex text-sm "> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <p class="text-2xs text-muted font-medium text-base-content/50 "> <!></p></div> <div class="flex flex-row gap-1 items-center"><!></div></div></div></div>');function bl(e,t){be(t,!0);const r=J(()=>pt.getByProject(t.project.id)),a=J(()=>n(r).filter(x=>x.status==="active").length),i=J(()=>n(r).filter(x=>x.status==="completed").length);function o(x){for(const[I,D]of Object.entries(xt.weeksByWeekOf))if(D.projectAssignments.some(O=>O.projectId===x))return I;return null}function s(x){const I=Pt();if(x===I)return"This week";const D=new Date(I),O=new Date(x),R=Math.round((O.getTime()-D.getTime())/(1e3*60*60*24)),W=Math.round(R/7);return W===1?"Next week":W>1?`In ${W} weeks`:W===-1?"Last week":x.slice(5)}const u=J(()=>o(t.project.id));var b=fl(),c=v(b);c.__click=()=>t.navigateToTasks(t.project),c.__keydown=x=>x.key==="Enter"&&t.navigateToTasks(t.project);var d=v(c),y=v(d,!0);l(d);var f=_(d,2),p=v(f),g=v(p);xr(g,{get type(){return t.project.type},get level(){return t.project.severity}});var m=_(g,2),h=v(m),w=_(h);{var k=x=>{var I=dl(),D=_(ae(I));re(()=>F(D,` ${n(i)??""} done`)),C(x,I)};ee(w,x=>{n(i)>0&&x(k)})}l(m),l(p);var E=_(p,2),T=v(E);{var M=x=>{var I=ul(),D=ae(I);D.__click=R=>t.handleProjectMoveUp(R,t.index);var O=_(D,2);O.__click=R=>t.handleProjectMoveDown(R,t.index),C(x,I)},j=x=>{var I=vl();I.__click=O=>t.handleProjectAssign(O,t.project);var D=v(I);{let O=J(()=>n(u)?"bg-accent/20 text-accent":"bg-slate-400/20 text-slate-400"),R=J(()=>n(u)?s(n(u)):"Unassigned");kn(D,{get classes(){return n(O)},get label(){return n(R)}})}l(I),C(x,I)};ee(T,x=>{t.reorderMode?x(M):x(j,!1)})}l(E),l(f),l(c),l(b),re(()=>{te(c,1,`flex ${t.project.status=="blocked"?"glow-error":""} flex-col p-3 gap-2 transition-colors bg-base-200 cursor-pointer hover:bg-base-100 rounded-lg `),F(y,t.project.name),F(h,`${n(a)??""} active `)}),C(e,b),ge()}xe(["click","keydown"]);var gl=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[605px] max-h-full bg-base-300 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-300 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="join w-full"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Completed</button> <button type="button">Cancelled</button></div></div> <div class="flex gap-3 p-4 pb-10  border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function Dn(e,t){be(t,!0);const r=[];let a=$(!1),i=$(null),o=$(""),s=$("active"),u=$("regular"),b=$("sev3"),c;function d(){console.log("Creating.."),S(i,null),S(o,""),S(s,"active"),S(u,"regular"),S(b,"sev3"),S(a,!0),setTimeout(()=>c.focus(),100)}function y(k,E){k.stopPropagation(),S(i,E,!0),S(o,E.name,!0),S(s,E.status,!0),S(u,E.type||"regular",!0),S(b,E.severity||"sev1",!0),S(a,!0),setTimeout(()=>c.focus(),100)}function f(){S(a,!1),S(i,null)}async function p(){!n(o).trim()||!t.selectedArea||(n(i)?(await Io(t.selectedArea.id,n(i).index,{name:n(o).trim(),status:n(s),type:n(u),severity:n(b)}),n(i).name=n(o).trim(),n(i).status=n(s),n(i).type=n(u),n(i).severity=n(b)):await So(t.selectedArea.id,n(o).trim(),n(u),n(b)),f())}var g={openCreateProjectModal:d,openEditProjectModal:y},m=ue(),h=ae(m);{var w=k=>{var E=gl(),T=v(E);T.__click=f,T.__keydown=pe=>pe.key==="Escape"&&f();var M=_(T,2),j=v(M),x=v(j),I=v(x),D=v(I,!0);l(I);var O=_(I,2);O.__click=f,l(x);var R=_(x,2),W=v(R),q=_(v(W),2);Je(q),q.__keydown=pe=>pe.key==="Enter"&&p(),Re(q,pe=>c=pe,()=>c),l(W);var B=_(W,2),X=_(v(B),2),G=v(X);Je(G),G.value=G.__value="regular";var V=_(G,2);Je(V),V.value=V.__value="maintenance",l(X),l(B);var Z=_(B,4),P=v(Z);P.__click=()=>S(b,"sev1");var z=_(v(P),2),A=v(z,!0);l(z),l(P);var N=_(P,2);N.__click=()=>S(b,"sev2");var U=_(v(N),2),Q=v(U,!0);l(U),l(N);var Y=_(N,2);Y.__click=()=>S(b,"sev3");var H=_(v(Y),2),ne=v(H,!0);l(H),l(Y),l(Z);var Ue=_(Z,4),ze=v(Ue);ze.__click=()=>S(s,"active");var Me=_(ze,2);Me.__click=()=>S(s,"blocked");var Pe=_(Me,2);Pe.__click=()=>S(s,"completed");var Ze=_(Pe,2);Ze.__click=()=>S(s,"cancelled"),l(Ue),l(R);var lt=_(R,2),rt=_(v(lt),2);rt.__click=f;var We=_(rt,2);We.__click=p;var Sr=v(We,!0);l(We),l(lt),l(j),l(M),l(E),re(pe=>{F(D,n(i)?"Edit Project":"New Project"),te(P,1,`hover:bg-purple-500 btn justify-start gap-2 transition-all ${n(b)==="sev1"?"bg-purple-600 text-white":""}`),F(A,Wr[n(u)].sev1),te(N,1,`hover:bg-emerald-500 hover:text-white btn justify-start gap-2 ${n(b)==="sev2"?"bg-emerald-600 text-white":""} transition-all`),F(Q,Wr[n(u)].sev2),te(Y,1,`hover:bg-slate-500 hover:text-slate-300 ${n(b)==="sev3"?"bg-slate-500 text-white":""} btn justify-start gap-2 transition-all`),F(ne,Wr[n(u)].sev3),te(ze,1,`join-item btn btn-sm flex-1 ${n(s)==="active"?"btn-primary":""}`),te(Me,1,`join-item btn btn-sm flex-1 ${n(s)==="blocked"?"btn-error":""}`),te(Pe,1,`join-item btn btn-sm flex-1 ${n(s)==="completed"?"btn-success":""}`),te(Ze,1,`join-item btn btn-sm flex-1 ${n(s)==="cancelled"?"bg-base-content/30":""}`),We.disabled=pe,F(Sr,n(i)?"Save":"Create")},[()=>!n(o).trim()]),Be(3,T,()=>Rt,()=>({duration:200})),sa(q,()=>n(o),pe=>S(o,pe)),At(r,[],G,()=>{"regular";return n(u)},pe=>S(u,pe)),At(r,[],V,()=>{"maintenance";return n(u)},pe=>S(u,pe)),Be(3,M,()=>Nt,()=>({y:300,duration:300})),C(k,E)};ee(h,k=>{n(a)&&k(w)})}return C(e,m),ge(g)}xe(["click","keydown"]);var pl=L('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),ml=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2 pb-10 "></div></div></div>');function hl(e,t){be(t,!0);let r=$(!1),a=$(null),i=$(void 0);function o(p,g,m){p.stopPropagation(),S(i,g,!0),S(a,m,!0),S(r,!0)}function s(){S(r,!1),S(a,null)}async function u(p,g){!n(a)||!n(i)||(g?await $a(n(a).id,p):await Oo(n(a).id,n(i).id,p),s())}function b(p,g){const m=g??Pt();return xt.getWeek(m)?.projectAssignments.some(w=>w.projectId===p)??!1}var c={openWeekPicker:o},d=ue(),y=ae(d);{var f=p=>{var g=ml(),m=v(g);m.__click=s,m.__keydown=T=>T.key==="Escape"&&s();var h=_(m,2),w=v(h),k=_(v(w),2);k.__click=s,l(w);var E=_(w,2);ke(E,21,Co,Fe,(T,M)=>{const j=J(()=>b(n(a).id,n(M).weekOf));var x=pl();x.__click=()=>u(n(M).weekOf,n(j));var I=v(x),D=v(I,!0);l(I);var O=_(I,2),R=v(O,!0);l(O),l(x),re(()=>{te(x,1,`w-full p-3 text-left rounded-lg border transition-colors ${n(j)?"bg-base-200 text-primary border-primary":"border-base-content/10 hover:border-primary"}`),F(D,n(M).label),F(R,n(M).weekOf)}),C(T,x)}),l(E),l(h),l(g),Be(3,m,()=>Rt,()=>({duration:200})),Be(3,h,()=>Nt,()=>({y:300,duration:300})),C(p,g)};ee(y,p=>{n(r)&&n(a)&&p(f)})}return C(e,d),ge(c)}xe(["click","keydown"]);var _l=L("<button> </button>"),xl=L('<button type="button" class="text-xs flex items-center cursor-pointer mb-1 text-primary"><span class="me-1 text-base">+</span> <span>Add Project</span></button>'),yl=L("<div><!></div>"),wl=L('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),kl=L('<div class="flex flex-col h-full bg-base-300"><div class="flex flex-col border-b border-base-content/10 gap-3 p-3 pb-0"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row gap-3 items-center"><div class="text-3xl"> </div> <h2 class="text-lg tracking-wide"> </h2></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="flex justify-between items-center"><div class="flex gap-1 flex-row"></div> <!></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"></div></div></div> <!> <!> <!>',1);function Tl(e,t){be(t,!0);let r,a,i;const o=Pt(),s=["active","someday","resolved"];let u=$(tt(localStorage.getItem("projectTabView")||"active"));_t(()=>{n(u)&&localStorage.setItem("projectTabView",n(u))});let b=$(!1),c=()=>S(b,!n(b)),d=J(()=>mt.getByArea(t.selectedArea.id).filter(P=>n(u)=="active"?["active","blocked"].includes(P.status)&&xt.isProjectAssignedToWeek(P.id,o):n(u)=="resolved"?["completed","cancelled"].includes(P.status):["active","blocked"].includes(P.status)&&!xt.isProjectAssignedToWeek(P.id,o)));async function y(P,z){if(P.stopPropagation(),z===0||!t.selectedArea)return;const A=mt.getByArea(t.selectedArea.id),N=n(d)[z],U=n(d)[z-1],Q=A.findIndex(ne=>ne.id===U.id),Y=Q>0?A[Q-1].index:null,H=U.index;await xa(t.selectedArea.id,N.index,Y,H)}async function f(P,z){if(P.stopPropagation(),!t.selectedArea||z===n(d).length-1)return;const A=mt.getByArea(t.selectedArea.id),N=n(d)[z],U=n(d)[z+1],Q=A.findIndex(ne=>ne.id===U.id),Y=U.index,H=Q<A.length-1?A[Q+1].index:null;console.log(Y,H),await xa(t.selectedArea.id,N.index,Y,H)}var p=kl(),g=ae(p),m=v(g),h=v(m),w=v(h),k=v(w),E=v(k,!0);l(k);var T=_(k,2),M=v(T,!0);l(T),l(w);var j=_(w,2),x=v(j);x.__click=c;var I=_(v(x));l(x);var D=_(x,2);D.__click=P=>r.openEditAreaModal(P,t.selectedArea),l(j),l(h);var O=_(h,2),R=v(O);ke(R,21,()=>s,Fe,(P,z)=>{const A=J(()=>n(u)===n(z));var N=_l();N.__click=()=>S(u,n(z),!0);var U=v(N,!0);l(N),re(()=>{te(N,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(A)?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),F(U,n(z))}),C(P,N)}),l(R);var W=_(R,2);{var q=P=>{var z=xl();z.__click=function(...A){a.openCreateProjectModal?.apply(this,A)},C(P,z)};ee(W,P=>{n(u)=="active"&&P(q)})}l(O),l(m);var B=_(m,2),X=v(B);ke(X,31,()=>n(d),P=>P.id,(P,z,A)=>{var N=yl(),U=v(N);bl(U,{get index(){return n(A)},get reorderMode(){return n(b)},handleProjectAssign:(Q,Y)=>i.openWeekPicker(Q,t.selectedArea,Y),get navigateToTasks(){return t.navigateToTasks},get project(){return n(z)},handleProjectMoveUp:y,handleProjectMoveDown:f}),l(N),qt(N,()=>$t,()=>({duration:250,easing:ba})),C(P,N)},P=>{var z=wl(),A=v(z);l(z),re(()=>F(A,`No ${n(u)??""} projects`)),C(P,z)}),l(X),l(B),l(g);var G=_(g,2);Re(Dn(G,{get selectedArea(){return t.selectedArea}}),P=>a=P,()=>a);var V=_(G,2);Re(hl(V,{}),P=>i=P,()=>i);var Z=_(V,2);Re(Tn(Z,{}),P=>r=P,()=>r),re(()=>{F(E,t.selectedArea.icon),F(M,t.selectedArea.name),te(x,1,`btn ${n(b)?"btn-success":"btn-ghost"} btn-xs`),F(I,` ${n(b)?"Done":"Reorder"}`)}),C(e,p),ge()}xe(["click"]);var Dl=L('<button type="button"> </button>'),El=L('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),Al=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Il(e,t){be(t,!0);let r=$(!1),a=$(null),i=$(""),o=$("active"),s;function u(){S(a,null),S(i,""),S(o,"active"),S(r,!0),setTimeout(()=>s.focus(),100)}function b(m,h){m.stopPropagation(),S(a,h,!0),S(i,h.name,!0),S(o,h.status,!0),S(r,!0),setTimeout(()=>s.focus(),100)}function c(){S(r,!1),S(a,null)}async function d(){!n(i).trim()||!t.selectedProject||!t.selectedArea||(n(a)?await tn(t.selectedProject.id,n(a).index,{name:n(i).trim(),status:n(o)}):await en(t.selectedProject.id,t.selectedArea.id,n(i).trim()),c())}var y={openCreateTaskModal:u,openEditTaskModal:b},f=ue(),p=ae(f);{var g=m=>{var h=Al(),w=v(h);w.__click=c,w.__keydown=G=>G.key==="Escape"&&c();var k=_(w,2),E=v(k),T=v(E),M=v(T,!0);l(T);var j=_(T,2);j.__click=c,l(E);var x=_(E,2),I=v(x),D=_(v(I),2);Je(D),D.__keydown=G=>G.key==="Enter"&&d(),Re(D,G=>s=G,()=>s),l(I);var O=_(I,2);{var R=G=>{var V=El(),Z=_(v(V),2);ke(Z,21,()=>Ks,Fe,(P,z)=>{var A=Dl();A.__click=()=>S(o,n(z).value,!0);var N=v(A,!0);l(A),re(()=>{te(A,1,`px-2 py-1.5 text-sm rounded-lg border transition-colors ${n(o)===n(z).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),F(N,n(z).label)}),C(P,A)}),l(Z),l(V),C(G,V)};ee(O,G=>{n(a)&&G(R)})}l(x);var W=_(x,2),q=_(v(W),2);q.__click=c;var B=_(q,2);B.__click=d;var X=v(B,!0);l(B),l(W),l(k),l(h),re(G=>{F(M,n(a)?"Edit Task":"New Task"),B.disabled=G,F(X,n(a)?"Save":"Create")},[()=>!n(i).trim()]),Be(3,w,()=>Rt,()=>({duration:200})),sa(D,()=>n(i),G=>S(i,G)),Be(3,k,()=>Nt,()=>({y:300,duration:300})),C(m,h)};ee(p,m=>{n(r)&&m(g)})}return C(e,f),ge(y)}xe(["click","keydown"]);var Sl=Kt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Cl=Kt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Ol=Kt('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),jl=L('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),Ml=L('<div tabindex="0" role="button" class="hover:bg-base-100 cursor-pointer w-full flex flex-row items-start py-4 px-3 bg-base-200 rounded-md"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function Pl(e,t){be(t,!0);const r=J(()=>t.task.status==="completed"),a=J(()=>t.task.status==="cancelled"),i=J(()=>t.task.status==="blocked");var o=Ml();o.__click=g=>t.handleEdit(g,t.task);var s=v(o);s.__click=g=>t.toggleTaskComplete(g,t.task);var u=v(s);{var b=g=>{var m=Sl();C(g,m)},c=g=>{var m=ue(),h=ae(m);{var w=E=>{var T=Cl();C(E,T)},k=E=>{var T=ue(),M=ae(T);{var j=x=>{var I=Ol();C(x,I)};ee(M,x=>{n(i)&&x(j)},!0)}C(E,T)};ee(h,E=>{n(a)?E(w):E(k,!1)},!0)}C(g,m)};ee(u,g=>{n(r)?g(b):g(c,!1)})}l(s);var d=_(s,2),y=v(d,!0);l(d);var f=_(d,2);{var p=g=>{var m=jl(),h=ae(m);h.__click=k=>t.handleTaskMoveUp(k,t.index);var w=_(h,2);w.__click=k=>t.handleTaskMoveDown(k,t.index),C(g,m)};ee(f,g=>{t.reorderEnabled&&g(p)})}l(o),re(()=>{te(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(r)?"bg-success/70 border-success/10 text-success-content":n(i)?"text-error border-error bg-error/30":n(a)?"bg-base-content/15 border-base-content/30 text-base-content":"border-base-content/30 hover:border-success/70"}`),s.disabled=n(a),F(y,t.task.name)}),C(e,o),ge()}xe(["click"]);var Rl=L("<span> </span>");function Nl(e,t){const r={active:{label:"Active",class:"bg-info/20 text-info"},blocked:{label:"Blocked",class:"bg-error/20 text-error"},someday:{label:"Someday",class:"bg-base-content/10 text-base-content/50"},completed:{label:"Completed",class:"bg-success/20 text-success"},cancelled:{label:"Cancelled",class:"bg-base-content/10 text-base-content/40"}},a=J(()=>r[t.status]||r.active);var i=Rl(),o=v(i,!0);l(i),re(()=>{te(i,1,`inline-flex items-center px-2 py-0.5 rounded text-2xs font-medium ${n(a).class??""}`),F(o,n(a).label)}),C(e,i)}var Ll=L("<div><!></div>"),Fl=L('<div class="flex flex-col h-full w-full bg-base-300"><div class="flex flex-col p-3 gap-3 border-b border-base-content/10"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row items-center gap-1 text-xs  text-muted"><div class="text-base"> </div> <div> </div></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="mb-1"> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <!></div> <button type="button" class="text-xs flex items-center cursor-pointer mb-1 text-primary"><span class="me-1 text-base">+</span> <span>Add Task</span></button></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0 gap-2"></div></div></div> <!> <!>',1);function Bl(e,t){be(t,!0);let r,a,i=J(()=>pt.getByProject(t.selectedProject.id)),o=$(!1),s=()=>S(o,!n(o));async function u(Z,P){if(Z.stopPropagation(),!t.selectedProject)return;const z=P.status==="completed"?"active":"completed";await tn(t.selectedProject.id,P.index,{status:z})}async function b(Z,P){if(Z.stopPropagation(),P===0||!t.selectedProject)return;const z=n(i),A=pt.getByProject(t.selectedProject.id),N=z[P],U=z[P-1],Q=A.findIndex(ne=>ne.id===U.id),Y=Q>0?A[Q-1].index:null,H=U.index;await ya(t.selectedProject.id,N.index,Y,H)}async function c(Z,P){if(Z.stopPropagation(),!t.selectedProject)return;const z=n(i);if(P===z.length-1)return;const A=pt.getByProject(t.selectedProject.id),N=z[P],U=z[P+1],Q=A.findIndex(ne=>ne.id===U.id),Y=U.index,H=Q<A.length-1?A[Q+1].index:null;await ya(t.selectedProject.id,N.index,Y,H)}var d=Fl(),y=ae(d),f=v(y),p=v(f),g=v(p),m=v(g),h=v(m,!0);l(m);var w=_(m,2),k=v(w,!0);l(w),l(g);var E=_(g,2),T=v(E);T.__click=s;var M=_(v(T));l(T);var j=_(T,2);j.__click=Z=>r.openEditProjectModal(Z,t.selectedProject),l(E),l(p);var x=_(p,2),I=v(x,!0);l(x);var D=_(x,2),O=v(D),R=v(O);Nl(R,{get status(){return t.selectedProject.status}});var W=_(R,2);xr(W,{get level(){return t.selectedProject.severity},get type(){return t.selectedProject.type}}),l(O);var q=_(O,2);q.__click=function(...Z){a.openCreateTaskModal?.apply(this,Z)},l(D),l(f);var B=_(f,2),X=v(B);ke(X,31,()=>n(i),Z=>Z.id,(Z,P,z)=>{var A=Ll(),N=v(A);Pl(N,{get handleEdit(){return a.openEditTaskModal},handleTaskMoveUp:b,handleTaskMoveDown:c,get index(){return n(z)},get task(){return n(P)},toggleTaskComplete:u,get reorderEnabled(){return n(o)}}),l(A),qt(A,()=>$t,()=>({duration:250,easing:ba})),C(Z,A)}),l(X),l(B),l(y);var G=_(y,2);Re(Il(G,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),Z=>a=Z,()=>a);var V=_(G,2);Re(Dn(V,{get selectedArea(){return t.selectedArea}}),Z=>r=Z,()=>r),re(()=>{F(h,t.selectedArea.icon),F(k,t.selectedArea.name),te(T,1,`btn ${n(o)?"btn-success":"btn-ghost"} btn-xs`),F(M,` ${n(o)?"Done":"Reorder"}`),F(I,t.selectedProject.name)}),C(e,d),ge()}xe(["click"]);var zl=L('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),Wl=L('<div class="h-screen flex flex-col bg-base-300 md:ml-20"><div class="max-md:pb-22 h-full"><!></div> <!></div>');function ql(e,t){be(t,!0);const r=()=>s("areas"),a=()=>s("projects");let i=$(void 0),o=$(void 0);s("areas");function s(m){bo("",{activeTab:m})}function u(m){S(i,m,!0),s("projects")}function b(m){S(o,m,!0),S(i,bt.getById(m.areaId),!0),s("tasks")}var c=Wl(),d=v(c),y=v(d);{var f=m=>{cl(m,{onSelectArea:u})},p=m=>{var h=ue(),w=ae(h);{var k=T=>{Tl(T,{navigateBack:r,navigateToTasks:b,get selectedArea(){return n(i)}})},E=T=>{var M=ue(),j=ae(M);{var x=D=>{Bl(D,{navigateBack:a,get selectedArea(){return n(i)},get selectedProject(){return n(o)}})},I=D=>{var O=ue(),R=ae(O);{var W=B=>{Cs(B,{navigateToTasks:b})},q=B=>{var X=ue(),G=ae(X);{var V=P=>{Ys(P,{})},Z=P=>{var z=ue(),A=ae(z);{var N=U=>{var Q=zl();C(U,Q)};ee(A,U=>{ut.state.activeTab==="review"&&U(N)},!0)}C(P,z)};ee(G,P=>{ut.state.activeTab==="today"?P(V):P(Z,!1)},!0)}C(B,X)};ee(R,B=>{ut.state.activeTab==="week"?B(W):B(q,!1)},!0)}C(D,O)};ee(j,D=>{ut.state.activeTab=="tasks"?D(x):D(I,!1)},!0)}C(T,M)};ee(w,T=>{ut.state.activeTab==="projects"?T(k):T(E,!1)},!0)}C(m,h)};ee(y,m=>{ut.state.activeTab==="areas"?m(f):m(p,!1)})}l(d);var g=_(d,2);qo(g,{get activeTab(){return ut.state.activeTab},onTabChange:s}),l(c),C(e,c),ge()}export{ql as component};
