import{d as te,f as N,a as T,s as W,c as ee,b as Ke}from"../chunks/C0mSsNzB.js";import{y as Ne,E as Lt,K as Be,A as ne,ao as Ot,F as zt,g as e,T as Ft,H as Vt,I as Ut,J as ut,L as We,B as je,aa as Ht,aC as Gt,ah as bt,o as be,aE as ce,z as Ue,D as qt,a8 as ft,a4 as Kt,aA as Je,aF as Jt,aG as Yt,aH as Qt,aI as Xt,v as At,x as Tt,aJ as Re,aw as Zt,az as $t,w as ea,aK as Pt,q as Te,aL as ta,aM as aa,aN as ra,aO as na,aP as sa,aQ as oa,aR as Mt,a5 as la,u as ia,r as St,aS as ca,aT as da,aU as va,p as ae,l as re,n as s,m as o,s as u,t as G,k as X,O as Y,N as M,a6 as J,b as Ye,U as He}from"../chunks/BqVyvuT7.js";import{i as U}from"../chunks/Dgz-J3ua.js";import{a as ua}from"../chunks/BFa-o6oE.js";import{p as ue}from"../chunks/BJjvz4nr.js";import{b as ke}from"../chunks/BYS0SYey.js";import{a1 as Ae,a2 as ba,a3 as fa,a4 as ga,a5 as Ct,a6 as Et,a7 as he,a8 as Pe,a9 as xa,aa as fe,ab as ve,ac as Me,ad as _a,ae as pa,af as ma,ag as ka,ah as ha,ai as ya,aj as wa,ak as gt,al as ja,am as Aa,an as Ta,ao as Pa,ap as xt,aq as It,ar as Ma,as as _t}from"../chunks/CqUaVhGt.js";function se(a,t){return t}function Sa(a,t,n){for(var r=[],l=t.length,c,i=t.length,h=0;h<l;h++){let w=t[h];Tt(w,()=>{if(c){if(c.pending.delete(w),c.done.add(w),c.pending.size===0){var k=a.outrogroups;Ge(Je(c.done)),k.delete(c),k.size===0&&(a.outrogroups=null)}}else i-=1},!1)}if(i===0){var f=r.length===0&&n!==null;if(f){var _=n,y=_.parentNode;$t(y),y.append(_),a.items.clear()}Ge(t,!f)}else c={pending:new Set(t),done:new Set},(a.outrogroups??=new Set).add(c)}function Ge(a,t=!0){for(var n=0;n<a.length;n++)ea(a[n],t)}var pt;function oe(a,t,n,r,l,c=null){var i=a,h=new Map,f=(t&Pt)!==0;if(f){var _=a;i=ne?Be(Ot(_)):_.appendChild(Ne())}ne&&zt();var y=null,w=Ft(()=>{var b=n();return Jt(b)?b:b==null?[]:Je(b)}),k,j=!0;function m(){d.fallback=y,Ca(d,k,i,t,r),y!==null&&(k.length===0?(y.f&ce)===0?At(y):(y.f^=ce,pe(y,null,i)):Tt(y,()=>{y=null}))}var p=Lt(()=>{k=e(w);var b=k.length;let P=!1;if(ne){var S=Vt(i)===Ut;S!==(b===0)&&(i=ut(),Be(i),We(!1),P=!0)}for(var C=new Set,I=be,R=qt(),v=0;v<b;v+=1){ne&&je.nodeType===Ht&&je.data===Gt&&(i=je,P=!0,We(!1));var g=k[v],x=r(g,v),A=j?null:h.get(x);A?(A.v&&bt(A.v,g),A.i&&bt(A.i,v),R&&I.skipped_effects.delete(A.e)):(A=Ea(h,j?i:pt??=Ne(),g,x,v,l,t,n),j||(A.e.f|=ce),h.set(x,A)),C.add(x)}if(b===0&&c&&!y&&(j?y=Ue(()=>c(i)):(y=Ue(()=>c(pt??=Ne())),y.f|=ce)),ne&&b>0&&Be(ut()),!j)if(R){for(const[D,z]of h)C.has(D)||I.skipped_effects.add(z.e);I.oncommit(m),I.ondiscard(()=>{})}else m();P&&We(!0),e(w)}),d={effect:p,items:h,outrogroups:null,fallback:y};j=!1,ne&&(i=je)}function Ca(a,t,n,r,l){var c=(r&ta)!==0,i=t.length,h=a.items,f=a.effect.first,_,y=null,w,k=[],j=[],m,p,d,b;if(c)for(b=0;b<i;b+=1)m=t[b],p=l(m,b),d=h.get(p).e,(d.f&ce)===0&&(d.nodes?.a?.measure(),(w??=new Set).add(d));for(b=0;b<i;b+=1){if(m=t[b],p=l(m,b),d=h.get(p).e,a.outrogroups!==null)for(const A of a.outrogroups)A.pending.delete(d),A.done.delete(d);if((d.f&ce)!==0)if(d.f^=ce,d===f)pe(d,null,n);else{var P=y?y.next:f;d===a.effect.last&&(a.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),de(a,y,d),de(a,d,P),pe(d,P,n),y=d,k=[],j=[],f=y.next;continue}if((d.f&Re)!==0&&(At(d),c&&(d.nodes?.a?.unfix(),(w??=new Set).delete(d))),d!==f){if(_!==void 0&&_.has(d)){if(k.length<j.length){var S=j[0],C;y=S.prev;var I=k[0],R=k[k.length-1];for(C=0;C<k.length;C+=1)pe(k[C],S,n);for(C=0;C<j.length;C+=1)_.delete(j[C]);de(a,I.prev,R.next),de(a,y,I),de(a,R,S),f=S,y=R,b-=1,k=[],j=[]}else _.delete(d),pe(d,f,n),de(a,d.prev,d.next),de(a,d,y===null?a.effect.first:y.next),de(a,y,d),y=d;continue}for(k=[],j=[];f!==null&&f!==d;)(_??=new Set).add(f),j.push(f),f=f.next;if(f===null)continue}(d.f&ce)===0&&k.push(d),y=d,f=d.next}if(a.outrogroups!==null){for(const A of a.outrogroups)A.pending.size===0&&(Ge(Je(A.done)),a.outrogroups?.delete(A));a.outrogroups.size===0&&(a.outrogroups=null)}if(f!==null||_!==void 0){var v=[];if(_!==void 0)for(d of _)(d.f&Re)===0&&v.push(d);for(;f!==null;)(f.f&Re)===0&&f!==a.fallback&&v.push(f),f=f.next;var g=v.length;if(g>0){var x=(r&Pt)!==0&&i===0?n:null;if(c){for(b=0;b<g;b+=1)v[b].nodes?.a?.measure();for(b=0;b<g;b+=1)v[b].nodes?.a?.fix()}Sa(a,v,x)}}c&&Te(()=>{if(w!==void 0)for(d of w)d.nodes?.a?.apply()})}function Ea(a,t,n,r,l,c,i,h){var f=(i&Yt)!==0?(i&Qt)===0?Kt(n,!1,!1):ft(n):null,_=(i&Xt)!==0?ft(l):null;return{v:f,i:_,e:Ue(()=>(c(t,f??n,_??l,h),()=>{a.delete(r)}))}}function pe(a,t,n){if(a.nodes)for(var r=a.nodes.start,l=a.nodes.end,c=t&&(t.f&ce)===0?t.nodes.start:n;r!==null;){var i=Zt(r);if(c.before(r),r===l)return;r=i}}function de(a,t,n){t===null?a.effect.first=n:t.next=n,n===null?a.effect.last=t:n.prev=t}const mt=[...` 	
\r\f¬†\v\uFEFF`];function Ia(a,t,n){var r=a==null?"":""+a;if(t&&(r=r?r+" "+t:t),n){for(var l in n)if(n[l])r=r?r+" "+l:l;else if(r.length)for(var c=l.length,i=0;(i=r.indexOf(l,i))>=0;){var h=i+c;(i===0||mt.includes(r[i-1]))&&(h===r.length||mt.includes(r[h]))?r=(i===0?"":r.substring(0,i))+r.substring(h+1):i=h}}return r===""?null:r}function kt(a,t=!1){var n=t?" !important;":";",r="";for(var l in a){var c=a[l];c!=null&&c!==""&&(r+=" "+l+": "+c+n)}return r}function Le(a){return a[0]!=="-"||a[1]!=="-"?a.toLowerCase():a}function Da(a,t){if(t){var n="",r,l;if(Array.isArray(t)?(r=t[0],l=t[1]):r=t,a){a=String(a).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var c=!1,i=0,h=!1,f=[];r&&f.push(...Object.keys(r).map(Le)),l&&f.push(...Object.keys(l).map(Le));var _=0,y=-1;const p=a.length;for(var w=0;w<p;w++){var k=a[w];if(h?k==="/"&&a[w-1]==="*"&&(h=!1):c?c===k&&(c=!1):k==="/"&&a[w+1]==="*"?h=!0:k==='"'||k==="'"?c=k:k==="("?i++:k===")"&&i--,!h&&c===!1&&i===0){if(k===":"&&y===-1)y=w;else if(k===";"||w===p-1){if(y!==-1){var j=Le(a.substring(_,y).trim());if(!f.includes(j)){k!==";"&&w++;var m=a.substring(_,w).trim();n+=" "+m+";"}}_=w+1,y=-1}}}}return r&&(n+=kt(r)),l&&(n+=kt(l,!0)),n=n.trim(),n===""?null:n}return a==null?null:String(a)}function Z(a,t,n,r,l,c){var i=a.__className;if(ne||i!==n||i===void 0){var h=Ia(n,r,c);(!ne||h!==a.getAttribute("class"))&&(h==null?a.removeAttribute("class"):a.className=h),a.__className=n}else if(c&&l!==c)for(var f in c){var _=!!c[f];(l==null||_!==!!l[f])&&a.classList.toggle(f,_)}return c}function Oe(a,t={},n,r){for(var l in n){var c=n[l];t[l]!==c&&(n[l]==null?a.style.removeProperty(l):a.style.setProperty(l,c,r))}}function Se(a,t,n,r){var l=a.__style;if(ne||l!==t){var c=Da(t,r);(!ne||c!==a.getAttribute("style"))&&(c==null?a.removeAttribute("style"):a.style.cssText=c),a.__style=t}else r&&(Array.isArray(r)?(Oe(a,n?.[0],r[0]),Oe(a,n?.[1],r[1],"important")):Oe(a,n,r));return r}const Na=Symbol("is custom element"),Ba=Symbol("is html");function me(a){if(ne){var t=!1,n=()=>{if(!t){if(t=!0,a.hasAttribute("value")){var r=a.value;qe(a,"value",null),a.value=r}if(a.hasAttribute("checked")){var l=a.checked;qe(a,"checked",null),a.checked=l}}};a.__on_r=n,Te(n),aa()}}function qe(a,t,n,r){var l=Wa(a);ne&&(l[t]=a.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&a.nodeName==="LINK")||l[t]!==(l[t]=n)&&(t==="loading"&&(a[ra]=n),n==null?a.removeAttribute(t):typeof n!="string"&&Ra(a).includes(t)?a[t]=n:a.setAttribute(t,n))}function Wa(a){return a.__attributes??={[Na]:a.nodeName.includes("-"),[Ba]:a.namespaceURI===na}}var ht=new Map;function Ra(a){var t=a.getAttribute("is")||a.nodeName,n=ht.get(t);if(n)return n;ht.set(t,n=[]);for(var r,l=a,c=Element.prototype;c!==l;){r=oa(l);for(var i in r)r[i].set&&n.push(i);l=sa(l)}return n}function Qe(a,t,n=t){var r=new WeakSet;Mt(a,"input",async l=>{var c=l?a.defaultValue:a.value;if(c=Fe(a)?Ve(c):c,n(c),be!==null&&r.add(be),await la(),c!==(c=t())){var i=a.selectionStart,h=a.selectionEnd,f=a.value.length;if(a.value=c??"",h!==null){var _=a.value.length;i===h&&h===f&&_>f?(a.selectionStart=_,a.selectionEnd=_):(a.selectionStart=i,a.selectionEnd=Math.min(h,_))}}}),(ne&&a.defaultValue!==a.value||ia(t)==null&&a.value)&&(n(Fe(a)?Ve(a.value):a.value),be!==null&&r.add(be)),St(()=>{var l=t();if(a===document.activeElement){var c=ca??be;if(r.has(c))return}Fe(a)&&l===Ve(a.value)||a.type==="date"&&!l&&!a.value||l!==a.value&&(a.value=l??"")})}const ze=new Set;function yt(a,t,n,r,l=r){var c=n.getAttribute("type")==="checkbox",i=a;let h=!1;if(t!==null)for(var f of t)i=i[f]??=[];i.push(n),Mt(n,"change",()=>{var _=n.__value;c&&(_=wt(i,_,n.checked)),l(_)},()=>l(c?[]:null)),St(()=>{var _=r();if(ne&&n.defaultChecked!==n.checked){h=!0;return}c?(_=_||[],n.checked=_.includes(n.__value)):n.checked=da(n.__value,_)}),va(()=>{var _=i.indexOf(n);_!==-1&&i.splice(_,1)}),ze.has(i)||(ze.add(i),Te(()=>{i.sort((_,y)=>_.compareDocumentPosition(y)===4?-1:1),ze.delete(i)})),Te(()=>{if(h){var _;if(c)_=wt(i,_,n.checked);else{var y=i.find(w=>w.checked);_=y?.__value}l(_)}})}function wt(a,t,n){for(var r=new Set,l=0;l<a.length;l+=1)a[l].checked&&r.add(a[l].__value);return n||r.delete(t),Array.from(r)}function Fe(a){var t=a.type;return t==="number"||t==="range"}function Ve(a){return a===""?null:+a}const _e={regular:{sev1:"Core to who I am or want to become",sev2:"Significant progress toward a major goal",sev3:"Meaningful but not defining",sev4:"Nice to do, no real deadline",sev5:"Pure exploration or fun"},maintenance:{sev1:"Immediate risk if ignored (safety, legal, financial)",sev2:"Disrupts daily life if neglected",sev3:"Routine upkeep, flexible timing",sev4:"Minor improvement, no consequences",sev5:"Cosmetic or nice-to-have"}},La=["üíº","üè†","üí™","üìö","üí∞","‚ù§Ô∏è","üéØ","üöÄ","üé®","üéµ","‚úàÔ∏è","üçé","üßò","üë®‚Äçüë©‚Äçüëß‚Äçüë¶","ü§ù","üì±","üíª","üîß","üìù","üéì","üèÉ","üß†","üå±","‚≠ê","üî•","üí°","üéÆ","üì∏","üõí","üè¶","üöó","üèãÔ∏è"];te(["click","keydown"]);var Oa=N('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),za=N('<nav class="pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav>');function Fa(a,t){ae(t,!0);const n=[{id:"areas",icon:"üìÅ",label:"Areas"},{id:"week",icon:"üìÖ",label:"Week"},{id:"today",icon:"‚òÄÔ∏è",label:"Today"}];var r=za();oe(r,21,()=>n,se,(l,c)=>{var i=Oa();let h;i.__click=()=>t.onTabChange(e(c).id);let f;var _=o(i),y=o(_,!0);s(_);var w=u(_,2),k=o(w,!0);s(w),s(i),G(()=>{h=Z(i,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,h,{"text-primary":t.activeTab===e(c).id,"text-base-content":t.activeTab!==e(c).id}),f=Se(i,"",f,{opacity:t.activeTab===e(c).id?1:.4}),W(y,e(c).icon),W(k,e(c).label)}),T(l,i)}),s(r),T(a,r),re()}te(["click"]);var Va=N('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),Ua=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function Ha(a,t){ae(t,!0);let n=Y(!1),r=Y(null);function l(k,j,m,p){k.stopPropagation(),M(r,{task:j,project:m,area:p},!0),M(n,!0)}function c(){M(n,!1),M(r,null)}function i(){return fa(t.currentWeekOf).map(k=>({date:k,dayName:Ct(k),isToday:ga(k)}))}async function h(k){if(!e(r))return;const{task:j,project:m,area:p}=e(r);c();const d=t.isTaskAssignedToDay(j.id);d===k?await Ae(j.id,m.id,t.currentWeekOf,k):(d&&await Ae(j.id,m.id,t.currentWeekOf,d),await ba(j.id,m.id,p.id,j.name,t.currentWeekOf,k,!1))}var f={openDayPicker:l},_=ee(),y=X(_);{var w=k=>{var j=Ua(),m=o(j);m.__click=c,m.__keydown=g=>g.key==="Escape"&&c();var p=u(m,2),d=o(p),b=o(d),P=u(o(b),2),S=o(P,!0);s(P),s(b);var C=u(b,2);C.__click=c,s(d);var I=u(d,2);oe(I,21,i,se,(g,x)=>{const A=J(()=>t.isTaskAssignedToDay(e(r).task.id)===e(x).date);var D=Va();D.__click=()=>h(e(x).date);var z=o(D),V=o(z,!0);s(z);var q=u(z,2),E=o(q,!0);s(q),s(D),G(L=>{Z(D,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${e(A)?"bg-primary text-primary-content border-primary":e(x).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),W(V,e(x).dayName),W(E,L)},[()=>e(x).date.split("-")[2]]),T(g,D)}),s(I);var R=u(I,2),v=o(R);v.__click=()=>{const g=t.isTaskAssignedToDay(e(r).task.id);g&&Ae(e(r).task.id,e(r).project.id,t.currentWeekOf,g),c()},s(R),s(p),s(j),G(()=>W(S,e(r).task.name)),T(k,j)};U(y,k=>{e(n)&&e(r)&&k(w)})}return T(a,_),re(f)}te(["click","keydown"]);var Ga=N('<div class="h-1 bg-base-300"><div class="h-full bg-base-content/20 transition-all"></div></div>'),qa=N('<div class="bg-base-100 rounded-lg overflow-hidden"><!> <div class="flex items-center gap-3 p-3"><span class="text-2xl"> </span> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content truncate mb-1"> </p> <p class="text-xs text-base-content/50"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">‚úï</button></div></div>'),Ka=N('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),Ja=N('<div class="flex flex-col gap-2"><div class="flex justify-between items-center"><div class="text-xs tracking-wider text-base-content/50 uppercase">Assigned projects</div> <button> </button></div> <!></div>');function Ya(a,t){ae(t,!0);let n=Y(localStorage.getItem("filterAssignedProject")=="true"),r=()=>M(n,!e(n));Ye(()=>{localStorage.setItem("filterAssignedProject",e(n)+"")});async function l(w,k){w.stopPropagation(),await Et(k,t.currentWeekOf)}function c(w){const k=he.getByProject(w),j=k.filter(p=>p.status==="active").length,m=k.filter(p=>p.status==="completed").length;return{active:j,completed:m,total:j+m}}var i=Ja(),h=o(i),f=u(o(h),2);f.__click=r;var _=o(f);s(f),s(h);var y=u(h,2);oe(y,17,()=>t.assignedProjects,se,(w,k)=>{let j=()=>e(k).project,m=()=>e(k).area;const p=J(()=>c(j().id)),d=J(()=>e(p).total>0?e(p).completed/e(p).total*100:0);var b=ee(),P=X(b);{var S=C=>{var I=qa(),R=o(I);{var v=F=>{var K=Ga(),O=o(K);s(K),G(()=>Se(O,`width: ${e(d)??""}%`)),T(F,K)};U(R,F=>{e(p).total>0&&F(v)})}var g=u(R,2),x=o(g),A=o(x,!0);s(x);var D=u(x,2),z=o(D),V=o(z,!0);s(z);var q=u(z,2),E=o(q,!0);s(q),s(D);var L=u(D,2);L.__click=F=>l(F,j().id),s(g),s(I),G(()=>{W(A,m().icon),W(V,j().name),W(E,m().name)}),T(C,I)};U(P,C=>{(e(d)<100&&e(n)||!e(n))&&C(S)})}T(w,b)},w=>{var k=Ka();T(w,k)}),s(i),G(()=>{Z(f,1,`w-20 btn btn-xs btn-soft btn-secondary ${e(n)?"bg-secondary text-secondary-content":""}`),W(_,`Filter :${e(n)?"ON":"OFF"}`)}),T(a,i),re()}te(["click"]);var Qa=N('<span class="text-xs text-primary-content px-2 py-1 bg-primary rounded"> </span>'),Xa=N('<button class="text-start flex items-center gap-3 p-3 bg-base-100 border border-base-content/10 rounded-lg transition-all hover:border-primary"><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-base-content/50"> </p></div> <!></button>'),Za=N('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),$a=N('<div class="flex flex-col gap-2"></div>');function er(a,t){ae(t,!0);var n=$a();oe(n,21,()=>t.weekTasks,se,(r,l)=>{let c=()=>e(l).task,i=()=>e(l).project,h=()=>e(l).area;const f=J(()=>t.isTaskAssignedToDay(c().id));var _=Xa();_.__click=b=>t.openDayPicker(b,c(),i(),h());var y=o(_),w=o(y),k=o(w,!0);s(w);var j=u(w,2),m=o(j);s(j),s(y);var p=u(y,2);{var d=b=>{var P=Qa(),S=o(P,!0);s(P),G(C=>W(S,C),[()=>Ct(e(f))]),T(b,P)};U(p,b=>{e(f)&&b(d)})}s(_),G(()=>{W(k,c().name),W(m,`${h().icon??""} ${i().name??""}`)}),T(r,_)},r=>{var l=Za();T(r,l)}),s(n),T(a,n),re()}te(["click"]);var tr=N('<div class="flex flex-col h-full"><div class="bg-base-100 border-b border-b-base-content/10"><div class="px-4 pt-4 pb-2 "><h2 class="text-lg font-medium">Week</h2> <p class="text-xs text-base-content/50"> </p></div> <div class="flex gap-1 px-4 pb-3"><button> </button> <button> </button></div></div> <div class="flex-1 overflow-y-auto px-4 py-4"><!></div></div> <!>',1);function ar(a,t){ae(t,!0);let n=Y(He(localStorage.getItem("weekTabView")||"projects"));Ye(()=>{e(n)&&localStorage.setItem("weekTabView",e(n))});let r=He(Pe());const l=J(()=>Me.getWeek(r));let c;function i(x){return e(l)?e(l).tasksByDay.find(D=>D.taskId===x)?.date??null:null}let h=J(()=>e(l)?e(l).projectAssignments.map(x=>{const A=fe.getById(x.areaId);if(!A)return null;const z=ve.getByArea(A.id).find(V=>V.id===x.projectId);return z?{assignment:x,project:z,area:A}:null}).filter(x=>x!==null):[]),f=J(()=>{const x=[];for(const{project:A,area:D}of e(h)){const z=he.getByProject(A.id).filter(V=>V.status==="active");for(const V of z)x.push({task:V,project:A,area:D})}return x});var _=tr(),y=X(_),w=o(y),k=o(w),j=u(o(k),2),m=o(j,!0);s(j),s(k);var p=u(k,2),d=o(p);d.__click=()=>M(n,"projects");var b=o(d);s(d);var P=u(d,2);P.__click=()=>M(n,"tasks");var S=o(P);s(P),s(p),s(w);var C=u(w,2),I=o(C);{var R=x=>{Ya(x,{get currentWeekOf(){return r},get assignedProjects(){return e(h)}})},v=x=>{er(x,{get openDayPicker(){return c.openDayPicker},get weekTasks(){return e(f)},isTaskAssignedToDay:i})};U(I,x=>{e(n)==="projects"?x(R):x(v,!1)})}s(C),s(y);var g=u(y,2);ke(Ha(g,{get currentWeekOf(){return r},isTaskAssignedToDay:i}),x=>c=x,()=>c),G(x=>{W(m,x),Z(d,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${e(n)==="projects"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),W(b,`Projects (${e(h).length??""})`),Z(P,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${e(n)==="tasks"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),W(S,`Tasks (${e(f).length??""})`)},[()=>xa(r)]),T(a,_),re()}te(["click"]);var rr=N('<div class="px-4 pb-3"><div class="flex items-center justify-between text-xs text-base-content/50 mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success transition-all rounded-full"></div></div></div>'),nr=N('<div class="flex items-center gap-3 p-3 bg-base-100 border border-base-content/10 rounded-lg"><button type="button" aria-label="check" class="w-7 h-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content mb-2"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from today">‚úï</button></div>'),sr=N('<div class="flex flex-col gap-2 mb-4"></div>'),or=N('<div class="text-center py-12"><span class="text-4xl block mb-3">üìã</span> <p class="text-base-content/50 text-sm mb-2">No tasks for today</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),lr=N('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">üéâ</span> <p class="text-sm font-medium text-success">All done for today!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),ir=N('<div class="flex items-center gap-3 p-3 opacity-50"><button type="button" class="w-7 h-7 rounded-full bg-success border-2 border-success flex items-center justify-center flex-shrink-0 text-success-content" title="Mark as incomplete"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),cr=N('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),dr=N('<div class="flex flex-col h-full"><div class="px-4 pt-4 pb-2"><h2 class="text-lg font-medium">Today</h2> <p class="text-xs text-base-content/50"> </p></div> <!> <div class="flex-1 overflow-y-auto px-3 pb-4"><!> <!></div></div>');function vr(a,t){ae(t,!0);const n=_a(),r=Pe();let l=J(()=>{const v=Me.getWeek(r);return v?v.tasksByDay.filter(g=>g.date===n).map(g=>{const x=he.getById(g.taskId),A=fe.getById(g.areaId),z=(A?ve.getByArea(A.id):[]).find(V=>V.id===g.projectId);return{taskByDay:g,task:x,areaIcon:A?.icon??"üìÅ",areaName:A?.name??"Unknown",projectName:z?.name??"Unknown"}}):[]}),c=J(()=>e(l).filter(v=>v.taskByDay.status!=="completed")),i=J(()=>e(l).filter(v=>v.taskByDay.status==="completed"));function h(){const v=e(l),g=v.filter(D=>D.taskByDay.status==="completed").length,x=v.length,A=x>0?g/x*100:0;return{completed:g,total:x,percent:A}}async function f(v){await ma(v.taskId,v.projectId,r,n)}async function _(v){await ka(v.taskId,v.projectId,r,n)}async function y(v){await Ae(v.taskId,v.projectId,r,n)}var w=dr(),k=o(w),j=u(o(k),2),m=o(j);s(j),s(k);var p=u(k,2);{var d=v=>{const g=J(h);var x=rr(),A=o(x),D=o(A),z=o(D);s(D);var V=u(D,2),q=o(V);s(V),s(A);var E=u(A,2),L=o(E);s(E),s(x),G(F=>{W(z,`${e(g).completed??""} of ${e(g).total??""} completed`),W(q,`${F??""}%`),Se(L,`width: ${e(g).percent??""}%`)},[()=>Math.round(e(g).percent)]),T(v,x)};U(p,v=>{h().total>0&&v(d)})}var b=u(p,2),P=o(b);{var S=v=>{var g=sr();oe(g,21,()=>e(c),se,(x,A)=>{let D=()=>e(A).taskByDay,z=()=>e(A).areaIcon,V=()=>e(A).projectName;var q=nr(),E=o(q);E.__click=()=>f(D());var L=u(E,2),F=o(L),K=o(F,!0);s(F);var O=u(F,2),B=o(O);s(O),s(L);var H=u(L,2);H.__click=()=>y(D()),s(q),G(()=>{W(K,D().name),W(B,`${z()??""}  ${V()??""}`)}),T(x,q)}),s(g),T(v,g)},C=v=>{var g=ee(),x=X(g);{var A=z=>{var V=or();T(z,V)},D=z=>{var V=lr();T(z,V)};U(x,z=>{h().total===0?z(A):z(D,!1)},!0)}T(v,g)};U(P,v=>{e(c).length>0?v(S):v(C,!1)})}var I=u(P,2);{var R=v=>{var g=cr(),x=o(g),A=o(x);s(x);var D=u(x,2);oe(D,21,()=>e(i),se,(z,V)=>{let q=()=>e(V).taskByDay,E=()=>e(V).areaIcon,L=()=>e(V).areaName,F=()=>e(V).projectName;var K=ir(),O=o(K);O.__click=()=>_(q());var B=u(O,2),H=o(B),Q=o(H,!0);s(H);var $=u(H,2),ie=o($);s($),s(B),s(K),G(()=>{W(Q,q().name),W(ie,`${E()??""} ${L()??""} ¬∑ ${F()??""}`)}),T(z,K)}),s(D),s(g),G(()=>W(A,`Completed (${e(i).length??""})`)),T(v,g)};U(I,v=>{e(i).length>0&&v(R)})}s(b),s(w),G(v=>W(m,`${v??""}, ${n??""}`),[()=>pa(n)]),T(a,w),re()}te(["click"]);var ur=N('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function br(a,t){var n=ur();n.__click=function(...r){t.handleClick?.apply(this,r)},T(a,n)}te(["click"]);var fr=N('<button type="button"> </button>'),gr=N('<button type="button" class="btn btn-outline btn-error btn-sm">Archive</button>'),xr=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="grid grid-cols-8 gap-1"></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function _r(a,t){ae(t,!0);let n=Y(!1),r=Y(null),l=Y(""),c=Y("üéØ");function i(){M(r,null),M(l,""),M(c,"üéØ"),M(n,!0)}function h(d,b){d.stopPropagation(),M(r,b,!0),M(l,b.name,!0),M(c,b.icon,!0),M(n,!0)}function f(){M(n,!1),M(r,null)}async function _(){!e(l).trim()||!e(c)||(e(r)?await ha(e(r).index,{name:e(l).trim(),icon:e(c)}):await ya(e(l).trim(),e(c)),f())}function y(d){return ve.getByArea(d.id).filter(P=>P.status==="active").length===0}async function w(){!e(r)||!y(e(r))||(await wa(e(r).index),f())}var k={openCreateAreaModal:i,openEditAreaModal:h},j=ee(),m=X(j);{var p=d=>{var b=xr(),P=o(b);P.__click=f,P.__keydown=O=>O.key==="Escape"&&f();var S=u(P,2),C=o(S),I=o(C),R=o(I,!0);s(I);var v=u(I,2);v.__click=f,s(C);var g=u(C,2),x=o(g),A=u(o(x),2);oe(A,21,()=>La,se,(O,B)=>{var H=fr();H.__click=()=>M(c,e(B),!0);var Q=o(H,!0);s(H),G(()=>{Z(H,1,`aspect-square flex items-center justify-center text-lg rounded-lg transition-colors ${e(c)===e(B)?"bg-primary text-primary-content":"hover:bg-base-200"}`),W(Q,e(B))}),T(O,H)}),s(A),s(x);var D=u(x,2),z=u(o(D),2);me(z),z.__keydown=O=>O.key==="Enter"&&_(),s(D),s(g);var V=u(g,2),q=o(V);{var E=O=>{var B=gr();B.__click=w,G((H,Q)=>{B.disabled=H,qe(B,"title",Q)},[()=>!y(e(r)),()=>y(e(r))?"Archive area":"Cannot archive: has active projects"]),T(O,B)};U(q,O=>{e(r)&&O(E)})}var L=u(q,4);L.__click=f;var F=u(L,2);F.__click=_;var K=o(F,!0);s(F),s(V),s(S),s(b),G(O=>{W(R,e(r)?"Edit Area":"New Area"),F.disabled=O,W(K,e(r)?"Save":"Create")},[()=>!e(l).trim()||!e(c)]),Qe(z,()=>e(l),O=>M(l,O)),T(d,b)};U(m,d=>{e(n)&&d(p)})}return T(a,j),re(k)}te(["click","keydown"]);var pr=N('<button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-6" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button>'),mr=N('<div class="flex flex-row gap-1"><button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üê</button> <button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üí</button></div>'),kr=N('<div tabindex="0" role="button" class="rounded-lg bg-base-100 hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-3"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm font-medium mb-0 pb-1 truncate"> </div> <p class="text-xs text-base-content/50"> </p></div></div></div></div>');function hr(a,t){ae(t,!0);const n=J(()=>ve.getByArea(t.area.id).filter(b=>b.status==="active").length);var r=kr();r.__click=()=>t.handleSelect(t.area);var l=o(r),c=o(l),i=o(c),h=o(i,!0);s(i);var f=u(i,2);{var _=b=>{var P=pr();P.__click=S=>t.handleEdit(S,t.area),T(b,P)},y=b=>{var P=ee(),S=X(P);{var C=I=>{var R=mr(),v=o(R);v.__click=x=>t.handleAreaMoveUp(x,t.index);var g=u(v,2);g.__click=x=>t.handleAreaMoveDown(x,t.index),s(R),G(()=>v.disabled=t.index==0),T(I,R)};U(S,I=>{t.allowEdit&&t.reorderModeEnabled&&I(C)},!0)}T(b,P)};U(f,b=>{t.allowEdit&&!t.reorderModeEnabled?b(_):b(y,!1)})}s(c);var w=u(c,2),k=o(w),j=o(k),m=o(j,!0);s(j);var p=u(j,2),d=o(p);s(p),s(k),s(w),s(l),s(r),G(()=>{W(h,t.area.icon),W(m,t.area.name),W(d,`${e(n)??""} project${e(n)!==1?"s":""}`)}),T(a,r),re()}te(["click"]);var yr=N('<button class="link text-base-content/50 text-sm"> </button>'),wr=N('<div class="flex flex-col h-full"><div class="px-3 pt-5 pb-4 flex flex-row justify-between items-center bg-base-100 border-b border-base-content/10"><a href="/"><div class="text-xl text-base-content/80 tracking-wider font-medium">Doable</div> <div class="text-sm text-base-content/50">Life areas at a glance</div></a> <div class="flex flex-row gap-4"><!> <button class="link text-base-content/50 text-sm"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function jr(a,t){ae(t,!0);let n,r=Y(!1),l=Y(!1),c=()=>M(r,!e(r)),i=()=>M(l,!e(l));const h=J(()=>e(l)?fe.archived:fe.areas);async function f(v,g){v.stopPropagation();const x=fe.areas;if(g===0)return;const A=x[g],D=g>1?x[g-2].index:null,z=x[g-1].index;await gt(A.index,D,z)}async function _(v,g){v.stopPropagation();const x=fe.areas;if(g===x.length-1)return;const A=x[g],D=x[g+1].index,z=g<x.length-2?x[g+2].index:null;await gt(A.index,D,z)}var y=wr(),w=o(y),k=u(o(w),2),j=o(k);{var m=v=>{var g=yr();g.__click=c;var x=o(g,!0);s(g),G(()=>W(x,e(r)?"Edit":"Reorder")),T(v,g)};U(j,v=>{e(l)||v(m)})}var p=u(j,2);p.__click=i;var d=o(p,!0);s(p),s(k),s(w);var b=u(w,2),P=o(b),S=o(P);oe(S,17,()=>e(h),se,(v,g,x)=>{{let A=J(()=>!e(l));hr(v,{get area(){return e(g)},get handleSelect(){return t.onSelectArea},index:x,get allowEdit(){return e(A)},handleAreaMoveUp:f,handleAreaMoveDown:_,get reorderModeEnabled(){return e(r)},get handleEdit(){return n.openEditAreaModal}})}});var C=u(S,2);{var I=v=>{br(v,{get handleClick(){return n.openCreateAreaModal}})};U(C,v=>{e(l)||v(I)})}s(P),s(b);var R=u(b,2);ke(_r(R,{}),v=>n=v,()=>n),s(y),G(()=>W(d,e(l)?"Active":"Archived")),T(a,y),re()}te(["click"]);var Ar=N('<span class="text-center text-xs font-semibold bg-purple-500/20 text-purple-400 rounded w-full h-full  items-center justify-center flex">1</span>'),Tr=N('<span class="text-center text-xs font-semibold bg-red-500/20 text-red-400 rounded w-full h-full items-center justify-center flex">2</span>'),Pr=N('<span class="text-center text-xs font-semibold bg-yellow-500/20 text-yellow-400 rounded w-full h-full items-center justify-center flex">3</span>'),Mr=N('<span class="text-center text-xs font-semibold bg-blue-500/20 text-blue-500 rounded w-full h-full items-center justify-center flex">4</span>'),Sr=N('<span class="text-center text-xs font-semibold bg-emerald-500/20 text-emerald-300 rounded w-full h-full items-center justify-center flex">5</span>');function jt(a,t){var n=ee(),r=X(n);{var l=i=>{var h=Ar();T(i,h)},c=i=>{var h=ee(),f=X(h);{var _=w=>{var k=Tr();T(w,k)},y=w=>{var k=ee(),j=X(k);{var m=d=>{var b=Pr();T(d,b)},p=d=>{var b=ee(),P=X(b);{var S=I=>{var R=Mr();T(I,R)},C=I=>{var R=Sr();T(I,R)};U(P,I=>{t.level=="sev4"?I(S):I(C,!1)},!0)}T(d,b)};U(j,d=>{t.level=="sev3"?d(m):d(p,!1)},!0)}T(w,k)};U(f,w=>{t.level=="sev2"?w(_):w(y,!1)},!0)}T(i,h)};U(r,i=>{t.level=="sev1"?i(l):i(c,!1)})}T(a,n)}var Cr=N('<button aria-label="edit"> </button>'),Er=N('<div tabindex="0" role="button" class="flex flex-row gap-2 items-start text-left"><p class="px-2 flex flex-row gap-2 text-sm mb-1.5 w-full text-base-content"><span class="w-8 h-8 flex mt-0.5"><!></span> <span class="flex-1"> </span> <!></p></div>'),Ir=N('<div class="h-full bg-primary/80 transition-all"></div>'),Dr=N('<span class="text-xs mx-0.5">‚Ä¢</span> ',1),Nr=N('<button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üë</button> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üì</button>',1),Br=N('<button aria-label="edit"> </button>'),Wr=N('<div class="w-full transition-colors bg-base-100 cursor-pointer hover:bg-primary/20" role="button" tabindex="0"><div class="flex-1 min-w-0 p-2 pt-4"><div class="flex flex-row items-start gap-2 "><div class="shrink-0 size-8"><!></div> <p class="text-sm mb-1.5 text-base-content"> </p></div> <div class="mb-2 mt-3 w-full items-center flex h-1 bg-neutral"><!></div> <div class="flex flex-row justify-between items-center ms-2"><p class="text-xs font-semibold text-base-content/50 "> <!></p> <div class="flex flex-row gap-2 items-center mt-1"><!> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-5" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button> <!></div></div></div></div>'),Rr=N("<div><!></div>");function Lr(a,t){ae(t,!0);const n=J(()=>he.getByProject(t.project.id)),r=J(()=>e(n).filter(m=>m.status==="active").length),l=J(()=>e(n).filter(m=>m.status==="completed").length),c=J(()=>e(n).filter(m=>m.status==="active"||m.status==="completed").length),i=J(()=>e(c)>0?e(l)/e(c)*100:0);function h(m){for(const[p,d]of Object.entries(Me.weeksByWeekOf))if(d.projectAssignments.some(b=>b.projectId===m))return p;return null}function f(m){const p=Pe();if(m===p)return"This week";const d=new Date(p),b=new Date(m),P=Math.round((b.getTime()-d.getTime())/(1e3*60*60*24)),S=Math.round(P/7);return S===1?"Next week":S>1?`In ${S} weeks`:S===-1?"Last week":m.slice(5)}const _=J(()=>h(t.project.id));var y=Rr(),w=o(y);{var k=m=>{var p=Er();p.__click=()=>t.onclick(t.project);var d=o(p),b=o(d),P=o(b);jt(P,{get level(){return t.project.severity}}),s(b);var S=u(b,2),C=o(S,!0);s(S);var I=u(S,2);{var R=v=>{var g=Cr();g.__click=A=>t.handleProjectAssign(A,t.project);var x=o(g,!0);s(g),G(A=>{Z(g,1,`badge badge-lg badge-soft ${e(_)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer justify-center rounded-lg items-center flex`),W(x,A)},[()=>f(e(_))]),T(v,g)};U(I,v=>{e(_)&&v(R)})}s(d),s(p),G(()=>W(C,t.project.name)),T(m,p)},j=m=>{var p=Wr();p.__click=()=>t.navigateToTasks(t.project),p.__keydown=B=>B.key==="Enter"&&t.navigateToTasks(t.project);var d=o(p),b=o(d),P=o(b),S=o(P);jt(S,{get level(){return t.project.severity}}),s(P);var C=u(P,2),I=o(C,!0);s(C),s(b);var R=u(b,2),v=o(R);{var g=B=>{var H=Ir();G(()=>Se(H,`width: ${e(i)??""}%`)),T(B,H)};U(v,B=>{e(c)>0&&B(g)})}s(R);var x=u(R,2),A=o(x),D=o(A),z=u(D);{var V=B=>{var H=Dr(),Q=u(X(H));G(()=>W(Q,` ${e(l)??""} done`)),T(B,H)};U(z,B=>{e(l)>0&&B(V)})}s(A);var q=u(A,2),E=o(q);{var L=B=>{var H=Nr(),Q=X(H);Q.__click=ie=>t.handleProjectMoveUp(ie,t.index);var $=u(Q,2);$.__click=ie=>t.handleProjectMoveDown(ie,t.index),T(B,H)};U(E,B=>{t.allowReorder&&B(L)})}var F=u(E,2);F.__click=B=>t.handleEdit(B,t.project);var K=u(F,2);{var O=B=>{var H=Br();H.__click=$=>t.handleProjectAssign($,t.project);var Q=o(H,!0);s(H),G($=>{Z(H,1,`badge badge-lg badge-soft ${e(_)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer flex justify-center rounded-lg items-center`),W(Q,$)},[()=>e(_)?f(e(_)):"Unassigned"]),T(B,H)};U(K,B=>{t.allowWeekAssignment&&B(O)})}s(q),s(x),s(d),s(p),G(()=>{W(I,t.project.name),W(D,`${e(r)??""} active `)}),T(m,p)};U(w,m=>{t.isSelected?m(j,!1):m(k)})}s(y),T(a,y),re()}te(["click","keydown"]);const Or=[{value:"active",label:"Active",color:"border-s-primary"},{value:"blocked",label:"Blocked",color:"border-s-warning"},{value:"someday",label:"Someday",color:"border-s-info"},{value:"completed",label:"Completed",color:"border-s-success"},{value:"cancelled",label:"Cancelled",color:"border-s-error"}],zr=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var Fr=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[650px] max-h-full bg-base-100 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-200 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">4</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">5</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="grid grid-cols-3 gap-1"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Someday</button> <button type="button">Cancelled</button> <button type="button">Done</button></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function Vr(a,t){ae(t,!0);const n=[];let r=Y(!1),l=Y(null),c=Y(""),i=Y("active"),h=Y("regular"),f=Y("sev3");function _(){console.log("Creating.."),M(l,null),M(c,""),M(i,"active"),M(h,"regular"),M(f,"sev3"),M(r,!0)}function y(b,P){b.stopPropagation(),M(l,P,!0),M(c,P.name,!0),M(i,P.status,!0),M(h,P.type||"regular",!0),M(f,P.severity||"sev1",!0),M(r,!0)}function w(){M(r,!1),M(l,null)}async function k(){!e(c).trim()||!t.selectedArea||(e(l)?await ja(t.selectedArea.id,e(l).index,{name:e(c).trim(),status:e(i),type:e(h),severity:e(f)}):await Aa(t.selectedArea.id,e(c).trim(),e(h),e(f)),w())}var j={openCreateProjectModal:_,openEditProjectModal:y},m=ee(),p=X(m);{var d=b=>{var P=Fr(),S=o(P);S.__click=w,S.__keydown=le=>le.key==="Escape"&&w();var C=u(S,2),I=o(C),R=o(I),v=o(R),g=o(v,!0);s(v);var x=u(v,2);x.__click=w,s(R);var A=u(R,2),D=o(A),z=u(o(D),2);me(z),z.__keydown=le=>le.key==="Enter"&&k(),s(D);var V=u(D,2),q=u(o(V),2),E=o(q);me(E),E.value=E.__value="regular";var L=u(E,2);me(L),L.value=L.__value="maintenance",s(q),s(V);var F=u(V,4),K=o(F);let O;K.__click=()=>M(f,"sev1");var B=u(o(K),2),H=o(B,!0);s(B),s(K);var Q=u(K,2);let $;Q.__click=()=>M(f,"sev2");var ie=u(o(Q),2),Dt=o(ie,!0);s(ie),s(Q);var ge=u(Q,2);let Xe;ge.__click=()=>M(f,"sev3");var Ze=u(o(ge),2),Nt=o(Ze,!0);s(Ze),s(ge);var xe=u(ge,2);let $e;xe.__click=()=>M(f,"sev4");var et=u(o(xe),2),Bt=o(et,!0);s(et),s(xe);var ye=u(xe,2);let tt;ye.__click=()=>M(f,"sev5");var at=u(o(ye),2),Wt=o(at,!0);s(at),s(ye),s(F);var rt=u(F,4),Ce=o(rt);let nt;Ce.__click=()=>M(i,"active");var Ee=u(Ce,2);let st;Ee.__click=()=>M(i,"blocked");var Ie=u(Ee,2);let ot;Ie.__click=()=>M(i,"someday");var De=u(Ie,2);let lt;De.__click=()=>M(i,"cancelled");var it=u(De,2);let ct;it.__click=()=>M(i,"completed"),s(rt),s(A);var dt=u(A,2),vt=u(o(dt),2);vt.__click=w;var we=u(vt,2);we.__click=k;var Rt=o(we,!0);s(we),s(dt),s(I),s(C),s(P),G(le=>{W(g,e(l)?"Edit Project":"New Project"),O=Z(K,1,"hover:bg-purple-600 btn btn-sm justify-start gap-2 transition-all",null,O,{"bg-purple-600":e(f)==="sev1","text-white":e(f)==="sev1"}),W(H,_e[e(h)].sev1),$=Z(Q,1,"hover:bg-red-500 btn btn-sm justify-start gap-2 transition-all",null,$,{"bg-red-500":e(f)==="sev2","text-white":e(f)==="sev2"}),W(Dt,_e[e(h)].sev2),Xe=Z(ge,1,"hover:bg-yellow-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,Xe,{"bg-yellow-500":e(f)==="sev3","text-black":e(f)==="sev3"}),W(Nt,_e[e(h)].sev3),$e=Z(xe,1,"hover:bg-sky-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,$e,{"bg-sky-500":e(f)==="sev4","text-black":e(f)==="sev4"}),W(Bt,_e[e(h)].sev4),tt=Z(ye,1,"hover:bg-emerald-500 hover:text-black btn btn-sm justify-start gap-3 transition-all",null,tt,{"bg-emerald-500":e(f)==="sev5","text-black":e(f)==="sev5"}),W(Wt,_e[e(h)].sev5),nt=Z(Ce,1,"btn btn-sm hover:bg-warning hover:text-warning-content",null,nt,{"btn-warning":e(i)==="active"}),st=Z(Ee,1,"btn btn-sm hover:btn-error",null,st,{"btn-error":e(i)==="blocked"}),ot=Z(Ie,1,"btn btn-sm hover:btn-info",null,ot,{"btn-info":e(i)==="someday"}),lt=Z(De,1,"btn btn-sm hover:btn-neutral",null,lt,{"btn-info":e(i)==="cancelled"}),ct=Z(it,1,"btn btn-sm hover:btn-success",null,ct,{"btn-success":e(i)==="completed"}),we.disabled=le,W(Rt,e(l)?"Save":"Create")},[()=>!e(c).trim()]),Qe(z,()=>e(c),le=>M(c,le)),yt(n,[],E,()=>{"regular";return e(h)},le=>M(h,le)),yt(n,[],L,()=>{"maintenance";return e(h)},le=>M(h,le)),T(b,P)};U(p,b=>{e(r)&&b(d)})}return T(a,m),re(j)}te(["click","keydown"]);var Ur=N('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),Hr=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-2"></div></div></div>');function Gr(a,t){ae(t,!0);let n=Y(!1),r=Y(null),l=Y(void 0);function c(j,m,p){j.stopPropagation(),M(l,m,!0),M(r,p,!0),M(n,!0)}function i(){M(n,!1),M(r,null)}async function h(j,m){!e(r)||!e(l)||(m?await Et(e(r).id,j):await Pa(e(r).id,e(l).id,j),i())}function f(j,m){const p=m??Pe();return Me.getWeek(p)?.projectAssignments.some(b=>b.projectId===j)??!1}var _={openWeekPicker:c},y=ee(),w=X(y);{var k=j=>{var m=Hr(),p=o(m);p.__click=i,p.__keydown=C=>C.key==="Escape"&&i();var d=u(p,2),b=o(d),P=u(o(b),2);P.__click=i,s(b);var S=u(b,2);oe(S,21,Ta,se,(C,I)=>{const R=J(()=>f(e(r).id,e(I).weekOf));var v=Ur();v.__click=()=>h(e(I).weekOf,e(R));var g=o(v),x=o(g,!0);s(g);var A=u(g,2),D=o(A,!0);s(A),s(v),G(()=>{Z(v,1,`w-full p-3 text-left rounded-lg border transition-colors ${e(R)?"bg-primary/20 text-primary-content border-primary":"border-base-content/10 hover:border-primary"}`),W(x,e(I).label),W(D,e(I).weekOf)}),T(C,v)}),s(S),s(d),s(m),T(j,m)};U(w,j=>{e(n)&&e(r)&&j(k)})}return T(a,y),re(_)}te(["click","keydown"]);var qr=N("<button> </button>"),Kr=N('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),Jr=N('<button type="button" class="flex items-center h-16 gap-2 p-3 border-2 border-dashed border-base-content/20 rounded-lg text-base-content/50 cursor-pointer transition-all hover:border-primary hover:text-primary"><span class="text-lg">+</span> <span class="text-sm">Add Project</span></button>'),Yr=N('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2 "><button class="gap-2 mx-3 mt-2 mb-1 text-sm text-secondary w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>‚Üê</span> <span>Back</span></button> <div class="flex items-center gap-3 pe-2"><span class="text-4xl"> </span> <h2 class="text-lg "> </h2></div></div> <div class="flex gap-1 mt-4  px-3 pb-2 overflow-x-auto"></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!> <!></div></div></div> <!> <!>',1);function Qr(a,t){ae(t,!0);let n=Y(void 0);const r=E=>M(n,E.id,!0);let l,c,i=Y(He(localStorage.getItem("projectTabView")||"active"));Ye(()=>{e(i)&&localStorage.setItem("projectTabView",e(i))});let h=J(()=>!["completed","cancelled"].includes(e(i))),f=J(()=>e(i)=="active"),_=J(()=>ve.getByArea(t.selectedArea.id).filter(E=>E.status===e(i)));function y(E){return ve.getByArea(t.selectedArea.id).filter(L=>L.status===E).length}async function w(E,L){if(E.stopPropagation(),L===0||!t.selectedArea)return;const F=ve.getByArea(t.selectedArea.id),K=e(_)[L],O=e(_)[L-1],B=F.findIndex($=>$.id===O.id),H=B>0?F[B-1].index:null,Q=O.index;await xt(t.selectedArea.id,K.index,H,Q)}async function k(E,L){if(E.stopPropagation(),!t.selectedArea||L===e(_).length-1)return;const F=ve.getByArea(t.selectedArea.id),K=e(_)[L],O=e(_)[L+1],B=F.findIndex($=>$.id===O.id),H=O.index,Q=B<F.length-1?F[B+1].index:null;console.log(H,Q),await xt(t.selectedArea.id,K.index,H,Q)}var j=Yr(),m=X(j),p=o(m),d=o(p),b=o(d);b.__click=function(...E){t.navigateBack?.apply(this,E)};var P=u(b,2),S=o(P),C=o(S,!0);s(S);var I=u(S,2),R=o(I,!0);s(I),s(P),s(d);var v=u(d,2);oe(v,21,()=>Or,se,(E,L)=>{const F=J(()=>e(i)===e(L).value),K=J(()=>y(e(L).value));var O=qr();O.__click=()=>M(i,e(L).value,!0);var B=o(O);s(O),G(()=>{Z(O,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${e(F)?"bg-primary/40 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),W(B,`${e(L).label??""} (${e(K)??""})`)}),T(E,O)}),s(v),s(p);var g=u(p,2),x=o(g),A=o(x);oe(A,17,()=>e(_),se,(E,L,F)=>{{let K=J(()=>e(n)==e(L).id);Lr(E,{get isSelected(){return e(K)},onclick:r,handleProjectAssign:(O,B)=>c.openWeekPicker(O,t.selectedArea,B),index:F,get allowReorder(){return e(h)},get navigateToTasks(){return t.navigateToTasks},get project(){return e(L)},get allowWeekAssignment(){return e(f)},get handleEdit(){return l.openEditProjectModal},handleProjectMoveUp:w,handleProjectMoveDown:k})}},E=>{var L=Kr(),F=o(L);s(L),G(()=>W(F,`No ${e(i)??""} projects`)),T(E,L)});var D=u(A,2);{var z=E=>{var L=Jr();L.__click=function(...F){l.openCreateProjectModal?.apply(this,F)},T(E,L)};U(D,E=>{e(i)=="active"&&E(z)})}s(x),s(g),s(m);var V=u(m,2);ke(Vr(V,{get selectedArea(){return t.selectedArea}}),E=>l=E,()=>l);var q=u(V,2);ke(Gr(q,{}),E=>c=E,()=>c),G(()=>{W(C,t.selectedArea.icon),W(R,t.selectedArea.name)}),T(a,j),re()}te(["click"]);var Xr=N('<button type="button"> </button>'),Zr=N('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),$r=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function en(a,t){ae(t,!0);let n=Y(!1),r=Y(null),l=Y(""),c=Y("active");function i(){M(r,null),M(l,""),M(c,"active"),M(n,!0)}function h(m,p){m.stopPropagation(),M(r,p,!0),M(l,p.name,!0),M(c,p.status,!0),M(n,!0)}function f(){M(n,!1),M(r,null)}async function _(){!e(l).trim()||!t.selectedProject||!t.selectedArea||(e(r)?await It(t.selectedProject.id,e(r).index,{name:e(l).trim(),status:e(c)}):await Ma(t.selectedProject.id,t.selectedArea.id,e(l).trim()),f())}var y={openCreateTaskModal:i,openEditTaskModal:h},w=ee(),k=X(w);{var j=m=>{var p=$r(),d=o(p);d.__click=f,d.__keydown=E=>E.key==="Escape"&&f();var b=u(d,2),P=o(b),S=o(P),C=o(S,!0);s(S);var I=u(S,2);I.__click=f,s(P);var R=u(P,2),v=o(R),g=u(o(v),2);me(g),g.__keydown=E=>E.key==="Enter"&&_(),s(v);var x=u(v,2);{var A=E=>{var L=Zr(),F=u(o(L),2);oe(F,21,()=>zr,se,(K,O)=>{var B=Xr();B.__click=()=>M(c,e(O).value,!0);var H=o(B,!0);s(B),G(()=>{Z(B,1,`px-3 py-1.5 text-sm rounded-lg border transition-colors ${e(c)===e(O).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),W(H,e(O).label)}),T(K,B)}),s(F),s(L),T(E,L)};U(x,E=>{e(r)&&E(A)})}s(R);var D=u(R,2),z=u(o(D),2);z.__click=f;var V=u(z,2);V.__click=_;var q=o(V,!0);s(V),s(D),s(b),s(p),G(E=>{W(C,e(r)?"Edit Task":"New Task"),V.disabled=E,W(q,e(r)?"Save":"Create")},[()=>!e(l).trim()]),Qe(g,()=>e(l),E=>M(l,E)),T(m,p)};U(k,m=>{e(n)&&m(j)})}return T(a,w),re(y)}te(["click","keydown"]);var tn=Ke('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),an=Ke('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),rn=Ke('<svg class="w-3 h-3 text-warning" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),nn=N('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üë</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üì</button>',1),sn=N('<div tabindex="0" role="button" class="hover:bg-primary/20 cursor-pointer w-full flex flex-row items-start border-b border-b-base-content/10 p-2"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function on(a,t){ae(t,!0);const n=J(()=>t.task.status==="completed"),r=J(()=>t.task.status==="cancelled"),l=J(()=>t.task.status==="blocked");var c=sn();c.__click=m=>t.handleEdit(m,t.task);var i=o(c);i.__click=m=>t.toggleTaskComplete(m,t.task);var h=o(i);{var f=m=>{var p=tn();T(m,p)},_=m=>{var p=ee(),d=X(p);{var b=S=>{var C=an();T(S,C)},P=S=>{var C=ee(),I=X(C);{var R=v=>{var g=rn();T(v,g)};U(I,v=>{e(l)&&v(R)},!0)}T(S,C)};U(d,S=>{e(r)?S(b):S(P,!1)},!0)}T(m,p)};U(h,m=>{e(n)?m(f):m(_,!1)})}s(i);var y=u(i,2),w=o(y,!0);s(y);var k=u(y,2);{var j=m=>{var p=nn(),d=X(p);d.__click=P=>t.handleTaskMoveUp(P,t.index);var b=u(d,2);b.__click=P=>t.handleTaskMoveDown(P,t.index),T(m,p)};U(k,m=>{t.reorderEnabled&&m(j)})}s(c),G(()=>{Z(i,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${e(n)?"bg-success border-success text-success-content":e(l)?"border-warning":e(r)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"}`),i.disabled=e(r),W(w,t.task.name)}),T(a,c),re()}te(["click"]);var ln=N('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2 "><button class="gap-2 mx-3 mt-2 mb-0 text-sm text-secondary w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>‚Üê</span> <span>Back</span></button> <div class="flex items-center gap-2"><svg class="size-10 inline shrink-0 text-base-content/40 align-text-bottom -mb-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg> <h2 class="text-base "> </h2></div> <div class="flex gap-1 overflow-x-auto my-2"><button class="text-base-content/50 bg-base-300 hover:bg-primary/50 hover:text-primary-content px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap">+ New</button> <button>Reorder</button></div></div></div> <div class="flex-1 overflow-auto bg-base-200  min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0"></div></div></div> <!>',1);function cn(a,t){ae(t,!0);let n,r=J(()=>he.getByProject(t.selectedProject.id)),l=Y(!1),c=()=>M(l,!e(l));async function i(v,g){if(v.stopPropagation(),!t.selectedProject)return;const x=g.status==="completed"?"active":"completed";await It(t.selectedProject.id,g.index,{status:x})}async function h(v,g){if(v.stopPropagation(),g===0||!t.selectedProject)return;const x=e(r)[g],A=g>1?e(r)[g-2].index:null,D=e(r)[g-1].index;await _t(t.selectedProject.id,x.index,A,D)}async function f(v,g){if(v.stopPropagation(),!t.selectedProject||g===e(r).length-1)return;const x=e(r)[g],A=e(r)[g+1].index,D=g<e(r).length-2?e(r)[g+2].index:null;await _t(t.selectedProject.id,x.index,A,D)}var _=ln(),y=X(_),w=o(y),k=o(w),j=o(k);j.__click=function(...v){t.navigateBack?.apply(this,v)};var m=u(j,2),p=u(o(m),2),d=o(p,!0);s(p),s(m);var b=u(m,2),P=o(b);P.__click=function(...v){n.openCreateTaskModal?.apply(this,v)};var S=u(P,2);S.__click=c,s(b),s(k),s(w);var C=u(w,2),I=o(C);oe(I,21,()=>e(r),se,(v,g,x)=>{on(v,{get handleEdit(){return n.openEditTaskModal},handleTaskMoveUp:h,handleTaskMoveDown:f,index:x,get task(){return e(g)},toggleTaskComplete:i,get reorderEnabled(){return e(l)}})}),s(I),s(C),s(y);var R=u(y,2);ke(en(R,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),v=>n=v,()=>n),G(()=>{W(d,t.selectedProject.name),Z(S,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${e(l)?"bg-primary/40 text-primary-content":"text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50"}`)}),T(a,_),re()}te(["click"]);var dn=N('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),vn=N('<div class="h-screen flex flex-col bg-base-300"><div class="pb-22 h-full"><!></div> <!></div>');function mn(a,t){ae(t,!0);const n=()=>i("areas"),r=()=>i("projects");let l=Y(void 0),c=Y(void 0);i("areas");function i(p){ua("",{activeTab:p})}function h(p){M(l,p,!0),i("projects")}function f(p){M(c,p,!0),i("tasks")}var _=vn(),y=o(_),w=o(y);{var k=p=>{jr(p,{onSelectArea:h})},j=p=>{var d=ee(),b=X(d);{var P=C=>{Qr(C,{navigateBack:n,navigateToTasks:f,get selectedArea(){return e(l)}})},S=C=>{var I=ee(),R=X(I);{var v=x=>{cn(x,{navigateBack:r,get selectedArea(){return e(l)},get selectedProject(){return e(c)}})},g=x=>{var A=ee(),D=X(A);{var z=q=>{ar(q,{})},V=q=>{var E=ee(),L=X(E);{var F=O=>{vr(O,{})},K=O=>{var B=ee(),H=X(B);{var Q=$=>{var ie=dn();T($,ie)};U(H,$=>{ue.state.activeTab==="review"&&$(Q)},!0)}T(O,B)};U(L,O=>{ue.state.activeTab==="today"?O(F):O(K,!1)},!0)}T(q,E)};U(D,q=>{ue.state.activeTab==="week"?q(z):q(V,!1)},!0)}T(x,A)};U(R,x=>{ue.state.activeTab=="tasks"?x(v):x(g,!1)},!0)}T(C,I)};U(b,C=>{ue.state.activeTab==="projects"?C(P):C(S,!1)},!0)}T(p,d)};U(w,p=>{ue.state.activeTab==="areas"?p(k):p(j,!1)})}s(y);var m=u(y,2);Fa(m,{get activeTab(){return ue.state.activeTab},onTabChange:i}),s(_),T(a,_),re()}export{mn as component};
