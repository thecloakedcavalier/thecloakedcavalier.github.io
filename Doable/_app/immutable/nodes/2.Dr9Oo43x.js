import{b as _n,d as _e,f as L,a as E,s as B,c as de,e as ar,t as ja,g as ht}from"../chunks/D3UQACKP.js";import{y as Dr,E as xn,K as Er,A as Me,aq as yn,F as wn,g as n,T as kn,H as Tn,I as Dn,J as oa,L as Ar,B as Xt,aa as En,aE as An,ah as ia,o as xt,aG as rt,z as Rr,D as In,a8 as sa,a4 as On,aC as qr,aH as Sn,aI as jn,aJ as Cn,aK as Mn,v as Ca,x as Ma,aL as Ir,ay as Pn,aB as Nn,w as Rn,aM as Pa,q as Rt,aN as Ln,W as Na,G as Fn,aO as Bn,au as Wn,e as Ra,u as Kr,aP as zn,ap as La,aQ as Gn,aR as Ot,r as Xr,h as Un,aS as Hn,aT as Vn,aU as Zn,aV as Yn,aW as qn,aX as Kn,aY as Fa,a5 as Xn,aZ as Jn,a_ as Qn,ao as $n,p as ye,l as we,n as l,m as u,s as x,t as K,k as oe,O as X,N as O,a6 as $,U as pt,b as mt,ai as nr}from"../chunks/DALkzYGd.js";import{i as Y}from"../chunks/BH6s77UL.js";import{a as eo}from"../chunks/4FKm3-Zi.js";import{p as dt}from"../chunks/Ct8nDA7J.js";import{a1 as er,a2 as to,a3 as ro,a4 as ao,a5 as Ba,a6 as Wa,a7 as bt,a8 as no,a9 as zt,aa as oo,ab as ft,ac as $e,ad as Gt,ae as za,af as io,ag as Ga,ah as so,ai as lo,aj as co,ak as uo,al as vo,am as fo,an as bo,ao as go,ap as po,aq as la,ar as Ua,as as mo,at as ho,au as _o,av as ca,aw as Ha,ax as da}from"../chunks/87D7SCSB.js";import{b as Lt}from"../chunks/CUJ0RYTV.js";function Re(e,t){return t}function xo(e,t,r){for(var a=[],i=t.length,o,s=t.length,f=0;f<i;f++){let y=t[f];Ma(y,()=>{if(o){if(o.pending.delete(y),o.done.add(y),o.pending.size===0){var c=e.outrogroups;Lr(qr(o.done)),c.delete(o),c.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var d=a.length===0&&r!==null;if(d){var g=r,v=g.parentNode;Nn(v),v.append(g),e.items.clear()}Lr(t,!d)}else o={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(o)}function Lr(e,t=!0){for(var r=0;r<e.length;r++)Rn(e[r],t)}var ua;function Oe(e,t,r,a,i,o=null){var s=e,f=new Map,d=(t&Pa)!==0;if(d){var g=e;s=Me?Er(yn(g)):g.appendChild(Dr())}Me&&wn();var v=null,y=kn(()=>{var _=r();return Sn(_)?_:_==null?[]:qr(_)}),c,h=!0;function b(){m.fallback=v,yo(m,c,s,t,a),v!==null&&(c.length===0?(v.f&rt)===0?Ca(v):(v.f^=rt,Mt(v,null,s)):Ma(v,()=>{v=null}))}var p=xn(()=>{c=n(y);var _=c.length;let w=!1;if(Me){var D=Tn(s)===Dn;D!==(_===0)&&(s=oa(),Er(s),Ar(!1),w=!0)}for(var T=new Set,S=xt,j=In(),k=0;k<_;k+=1){Me&&Xt.nodeType===En&&Xt.data===An&&(s=Xt,w=!0,Ar(!1));var I=c[k],A=a(I,k),M=h?null:f.get(A);M?(M.v&&ia(M.v,I),M.i&&ia(M.i,k),j&&S.skipped_effects.delete(M.e)):(M=wo(f,h?s:ua??=Dr(),I,A,k,i,t,r),h||(M.e.f|=rt),f.set(A,M)),T.add(A)}if(_===0&&o&&!v&&(h?v=Rr(()=>o(s)):(v=Rr(()=>o(ua??=Dr())),v.f|=rt)),Me&&_>0&&Er(oa()),!h)if(j){for(const[F,H]of f)T.has(F)||S.skipped_effects.add(H.e);S.oncommit(b),S.ondiscard(()=>{})}else b();w&&Ar(!0),n(y)}),m={effect:p,items:f,outrogroups:null,fallback:v};h=!1,Me&&(s=Xt)}function yo(e,t,r,a,i){var o=(a&Ln)!==0,s=t.length,f=e.items,d=e.effect.first,g,v=null,y,c=[],h=[],b,p,m,_;if(o)for(_=0;_<s;_+=1)b=t[_],p=i(b,_),m=f.get(p).e,(m.f&rt)===0&&(m.nodes?.a?.measure(),(y??=new Set).add(m));for(_=0;_<s;_+=1){if(b=t[_],p=i(b,_),m=f.get(p).e,e.outrogroups!==null)for(const M of e.outrogroups)M.pending.delete(m),M.done.delete(m);if((m.f&rt)!==0)if(m.f^=rt,m===d)Mt(m,null,r);else{var w=v?v.next:d;m===e.effect.last&&(e.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),at(e,v,m),at(e,m,w),Mt(m,w,r),v=m,c=[],h=[],d=v.next;continue}if((m.f&Ir)!==0&&(Ca(m),o&&(m.nodes?.a?.unfix(),(y??=new Set).delete(m))),m!==d){if(g!==void 0&&g.has(m)){if(c.length<h.length){var D=h[0],T;v=D.prev;var S=c[0],j=c[c.length-1];for(T=0;T<c.length;T+=1)Mt(c[T],D,r);for(T=0;T<h.length;T+=1)g.delete(h[T]);at(e,S.prev,j.next),at(e,v,S),at(e,j,D),d=D,v=j,_-=1,c=[],h=[]}else g.delete(m),Mt(m,d,r),at(e,m.prev,m.next),at(e,m,v===null?e.effect.first:v.next),at(e,v,m),v=m;continue}for(c=[],h=[];d!==null&&d!==m;)(g??=new Set).add(d),h.push(d),d=d.next;if(d===null)continue}(m.f&rt)===0&&c.push(m),v=m,d=m.next}if(e.outrogroups!==null){for(const M of e.outrogroups)M.pending.size===0&&(Lr(qr(M.done)),e.outrogroups?.delete(M));e.outrogroups.size===0&&(e.outrogroups=null)}if(d!==null||g!==void 0){var k=[];if(g!==void 0)for(m of g)(m.f&Ir)===0&&k.push(m);for(;d!==null;)(d.f&Ir)===0&&d!==e.fallback&&k.push(d),d=d.next;var I=k.length;if(I>0){var A=(a&Pa)!==0&&s===0?r:null;if(o){for(_=0;_<I;_+=1)k[_].nodes?.a?.measure();for(_=0;_<I;_+=1)k[_].nodes?.a?.fix()}xo(e,k,A)}}o&&Rt(()=>{if(y!==void 0)for(m of y)m.nodes?.a?.apply()})}function wo(e,t,r,a,i,o,s,f){var d=(s&jn)!==0?(s&Cn)===0?On(r,!1,!1):sa(r):null,g=(s&Mn)!==0?sa(i):null;return{v:d,i:g,e:Rr(()=>(o(t,d??r,g??i,f),()=>{e.delete(a)}))}}function Mt(e,t,r){if(e.nodes)for(var a=e.nodes.start,i=e.nodes.end,o=t&&(t.f&rt)===0?t.nodes.start:r;a!==null;){var s=Pn(a);if(o.before(a),a===i)return;a=s}}function at(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const ko=()=>performance.now(),tt={tick:e=>requestAnimationFrame(e),now:()=>ko(),tasks:new Set};function Va(){const e=tt.now();tt.tasks.forEach(t=>{t.c(e)||(tt.tasks.delete(t),t.f())}),tt.tasks.size!==0&&tt.tick(Va)}function To(e){let t;return tt.tasks.size===0&&tt.tick(Va),{promise:new Promise(r=>{tt.tasks.add(t={c:e,f:r})}),abort(){tt.tasks.delete(t)}}}function Jt(e,t){La(()=>{e.dispatchEvent(new CustomEvent(t))})}function Do(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function va(e){const t={},r=e.split(";");for(const a of r){const[i,o]=a.split(":");if(!i||o===void 0)break;const s=Do(i.trim());t[s]=o.trim()}return t}const Eo=e=>e;function Za(e,t,r){var a=Na,i=a.nodes,o,s,f,d=null;i.a??={element:e,measure(){o=this.element.getBoundingClientRect()},apply(){if(f?.abort(),s=this.element.getBoundingClientRect(),o.left!==s.left||o.right!==s.right||o.top!==s.top||o.bottom!==s.bottom){const g=t()(this.element,{from:o,to:s},r?.());f=or(this.element,g,void 0,1,()=>{f?.abort(),f=void 0})}},fix(){if(!e.getAnimations().length){var{position:g,width:v,height:y}=getComputedStyle(e);if(g!=="absolute"&&g!=="fixed"){var c=e.style;d={position:c.position,width:c.width,height:c.height,transform:c.transform},c.position="absolute",c.width=v,c.height=y;var h=e.getBoundingClientRect();if(o.left!==h.left||o.top!==h.top){var b=`translate(${o.left-h.left}px, ${o.top-h.top}px)`;c.transform=c.transform?`${c.transform} ${b}`:b}}}},unfix(){if(d){var g=e.style;g.position=d.position,g.width=d.width,g.height=d.height,g.transform=d.transform}}},i.a.element=e}function He(e,t,r,a){var i=(e&zn)!==0,o="both",s,f=t.inert,d=t.style.overflow,g,v;function y(){return La(()=>s??=r()(t,a?.()??{},{direction:o}))}var c={is_global:i,in(){t.inert=f,Jt(t,"introstart"),g=or(t,y(),v,1,()=>{Jt(t,"introend"),g?.abort(),g=s=void 0,t.style.overflow=d})},out(m){t.inert=!0,Jt(t,"outrostart"),v=or(t,y(),g,0,()=>{Jt(t,"outroend"),m?.()})},stop:()=>{g?.abort(),v?.abort()}},h=Na;if((h.nodes.t??=[]).push(c),_n){var b=i;if(!b){for(var p=h.parent;p&&(p.f&Fn)!==0;)for(;(p=p.parent)&&(p.f&Bn)===0;);b=!p||(p.f&Wn)!==0}b&&Ra(()=>{Kr(()=>c.in())})}}function or(e,t,r,a,i){var o=a===1;if(Gn(t)){var s,f=!1;return Rt(()=>{if(!f){var m=t({direction:o?"in":"out"});s=or(e,m,r,a,i)}}),{abort:()=>{f=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return i(),{abort:Ot,deactivate:Ot,reset:Ot,t:()=>a};const{delay:d=0,css:g,tick:v,easing:y=Eo}=t;var c=[];if(o&&r===void 0&&(v&&v(0,1),g)){var h=va(g(0,1));c.push(h,h)}var b=()=>1-a,p=e.animate(c,{duration:d,fill:"forwards"});return p.onfinish=()=>{p.cancel();var m=r?.t()??1-a;r?.abort();var _=a-m,w=t.duration*Math.abs(_),D=[];if(w>0){var T=!1;if(g)for(var S=Math.ceil(w/16.666666666666668),j=0;j<=S;j+=1){var k=m+_*y(j/S),I=va(g(k,1-k));D.push(I),T||=I.overflow==="hidden"}T&&(e.style.overflow="hidden"),b=()=>{var A=p.currentTime;return m+_*y(A/w)},v&&To(()=>{if(p.playState!=="running")return!1;var A=b();return v(A,1-A),!0})}p=e.animate(D,{duration:w,fill:"forwards"}),p.onfinish=()=>{b=()=>a,v?.(a,1-a),i()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=Ot)},deactivate:()=>{i=Ot},reset:()=>{a===0&&v?.(1,0)},t:()=>b()}}function Ya(e,t,r){Ra(()=>{var a=Kr(()=>t(e,r?.())||{});if(r&&a?.update){var i=!1,o={};Xr(()=>{var s=r();Un(s),i&&Hn(o,s)&&(o=s,a.update(s))}),i=!0}if(a?.destroy)return()=>a.destroy()})}const fa=[...` 	
\r\fÂ \v\uFEFF`];function Ao(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var i in r)if(r[i])a=a?a+" "+i:i;else if(a.length)for(var o=i.length,s=0;(s=a.indexOf(i,s))>=0;){var f=s+o;(s===0||fa.includes(a[s-1]))&&(f===a.length||fa.includes(a[f]))?a=(s===0?"":a.substring(0,s))+a.substring(f+1):s=f}}return a===""?null:a}function ba(e,t=!1){var r=t?" !important;":";",a="";for(var i in e){var o=e[i];o!=null&&o!==""&&(a+=" "+i+": "+o+r)}return a}function Or(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Io(e,t){if(t){var r="",a,i;if(Array.isArray(t)?(a=t[0],i=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,f=!1,d=[];a&&d.push(...Object.keys(a).map(Or)),i&&d.push(...Object.keys(i).map(Or));var g=0,v=-1;const p=e.length;for(var y=0;y<p;y++){var c=e[y];if(f?c==="/"&&e[y-1]==="*"&&(f=!1):o?o===c&&(o=!1):c==="/"&&e[y+1]==="*"?f=!0:c==='"'||c==="'"?o=c:c==="("?s++:c===")"&&s--,!f&&o===!1&&s===0){if(c===":"&&v===-1)v=y;else if(c===";"||y===p-1){if(v!==-1){var h=Or(e.substring(g,v).trim());if(!d.includes(h)){c!==";"&&y++;var b=e.substring(g,y).trim();r+=" "+b+";"}}g=y+1,v=-1}}}}return a&&(r+=ba(a)),i&&(r+=ba(i,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function ne(e,t,r,a,i,o){var s=e.__className;if(Me||s!==r||s===void 0){var f=Ao(r,a,o);(!Me||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):e.className=f),e.__className=r}else if(o&&i!==o)for(var d in o){var g=!!o[d];(i==null||g!==!!i[d])&&e.classList.toggle(d,g)}return o}function Sr(e,t={},r,a){for(var i in r){var o=r[i];t[i]!==o&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,a))}}function Ut(e,t,r,a){var i=e.__style;if(Me||i!==t){var o=Io(t,a);(!Me||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}else a&&(Array.isArray(a)?(Sr(e,r?.[0],a[0]),Sr(e,r?.[1],a[1],"important")):Sr(e,r,a));return a}const Oo=Symbol("is custom element"),So=Symbol("is html");function it(e){if(Me){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;Fr(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var i=e.checked;Fr(e,"checked",null),e.checked=i}}};e.__on_r=r,Rt(r),Vn()}}function jo(e,t){var r=qa(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Fr(e,t,r,a){var i=qa(e);Me&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=r)&&(t==="loading"&&(e[Zn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Co(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function qa(e){return e.__attributes??={[Oo]:e.nodeName.includes("-"),[So]:e.namespaceURI===Yn}}var ga=new Map;function Co(e){var t=e.getAttribute("is")||e.nodeName,r=ga.get(t);if(r)return r;ga.set(t,r=[]);for(var a,i=e,o=Element.prototype;o!==i;){a=Kn(i);for(var s in a)a[s].set&&r.push(s);i=qn(i)}return r}function Jr(e,t,r=t){var a=new WeakSet;Fa(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=Cr(e)?Mr(o):o,r(o),xt!==null&&a.add(xt),await Xn(),o!==(o=t())){var s=e.selectionStart,f=e.selectionEnd,d=e.value.length;if(e.value=o??"",f!==null){var g=e.value.length;s===f&&f===d&&g>d?(e.selectionStart=g,e.selectionEnd=g):(e.selectionStart=s,e.selectionEnd=Math.min(f,g))}}}),(Me&&e.defaultValue!==e.value||Kr(t)==null&&e.value)&&(r(Cr(e)?Mr(e.value):e.value),xt!==null&&a.add(xt)),Xr(()=>{var i=t();if(e===document.activeElement){var o=Jn??xt;if(a.has(o))return}Cr(e)&&i===Mr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const jr=new Set;function ir(e,t,r,a,i=a){var o=r.getAttribute("type")==="checkbox",s=e;let f=!1;if(t!==null)for(var d of t)s=s[d]??=[];s.push(r),Fa(r,"change",()=>{var g=r.__value;o&&(g=pa(s,g,r.checked)),i(g)},()=>i(o?[]:null)),Xr(()=>{var g=a();if(Me&&r.defaultChecked!==r.checked){f=!0;return}o?(g=g||[],r.checked=g.includes(r.__value)):r.checked=Qn(r.__value,g)}),$n(()=>{var g=s.indexOf(r);g!==-1&&s.splice(g,1)}),jr.has(s)||(jr.add(s),Rt(()=>{s.sort((g,v)=>g.compareDocumentPosition(v)===4?-1:1),jr.delete(s)})),Rt(()=>{if(f){var g;if(o)g=pa(s,g,r.checked);else{var v=s.find(y=>y.checked);g=v?.__value}i(g)}})}function pa(e,t,r){for(var a=new Set,i=0;i<e.length;i+=1)e[i].checked&&a.add(e[i].__value);return r||a.delete(t),Array.from(a)}function Cr(e){var t=e.type;return t==="number"||t==="range"}function Mr(e){return e===""?null:+e}const St={regular:{sev1:"Core to who I am or want to become",sev2:"Significant progress toward a major goal",sev3:"Meaningful but not defining",sev4:"Nice to do, no real deadline",sev5:"Pure exploration or fun"},maintenance:{sev1:"Immediate risk if ignored (safety, legal, financial)",sev2:"Disrupts daily life if neglected",sev3:"Routine upkeep, flexible timing",sev4:"Minor improvement, no consequences",sev5:"Cosmetic or nice-to-have"}},Mo=["ðŸ’¼","ðŸ ","ðŸ’ª","ðŸ“š","ðŸ’°","â¤ï¸","ðŸŽ¯","ðŸš€","ðŸŽ¨","ðŸŽµ","âœˆï¸","ðŸŽ","ðŸ§˜","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ“±","ðŸ’»","ðŸ”§","ðŸ“","ðŸŽ“","ðŸƒ","ðŸ§ ","ðŸŒ±","â­","ðŸ”¥","ðŸ’¡","ðŸŽ®","ðŸ“¸","ðŸ›’","ðŸ¦","ðŸš—","ðŸ‹ï¸"];_e(["click","keydown"]);var Po=L('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),No=L('<nav class="pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav>');function Ro(e,t){ye(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var a=No();Oe(a,21,()=>r,Re,(i,o)=>{var s=Po();let f;s.__click=()=>t.onTabChange(n(o).id);let d;var g=u(s),v=u(g,!0);l(g);var y=x(g,2),c=u(y,!0);l(y),l(s),K(()=>{f=ne(s,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,f,{"text-primary":t.activeTab===n(o).id,"text-base-content":t.activeTab!==n(o).id}),d=Ut(s,"",d,{opacity:t.activeTab===n(o).id?1:.4}),B(v,n(o).icon),B(c,n(o).label)}),E(i,s)}),l(a),E(e,a),we()}_e(["click"]);const Lo=e=>e;function Fo(e){const t=e-1;return t*t*t+1}function ma(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function At(e,{delay:t=0,duration:r=400,easing:a=Lo}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:o=>`opacity: ${o*i}`}}function It(e,{delay:t=0,duration:r=400,easing:a=Fo,x:i=0,y:o=0,opacity:s=0}={}){const f=getComputedStyle(e),d=+f.opacity,g=f.transform==="none"?"":f.transform,v=d*(1-s),[y,c]=ma(i),[h,b]=ma(o);return{delay:t,duration:r,easing:a,css:(p,m)=>`
			transform: ${g} translate(${(1-p)*y}${c}, ${(1-p)*h}${b});
			opacity: ${d-v*m}`}}var Bo=L('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),Wo=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function zo(e,t){ye(t,!0);let r=X(!1),a=X(null);function i(c,h,b,p){c.stopPropagation(),O(a,{task:h,project:b,area:p},!0),O(r,!0)}function o(){O(r,!1),O(a,null)}function s(){return ro(t.currentWeekOf).map(c=>({date:c,dayName:Ba(c),isToday:ao(c)}))}async function f(c){if(!n(a))return;const{task:h,project:b,area:p}=n(a);o();const m=t.isTaskAssignedToDay(h.id);m===c?await er(h.id,b.id,t.currentWeekOf,c):(m&&await er(h.id,b.id,t.currentWeekOf,m),await to(h.id,b.id,p.id,h.name,t.currentWeekOf,c,!1))}var d={openDayPicker:i},g=de(),v=oe(g);{var y=c=>{var h=Wo(),b=u(h);b.__click=o,b.__keydown=I=>I.key==="Escape"&&o();var p=x(b,2),m=u(p),_=u(m),w=x(u(_),2),D=u(w,!0);l(w),l(_);var T=x(_,2);T.__click=o,l(m);var S=x(m,2);Oe(S,21,s,Re,(I,A)=>{const M=$(()=>t.isTaskAssignedToDay(n(a).task.id)===n(A).date);var F=Bo();F.__click=()=>f(n(A).date);var H=u(F),G=u(H,!0);l(H);var U=x(H,2),P=u(U,!0);l(U),l(F),K(W=>{ne(F,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${n(M)?"bg-primary text-primary-content border-primary":n(A).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),B(G,n(A).dayName),B(P,W)},[()=>n(A).date.split("-")[2]]),E(I,F)}),l(S);var j=x(S,2),k=u(j);k.__click=()=>{const I=t.isTaskAssignedToDay(n(a).task.id);I&&er(n(a).task.id,n(a).project.id,t.currentWeekOf,I),o()},l(j),l(p),l(h),K(()=>B(D,n(a).task.name)),He(3,b,()=>At,()=>({duration:200})),He(3,p,()=>It,()=>({y:300,duration:300})),E(c,h)};Y(v,c=>{n(r)&&n(a)&&c(y)})}return E(e,g),we(d)}_e(["click","keydown"]);function ha(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ha(Object(r),!0).forEach(function(a){Tt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ha(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yt(e){"@babel/helpers - typeof";return yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(e)}function Tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Go(e,t){if(e==null)return{};var r={},a=Object.keys(e),i,o;for(o=0;o<a.length;o++)i=a[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Uo(e,t){if(e==null)return{};var r=Go(e,t),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ho(e,t){return Zo(e)||qo(e,t)||Qr(e,t)||Xo()}function Ue(e){return Vo(e)||Yo(e)||Qr(e)||Ko()}function Vo(e){if(Array.isArray(e))return Br(e)}function Zo(e){if(Array.isArray(e))return e}function Yo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qo(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],i=!0,o=!1,s,f;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));i=!0);}catch(d){o=!0,f=d}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw f}}return a}}function Qr(e,t){if(e){if(typeof e=="string")return Br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Br(e,t)}}function Br(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ko(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ht(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Qr(e))||t){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,f;return{s:function(){r=r.call(e)},n:function(){var d=r.next();return o=d.done,d},e:function(d){s=!0,f=d},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw f}}}}var Jo="finalize",Qo="consider";function Dt(e,t,r){e.dispatchEvent(new CustomEvent(Jo,{detail:{items:t,info:r}}))}function lt(e,t,r){e.dispatchEvent(new CustomEvent(Qo,{detail:{items:t,info:r}}))}var br="draggedEntered",Vt="draggedLeft",gr="draggedOverIndex",$r="draggedLeftDocument",lr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function $o(e,t,r){e.dispatchEvent(new CustomEvent(br,{detail:{indexObj:t,draggedEl:r}}))}function ei(e,t,r){e.dispatchEvent(new CustomEvent(Vt,{detail:{draggedEl:t,type:lr.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function ti(e,t){e.dispatchEvent(new CustomEvent(Vt,{detail:{draggedEl:t,type:lr.OUTSIDE_OF_ANY}}))}function ri(e,t,r){e.dispatchEvent(new CustomEvent(gr,{detail:{indexObj:t,draggedEl:r}}))}function ai(e){window.dispatchEvent(new CustomEvent($r,{detail:{draggedEl:e}}))}var je={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:br,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:gr,DRAGGED_LEFT:Vt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Ne={POINTER:"pointer",KEYBOARD:"keyboard"},pr="isDndShadowItem",mr="data-is-dnd-shadow-item-internal",ni="data-is-dnd-shadow-item-hint",Ka="id:dnd-shadow-placeholder-0000",oi="dnd-action-dragged-el",he="id",Wr=0;function Xa(){Wr++}function Ja(){if(Wr===0)throw new Error("Bug! trying to decrement when there are no dropzones");Wr--}var ea=typeof window>"u";function zr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?li(e):e.getBoundingClientRect(),i=getComputedStyle(e),o=i.transform;if(o){var s,f,d,g;if(o.startsWith("matrix3d("))r=o.slice(9,-1).split(/, /),s=+r[0],f=+r[5],d=+r[12],g=+r[13];else if(o.startsWith("matrix("))r=o.slice(7,-1).split(/, /),s=+r[0],f=+r[3],d=+r[4],g=+r[5];else return a;var v=i.transformOrigin,y=a.x-d-(1-s)*parseFloat(v),c=a.y-g-(1-f)*parseFloat(v.slice(v.indexOf(" ")+1)),h=s?a.width/s:e.offsetWidth,b=f?a.height/f:e.offsetHeight;return{x:y,y:c,width:h,height:b,top:c,right:y+h,bottom:c+b,left:y}}else return a}function Qa(e){var t=zr(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function $a(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function en(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function ii(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hr(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Ft(e){return en($a(e))}function _a(e,t){var r=Ft(e),a=Qa(t);return hr(r,a)}function xa(e,t){var r=Ft(e),a=Ft(t);return ii(r,a)}function si(e){var t=$a(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function li(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,i=!1,o=e.parentElement;o&&o!==document.body;){var s=window.getComputedStyle(o),f=s.overflowY,d=s.overflowX,g=f==="scroll"||f==="auto",v=d==="scroll"||d==="auto";if(g||v){var y=o.getBoundingClientRect();if(g){var c=Math.max(r.top,y.top),h=Math.min(r.bottom,y.bottom);(c!==r.top||h!==r.bottom)&&(a=!0),r.top=c,r.bottom=h}if(v){var b=Math.max(r.left,y.left),p=Math.min(r.right,y.right);(b!==r.left||p!==r.right)&&(i=!0),r.left=b,r.right=p}}o=o.parentElement}return a||i?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var wt;function ta(){wt=new Map}ta();function ci(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(mr)});if(t>=0)return wt.has(e)||wt.set(e,new Map),wt.get(e).set(t,Qa(e.children[t])),t}function di(e,t){if(!_a(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=ci(t),i=0;i<r.length;i++)if(_a(e,r[i])){var o=wt.has(t)&&wt.get(t).get(i);return o&&!hr(Ft(e),o)?{index:a,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var s=Number.MAX_VALUE,f=void 0,d=0;d<r.length;d++){var g=xa(e,r[d]);g<s&&(s=g,f=d)}if(r.length>0){var v=r.length,y=r[v-1],c=y.cloneNode(!1);c.style.visibility="hidden",c.style.pointerEvents="none",t.appendChild(c);var h=xa(e,c);h<s&&(f=v),t.removeChild(c)}return{index:f,isProximityBased:!0}}function jt(e){return JSON.stringify(e,null,2)}function cr(e){if(!e)throw new Error("cannot get depth of a falsy node");return tn(e,0)}function tn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?tn(e.parentElement,t+1):t-1}function ui(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function vi(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var fi=200,ya=10,Gr;function bi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fi,a=arguments.length>3?arguments[3]:void 0,i,o,s=!1,f,d=Array.from(t).sort(function(v,y){return cr(y)-cr(v)});function g(){var v=Ft(e),y=a.multiScrollIfNeeded();if(!y&&f&&Math.abs(f.x-v.x)<ya&&Math.abs(f.y-v.y)<ya){Gr=window.setTimeout(g,r);return}if(si(e)){ai(e);return}f=v;var c=!1,h=Ht(d),b;try{for(h.s();!(b=h.n()).done;){var p=b.value;y&&ta();var m=di(e,p);if(m!==null){var _=m.index;c=!0,p!==i?(i&&ei(i,e,p),$o(p,m,e),i=p):_!==o&&(ri(p,m,e),o=_);break}}}catch(w){h.e(w)}finally{h.f()}!c&&s&&i?(ti(i,e),i=void 0,o=void 0,s=!1):s=!0,Gr=window.setTimeout(g,r)}g()}function gi(){clearTimeout(Gr),ta()}var Ct=30;function pi(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(o){var s=e,f=s.directionObj,d=s.stepPx;f&&(o.scrollBy(f.x*d,f.y*d),window.requestAnimationFrame(function(){return r(o)}))}function a(o){return Ct-o}function i(o,s){if(!s)return!1;var f=mi(o,s),d=!!e.directionObj;if(f===null)return d&&t(),!1;var g=!1,v=!1;return s.scrollHeight>s.clientHeight&&(f.bottom<Ct?(g=!0,e.directionObj={x:0,y:1},e.stepPx=a(f.bottom)):f.top<Ct&&(g=!0,e.directionObj={x:0,y:-1},e.stepPx=a(f.top)),!d&&g)||s.scrollWidth>s.clientWidth&&(f.right<Ct?(v=!0,e.directionObj={x:1,y:0},e.stepPx=a(f.right)):f.left<Ct&&(v=!0,e.directionObj={x:-1,y:0},e.stepPx=a(f.left)),!d&&v)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function mi(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return hr(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function hi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=xi(e),a=Array.from(r).sort(function(d,g){return cr(g)-cr(d)}),i=pi(),o=i.scrollIfNeeded,s=i.resetScrolling;function f(){var d=t();if(!d||!a)return!1;for(var g=a.filter(function(c){return hr(d,c.getBoundingClientRect())||c===document.scrollingElement}),v=0;v<g.length;v++){var y=o(d,g[v]);if(y)return!0}return!1}return{multiScrollIfNeeded:r.size>0?f:function(){return!1},destroy:function(){return s()}}}function _i(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),i=a.overflow;i.split(" ").some(function(o){return o.includes("auto")||o.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function xi(e){var t=new Set,r=Ht(e),a;try{for(r.s();!(a=r.n()).done;){var i=a.value;_i(i).forEach(function(o){return t.add(o)})}}catch(o){r.e(o)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function yi(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",i=a?[e]:Ue(e.querySelectorAll("select")),o=Ht(i),s;try{for(o.s();!(s=o.n()).done;){var f=s.value;r.push(f.value)}}catch(D){o.e(D)}finally{o.f()}if(i.length>0)for(var d=a?[t]:Ue(t.querySelectorAll("select")),g=0;g<d.length;g++){var v=d[g],y=r[g],c=v.querySelector('option[value="'.concat(y,'"'));c&&c.setAttribute("selected",!0)}var h=e.tagName==="CANVAS",b=h?[e]:Ue(e.querySelectorAll("canvas"));if(b.length>0)for(var p=h?[t]:Ue(t.querySelectorAll("canvas")),m=0;m<p.length;m++){var _=b[m],w=p[m];w.width=_.width,w.height=_.height,_.width>0&&_.height>0&&w.getContext("2d").drawImage(_,0,0)}return t}var Bt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),wi=Tt({},Bt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function rn(e){if(!Bt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Bt)));return wi[e]}var ki=.2;function ut(e){return"".concat(e," ").concat(ki,"s ease")}function Ti(e,t){var r=e.getBoundingClientRect(),a=yi(e);an(e,a),a.id=oi,a.style.position="fixed";var i=r.top,o=r.left;if(a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px"),t){var s=en(r);i-=s.y-t.y,o-=s.x-t.x,window.setTimeout(function(){a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(ut("top"),", ").concat(ut("left"),", ").concat(ut("background-color"),", ").concat(ut("opacity"),", ").concat(ut("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(ut("width"),", ").concat(ut("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function Di(e){e.style.cursor="grab"}function Ei(e,t,r,a){an(t,e);var i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),s=i.width-o.width,f=i.height-o.height;if(s||f){var d={left:(r-o.left)/o.width,top:(a-o.top)/o.height};rn(Bt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-d.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-d.top*f,"px")}}function an(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||rn(Bt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function Ai(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function nn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Ii(e){e.style.visibility="hidden",e.setAttribute(mr,"true")}function Oi(e){e.style.visibility="",e.removeAttribute(mr)}function tr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var i=t(a);Object.keys(i).forEach(function(o){a.style[o]=i[o]}),r(a).forEach(function(o){return a.classList.add(o)})})}function dr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var i=t(a);Object.keys(i).forEach(function(o){a.style[o]=""}),r(a).forEach(function(o){return a.classList.contains(o)&&a.classList.remove(o)})})}function Si(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var ji="--any--",Ci=100,Mi=20,Qt=3,Pi=80,wa={outline:"rgba(255, 255, 102, 0.7) solid 2px"},ka="data-is-dnd-original-dragged-item",Ce,xe,Pe,_r,ve,xr,st,Ee,Xe,Ae,nt=!1,ra=!1,aa,Zt=!1,rr=[],Nt,Je,Pt=!1,qe=new Map,fe=new Map,Pr=new WeakMap;function Ni(e,t){qe.has(t)||qe.set(t,new Set),qe.get(t).has(e)||(qe.get(t).add(e),Xa())}function Ta(e,t){qe.get(t).delete(e),Ja(),qe.get(t).size===0&&qe.delete(t)}function Ri(){var e=qe.get(_r),t=Ht(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(br,on),a.addEventListener(Vt,sn),a.addEventListener(gr,ln)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener($r,Et);var i=Math.max.apply(Math,Ue(Array.from(e.keys()).map(function(s){return fe.get(s).dropAnimationDurationMs}))),o=i===0?Mi:Math.max(i,Ci);Nt=hi(e,function(){return Ae}),bi(xe,e,o*1.07,Nt)}function Li(){var e=qe.get(_r),t=Ht(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(br,on),a.removeEventListener(Vt,sn),a.removeEventListener(gr,ln)}}catch(i){t.e(i)}finally{t.f()}window.removeEventListener($r,Et),Nt&&(Nt.destroy(),Nt=void 0),gi()}function yr(e){return e.findIndex(function(t){return!!t[pr]})}function Fi(e){var t;return sr(sr({},e),{},(t={},Tt(t,pr,!0),Tt(t,he,Ka),t))}function on(e){var t=fe.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve)){if(Zt=!1,r=r.filter(function(f){return f[he]!==st[he]&&f[he]!==Ka}),ve!==e.currentTarget){var i=fe.get(ve).items,o=i.filter(function(f){return!f[pr]});lt(ve,o,{trigger:je.DRAGGED_ENTERED_ANOTHER,id:Pe[he],source:Ne.POINTER})}var s=e.detail.indexObj.index;Ee=e.currentTarget,r.splice(s,0,st),lt(e.currentTarget,r,{trigger:je.DRAGGED_ENTERED,id:Pe[he],source:Ne.POINTER})}}function sn(e){if(nt){var t=fe.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve&&e.currentTarget!==Ee)){var i=Ue(r),o=yr(i);o!==-1&&i.splice(o,1);var s=Ee;Ee=void 0;var f=e.detail,d=f.type,g=f.theOtherDz;if(d===lr.OUTSIDE_OF_ANY||d===lr.LEFT_FOR_ANOTHER&&g!==ve&&fe.get(g).dropFromOthersDisabled){Zt=!0,Ee=ve;var v=s===ve?i:Ue(fe.get(ve).items);v.splice(xr,0,st),lt(ve,v,{trigger:je.DRAGGED_LEFT_ALL,id:Pe[he],source:Ne.POINTER})}lt(e.currentTarget,i,{trigger:je.DRAGGED_LEFT,id:Pe[he],source:Ne.POINTER})}}}function ln(e){var t=fe.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve)){var i=Ue(r);Zt=!1;var o=e.detail.indexObj.index,s=yr(i);s!==-1&&i.splice(s,1),i.splice(o,0,st),lt(e.currentTarget,i,{trigger:je.DRAGGED_OVER_INDEX,id:Pe[he],source:Ne.POINTER})}}function ur(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Ae={x:t.clientX,y:t.clientY},xe.style.transform="translate3d(".concat(Ae.x-Xe.x,"px, ").concat(Ae.y-Xe.y,"px, 0)")}function Et(){ra=!0,window.removeEventListener("mousemove",ur),window.removeEventListener("touchmove",ur),window.removeEventListener("mouseup",Et),window.removeEventListener("touchend",Et),Li(),Di(xe),Ee||(Ee=ve);var e=fe.get(Ee),t=e.items,r=e.type;dr(qe.get(r),function(o){return fe.get(o).dropTargetStyle},function(o){return fe.get(o).dropTargetClasses});var a=yr(t);a===-1&&Ee===ve&&(a=xr),t=t.map(function(o){return o[pr]?Pe:o});function i(){aa(),Dt(Ee,t,{trigger:Zt?je.DROPPED_OUTSIDE_OF_ANY:je.DROPPED_INTO_ZONE,id:Pe[he],source:Ne.POINTER}),Ee!==ve&&Dt(ve,fe.get(ve).items,{trigger:je.DROPPED_INTO_ANOTHER,id:Pe[he],source:Ne.POINTER});var o=Array.from(Ee.children).find(function(s){return s.getAttribute(mr)});o&&Oi(o),zi()}fe.get(Ee).dropAnimationDisabled?i():Bi(a,i)}function Bi(e,t){var r=e>-1?zr(Ee.children[e],!1):zr(Ee,!1),a={x:r.left-parseFloat(xe.style.left),y:r.top-parseFloat(xe.style.top)},i=fe.get(Ee),o=i.dropAnimationDurationMs,s="transform ".concat(o,"ms ease");xe.style.transition=xe.style.transition?xe.style.transition+","+s:s,xe.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,o)}function Wi(e,t){rr.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){nn(e),document.body.appendChild(e)})}function zi(){xe&&xe.remove&&xe.remove(),Ce&&Ce.remove&&Ce.remove(),xe=void 0,Ce=void 0,Pe=void 0,_r=void 0,ve=void 0,xr=void 0,st=void 0,Ee=void 0,Xe=void 0,Ae=void 0,nt=!1,ra=!1,aa=void 0,Zt=!1,Je&&clearTimeout(Je),Je=void 0,Pt=!1,rr.length&&(rr.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),rr=[])}function Gi(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:wa,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function o(){window.addEventListener("mousemove",d,{passive:!1}),window.addEventListener("touchmove",d,{passive:!1,capture:!1}),window.addEventListener("mouseup",f,{passive:!1}),window.addEventListener("touchend",f,{passive:!1})}function s(){window.removeEventListener("mousemove",d),window.removeEventListener("touchmove",d),window.removeEventListener("mouseup",f),window.removeEventListener("touchend",f),Je&&(clearTimeout(Je),Je=void 0,Pt=!1)}function f(c){if(s(),Ce=void 0,Xe=void 0,Ae=void 0,c.type==="touchend"){var h=new Event("click",{bubbles:!0,cancelable:!0});c.target.dispatchEvent(h)}}function d(c){var h=!!c.touches,b=h?c.touches[0]:c;if(h&&a.delayTouchStartMs>0&&!Pt){Ae={x:b.clientX,y:b.clientY},(Math.abs(Ae.x-Xe.x)>=Qt||Math.abs(Ae.y-Xe.y)>=Qt)&&(Je&&(clearTimeout(Je),Je=void 0),f(c));return}c.preventDefault(),Ae={x:b.clientX,y:b.clientY},(Math.abs(Ae.x-Xe.x)>=Qt||Math.abs(Ae.y-Xe.y)>=Qt)&&(s(),v())}function g(c){if(!(c.target!==c.currentTarget&&(c.target.value!==void 0||c.target.isContentEditable))&&!c.button&&!nt){var h=!!c.touches,b=h&&a.delayTouchStartMs>0;b||c.preventDefault(),c.stopPropagation();var p=h?c.touches[0]:c;Xe={x:p.clientX,y:p.clientY},Ae=sr({},Xe),Ce=c.currentTarget,b&&(Pt=!1,Je=window.setTimeout(function(){Ce&&(Pt=!0,s(),v())},a.delayTouchStartMs)),o()}}function v(){nt=!0;var c=i.get(Ce);xr=c,ve=Ce.parentElement;var h=ve.closest("dialog")||ve.closest("[popover]")||ve.getRootNode(),b=h.body||h,p=a.items,m=a.type,_=a.centreDraggedOnCursor,w=Ue(p);Pe=w[c],_r=m,st=Fi(Pe),xe=Ti(Ce,_&&Ae),b.appendChild(xe);function D(){Ce.parentElement?window.requestAnimationFrame(D):(Ce.setAttribute(ka,!0),b.appendChild(Ce),Ri(),nn(Ce),st[he]=Pe[he],xe.focus())}window.requestAnimationFrame(D),tr(Array.from(qe.get(a.type)).filter(function(T){return T===ve||!fe.get(T).dropFromOthersDisabled}),function(T){return fe.get(T).dropTargetStyle},function(T){return fe.get(T).dropTargetClasses}),w.splice(c,1,st),aa=Si(ve),lt(ve,w,{trigger:je.DRAG_STARTED,id:Pe[he],source:Ne.POINTER}),window.addEventListener("mousemove",ur,{passive:!1}),window.addEventListener("touchmove",ur,{passive:!1,capture:!1}),window.addEventListener("mouseup",Et,{passive:!1}),window.addEventListener("touchend",Et,{passive:!1})}function y(c){var h=c.items,b=h===void 0?void 0:h,p=c.flipDurationMs,m=p===void 0?0:p,_=c.type,w=_===void 0?ji:_,D=c.dragDisabled,T=D===void 0?!1:D,S=c.morphDisabled,j=S===void 0?!1:S,k=c.dropFromOthersDisabled,I=k===void 0?!1:k,A=c.dropTargetStyle,M=A===void 0?wa:A,F=c.dropTargetClasses,H=F===void 0?[]:F,G=c.transformDraggedElement,U=G===void 0?function(){}:G,P=c.centreDraggedOnCursor,W=P===void 0?!1:P,z=c.dropAnimationDisabled,q=z===void 0?!1:z,N=c.delayTouchStart,C=N===void 0?!1:N;a.dropAnimationDurationMs=m;var R=0;C===!0?R=Pi:typeof C=="number"&&isFinite(C)&&C>=0&&(R=C),a.delayTouchStartMs=R,a.type&&w!==a.type&&Ta(e,a.type),a.type=w,a.items=Ue(b),a.dragDisabled=T,a.morphDisabled=j,a.transformDraggedElement=U,a.centreDraggedOnCursor=W,a.dropAnimationDisabled=q,r&&nt&&!ra&&(!ui(M,a.dropTargetStyle)||!vi(H,a.dropTargetClasses))&&(dr([e],function(){return a.dropTargetStyle},function(){return H}),tr([e],function(){return M},function(){return H})),a.dropTargetStyle=M,a.dropTargetClasses=Ue(H);function V(ae,pe){return fe.get(ae)?fe.get(ae)[pe]:a[pe]}r&&nt&&a.dropFromOthersDisabled!==I&&(I?dr([e],function(ae){return V(ae,"dropTargetStyle")},function(ae){return V(ae,"dropTargetClasses")}):tr([e],function(ae){return V(ae,"dropTargetStyle")},function(ae){return V(ae,"dropTargetClasses")})),a.dropFromOthersDisabled=I,fe.set(e,a),Ni(e,w);for(var Q=nt?yr(a.items):-1,ie=0;ie<e.children.length;ie++){var re=e.children[ie];if(Ai(re,T),ie===Q){j||Ei(xe,re,Ae.x,Ae.y),a.transformDraggedElement(xe,Pe,ie),Ii(re);continue}re.removeEventListener("mousedown",Pr.get(re)),re.removeEventListener("touchstart",Pr.get(re)),T||(re.addEventListener("mousedown",g),re.addEventListener("touchstart",g),Pr.set(re,g)),i.set(re,ie),r||(r=!0)}}return y(t),{update:function(h){y(h)},destroy:function(){function h(){Ta(e,fe.get(e).type),fe.delete(e)}nt&&!e.closest("[".concat(ka,"]"))?Wi(e,h):h()}}}var $t,Ur={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},cn=($t={},Tt($t,Ur.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Tt($t,Ur.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),$t),Ui="dnd-action-aria-alert",ge;function Hr(){ge||(ge=document.createElement("div"),(function(){ge.id=Ui,ge.style.position="fixed",ge.style.bottom="0",ge.style.left="0",ge.style.zIndex="-5",ge.style.opacity="0",ge.style.height="0",ge.style.width="0",ge.setAttribute("role","alert")})(),document.body.prepend(ge),Object.entries(cn).forEach(function(e){var t=Ho(e,2),r=t[0],a=t[1];return document.body.prepend(Zi(r,a))}))}function Hi(){return ea?null:(document.readyState==="complete"?Hr():window.addEventListener("DOMContentLoaded",Hr),sr({},Ur))}function Vi(){ea||!ge||(Object.keys(cn).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),ge.remove(),ge=void 0)}function Zi(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function kt(e){if(!ea){ge||Hr(),ge.innerHTML="";var t=document.createTextNode(e);ge.appendChild(t),ge.style.display="none",ge.style.display="inline"}}var Yi="--any--",Da={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ge=!1,Vr,Ie,gt="",vt,Qe,ot="",vr=new WeakSet,Ea=new WeakMap,Aa=new WeakMap,Zr=new Map,De=new Map,Ye=new Map,fr;function qi(e,t){Ye.size===0&&(fr=Hi(),window.addEventListener("keydown",dn),window.addEventListener("click",un)),Ye.has(t)||Ye.set(t,new Set),Ye.get(t).has(e)||(Ye.get(t).add(e),Xa())}function Ia(e,t){Ie===e&&Wt(),Ye.get(t).delete(e),Ja(),Ye.get(t).size===0&&Ye.delete(t),Ye.size===0&&(window.removeEventListener("keydown",dn),window.removeEventListener("click",un),fr=void 0,Vi())}function dn(e){if(Ge)switch(e.key){case"Escape":{Wt();break}}}function un(){Ge&&(vr.has(document.activeElement)||Wt())}function Ki(e){if(Ge){var t=e.currentTarget;if(t!==Ie){gt=t.getAttribute("aria-label")||"";var r=De.get(Ie),a=r.items,i=a.find(function(y){return y[he]===Qe}),o=a.indexOf(i),s=a.splice(o,1)[0],f=De.get(t),d=f.items,g=f.autoAriaDisabled;t.getBoundingClientRect().top<Ie.getBoundingClientRect().top||t.getBoundingClientRect().left<Ie.getBoundingClientRect().left?(d.push(s),g||kt("Moved item ".concat(ot," to the end of the list ").concat(gt))):(d.unshift(s),g||kt("Moved item ".concat(ot," to the beginning of the list ").concat(gt)));var v=Ie;Dt(v,a,{trigger:je.DROPPED_INTO_ANOTHER,id:Qe,source:Ne.KEYBOARD}),Dt(t,d,{trigger:je.DROPPED_INTO_ZONE,id:Qe,source:Ne.KEYBOARD}),Ie=t}}}function vn(){Zr.forEach(function(e,t){var r=e.update;return r(De.get(t))})}function Wt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;De.get(Ie).autoAriaDisabled||kt("Stopped dragging item ".concat(ot)),vr.has(document.activeElement)&&document.activeElement.blur(),e&&lt(Ie,De.get(Ie).items,{trigger:je.DRAG_STOPPED,id:Qe,source:Ne.KEYBOARD}),dr(Ye.get(Vr),function(t){return De.get(t).dropTargetStyle},function(t){return De.get(t).dropTargetClasses}),vt=null,Qe=null,ot="",Vr=null,Ie=null,gt="",Ge=!1,vn()}function Xi(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Da,dropTargetClasses:[],autoAriaDisabled:!1};function a(v,y,c){v.length<=1||v.splice(c,1,v.splice(y,1,v[c])[0])}function i(v){switch(v.key){case"Enter":case" ":{if((v.target.disabled!==void 0||v.target.href||v.target.isContentEditable)&&!vr.has(v.target))return;v.preventDefault(),v.stopPropagation(),Ge?Wt():o(v);break}case"ArrowDown":case"ArrowRight":{if(!Ge)return;v.preventDefault(),v.stopPropagation();var y=De.get(e),c=y.items,h=Array.from(e.children),b=h.indexOf(v.currentTarget);b<h.length-1&&(r.autoAriaDisabled||kt("Moved item ".concat(ot," to position ").concat(b+2," in the list ").concat(gt)),a(c,b,b+1),Dt(e,c,{trigger:je.DROPPED_INTO_ZONE,id:Qe,source:Ne.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Ge)return;v.preventDefault(),v.stopPropagation();var p=De.get(e),m=p.items,_=Array.from(e.children),w=_.indexOf(v.currentTarget);w>0&&(r.autoAriaDisabled||kt("Moved item ".concat(ot," to position ").concat(w," in the list ").concat(gt)),a(m,w,w-1),Dt(e,m,{trigger:je.DROPPED_INTO_ZONE,id:Qe,source:Ne.KEYBOARD}));break}}}function o(v){f(v.currentTarget),Ie=e,Vr=r.type,Ge=!0;var y=Array.from(Ye.get(r.type)).filter(function(h){return h===Ie||!De.get(h).dropFromOthersDisabled});if(tr(y,function(h){return De.get(h).dropTargetStyle},function(h){return De.get(h).dropTargetClasses}),!r.autoAriaDisabled){var c="Started dragging item ".concat(ot,". Use the arrow keys to move it within its list ").concat(gt);y.length>1&&(c+=", or tab to another list in order to move the item into it"),kt(c)}lt(e,De.get(e).items,{trigger:je.DRAG_STARTED,id:Qe,source:Ne.KEYBOARD}),vn()}function s(v){Ge&&v.currentTarget!==vt&&(v.stopPropagation(),Wt(!1),o(v))}function f(v){var y=De.get(e),c=y.items,h=Array.from(e.children),b=h.indexOf(v);vt=v,vt.tabIndex=r.zoneItemTabIndex,Qe=c[b][he],ot=h[b].getAttribute("aria-label")||""}function d(v){var y=v.items,c=y===void 0?[]:y,h=v.type,b=h===void 0?Yi:h,p=v.dragDisabled,m=p===void 0?!1:p,_=v.zoneTabIndex,w=_===void 0?0:_,D=v.zoneItemTabIndex,T=D===void 0?0:D,S=v.dropFromOthersDisabled,j=S===void 0?!1:S,k=v.dropTargetStyle,I=k===void 0?Da:k,A=v.dropTargetClasses,M=A===void 0?[]:A,F=v.autoAriaDisabled,H=F===void 0?!1:F;r.items=Ue(c),r.dragDisabled=m,r.dropFromOthersDisabled=j,r.zoneTabIndex=w,r.zoneItemTabIndex=T,r.dropTargetStyle=I,r.dropTargetClasses=M,r.autoAriaDisabled=H,r.type&&b!==r.type&&Ia(e,r.type),r.type=b,qi(e,b),H||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",m?fr.DND_ZONE_DRAG_DISABLED:fr.DND_ZONE_ACTIVE)),De.set(e,r),Ge?e.tabIndex=e===Ie||vt.contains(e)||r.dropFromOthersDisabled||Ie&&r.type!==De.get(Ie).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Ki);for(var G=function(W){var z=e.children[W];vr.add(z),z.tabIndex=Ge?-1:r.zoneItemTabIndex,H||z.setAttribute("role","listitem"),z.removeEventListener("keydown",Ea.get(z)),z.removeEventListener("click",Aa.get(z)),m||(z.addEventListener("keydown",i),Ea.set(z,i),z.addEventListener("click",s),Aa.set(z,s)),Ge&&r.items[W][he]===Qe&&(vt=z,vt.tabIndex=r.zoneItemTabIndex,z.focus())},U=0;U<e.children.length;U++)G(U)}d(t);var g={update:function(y){d(y)},destroy:function(){Ia(e,r.type),De.delete(e),Zr.delete(e)}};return Zr.set(e,g),g}var Ji=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function fn(e,t){if(Qi(e))return{update:function(){},destroy:function(){}};Oa(t);var r=Gi(e,t),a=Xi(e,t);return{update:function(o){Oa(o),r.update(o),a.update(o)},destroy:function(){r.destroy(),a.destroy()}}}function Qi(e){return!!e.closest("[".concat(ni,'="true"]'))}function Oa(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var i=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var o=e.delayTouchStart;e.dropAnimationDisabled;var s=Uo(e,Ji);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var f=t.find(function(v){return!{}.hasOwnProperty.call(v,he)});if(f)throw new Error("missing '".concat(he,"' property for item ").concat(jt(f)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(yt(i),", ").concat(jt(i)));if(r&&!Sa(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(yt(r),", ").concat(jt(r)));if(a&&!Sa(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(yt(a),", ").concat(jt(a)));if(o!==void 0&&o!==!1){var d=o===!0,g=typeof o=="number"&&isFinite(o)&&o>=0;if(!d&&!g)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(yt(o),", ").concat(jt(o)))}}function Sa(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function $i(e){const t=e-1;return t*t*t+1}function bn(e,{from:t,to:r},a={}){var{delay:i=0,duration:o=j=>Math.sqrt(j)*120,easing:s=$i}=a,f=getComputedStyle(e),d=f.transform==="none"?"":f.transform,[g,v]=f.transformOrigin.split(" ").map(parseFloat);g/=e.clientWidth,v/=e.clientHeight;var y=es(e),c=e.clientWidth/r.width/y,h=e.clientHeight/r.height/y,b=t.left+t.width*g,p=t.top+t.height*v,m=r.left+r.width*g,_=r.top+r.height*v,w=(b-m)*c,D=(p-_)*h,T=t.width/r.width,S=t.height/r.height;return{delay:i,duration:typeof o=="function"?o(Math.sqrt(w*w+D*D)):o,easing:s,css:(j,k)=>{var I=k*w,A=k*D,M=j+k*T,F=j+k*S;return`transform: ${d} translate(${I}px, ${A}px) scale(${M}, ${F});`}}}function es(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var ts=L('<span class="text-center text-xs font-semibold bg-purple-500/20 text-purple-400 rounded w-full h-full  items-center justify-center flex">1</span>'),rs=L('<span class="text-center text-xs font-semibold bg-red-500/20 text-red-400 rounded w-full h-full items-center justify-center flex">2</span>'),as=L('<span class="text-center text-xs font-semibold bg-yellow-500/20 text-yellow-400 rounded w-full h-full items-center justify-center flex">3</span>'),ns=L('<span class="text-center text-xs font-semibold bg-blue-500/20 text-blue-500 rounded w-full h-full items-center justify-center flex">4</span>'),os=L('<span class="text-center text-xs font-semibold bg-emerald-500/20 text-emerald-300 rounded w-full h-full items-center justify-center flex">5</span>');function Yr(e,t){var r=de(),a=oe(r);{var i=s=>{var f=ts();E(s,f)},o=s=>{var f=de(),d=oe(f);{var g=y=>{var c=rs();E(y,c)},v=y=>{var c=de(),h=oe(c);{var b=m=>{var _=as();E(m,_)},p=m=>{var _=de(),w=oe(_);{var D=S=>{var j=ns();E(S,j)},T=S=>{var j=os();E(S,j)};Y(w,S=>{t.level=="sev4"?S(D):S(T,!1)},!0)}E(m,_)};Y(h,m=>{t.level=="sev3"?m(b):m(p,!1)},!0)}E(y,c)};Y(d,y=>{t.level=="sev2"?y(g):y(v,!1)},!0)}E(s,f)};Y(a,s=>{t.level=="sev1"?s(i):s(o,!1)})}E(e,r)}var is=L('<div class="flex items-center gap-3 p-3 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content truncate"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div></div>'),ss=L('<div class="flex flex-col gap-2"></div>'),ls=L('<div class="h-1 bg-base-300"><div class="h-full bg-base-content/20 transition-all"></div></div>'),cs=L('<div class="bg-base-100 rounded-lg hover:bg-primary/20 cursor-pointer overflow-hidden" tabindex="0" role="button"><!> <div class="flex items-start gap-2 p-2"><span class="text-3xl"> </span> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content mb-1"> </p> <p class="text-xs"><span> </span> <span class="text-xs mx-0.5">â€¢</span> <span class="inline-flex size-5 mt-0.5"><!></span> <span class="text-xs mx-0.5">â€¢</span> <span class="text-base-content/50"> </span></p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),ds=L('<div class="flex flex-col gap-2"></div>'),us=L('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),vs=L('<div class="flex flex-col gap-2"><div class="flex justify-between items-center"><div class="text-xs tracking-wider text-base-content/50 uppercase">Assigned projects</div></div> <!></div>');function fs(e,t){ye(t,!0);const r=200;let a=$(()=>t.assignedProjects.map(b=>({...b,id:b.project.id}))),i=$(()=>t.filterCompleted?n(a).filter(b=>!["completed","cancelled"].includes(b.project.status)):n(a)),o=X(pt([]));mt(()=>{O(o,n(i),!0)});async function s(b,p){b.stopPropagation(),await Wa(p,t.currentWeekOf)}function f(b){const p=bt.getByProject(b),m=p.filter(w=>w.status==="active").length,_=p.filter(w=>w.status==="completed").length;return{active:m,completed:_,total:m+_}}function d(b){O(o,b.detail.items,!0)}function g(b){O(o,b.detail.items,!0);const{info:p}=b.detail,m=p.id,_=n(o).findIndex(j=>j.id===m);if(_===-1)return;const w=_>0?n(o)[_-1]:null,D=_<n(o).length-1?n(o)[_+1]:null;let T=null,S=null;if(w){const j=n(a).findIndex(k=>k.id===w.id);T=w.assignment.order,S=j<n(a).length-1?n(a)[j+1].assignment.order:null}else if(D){const j=n(a).findIndex(k=>k.id===D.id);T=j>0?n(a)[j-1].assignment.order:null,S=D.assignment.order}no(t.currentWeekOf,m,T,S)}var v=vs(),y=x(u(v),2);{var c=b=>{var p=de(),m=oe(p);{var _=D=>{var T=ss();Oe(T,29,()=>n(o),({id:S,project:j,area:k})=>S,(S,j)=>{let k=()=>n(j).project,I=()=>n(j).area;var A=is(),M=x(u(A),2),F=u(M),H=u(F,!0);l(F);var G=x(F,2),U=u(G,!0);l(G),l(M),l(A),K(()=>{B(H,k().name),B(U,I().name)}),Za(A,()=>bn,()=>({duration:r})),E(S,A)}),l(T),Ya(T,(S,j)=>fn?.(S,j),()=>({items:n(o),flipDurationMs:r,dropTargetStyle:{}})),ar("consider",T,d),ar("finalize",T,g),E(D,T)},w=D=>{var T=ds();Oe(T,21,()=>n(i),Re,(S,j)=>{let k=()=>n(j).project,I=()=>n(j).area;const A=$(()=>f(k().id)),M=$(()=>n(A).total>0?n(A).completed/n(A).total*100:0);var F=cs();F.__click=()=>t.navigateToTasks(k());var H=u(F);{var G=ke=>{var Le=ls(),Be=u(Le);l(Le),K(()=>Ut(Be,`width: ${n(M)??""}%`)),E(ke,Le)};Y(H,ke=>{n(A).total>0&&ke(G)})}var U=x(H,2),P=u(U),W=u(P,!0);l(P);var z=x(P,2),q=u(z),N=u(q,!0);l(q);var C=x(q,2),R=u(C),V=u(R);l(R);var Q=x(R,4),ie=u(Q);Yr(ie,{get level(){return k().severity}}),l(Q);var re=x(Q,4),ae=u(re,!0);l(re),l(C),l(z);var pe=x(z,2);pe.__click=ke=>s(ke,k().id),l(U),l(F),K(()=>{B(W,I().icon),B(N,k().name),ne(R,1,`inline-flex w-16 justify-center text-base-content/50 ${n(A).active==0?"text-error":""}`),B(V,`${n(A).active??""} available`),B(ae,I().name)}),E(S,F)}),l(T),E(D,T)};Y(m,D=>{t.reorderMode?D(_):D(w,!1)})}E(b,p)},h=b=>{var p=us();E(b,p)};Y(y,b=>{n(o).length>0?b(c):b(h,!1)})}l(v),E(e,v),we()}_e(["click"]);var bs=L('<span class="text-xs text-primary-content px-2 py-1 bg-primary rounded"> </span>'),gs=L('<button class="text-start flex items-center gap-3 p-3 bg-base-100 rounded-lg transition-all hover:bg-primary/20 cursor-pointer"><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-base-content/50"> </p></div> <!></button>'),ps=L('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),ms=L('<div class="flex flex-col gap-2"></div>');function hs(e,t){ye(t,!0);var r=ms();Oe(r,21,()=>t.weekTasks,Re,(a,i)=>{let o=()=>n(i).task,s=()=>n(i).project,f=()=>n(i).area;const d=$(()=>t.isTaskAssignedToDay(o().id));var g=gs();g.__click=_=>t.openDayPicker(_,o(),s(),f());var v=u(g),y=u(v),c=u(y,!0);l(y);var h=x(y,2),b=u(h);l(h),l(v);var p=x(v,2);{var m=_=>{var w=bs(),D=u(w,!0);l(w),K(T=>B(D,T),[()=>Ba(n(d))]),E(_,w)};Y(p,_=>{n(d)&&_(m)})}l(g),K(()=>{B(c,o().name),B(b,`${f().icon??""} ${s().name??""}`)}),E(a,g)},a=>{var i=ps();E(a,i)}),l(r),E(e,r),we()}_e(["click"]);var _s=ht('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg> Reorder',1),xs=L("<button><!></button>"),ys=L('<div class="flex flex-col h-full"><div class="bg-base-100 border-b border-b-base-content/10"><div class="flex ps-4 pe-2 pt-4 pb-2 flex-row justify-between items-center"><div><h2 class="text-lg font-medium">Week</h2> <p class="text-xs text-base-content/50"> </p></div> <div class="flex gap-2"><button> </button> <!></div></div> <div class="flex gap-1 px-4 pb-3"><button> </button> <button> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-4"><!></div></div> <!>',1);function ws(e,t){ye(t,!0);let r=X(localStorage.getItem("filterAssignedProject")=="true"),a=X(!1),i=()=>O(r,!n(r)),o=()=>O(a,!n(a));mt(()=>{localStorage.setItem("filterAssignedProject",n(r)+"")});let s=X(pt(localStorage.getItem("weekTabView")||"projects"));mt(()=>{n(s)&&localStorage.setItem("weekTabView",n(s))});let f=pt(zt());const d=$(()=>Gt.getWeek(f));let g;function v(N){return n(d)?n(d).tasksByDay.find(R=>R.taskId===N)?.date??null:null}let y=$(()=>n(d)?n(d).projectAssignments.map(N=>{const C=ft.getById(N.areaId);if(!C)return null;const V=$e.getByArea(C.id).find(Q=>Q.id===N.projectId);return V?{assignment:N,project:V,area:C}:null}).filter(N=>N!==null):[]),c=$(()=>{const N=[];for(const{project:C,area:R}of n(y)){const V=bt.getByProject(C.id).filter(Q=>Q.status==="active");for(const Q of V)N.push({task:Q,project:C,area:R})}return N});var h=ys(),b=oe(h),p=u(b),m=u(p),_=u(m),w=x(u(_),2),D=u(w,!0);l(w),l(_);var T=x(_,2),S=u(T);S.__click=i;var j=u(S);l(S);var k=x(S,2);{var I=N=>{var C=xs();C.__click=o;var R=u(C);{var V=ie=>{var re=ja("Done");E(ie,re)},Q=ie=>{var re=_s();nr(),E(ie,re)};Y(R,ie=>{n(a)?ie(V):ie(Q,!1)})}l(C),K(()=>ne(C,1,`btn btn-xs w-20 ${n(a)?"btn-primary":"btn-secondary btn-soft"}`)),E(N,C)};Y(k,N=>{n(y).length>1&&N(I)})}l(T),l(m);var A=x(m,2),M=u(A);M.__click=()=>O(s,"projects");var F=u(M);l(M);var H=x(M,2);H.__click=()=>O(s,"tasks");var G=u(H);l(H),l(A),l(p);var U=x(p,2),P=u(U);{var W=N=>{fs(N,{get reorderMode(){return n(a)},get filterCompleted(){return n(r)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return f},get assignedProjects(){return n(y)}})},z=N=>{hs(N,{get openDayPicker(){return g.openDayPicker},get weekTasks(){return n(c)},isTaskAssignedToDay:v})};Y(P,N=>{n(s)==="projects"?N(W):N(z,!1)})}l(U),l(b);var q=x(b,2);Lt(zo(q,{get currentWeekOf(){return f},isTaskAssignedToDay:v}),N=>g=N,()=>g),K(N=>{B(D,N),ne(S,1,`w-20 btn btn-xs ${n(r)?"btn-primary":"btn-secondary btn-soft"}`),B(j,`Filter :${n(r)?"ON":"OFF"}`),ne(M,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${n(s)==="projects"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),B(F,`Projects (${n(y).length??""})`),ne(H,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${n(s)==="tasks"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),B(G,`Tasks (${n(c).length??""})`)},[()=>oo(f)]),E(e,h),we()}_e(["click"]);var ks=L('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),Ts=L('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),Ds=L('<div class="flex flex-col gap-2"></div>'),Es=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="py-4 px-2 border-b border-base-content/10"><p class="font-medium text-base-content"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-2 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="flex gap-2"><label><input type="radio" name="action" class="radio radio-success radio-sm"/> <span class="text-sm">Completed</span></label> <label><input type="radio" name="action" class="radio radio-error radio-sm"/> <span class="text-sm">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function As(e,t){ye(t,!0);const r=[];let a=X("completed"),i=X(pt([]));mt(()=>{t.show&&(O(a,"completed"),O(i,[],!0))});function o(){O(i,[...n(i),""],!0)}function s(c){O(i,n(i).filter((h,b)=>b!==c),!0)}function f(c,h){O(i,n(i).map((b,p)=>p===c?h:b),!0)}async function d(){if(t.taskByDay){n(a)==="completed"?await za(t.taskByDay.taskId,t.taskByDay.projectId,t.weekOf,t.taskByDay.date):await io(t.taskByDay.taskId,t.taskByDay.projectId,t.weekOf,t.taskByDay.date);for(const c of n(i))c.trim()&&await Ga(t.taskByDay.projectId,t.taskByDay.areaId,c.trim());t.onClose()}}var g=de(),v=oe(g);{var y=c=>{var h=Es(),b=u(h);b.__click=function(...R){t.onClose?.apply(this,R)},b.__keydown=R=>R.key==="Escape"&&t.onClose();var p=x(b,2),m=u(p),_=u(m),w=u(_,!0);l(_);var D=x(_,2),T=u(D);l(D),l(m);var S=x(m,2),j=u(S),k=x(u(j),2),I=u(k),A=u(I);it(A),A.value=A.__value="completed",nr(2),l(I);var M=x(I,2),F=u(M);it(F),F.value=F.__value="cancelled",nr(2),l(M),l(k),l(j);var H=x(j,2),G=u(H),U=x(u(G),2);U.__click=o,l(G);var P=x(G,2);{var W=R=>{var V=ks();E(R,V)},z=R=>{var V=Ds();Oe(V,21,()=>n(i),Re,(Q,ie,re)=>{var ae=Ts(),pe=u(ae);it(pe),pe.__input=Le=>f(re,Le.currentTarget.value);var ke=x(pe,2);ke.__click=()=>s(re),l(ae),K(()=>jo(pe,n(ie))),E(Q,ae)}),l(V),E(R,V)};Y(P,R=>{n(i).length===0?R(W):R(z,!1)})}l(H),l(S);var q=x(S,2),N=u(q);N.__click=function(...R){t.onClose?.apply(this,R)};var C=x(N,2);C.__click=d,l(q),l(p),l(h),K(()=>{B(w,t.taskByDay.name),B(T,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),ne(I,1,`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border border-base-content/10 cursor-pointer hover:border-success ${n(a)==="completed"?"border-success bg-success/10":""}`),ne(M,1,`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border border-base-content/10 cursor-pointer hover:border-error ${n(a)==="cancelled"?"border-error bg-error/10":""}`)}),He(3,b,()=>At,()=>({duration:200})),ir(r,[],A,()=>n(a),R=>O(a,R)),ir(r,[],F,()=>n(a),R=>O(a,R)),He(3,p,()=>It,()=>({y:300,duration:300})),E(c,h)};Y(v,c=>{t.show&&t.taskByDay&&c(y)})}E(e,g),we()}_e(["click","keydown","input"]);var Is=ht('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg> Reorder',1),Os=L('<button type="button"><!></button>'),Ss=L('<div class="px-4 pb-3"><div class="flex items-center justify-between text-xs text-base-content/50 mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success transition-all rounded-full"></div></div></div>'),js=L('<div class="flex items-center gap-3 p-3 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate mb-2"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div></div>'),Cs=L('<div class="flex flex-col gap-2 mb-4"></div>'),Ms=L('<div class="flex items-start gap-3 p-3 bg-base-100 border border-transparent rounded-lg"><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm text-base-content mb-2"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),Ps=L('<div class="flex flex-col gap-2 mb-4"></div>'),Ns=L('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),Rs=L('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),Ls=ht('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Fs=ht('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Bs=L('<div class="flex items-center gap-3 p-3 opacity-50"><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),Ws=L('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),zs=L('<div class="flex flex-col h-full"><div class="px-4 pt-4 pb-2 flex justify-between items-start"><div><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-base-content/50"> </p></div> <div><!> <button>Tomorrow</button></div></div> <!> <div class="flex-1 overflow-y-auto px-3 pb-4"><!> <!></div></div> <!>',1);function Gs(e,t){ye(t,!0);const r=zt(),a=200,i=so(),o=lo();let s=X(!1),f=X(null),d=X(""),g=X(""),v=X(""),y=X(!1),c=X(!1),h=$(()=>n(c)?o:i);const b=()=>{O(y,!n(y))},p=()=>{O(c,!n(c))};let m=$(()=>{const Z=Gt.getWeek(r);return Z?Z.tasksByDay.filter(J=>J.date===n(h)).map(J=>{const ce=bt.getById(J.taskId),le=ft.getById(J.areaId),te=(le?$e.getByArea(le.id):[]).find(ee=>ee.id===J.projectId);return{id:J.taskId,taskByDay:J,task:ce,areaIcon:le?.icon??"ðŸ“",areaName:le?.name??"Unknown",projectName:te?.name??"Unknown"}}):[]}),_=$(()=>n(m)),w=$(()=>n(m).filter(Z=>Z.taskByDay.status!=="completed"&&Z.taskByDay.status!=="cancelled")),D=$(()=>n(m).filter(Z=>Z.taskByDay.status==="completed"||Z.taskByDay.status==="cancelled")),T=X(pt([]));mt(()=>{O(T,n(w),!0)});function S(){const Z=n(D).length,J=n(m).length,ce=J>0?Z/J*100:0;return{completed:Z,total:J,percent:ce}}function j(Z){O(T,Z.detail.items,!0)}function k(Z){O(T,Z.detail.items,!0);const{info:J}=Z.detail,ce=J.id,le=n(T).findIndex(se=>se.id===ce);if(le===-1)return;const be=le>0?n(T)[le-1]:null,te=le<n(T).length-1?n(T)[le+1]:null;let ee=null,ue=null;if(be){const se=n(_).findIndex(me=>me.id===be.id);ee=be.taskByDay.order,ue=se<n(_).length-1?n(_)[se+1].taskByDay.order:null}else if(te){const se=n(_).findIndex(me=>me.id===te.id);ee=se>0?n(_)[se-1].taskByDay.order:null,ue=te.taskByDay.order}vo(r,n(h),ce,ee,ue)}async function I(Z){await za(Z.taskId,Z.projectId,r,n(h))}async function A(Z){await uo(Z.taskId,Z.projectId,r,n(h))}async function M(Z){await er(Z.taskId,Z.projectId,r,n(h))}function F(Z,J,ce,le){O(f,Z,!0),O(d,J,!0),O(g,ce,!0),O(v,le,!0),O(s,!0)}function H(){O(s,!1),O(f,null)}var G=zs(),U=oe(G),P=u(U),W=u(P),z=u(W),q=u(z,!0);l(z);var N=x(z,2),C=u(N);l(N),l(W);var R=x(W,2),V=u(R);{var Q=Z=>{var J=Os();J.__click=b;var ce=u(J);{var le=te=>{var ee=ja("Done");E(te,ee)},be=te=>{var ee=Is();nr(),E(te,ee)};Y(ce,te=>{n(y)?te(le):te(be,!1)})}l(J),K(()=>ne(J,1,`btn btn-xs ${n(y)?"btn-primary":"btn-secondary btn-soft"}`)),E(Z,J)};Y(V,Z=>{n(w).length>1&&Z(Q)})}var ie=x(V,2);ie.__click=p,l(R),l(P);var re=x(P,2);{var ae=Z=>{const J=$(S);var ce=Ss(),le=u(ce),be=u(le),te=u(be);l(be);var ee=x(be,2),ue=u(ee);l(ee),l(le);var se=x(le,2),me=u(se);l(se),l(ce),K(We=>{B(te,`${n(J).completed??""} of ${n(J).total??""} completed`),B(ue,`${We??""}%`),Ut(me,`width: ${n(J).percent??""}%`)},[()=>Math.round(n(J).percent)]),E(Z,ce)};Y(re,Z=>{S().total>0&&Z(ae)})}var pe=x(re,2),ke=u(pe);{var Le=Z=>{var J=de(),ce=oe(J);{var le=te=>{var ee=Cs();Oe(ee,29,()=>n(T),({id:ue,taskByDay:se,areaIcon:me,projectName:We})=>ue,(ue,se)=>{let me=()=>n(se).taskByDay,We=()=>n(se).areaIcon,et=()=>n(se).projectName;var ze=js(),Fe=x(u(ze),2),Se=u(Fe),Ve=u(Se,!0);l(Se);var Ze=x(Se,2),Ke=u(Ze);l(Ze),l(Fe),l(ze),K(()=>{B(Ve,me().name),B(Ke,`${We()??""}  ${et()??""}`)}),Za(ze,()=>bn,()=>({duration:a})),E(ue,ze)}),l(ee),Ya(ee,(ue,se)=>fn?.(ue,se),()=>({items:n(T),flipDurationMs:a,dropTargetStyle:{}})),ar("consider",ee,j),ar("finalize",ee,k),E(te,ee)},be=te=>{var ee=Ps();Oe(ee,21,()=>n(w),Re,(ue,se)=>{let me=()=>n(se).taskByDay,We=()=>n(se).areaIcon,et=()=>n(se).areaName,ze=()=>n(se).projectName;var Fe=Ms(),Se=u(Fe);Se.__click=()=>I(me());var Ve=x(Se,2);Ve.__click=()=>F(me(),We(),et(),ze());var Ze=u(Ve),Ke=u(Ze,!0);l(Ze);var ct=x(Ze,2),Te=u(ct);l(ct),l(Ve);var kr=x(Ve,2);kr.__click=()=>M(me()),l(Fe),K(()=>{B(Ke,me().name),B(Te,`${We()??""}  ${ze()??""}`)}),E(ue,Fe)}),l(ee),E(te,ee)};Y(ce,te=>{n(y)?te(le):te(be,!1)})}E(Z,J)},Be=Z=>{var J=de(),ce=oe(J);{var le=te=>{var ee=Ns();E(te,ee)},be=te=>{var ee=Rs();E(te,ee)};Y(ce,te=>{S().total===0?te(le):te(be,!1)},!0)}E(Z,J)};Y(ke,Z=>{n(T).length>0?Z(Le):Z(Be,!1)})}var Yt=x(ke,2);{var qt=Z=>{var J=Ws(),ce=u(J),le=u(ce);l(ce);var be=x(ce,2);Oe(be,21,()=>n(D),Re,(te,ee)=>{let ue=()=>n(ee).taskByDay,se=()=>n(ee).areaIcon,me=()=>n(ee).areaName,We=()=>n(ee).projectName;const et=$(()=>ue().status==="completed"),ze=$(()=>ue().status==="cancelled");var Fe=Bs(),Se=u(Fe);Se.__click=()=>A(ue());var Ve=u(Se);{var Ze=_t=>{var Kt=Ls();E(_t,Kt)},Ke=_t=>{var Kt=de(),pn=oe(Kt);{var mn=Tr=>{var hn=Fs();E(Tr,hn)};Y(pn,Tr=>{ue().status==="cancelled"&&Tr(mn)},!0)}E(_t,Kt)};Y(Ve,_t=>{ue().status==="completed"?_t(Ze):_t(Ke,!1)})}l(Se);var ct=x(Se,2),Te=u(ct),kr=u(Te,!0);l(Te);var na=x(Te,2),gn=u(na);l(na),l(ct),l(Fe),K(()=>{ne(Se,1,`w-7 h-7 rounded-full ${n(et)?"bg-success border-success text-success-content":n(ze)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),B(kr,ue().name),B(gn,`${se()??""} ${me()??""} Â· ${We()??""}`)}),E(te,Fe)}),l(be),l(J),K(()=>B(le,`Completed (${n(D).length??""})`)),E(Z,J)};Y(Yt,Z=>{n(D).length>0&&!n(y)&&Z(qt)})}l(pe),l(U);var wr=x(U,2);As(wr,{get show(){return n(s)},get taskByDay(){return n(f)},get areaIcon(){return n(d)},get areaName(){return n(g)},get projectName(){return n(v)},get weekOf(){return r},onClose:H}),K(Z=>{B(q,n(c)?"Tomorrow":"Today"),B(C,`${Z??""}, ${n(h)??""}`),ne(ie,1,`btn btn-xs ${n(c)?"btn-primary":"btn-secondary btn-soft"}`)},[()=>co(n(h))]),E(e,G),we()}_e(["click"]);const Nr=["none","reorder","edit","status"],Us=[{value:"active",label:"Active",color:"border-s-primary"},{value:"blocked",label:"Blocked",color:"border-s-warning"},{value:"someday",label:"Someday",color:"border-s-info"},{value:"completed",label:"Completed",color:"border-s-success"},{value:"cancelled",label:"Cancelled",color:"border-s-error"}],Hs=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var Vs=L('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function Zs(e,t){var r=Vs();r.__click=function(...a){t.handleClick?.apply(this,a)},E(e,r)}_e(["click"]);var Ys=L('<button type="button"> </button>'),qs=L('<button type="button" class="btn btn-outline btn-error btn-sm">Archive</button>'),Ks=L('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),Xs=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="grid grid-cols-8 gap-1"></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Js(e,t){ye(t,!0);let r=X(!1),a=X(null),i=X(""),o=X("ðŸŽ¯");function s(){O(a,null),O(i,""),O(o,"ðŸŽ¯"),O(r,!0)}function f(_,w){_.stopPropagation(),O(a,w,!0),O(i,w.name,!0),O(o,w.icon,!0),O(r,!0)}function d(){O(r,!1),O(a,null)}async function g(){!n(i).trim()||!n(o)||(n(a)?await fo(n(a).index,{name:n(i).trim(),icon:n(o)}):await bo(n(i).trim(),n(o)),d())}function v(_){return n(a)&&n(a).status=="archived"?!1:$e.getByArea(_.id).filter(D=>D.status==="active").length===0}async function y(){!n(a)||!v(n(a))||(await go(n(a).index),d())}async function c(){n(a)&&(await po(n(a).index),d())}var h={openCreateAreaModal:s,openEditAreaModal:f},b=de(),p=oe(b);{var m=_=>{var w=Xs(),D=u(w);D.__click=d,D.__keydown=C=>C.key==="Escape"&&d();var T=x(D,2),S=u(T),j=u(S),k=u(j,!0);l(j);var I=x(j,2);I.__click=d,l(S);var A=x(S,2),M=u(A),F=x(u(M),2);Oe(F,21,()=>Mo,Re,(C,R)=>{var V=Ys();V.__click=()=>O(o,n(R),!0);var Q=u(V,!0);l(V),K(()=>{ne(V,1,`aspect-square flex items-center justify-center text-lg rounded-lg transition-colors ${n(o)===n(R)?"bg-primary text-primary-content":"hover:bg-base-200"}`),B(Q,n(R))}),E(C,V)}),l(F),l(M);var H=x(M,2),G=x(u(H),2);it(G),G.__keydown=C=>C.key==="Enter"&&g(),l(H),l(A);var U=x(A,2),P=u(U);{var W=C=>{var R=de(),V=oe(R);{var Q=re=>{var ae=qs();ae.__click=y,K((pe,ke)=>{ae.disabled=pe,Fr(ae,"title",ke)},[()=>!v(n(a)),()=>v(n(a))?"Archive area":"Cannot archive: has active projects"]),E(re,ae)},ie=re=>{var ae=de(),pe=oe(ae);{var ke=Le=>{var Be=Ks();Be.__click=c,E(Le,Be)};Y(pe,Le=>{n(a).status=="archived"&&Le(ke)},!0)}E(re,ae)};Y(V,re=>{n(a).status=="active"?re(Q):re(ie,!1)})}E(C,R)};Y(P,C=>{n(a)&&C(W)})}var z=x(P,4);z.__click=d;var q=x(z,2);q.__click=g;var N=u(q,!0);l(q),l(U),l(T),l(w),K(C=>{B(k,n(a)?"Edit Area":"New Area"),q.disabled=C,B(N,n(a)?"Save":"Create")},[()=>!n(i).trim()||!n(o)]),He(3,D,()=>At,()=>({duration:200})),Jr(G,()=>n(i),C=>O(i,C)),He(3,T,()=>It,()=>({y:300,duration:300})),E(_,w)};Y(p,_=>{n(r)&&_(m)})}return E(e,b),we(h)}_e(["click","keydown"]);var Qs=L('<button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-6" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button>'),$s=L('<div class="flex flex-row gap-1"><button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†</button> <button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†’</button></div>'),el=L("<div> </div>"),tl=L('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm font-medium mb-0 pb-1 truncate"> </div> <p class="text-xs text-base-content/50"> </p></div></div></div></div>');function rl(e,t){ye(t,!0);const r=$(()=>$e.getByArea(t.area.id).filter(w=>w.status==="active").length),a=$(()=>{const w=zt(),D=Gt.getWeek(w),T=$e.getByArea(t.area.id),S=T.filter(A=>A.status==="active"||A.status==="blocked"||A.status==="someday");if(S.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};if(D?.projectAssignments.some(A=>S.some(M=>M.id===A.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"â—†"};const k=T.filter(A=>A.status==="completed"&&A.completedAt),I=k.length>0?Math.max(...k.map(A=>new Date(A.completedAt).getTime())):null;if(I){const A=Date.now()-12096e5,M=Date.now()-720*60*60*1e3;if(I>=A)return{level:"active",color:"badge-info",icon:"â—"};if(I>=M)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var i=tl();i.__click=()=>t.handleSelect(t.area);var o=u(i),s=u(o),f=u(s),d=u(f,!0);l(f);var g=x(f,2);{var v=w=>{var D=Qs();D.__click=T=>t.handleEdit(T,t.area),E(w,D)},y=w=>{var D=de(),T=oe(D);{var S=k=>{var I=$s(),A=u(I);A.__click=F=>t.handleAreaMoveUp(F,t.index);var M=x(A,2);M.__click=F=>t.handleAreaMoveDown(F,t.index),l(I),K(()=>A.disabled=t.index==0),E(k,I)},j=k=>{var I=de(),A=oe(I);{var M=F=>{var H=el(),G=u(H,!0);l(H),K(()=>{ne(H,1,`badge badge-sm rounded ${n(a).color??""} badge-soft`),B(G,n(a).level)}),E(F,H)};Y(A,F=>{t.viewMode=="status"&&F(M)},!0)}E(k,I)};Y(T,k=>{t.viewMode=="reorder"?k(S):k(j,!1)},!0)}E(w,D)};Y(g,w=>{t.viewMode=="edit"?w(v):w(y,!1)})}l(s);var c=x(s,2),h=u(c),b=u(h),p=u(b,!0);l(b);var m=x(b,2),_=u(m);l(m),l(h),l(c),l(o),l(i),K(()=>{ne(i,1,`rounded-lg bg-base-100 hover:bg-primary/20 transition-colors cursor-pointer w-full ${n(a).level==="avoiding"?"border border-error/20":n(a).level==="fading"?"border border-warning/20":n(a).level==="active"?"border border-info/20":n(a).level==="planned"?"border border-purple-500/20":""}`),Ut(i,n(a).level==="avoiding"?"background: rgba(248, 114, 114, 0.05); box-shadow: inset 0 0 20px rgba(248, 114, 114, 0.08); ":n(a).level==="fading"?"box-shadow: inset 0 0 30px rgba(251, 189, 35, 0.1);":n(a).level==="active"?"box-shadow: inset 0 0 30px rgba(58, 191, 248, 0.1);":n(a).level==="planned"?"box-shadow: inset 0 0 30px rgba(168, 85, 247, 0.1);":""),B(d,t.area.icon),B(p,t.area.name),B(_,`${n(r)??""} project${n(r)!==1?"s":""}`)}),E(e,i),we()}_e(["click"]);var al=L('<button class="link text-base-content/50 text-sm capitalize"> </button>'),nl=L('<div class="flex flex-col h-full"><div class="px-3 pt-5 pb-4 flex flex-row justify-between items-center bg-base-100 border-b border-base-content/10"><a href="/" class="flex flex-row items-center text-base-content/80"><svg version="1.1" id="Icons" class="size-12 mt-1 me-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><style type="text/css">.st0{fill:none;stroke:currentColor;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}</style><path class="st0" d="M11,13H5c-1.1,0-2-0.9-2-2V5c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,12.1,12.1,13,11,13z"></path><path class="st0" d="M11,29H5c-1.1,0-2-0.9-2-2v-6c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,28.1,12.1,29,11,29z"></path><line class="st0" x1="17" y1="5" x2="29" y2="5"></line><line class="st0" x1="17" y1="9" x2="24" y2="9"></line><line class="st0" x1="17" y1="21" x2="29" y2="21"></line><line class="st0" x1="17" y1="25" x2="24" y2="25"></line><polyline class="st0" points="6,7 8,9 11,6 "></polyline></g></svg> <div class="flex flex-col"><div class="text-xl text-base-content/80 tracking-wider font-medium">Doable</div> <div class="text-sm text-base-content/50">Life areas at a glance</div></div></a> <div class="flex flex-row gap-4"><!> <button class="link text-base-content/50 text-sm"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function ol(e,t){ye(t,!0);let r,a=X(pt(localStorage.getItem("areasViewMode")||"none"));mt(()=>localStorage.setItem("areasViewMode",n(a)));let i=X(!1),o=()=>O(a,Nr[(Nr.indexOf(n(a))+1)%Nr.length],!0),s=()=>O(i,!n(i));const f=$(()=>n(i)?ft.areas.filter(k=>k.status=="archived"):ft.areas.filter(k=>k.status=="active"));async function d(k,I){if(k.stopPropagation(),I===0)return;const A=ft.areas,M=n(f)[I],F=n(f)[I-1],H=A.findIndex(P=>P.id===F.id),G=H>0?A[H-1].index:null,U=F.index;await la(M.index,G,U)}async function g(k,I){if(k.stopPropagation(),I===n(f).length-1)return;const A=ft.areas,M=n(f)[I],F=n(f)[I+1],H=A.findIndex(P=>P.id===F.id),G=F.index,U=H<A.length-1?A[H+1].index:null;await la(M.index,G,U)}var v=nl(),y=u(v),c=x(u(y),2),h=u(c);{var b=k=>{var I=al();I.__click=o;var A=u(I,!0);l(I),K(()=>B(A,n(a))),E(k,I)};Y(h,k=>{n(i)||k(b)})}var p=x(h,2);p.__click=s;var m=u(p,!0);l(p),l(c),l(y);var _=x(y,2),w=u(_),D=u(w);Oe(D,17,()=>n(f),Re,(k,I,A)=>{rl(k,{get area(){return n(I)},get handleSelect(){return t.onSelectArea},index:A,handleAreaMoveUp:d,handleAreaMoveDown:g,get viewMode(){return n(a)},get handleEdit(){return r.openEditAreaModal}})});var T=x(D,2);{var S=k=>{Zs(k,{get handleClick(){return r.openCreateAreaModal}})};Y(T,k=>{n(i)||k(S)})}l(w),l(_);var j=x(_,2);Lt(Js(j,{}),k=>r=k,()=>r),l(v),K(()=>B(m,n(i)?"Active":"Archived")),E(e,v),we()}_e(["click"]);var il=L('<button aria-label="edit"> </button>'),sl=L('<div tabindex="0" role="button" class="flex flex-row gap-2 items-start text-left"><p class="px-2 flex flex-row gap-2 text-sm mb-1.5 w-full text-base-content"><span class="w-8 h-8 flex mt-0.5"><!></span> <span class="flex-1"> </span> <!></p></div>'),ll=L('<div class="h-full bg-primary/80 transition-all"></div>'),cl=L('<span class="text-xs mx-0.5">â€¢</span> ',1),dl=L('<button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),ul=L('<button aria-label="edit"> </button>'),vl=L('<div class="w-full transition-colors bg-base-100 cursor-pointer hover:bg-primary/20" role="button" tabindex="0"><div class="flex-1 min-w-0 p-2 pt-4"><div class="flex flex-row items-start gap-2 "><div class="shrink-0 size-8"><!></div> <p class="text-sm mb-1.5 text-base-content"> </p></div> <div class="mb-2 mt-3 w-full items-center flex h-1 bg-neutral"><!></div> <div class="flex flex-row justify-between items-center ms-2"><p class="text-xs font-semibold text-base-content/50 "> <!></p> <div class="flex flex-row gap-2 items-center mt-1"><!> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-5" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button> <!></div></div></div></div>'),fl=L("<div><!></div>");function bl(e,t){ye(t,!0);const r=$(()=>bt.getByProject(t.project.id)),a=$(()=>n(r).filter(b=>b.status==="active").length),i=$(()=>n(r).filter(b=>b.status==="completed").length),o=$(()=>n(r).filter(b=>b.status==="active"||b.status==="completed").length),s=$(()=>n(o)>0?n(i)/n(o)*100:0);function f(b){for(const[p,m]of Object.entries(Gt.weeksByWeekOf))if(m.projectAssignments.some(_=>_.projectId===b))return p;return null}function d(b){const p=zt();if(b===p)return"This week";const m=new Date(p),_=new Date(b),w=Math.round((_.getTime()-m.getTime())/(1e3*60*60*24)),D=Math.round(w/7);return D===1?"Next week":D>1?`In ${D} weeks`:D===-1?"Last week":b.slice(5)}const g=$(()=>f(t.project.id));var v=fl(),y=u(v);{var c=b=>{var p=sl();p.__click=()=>t.onclick(t.project);var m=u(p),_=u(m),w=u(_);Yr(w,{get level(){return t.project.severity}}),l(_);var D=x(_,2),T=u(D,!0);l(D);var S=x(D,2);{var j=k=>{var I=il();I.__click=M=>t.handleProjectAssign(M,t.project);var A=u(I,!0);l(I),K(M=>{ne(I,1,`badge badge-lg badge-soft ${n(g)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer justify-center rounded-lg items-center flex`),B(A,M)},[()=>d(n(g))]),E(k,I)};Y(S,k=>{n(g)&&k(j)})}l(m),l(p),K(()=>B(T,t.project.name)),E(b,p)},h=b=>{var p=vl();p.__click=()=>t.navigateToTasks(t.project),p.__keydown=C=>C.key==="Enter"&&t.navigateToTasks(t.project);var m=u(p),_=u(m),w=u(_),D=u(w);Yr(D,{get level(){return t.project.severity}}),l(w);var T=x(w,2),S=u(T,!0);l(T),l(_);var j=x(_,2),k=u(j);{var I=C=>{var R=ll();K(()=>Ut(R,`width: ${n(s)??""}%`)),E(C,R)};Y(k,C=>{n(o)>0&&C(I)})}l(j);var A=x(j,2),M=u(A),F=u(M),H=x(F);{var G=C=>{var R=cl(),V=x(oe(R));K(()=>B(V,` ${n(i)??""} done`)),E(C,R)};Y(H,C=>{n(i)>0&&C(G)})}l(M);var U=x(M,2),P=u(U);{var W=C=>{var R=dl(),V=oe(R);V.__click=ie=>t.handleProjectMoveUp(ie,t.index);var Q=x(V,2);Q.__click=ie=>t.handleProjectMoveDown(ie,t.index),E(C,R)};Y(P,C=>{t.allowReorder&&C(W)})}var z=x(P,2);z.__click=C=>t.handleEdit(C,t.project);var q=x(z,2);{var N=C=>{var R=ul();R.__click=Q=>t.handleProjectAssign(Q,t.project);var V=u(R,!0);l(R),K(Q=>{ne(R,1,`badge badge-lg badge-soft ${n(g)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer flex justify-center rounded-lg items-center`),B(V,Q)},[()=>n(g)?d(n(g)):"Unassigned"]),E(C,R)};Y(q,C=>{t.allowWeekAssignment&&C(N)})}l(U),l(A),l(m),l(p),K(()=>{B(S,t.project.name),B(F,`${n(a)??""} active `)}),E(b,p)};Y(y,b=>{t.isSelected?b(h,!1):b(c)})}l(v),E(e,v),we()}_e(["click","keydown"]);var gl=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[650px] max-h-full bg-base-100 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-200 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">4</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">5</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="grid grid-cols-3 gap-1"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Someday</button> <button type="button">Cancelled</button> <button type="button">Done</button></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function pl(e,t){ye(t,!0);const r=[];let a=X(!1),i=X(null),o=X(""),s=X("active"),f=X("regular"),d=X("sev3");function g(){console.log("Creating.."),O(i,null),O(o,""),O(s,"active"),O(f,"regular"),O(d,"sev3"),O(a,!0)}function v(_,w){_.stopPropagation(),O(i,w,!0),O(o,w.name,!0),O(s,w.status,!0),O(f,w.type||"regular",!0),O(d,w.severity||"sev1",!0),O(a,!0)}function y(){O(a,!1),O(i,null)}async function c(){!n(o).trim()||!t.selectedArea||(n(i)?await Ua(t.selectedArea.id,n(i).index,{name:n(o).trim(),status:n(s),type:n(f),severity:n(d)}):await mo(t.selectedArea.id,n(o).trim(),n(f),n(d)),y())}var h={openCreateProjectModal:g,openEditProjectModal:v},b=de(),p=oe(b);{var m=_=>{var w=gl(),D=u(w);D.__click=y,D.__keydown=Te=>Te.key==="Escape"&&y();var T=x(D,2),S=u(T),j=u(S),k=u(j),I=u(k,!0);l(k);var A=x(k,2);A.__click=y,l(j);var M=x(j,2),F=u(M),H=x(u(F),2);it(H),H.__keydown=Te=>Te.key==="Enter"&&c(),l(F);var G=x(F,2),U=x(u(G),2),P=u(U);it(P),P.value=P.__value="regular";var W=x(P,2);it(W),W.value=W.__value="maintenance",l(U),l(G);var z=x(G,4),q=u(z);let N;q.__click=()=>O(d,"sev1");var C=x(u(q),2),R=u(C,!0);l(C),l(q);var V=x(q,2);let Q;V.__click=()=>O(d,"sev2");var ie=x(u(V),2),re=u(ie,!0);l(ie),l(V);var ae=x(V,2);let pe;ae.__click=()=>O(d,"sev3");var ke=x(u(ae),2),Le=u(ke,!0);l(ke),l(ae);var Be=x(ae,2);let Yt;Be.__click=()=>O(d,"sev4");var qt=x(u(Be),2),wr=u(qt,!0);l(qt),l(Be);var Z=x(Be,2);let J;Z.__click=()=>O(d,"sev5");var ce=x(u(Z),2),le=u(ce,!0);l(ce),l(Z),l(z);var be=x(z,4),te=u(be);let ee;te.__click=()=>O(s,"active");var ue=x(te,2);let se;ue.__click=()=>O(s,"blocked");var me=x(ue,2);let We;me.__click=()=>O(s,"someday");var et=x(me,2);let ze;et.__click=()=>O(s,"cancelled");var Fe=x(et,2);let Se;Fe.__click=()=>O(s,"completed"),l(be),l(M);var Ve=x(M,2),Ze=x(u(Ve),2);Ze.__click=y;var Ke=x(Ze,2);Ke.__click=c;var ct=u(Ke,!0);l(Ke),l(Ve),l(S),l(T),l(w),K(Te=>{B(I,n(i)?"Edit Project":"New Project"),N=ne(q,1,"hover:bg-purple-600 btn btn-sm justify-start gap-2 transition-all",null,N,{"bg-purple-600":n(d)==="sev1","text-white":n(d)==="sev1"}),B(R,St[n(f)].sev1),Q=ne(V,1,"hover:bg-red-500 btn btn-sm justify-start gap-2 transition-all",null,Q,{"bg-red-500":n(d)==="sev2","text-white":n(d)==="sev2"}),B(re,St[n(f)].sev2),pe=ne(ae,1,"hover:bg-yellow-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,pe,{"bg-yellow-500":n(d)==="sev3","text-black":n(d)==="sev3"}),B(Le,St[n(f)].sev3),Yt=ne(Be,1,"hover:bg-sky-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,Yt,{"bg-sky-500":n(d)==="sev4","text-black":n(d)==="sev4"}),B(wr,St[n(f)].sev4),J=ne(Z,1,"hover:bg-emerald-500 hover:text-black btn btn-sm justify-start gap-3 transition-all",null,J,{"bg-emerald-500":n(d)==="sev5","text-black":n(d)==="sev5"}),B(le,St[n(f)].sev5),ee=ne(te,1,"btn btn-sm hover:bg-warning hover:text-warning-content",null,ee,{"btn-warning":n(s)==="active"}),se=ne(ue,1,"btn btn-sm hover:btn-error",null,se,{"btn-error":n(s)==="blocked"}),We=ne(me,1,"btn btn-sm hover:btn-info",null,We,{"btn-info":n(s)==="someday"}),ze=ne(et,1,"btn btn-sm hover:btn-neutral",null,ze,{"btn-info":n(s)==="cancelled"}),Se=ne(Fe,1,"btn btn-sm hover:btn-success",null,Se,{"btn-success":n(s)==="completed"}),Ke.disabled=Te,B(ct,n(i)?"Save":"Create")},[()=>!n(o).trim()]),He(3,D,()=>At,()=>({duration:200})),Jr(H,()=>n(o),Te=>O(o,Te)),ir(r,[],P,()=>{"regular";return n(f)},Te=>O(f,Te)),ir(r,[],W,()=>{"maintenance";return n(f)},Te=>O(f,Te)),He(3,T,()=>It,()=>({y:300,duration:300})),E(_,w)};Y(p,_=>{n(a)&&_(m)})}return E(e,b),we(h)}_e(["click","keydown"]);var ml=L('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),hl=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2"></div></div></div>');function _l(e,t){ye(t,!0);let r=X(!1),a=X(null),i=X(void 0);function o(h,b,p){h.stopPropagation(),O(i,b,!0),O(a,p,!0),O(r,!0)}function s(){O(r,!1),O(a,null)}async function f(h,b){!n(a)||!n(i)||(b?await Wa(n(a).id,h):await _o(n(a).id,n(i).id,h),s())}function d(h,b){const p=b??zt();return Gt.getWeek(p)?.projectAssignments.some(_=>_.projectId===h)??!1}var g={openWeekPicker:o},v=de(),y=oe(v);{var c=h=>{var b=hl(),p=u(b);p.__click=s,p.__keydown=T=>T.key==="Escape"&&s();var m=x(p,2),_=u(m),w=x(u(_),2);w.__click=s,l(_);var D=x(_,2);Oe(D,21,ho,Re,(T,S)=>{const j=$(()=>d(n(a).id,n(S).weekOf));var k=ml();k.__click=()=>f(n(S).weekOf,n(j));var I=u(k),A=u(I,!0);l(I);var M=x(I,2),F=u(M,!0);l(M),l(k),K(()=>{ne(k,1,`w-full p-3 text-left rounded-lg border transition-colors ${n(j)?"bg-primary/20 text-primary-content border-primary":"border-base-content/10 hover:border-primary"}`),B(A,n(S).label),B(F,n(S).weekOf)}),E(T,k)}),l(D),l(m),l(b),He(3,p,()=>At,()=>({duration:200})),He(3,m,()=>It,()=>({y:300,duration:300})),E(h,b)};Y(y,h=>{n(r)&&n(a)&&h(c)})}return E(e,v),we(g)}_e(["click","keydown"]);var xl=L("<button> </button>"),yl=L('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),wl=L('<button type="button" class="flex items-center justify-center h-12 mx-3 border-2 border-dashed border-base-content/20 rounded-lg text-base-content/50 cursor-pointer transition-all hover:border-primary hover:text-primary"><span class="text-lg">+</span> <span class="text-sm">Add Project</span></button>'),kl=L('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2"><div class="h-12 flex items-center "><button class="gap-2 text-sm text-secondary flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>â†</span> <span>Back</span></button></div> <div class="flex items-center gap-3 pe-2"><span class="text-4xl"> </span> <h2 class="text-lg"> </h2></div></div> <div class="flex gap-1 mt-4 px-3 pb-2 overflow-x-auto"></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!> <!></div></div></div> <!> <!>',1);function Tl(e,t){ye(t,!0);let r=X(void 0);const a=P=>O(r,P.id,!0);let i,o,s=X(pt(localStorage.getItem("projectTabView")||"active"));mt(()=>{n(s)&&localStorage.setItem("projectTabView",n(s))});let f=$(()=>!["completed","cancelled"].includes(n(s))),d=$(()=>$e.getByArea(t.selectedArea.id).filter(P=>P.status===n(s)));function g(P){return $e.getByArea(t.selectedArea.id).filter(W=>W.status===P).length}async function v(P,W){if(P.stopPropagation(),W===0||!t.selectedArea)return;const z=$e.getByArea(t.selectedArea.id),q=n(d)[W],N=n(d)[W-1],C=z.findIndex(Q=>Q.id===N.id),R=C>0?z[C-1].index:null,V=N.index;await ca(t.selectedArea.id,q.index,R,V)}async function y(P,W){if(P.stopPropagation(),!t.selectedArea||W===n(d).length-1)return;const z=$e.getByArea(t.selectedArea.id),q=n(d)[W],N=n(d)[W+1],C=z.findIndex(Q=>Q.id===N.id),R=N.index,V=C<z.length-1?z[C+1].index:null;console.log(R,V),await ca(t.selectedArea.id,q.index,R,V)}var c=kl(),h=oe(c),b=u(h),p=u(b),m=u(p),_=u(m);_.__click=function(...P){t.navigateBack?.apply(this,P)},l(m);var w=x(m,2),D=u(w),T=u(D,!0);l(D);var S=x(D,2),j=u(S,!0);l(S),l(w),l(p);var k=x(p,2);Oe(k,21,()=>Us,Re,(P,W)=>{const z=$(()=>n(s)===n(W).value),q=$(()=>g(n(W).value));var N=xl();N.__click=()=>O(s,n(W).value,!0);var C=u(N);l(N),K(()=>{ne(N,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${n(z)?"bg-primary/40 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),B(C,`${n(W).label??""} (${n(q)??""})`)}),E(P,N)}),l(k),l(b);var I=x(b,2),A=u(I),M=u(A);Oe(M,17,()=>n(d),Re,(P,W,z)=>{{let q=$(()=>n(r)==n(W).id);bl(P,{get isSelected(){return n(q)},onclick:a,handleProjectAssign:(N,C)=>o.openWeekPicker(N,t.selectedArea,C),index:z,get allowReorder(){return n(f)},get navigateToTasks(){return t.navigateToTasks},get project(){return n(W)},get allowWeekAssignment(){return n(f)},get handleEdit(){return i.openEditProjectModal},handleProjectMoveUp:v,handleProjectMoveDown:y})}},P=>{var W=yl(),z=u(W);l(W),K(()=>B(z,`No ${n(s)??""} projects`)),E(P,W)});var F=x(M,2);{var H=P=>{var W=wl();W.__click=function(...z){i.openCreateProjectModal?.apply(this,z)},E(P,W)};Y(F,P=>{n(s)=="active"&&P(H)})}l(A),l(I),l(h);var G=x(h,2);Lt(pl(G,{get selectedArea(){return t.selectedArea}}),P=>i=P,()=>i);var U=x(G,2);Lt(_l(U,{}),P=>o=P,()=>o),K(()=>{B(T,t.selectedArea.icon),B(j,t.selectedArea.name)}),E(e,c),we()}_e(["click"]);var Dl=L('<button type="button"> </button>'),El=L('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),Al=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Il(e,t){ye(t,!0);let r=X(!1),a=X(null),i=X(""),o=X("active");function s(){O(a,null),O(i,""),O(o,"active"),O(r,!0)}function f(b,p){b.stopPropagation(),O(a,p,!0),O(i,p.name,!0),O(o,p.status,!0),O(r,!0)}function d(){O(r,!1),O(a,null)}async function g(){!n(i).trim()||!t.selectedProject||!t.selectedArea||(n(a)?await Ha(t.selectedProject.id,n(a).index,{name:n(i).trim(),status:n(o)}):await Ga(t.selectedProject.id,t.selectedArea.id,n(i).trim()),d())}var v={openCreateTaskModal:s,openEditTaskModal:f},y=de(),c=oe(y);{var h=b=>{var p=Al(),m=u(p);m.__click=d,m.__keydown=P=>P.key==="Escape"&&d();var _=x(m,2),w=u(_),D=u(w),T=u(D,!0);l(D);var S=x(D,2);S.__click=d,l(w);var j=x(w,2),k=u(j),I=x(u(k),2);it(I),I.__keydown=P=>P.key==="Enter"&&g(),l(k);var A=x(k,2);{var M=P=>{var W=El(),z=x(u(W),2);Oe(z,21,()=>Hs,Re,(q,N)=>{var C=Dl();C.__click=()=>O(o,n(N).value,!0);var R=u(C,!0);l(C),K(()=>{ne(C,1,`px-3 py-1.5 text-sm rounded-lg border transition-colors ${n(o)===n(N).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),B(R,n(N).label)}),E(q,C)}),l(z),l(W),E(P,W)};Y(A,P=>{n(a)&&P(M)})}l(j);var F=x(j,2),H=x(u(F),2);H.__click=d;var G=x(H,2);G.__click=g;var U=u(G,!0);l(G),l(F),l(_),l(p),K(P=>{B(T,n(a)?"Edit Task":"New Task"),G.disabled=P,B(U,n(a)?"Save":"Create")},[()=>!n(i).trim()]),He(3,m,()=>At,()=>({duration:200})),Jr(I,()=>n(i),P=>O(i,P)),He(3,_,()=>It,()=>({y:300,duration:300})),E(b,p)};Y(c,b=>{n(r)&&b(h)})}return E(e,y),we(v)}_e(["click","keydown"]);var Ol=ht('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Sl=ht('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),jl=ht('<svg class="w-3 h-3 text-warning" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),Cl=L('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),Ml=L('<div tabindex="0" role="button" class="hover:bg-primary/20 cursor-pointer w-full flex flex-row items-start border-b border-b-base-content/10 p-2"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function Pl(e,t){ye(t,!0);const r=$(()=>t.task.status==="completed"),a=$(()=>t.task.status==="cancelled"),i=$(()=>t.task.status==="blocked");var o=Ml();o.__click=b=>t.handleEdit(b,t.task);var s=u(o);s.__click=b=>t.toggleTaskComplete(b,t.task);var f=u(s);{var d=b=>{var p=Ol();E(b,p)},g=b=>{var p=de(),m=oe(p);{var _=D=>{var T=Sl();E(D,T)},w=D=>{var T=de(),S=oe(T);{var j=k=>{var I=jl();E(k,I)};Y(S,k=>{n(i)&&k(j)},!0)}E(D,T)};Y(m,D=>{n(a)?D(_):D(w,!1)},!0)}E(b,p)};Y(f,b=>{n(r)?b(d):b(g,!1)})}l(s);var v=x(s,2),y=u(v,!0);l(v);var c=x(v,2);{var h=b=>{var p=Cl(),m=oe(p);m.__click=w=>t.handleTaskMoveUp(w,t.index);var _=x(m,2);_.__click=w=>t.handleTaskMoveDown(w,t.index),E(b,p)};Y(c,b=>{t.reorderEnabled&&b(h)})}l(o),K(()=>{ne(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(r)?"bg-success border-success text-success-content":n(i)?"border-warning":n(a)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"}`),s.disabled=n(a),B(y,t.task.name)}),E(e,o),we()}_e(["click"]);var Nl=L('<div class="flex flex-col h-full w-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col w-full items-start px-2"><div class="flex flex-row w-full justify-between h-12 items-center "><button class="gap-2 text-sm text-secondary flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>â†</span> <span>Back</span></button> <div class="badge badge-sm badge-secondary rounded"> </div></div> <div class="flex items-center gap-2"><svg class="size-10 inline shrink-0 text-base-content/40 align-text-bottom -mb-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg> <h2 class="text-base "> </h2></div> <div class="flex gap-1 overflow-x-auto my-2"><button class="text-base-content/50 bg-base-300 hover:bg-primary/50 hover:text-primary-content px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap">+ New</button> <button>Reorder</button> <button class="px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50">Complete project</button></div></div></div> <div class="flex-1 overflow-auto bg-base-200  min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0"></div></div></div> <!>',1);function Rl(e,t){ye(t,!0);let r,a=$(()=>$e.getById(t.selectedProject.id)?.status),i=$(()=>bt.getByProject(t.selectedProject.id)),o=X(!1),s=()=>O(o,!n(o));async function f(G){await Ua(t.selectedArea.id,t.selectedProject.index,{status:"completed"})}async function d(G,U){if(G.stopPropagation(),!t.selectedProject)return;const P=U.status==="completed"?"active":"completed";await Ha(t.selectedProject.id,U.index,{status:P})}async function g(G,U){if(G.stopPropagation(),U===0||!t.selectedProject)return;const P=n(i),W=bt.getByProject(t.selectedProject.id),z=P[U],q=P[U-1],N=W.findIndex(V=>V.id===q.id),C=N>0?W[N-1].index:null,R=q.index;await da(t.selectedProject.id,z.index,C,R)}async function v(G,U){if(G.stopPropagation(),!t.selectedProject)return;const P=n(i);if(U===P.length-1)return;const W=bt.getByProject(t.selectedProject.id),z=P[U],q=P[U+1],N=W.findIndex(V=>V.id===q.id),C=q.index,R=N<W.length-1?W[N+1].index:null;await da(t.selectedProject.id,z.index,C,R)}var y=Nl(),c=oe(y),h=u(c),b=u(h),p=u(b),m=u(p);m.__click=function(...G){t.navigateBack?.apply(this,G)};var _=x(m,2),w=u(_,!0);l(_),l(p);var D=x(p,2),T=x(u(D),2),S=u(T,!0);l(T),l(D);var j=x(D,2),k=u(j);k.__click=function(...G){r.openCreateTaskModal?.apply(this,G)};var I=x(k,2);I.__click=s;var A=x(I,2);A.__click=f,l(j),l(b),l(h);var M=x(h,2),F=u(M);Oe(F,21,()=>n(i),Re,(G,U,P)=>{Pl(G,{get handleEdit(){return r.openEditTaskModal},handleTaskMoveUp:g,handleTaskMoveDown:v,index:P,get task(){return n(U)},toggleTaskComplete:d,get reorderEnabled(){return n(o)}})}),l(F),l(M),l(c);var H=x(c,2);Lt(Il(H,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),G=>r=G,()=>r),K(()=>{B(w,n(a)),B(S,t.selectedProject.name),ne(I,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${n(o)?"bg-primary/40 text-primary-content":"text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50"}`)}),E(e,y),we()}_e(["click"]);var Ll=L('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),Fl=L('<div class="h-screen flex flex-col bg-base-300"><div class="pb-22 h-full"><!></div> <!></div>');function Zl(e,t){ye(t,!0);const r=()=>s("areas"),a=()=>s("projects");let i=X(void 0),o=X(void 0);s("areas");function s(p){eo("",{activeTab:p})}function f(p){O(i,p,!0),s("projects")}function d(p){O(o,p,!0),O(i,ft.getById(p.areaId),!0),s("tasks")}var g=Fl(),v=u(g),y=u(v);{var c=p=>{ol(p,{onSelectArea:f})},h=p=>{var m=de(),_=oe(m);{var w=T=>{Tl(T,{navigateBack:r,navigateToTasks:d,get selectedArea(){return n(i)}})},D=T=>{var S=de(),j=oe(S);{var k=A=>{Rl(A,{navigateBack:a,get selectedArea(){return n(i)},get selectedProject(){return n(o)}})},I=A=>{var M=de(),F=oe(M);{var H=U=>{ws(U,{navigateToTasks:d})},G=U=>{var P=de(),W=oe(P);{var z=N=>{Gs(N,{})},q=N=>{var C=de(),R=oe(C);{var V=Q=>{var ie=Ll();E(Q,ie)};Y(R,Q=>{dt.state.activeTab==="review"&&Q(V)},!0)}E(N,C)};Y(W,N=>{dt.state.activeTab==="today"?N(z):N(q,!1)},!0)}E(U,P)};Y(F,U=>{dt.state.activeTab==="week"?U(H):U(G,!1)},!0)}E(A,M)};Y(j,A=>{dt.state.activeTab=="tasks"?A(k):A(I,!1)},!0)}E(T,S)};Y(_,T=>{dt.state.activeTab==="projects"?T(w):T(D,!1)},!0)}E(p,m)};Y(y,p=>{dt.state.activeTab==="areas"?p(c):p(h,!1)})}l(v);var b=x(v,2);Ro(b,{get activeTab(){return dt.state.activeTab},onTabChange:s}),l(g),E(e,g),we()}export{Zl as component};
