import{b as Gn,d as Te,f as N,a as O,s as R,c as me,e as xt,g as bt}from"../chunks/BZEdlEMl.js";import{M as zr,U as Hn,_ as Wr,O as ze,aq as Vn,V as Un,g as n,w as Zn,X as Yn,Y as qn,Z as ka,$ as Gr,Q as ir,aa as Kn,aE as Xn,ah as Ta,H as Ct,aG as it,N as $r,T as Jn,a8 as Da,a4 as Qn,aC as va,aH as $n,aI as eo,aJ as to,aK as ro,I as Ja,K as Qa,aL as Hr,ay as ao,aB as no,J as oo,aM as $a,q as Kt,aN as io,A as en,aO as so,aP as Gt,W as lo,aQ as co,au as uo,m as tn,b as fa,aR as vo,ap as rn,n as ba,e as fo,aS as bo,aT as go,aU as po,aV as mo,aW as an,a5 as nn,aX as ho,aY as _o,ao as xo,p as ye,i as le,j as we,l,s as h,k as d,t as te,a1 as J,y as D,a6 as ee,x as Ve,a as nt,a0 as on,ai as sr}from"../chunks/BphPPNBQ.js";import{i as Q}from"../chunks/DV1qLrvh.js";import{a as yo}from"../chunks/zjEi23-K.js";import{p as mt}from"../chunks/ru0KogoT.js";import{a1 as ur,a2 as wo,a3 as vr,a4 as ko,a5 as To,a6 as sn,a7 as ln,a8 as Do,a9 as dn,aa as yt,ab as Tt,ac as Eo,ad as vt,ae as st,af as wt,ag as Yt,ah as ea,ai as ta,aj as cn,ak as Ao,al as Io,am as Oo,an as So,ao as Co,ap as jo,aq as Mo,ar as Po,as as No,at as Ea,au as Ro,av as Lo,aw as Fo,ax as Bo,ay as un,az as zo,aA as Wo,aB as Go,aC as Aa,aD as Ia,aE as vn,aF as Oa}from"../chunks/DyRSa62O.js";import{b as Ne,p as Sa}from"../chunks/SOnF2QN3.js";function Ue(e,t){return t}function Ho(e,t,r){for(var a=[],o=t.length,i,s=t.length,b=0;b<o;b++){let x=t[b];Qa(x,()=>{if(i){if(i.pending.delete(x),i.done.add(x),i.pending.size===0){var g=e.outrogroups;ra(va(i.done)),g.delete(i),g.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var v=a.length===0&&r!==null;if(v){var u=r,c=u.parentNode;no(c),c.append(u),e.items.clear()}ra(t,!v)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function ra(e,t=!0){for(var r=0;r<e.length;r++)oo(e[r],t)}var Ca;function Ae(e,t,r,a,o,i=null){var s=e,b=new Map,v=(t&$a)!==0;if(v){var u=e;s=ze?Wr(Vn(u)):u.appendChild(zr())}ze&&Un();var c=null,x=Zn(()=>{var T=r();return $n(T)?T:T==null?[]:va(T)}),g,f=!0;function p(){_.fallback=c,Vo(_,g,s,t,a),c!==null&&(g.length===0?(c.f&it)===0?Ja(c):(c.f^=it,Ut(c,null,s)):Qa(c,()=>{c=null}))}var m=Hn(()=>{g=n(x);var T=g.length;let E=!1;if(ze){var w=Yn(s)===qn;w!==(T===0)&&(s=ka(),Wr(s),Gr(!1),E=!0)}for(var y=new Set,S=Ct,j=Jn(),k=0;k<T;k+=1){ze&&ir.nodeType===Kn&&ir.data===Xn&&(s=ir,E=!0,Gr(!1));var A=g[k],I=a(A,k),C=f?null:b.get(I);C?(C.v&&Ta(C.v,A),C.i&&Ta(C.i,k),j&&S.skipped_effects.delete(C.e)):(C=Uo(b,f?s:Ca??=zr(),A,I,k,o,t,r),f||(C.e.f|=it),b.set(I,C)),y.add(I)}if(T===0&&i&&!c&&(f?c=$r(()=>i(s)):(c=$r(()=>i(Ca??=zr())),c.f|=it)),ze&&T>0&&Wr(ka()),!f)if(j){for(const[P,F]of b)y.has(P)||S.skipped_effects.add(F.e);S.oncommit(p),S.ondiscard(()=>{})}else p();E&&Gr(!0),n(x)}),_={effect:m,items:b,outrogroups:null,fallback:c};f=!1,ze&&(s=ir)}function Vo(e,t,r,a,o){var i=(a&io)!==0,s=t.length,b=e.items,v=e.effect.first,u,c=null,x,g=[],f=[],p,m,_,T;if(i)for(T=0;T<s;T+=1)p=t[T],m=o(p,T),_=b.get(m).e,(_.f&it)===0&&(_.nodes?.a?.measure(),(x??=new Set).add(_));for(T=0;T<s;T+=1){if(p=t[T],m=o(p,T),_=b.get(m).e,e.outrogroups!==null)for(const C of e.outrogroups)C.pending.delete(_),C.done.delete(_);if((_.f&it)!==0)if(_.f^=it,_===v)Ut(_,null,r);else{var E=c?c.next:v;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),lt(e,c,_),lt(e,_,E),Ut(_,E,r),c=_,g=[],f=[],v=c.next;continue}if((_.f&Hr)!==0&&(Ja(_),i&&(_.nodes?.a?.unfix(),(x??=new Set).delete(_))),_!==v){if(u!==void 0&&u.has(_)){if(g.length<f.length){var w=f[0],y;c=w.prev;var S=g[0],j=g[g.length-1];for(y=0;y<g.length;y+=1)Ut(g[y],w,r);for(y=0;y<f.length;y+=1)u.delete(f[y]);lt(e,S.prev,j.next),lt(e,c,S),lt(e,j,w),v=w,c=j,T-=1,g=[],f=[]}else u.delete(_),Ut(_,v,r),lt(e,_.prev,_.next),lt(e,_,c===null?e.effect.first:c.next),lt(e,c,_),c=_;continue}for(g=[],f=[];v!==null&&v!==_;)(u??=new Set).add(v),f.push(v),v=v.next;if(v===null)continue}(_.f&it)===0&&g.push(_),c=_,v=_.next}if(e.outrogroups!==null){for(const C of e.outrogroups)C.pending.size===0&&(ra(va(C.done)),e.outrogroups?.delete(C));e.outrogroups.size===0&&(e.outrogroups=null)}if(v!==null||u!==void 0){var k=[];if(u!==void 0)for(_ of u)(_.f&Hr)===0&&k.push(_);for(;v!==null;)(v.f&Hr)===0&&v!==e.fallback&&k.push(v),v=v.next;var A=k.length;if(A>0){var I=(a&$a)!==0&&s===0?r:null;if(i){for(T=0;T<A;T+=1)k[T].nodes?.a?.measure();for(T=0;T<A;T+=1)k[T].nodes?.a?.fix()}Ho(e,k,I)}}i&&Kt(()=>{if(x!==void 0)for(_ of x)_.nodes?.a?.apply()})}function Uo(e,t,r,a,o,i,s,b){var v=(s&eo)!==0?(s&to)===0?Qn(r,!1,!1):Da(r):null,u=(s&ro)!==0?Da(o):null;return{v,i:u,e:$r(()=>(i(t,v??r,u??o,b),()=>{e.delete(a)}))}}function Ut(e,t,r){if(e.nodes)for(var a=e.nodes.start,o=e.nodes.end,i=t&&(t.f&it)===0?t.nodes.start:r;a!==null;){var s=ao(a);if(i.before(a),a===o)return;a=s}}function lt(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const Zo=()=>performance.now(),ot={tick:e=>requestAnimationFrame(e),now:()=>Zo(),tasks:new Set};function fn(){const e=ot.now();ot.tasks.forEach(t=>{t.c(e)||(ot.tasks.delete(t),t.f())}),ot.tasks.size!==0&&ot.tick(fn)}function Yo(e){let t;return ot.tasks.size===0&&ot.tick(fn),{promise:new Promise(r=>{ot.tasks.add(t={c:e,f:r})}),abort(){ot.tasks.delete(t)}}}function lr(e,t){rn(()=>{e.dispatchEvent(new CustomEvent(t))})}function qo(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ja(e){const t={},r=e.split(";");for(const a of r){const[o,i]=a.split(":");if(!o||i===void 0)break;const s=qo(o.trim());t[s]=i.trim()}return t}const Ko=e=>e;function Bt(e,t,r){var a=en,o=a.nodes,i,s,b,v=null;o.a??={element:e,measure(){i=this.element.getBoundingClientRect()},apply(){if(b?.abort(),s=this.element.getBoundingClientRect(),i.left!==s.left||i.right!==s.right||i.top!==s.top||i.bottom!==s.bottom){const u=t()(this.element,{from:i,to:s},r?.());b=gr(this.element,u,void 0,1,()=>{b?.abort(),b=void 0})}},fix(){if(!e.getAnimations().length){var{position:u,width:c,height:x}=getComputedStyle(e);if(u!=="absolute"&&u!=="fixed"){var g=e.style;v={position:g.position,width:g.width,height:g.height,transform:g.transform},g.position="absolute",g.width=c,g.height=x;var f=e.getBoundingClientRect();if(i.left!==f.left||i.top!==f.top){var p=`translate(${i.left-f.left}px, ${i.top-f.top}px)`;g.transform=g.transform?`${g.transform} ${p}`:p}}}},unfix(){if(v){var u=e.style;u.position=v.position,u.width=v.width,u.height=v.height,u.transform=v.transform}}},o.a.element=e}function He(e,t,r,a){var o=(e&vo)!==0,i="both",s,b=t.inert,v=t.style.overflow,u,c;function x(){return rn(()=>s??=r()(t,a?.()??{},{direction:i}))}var g={is_global:o,in(){t.inert=b,lr(t,"introstart"),u=gr(t,x(),c,1,()=>{lr(t,"introend"),u?.abort(),u=s=void 0,t.style.overflow=v})},out(_){t.inert=!0,lr(t,"outrostart"),c=gr(t,x(),u,0,()=>{lr(t,"outroend"),_?.()})},stop:()=>{u?.abort(),c?.abort()}},f=en;if((f.nodes.t??=[]).push(g),Gn){var p=o;if(!p){for(var m=f.parent;m&&(m.f&lo)!==0;)for(;(m=m.parent)&&(m.f&co)===0;);p=!m||(m.f&uo)!==0}p&&tn(()=>{fa(()=>g.in())})}}function gr(e,t,r,a,o){var i=a===1;if(so(t)){var s,b=!1;return Kt(()=>{if(!b){var _=t({direction:i?"in":"out"});s=gr(e,_,r,a,o)}}),{abort:()=>{b=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return o(),{abort:Gt,deactivate:Gt,reset:Gt,t:()=>a};const{delay:v=0,css:u,tick:c,easing:x=Ko}=t;var g=[];if(i&&r===void 0&&(c&&c(0,1),u)){var f=ja(u(0,1));g.push(f,f)}var p=()=>1-a,m=e.animate(g,{duration:v,fill:"forwards"});return m.onfinish=()=>{m.cancel();var _=r?.t()??1-a;r?.abort();var T=a-_,E=t.duration*Math.abs(T),w=[];if(E>0){var y=!1;if(u)for(var S=Math.ceil(E/16.666666666666668),j=0;j<=S;j+=1){var k=_+T*x(j/S),A=ja(u(k,1-k));w.push(A),y||=A.overflow==="hidden"}y&&(e.style.overflow="hidden"),p=()=>{var I=m.currentTime;return _+T*x(I/E)},c&&Yo(()=>{if(m.playState!=="running")return!1;var I=p();return c(I,1-I),!0})}m=e.animate(w,{duration:E,fill:"forwards"}),m.onfinish=()=>{p=()=>a,c?.(a,1-a),o()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Gt)},deactivate:()=>{o=Gt},reset:()=>{a===0&&c?.(1,0)},t:()=>p()}}function ga(e,t,r){tn(()=>{var a=fa(()=>t(e,r?.())||{});if(r&&a?.update){var o=!1,i={};ba(()=>{var s=r();fo(s),o&&bo(i,s)&&(i=s,a.update(s))}),o=!0}if(a?.destroy)return()=>a.destroy()})}const Ma=[...` 	
\r\fÂ \v\uFEFF`];function Xo(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var o in r)if(r[o])a=a?a+" "+o:o;else if(a.length)for(var i=o.length,s=0;(s=a.indexOf(o,s))>=0;){var b=s+i;(s===0||Ma.includes(a[s-1]))&&(b===a.length||Ma.includes(a[b]))?a=(s===0?"":a.substring(0,s))+a.substring(b+1):s=b}}return a===""?null:a}function Pa(e,t=!1){var r=t?" !important;":";",a="";for(var o in e){var i=e[o];i!=null&&i!==""&&(a+=" "+o+": "+i+r)}return a}function Vr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Jo(e,t){if(t){var r="",a,o;if(Array.isArray(t)?(a=t[0],o=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,b=!1,v=[];a&&v.push(...Object.keys(a).map(Vr)),o&&v.push(...Object.keys(o).map(Vr));var u=0,c=-1;const m=e.length;for(var x=0;x<m;x++){var g=e[x];if(b?g==="/"&&e[x-1]==="*"&&(b=!1):i?i===g&&(i=!1):g==="/"&&e[x+1]==="*"?b=!0:g==='"'||g==="'"?i=g:g==="("?s++:g===")"&&s--,!b&&i===!1&&s===0){if(g===":"&&c===-1)c=x;else if(g===";"||x===m-1){if(c!==-1){var f=Vr(e.substring(u,c).trim());if(!v.includes(f)){g!==";"&&x++;var p=e.substring(u,x).trim();r+=" "+p+";"}}u=x+1,c=-1}}}}return a&&(r+=Pa(a)),o&&(r+=Pa(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function X(e,t,r,a,o,i){var s=e.__className;if(ze||s!==r||s===void 0){var b=Xo(r,a,i);(!ze||b!==e.getAttribute("class"))&&(b==null?e.removeAttribute("class"):e.className=b),e.__className=r}else if(i&&o!==i)for(var v in i){var u=!!i[v];(o==null||u!==!!o[v])&&e.classList.toggle(v,u)}return i}function Ur(e,t={},r,a){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,a))}}function pa(e,t,r,a){var o=e.__style;if(ze||o!==t){var i=Jo(t,a);(!ze||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else a&&(Array.isArray(a)?(Ur(e,r?.[0],a[0]),Ur(e,r?.[1],a[1],"important")):Ur(e,r,a));return a}const Qo=Symbol("is custom element"),$o=Symbol("is html");function Xe(e){if(ze){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;Na(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var o=e.checked;Na(e,"checked",null),e.checked=o}}};e.__on_r=r,Kt(r),go()}}function ei(e,t){var r=bn(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Na(e,t,r,a){var o=bn(e);ze&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="loading"&&(e[po]=r),e.removeAttribute(t))}function bn(e){return e.__attributes??={[Qo]:e.nodeName.includes("-"),[$o]:e.namespaceURI===mo}}function Dr(e,t,r=t){var a=new WeakSet;an(e,"input",async o=>{var i=o?e.defaultValue:e.value;if(i=Yr(e)?qr(i):i,r(i),Ct!==null&&a.add(Ct),await nn(),i!==(i=t())){var s=e.selectionStart,b=e.selectionEnd,v=e.value.length;if(e.value=i??"",b!==null){var u=e.value.length;s===b&&b===v&&u>v?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=s,e.selectionEnd=Math.min(b,u))}}}),(ze&&e.defaultValue!==e.value||fa(t)==null&&e.value)&&(r(Yr(e)?qr(e.value):e.value),Ct!==null&&a.add(Ct)),ba(()=>{var o=t();if(e===document.activeElement){var i=ho??Ct;if(a.has(i))return}Yr(e)&&o===qr(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const Zr=new Set;function jt(e,t,r,a,o=a){var i=r.getAttribute("type")==="checkbox",s=e;let b=!1;if(t!==null)for(var v of t)s=s[v]??=[];s.push(r),an(r,"change",()=>{var u=r.__value;i&&(u=Ra(s,u,r.checked)),o(u)},()=>o(i?[]:null)),ba(()=>{var u=a();if(ze&&r.defaultChecked!==r.checked){b=!0;return}i?(u=u||[],r.checked=u.includes(r.__value)):r.checked=_o(r.__value,u)}),xo(()=>{var u=s.indexOf(r);u!==-1&&s.splice(u,1)}),Zr.has(s)||(Zr.add(s),Kt(()=>{s.sort((u,c)=>u.compareDocumentPosition(c)===4?-1:1),Zr.delete(s)})),Kt(()=>{if(b){var u;if(i)u=Ra(s,u,r.checked);else{var c=s.find(x=>x.checked);u=c?.__value}o(u)}})}function Ra(e,t,r){for(var a=new Set,o=0;o<e.length;o+=1)e[o].checked&&a.add(e[o].__value);return r||a.delete(t),Array.from(a)}function Yr(e){var t=e.type;return t==="number"||t==="range"}function qr(e){return e===""?null:+e}const Kr={regular:{sev1:"I do this because it's who I am",sev2:"I do this to become better",sev3:"I do this because I enjoy it"},maintenance:{sev1:"Life breaks without this",sev2:"Keeps things running smooth",sev3:"Can wait or be skipped"}},ti={regular:{sev1:"Core",sev2:"Growth",sev3:"Enrichment"},maintenance:{sev1:"Essential",sev2:"Routine",sev3:"Optional"}},ri=["ðŸ’¼","ðŸ“Š","ðŸ“ˆ","ðŸ“‹","ðŸ“","ðŸ—‚ï¸","ðŸ“Œ","ðŸŽ¯","ðŸ ","ðŸ¡","ðŸ›‹ï¸","ðŸ§¹","ðŸ³","ðŸ›’","ðŸ§º","ðŸª´","ðŸ’ª","ðŸƒ","ðŸ‹ï¸","ðŸ§˜","ðŸš´","ðŸŠ","âš½","ðŸŽ¾","ðŸ“š","ðŸŽ“","ðŸ“–","âœï¸","ðŸ”¬","ðŸ§ª","ðŸŒ","ðŸ’¡","ðŸ’°","ðŸ’µ","ðŸ¦","ðŸ’³","ðŸ“‰","ðŸª™","ðŸ’Ž","ðŸ§","â¤ï¸","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ‘¥","ðŸ’‘","ðŸ‘¶","ðŸ•","ðŸˆ","ðŸŽ¨","ðŸŽµ","ðŸŽ¸","ðŸŽ¹","ðŸ“¸","ðŸŽ¬","ðŸŽ­","âœï¸","ðŸ’»","ðŸ“±","ðŸ–¥ï¸","âŒ¨ï¸","ðŸ”§","âš™ï¸","ðŸ¤–","ðŸŽ®","âœˆï¸","ðŸš—","ðŸš€","ðŸ—ºï¸","ðŸ–ï¸","â›°ï¸","ðŸ•ï¸","ðŸŒ…","ðŸ§ ","ðŸŒ±","â˜€ï¸","ðŸŒ¸","ðŸ¦‹","ðŸŒˆ","âœ¨","ðŸ’«","ðŸŽ","ðŸ¥—","ðŸ¥‘","ðŸ³","â˜•","ðŸµ","ðŸ¥¤","ðŸ§ƒ","â­","ðŸ”¥","ðŸ†","ðŸ¥‡","ðŸŽ–ï¸","ðŸ…","ðŸ‘‘","ðŸ’¯","ðŸ“","ðŸ—“ï¸","â°","ðŸ””","ðŸ’¬","ðŸ“§","ðŸŽ","ðŸŽ‰"];var ai=N('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),ni=N('<button><span class="text-xl"> </span> <span class="text-xs font-medium"> </span></button>'),oi=N('<nav class="md:hidden pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav> <nav class="hidden md:flex fixed left-0 top-0 bottom-0 w-20 bg-base-200 border-r border-base-content/10 flex-col items-center py-6 gap-2"></nav>',1);function ii(e,t){ye(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var a=oi(),o=le(a);Ae(o,21,()=>r,Ue,(s,b)=>{var v=ai();let u;v.__click=()=>t.onTabChange(n(b).id);let c;var x=d(v),g=d(x,!0);l(x);var f=h(x,2),p=d(f,!0);l(f),l(v),te(()=>{u=X(v,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,u,{"text-primary":t.activeTab===n(b).id,"text-base-content":t.activeTab!==n(b).id}),c=pa(v,"",c,{opacity:t.activeTab===n(b).id?1:.4}),R(g,n(b).icon),R(p,n(b).label)}),O(s,v)}),l(o);var i=h(o,2);Ae(i,21,()=>r,Ue,(s,b)=>{var v=ni();v.__click=()=>t.onTabChange(n(b).id);var u=d(v),c=d(u,!0);l(u);var x=h(u,2),g=d(x,!0);l(x),l(v),te(()=>{X(v,1,`flex flex-col ${t.activeTab==n(b).id?"bg-primary/20 text-primary":"text-base-content "} items-center gap-1 px-3 py-3 rounded-lg transition-colors w-16 `),R(c,n(b).icon),R(g,n(b).label)}),O(s,v)}),l(i),O(e,a),we()}Te(["click"]);const si=e=>e;function li(e){const t=e-1;return t*t*t+1}function La(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Dt(e,{delay:t=0,duration:r=400,easing:a=si}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:i=>`opacity: ${i*o}`}}function Et(e,{delay:t=0,duration:r=400,easing:a=li,x:o=0,y:i=0,opacity:s=0}={}){const b=getComputedStyle(e),v=+b.opacity,u=b.transform==="none"?"":b.transform,c=v*(1-s),[x,g]=La(o),[f,p]=La(i);return{delay:t,duration:r,easing:a,css:(m,_)=>`
			transform: ${u} translate(${(1-m)*x}${g}, ${(1-m)*f}${p});
			opacity: ${v-c*_}`}}var di=N('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),ci=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function ui(e,t){ye(t,!0);let r=J(!1),a=J(null);function o(f,p){f.stopPropagation(),D(a,p,!0),D(r,!0)}function i(){D(r,!1),D(a,null)}function s(){return To(t.currentWeekOf).map(f=>({date:f,dayName:ln(f),isToday:sn(f)}))}async function b(f){if(!n(a))return;const p=n(a);i();const m=t.isTaskAssignedToDay(p.id);p.type==="oneoff"?m===f?await ur(p.id,t.currentWeekOf,f):(m&&await ur(p.id,t.currentWeekOf,m),await wo(p.id,p.areaId,p.name,p.status,t.currentWeekOf,f)):m===f?await vr(p.id,p.projectId,t.currentWeekOf,f):(m&&await vr(p.id,p.projectId,t.currentWeekOf,m),await ko(p.id,p.projectId,p.areaId,p.name,p.status,t.currentWeekOf,f,!1))}async function v(){if(!n(a))return;const f=n(a),p=t.isTaskAssignedToDay(f.id);p&&(f.type==="oneoff"?await ur(f.id,t.currentWeekOf,p):await vr(f.id,f.projectId,t.currentWeekOf,p)),i()}var u={openDayPicker:o},c=me(),x=le(c);{var g=f=>{var p=ci(),m=d(p);m.__click=i,m.__keydown=I=>I.key==="Escape"&&i();var _=h(m,2),T=d(_),E=d(T),w=h(d(E),2),y=d(w,!0);l(w),l(E);var S=h(E,2);S.__click=i,l(T);var j=h(T,2);Ae(j,21,s,Ue,(I,C)=>{const P=ee(()=>t.isTaskAssignedToDay(n(a).id)===n(C).date);var F=di();F.__click=()=>b(n(C).date);var Z=d(F),z=d(Z,!0);l(Z);var $=h(Z,2),L=d($,!0);l($),l(F),te(V=>{X(F,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${n(P)?"bg-primary/10 text-primary border-primary":n(C).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),R(z,n(C).dayName),R(L,V)},[()=>n(C).date.split("-")[2]]),O(I,F)}),l(j);var k=h(j,2),A=d(k);A.__click=v,l(k),l(_),l(p),te(()=>R(y,n(a).name)),He(3,m,()=>Dt,()=>({duration:200})),He(3,_,()=>Et,()=>({y:300,duration:300})),O(f,p)};Q(x,f=>{n(r)&&n(a)&&f(g)})}return O(e,c),we(u)}Te(["click","keydown"]);function Fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fa(Object(r),!0).forEach(function(a){Rt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fa(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mt(e){"@babel/helpers - typeof";return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(e)}function Rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vi(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,i;for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function fi(e,t){if(e==null)return{};var r=vi(e,t),a,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function bi(e,t){return pi(e)||hi(e,t)||ma(e,t)||xi()}function Ye(e){return gi(e)||mi(e)||ma(e)||_i()}function gi(e){if(Array.isArray(e))return aa(e)}function pi(e){if(Array.isArray(e))return e}function mi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hi(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],o=!0,i=!1,s,b;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));o=!0);}catch(v){i=!0,b=v}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw b}}return a}}function ma(e,t){if(e){if(typeof e=="string")return aa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aa(e,t)}}function aa(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function _i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ma(e))||t){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(v){throw v},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,b;return{s:function(){r=r.call(e)},n:function(){var v=r.next();return i=v.done,v},e:function(v){s=!0,b=v},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(s)throw b}}}}var yi="finalize",wi="consider";function Lt(e,t,r){e.dispatchEvent(new CustomEvent(yi,{detail:{items:t,info:r}}))}function ft(e,t,r){e.dispatchEvent(new CustomEvent(wi,{detail:{items:t,info:r}}))}var Er="draggedEntered",er="draggedLeft",Ar="draggedOverIndex",ha="draggedLeftDocument",mr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function ki(e,t,r){e.dispatchEvent(new CustomEvent(Er,{detail:{indexObj:t,draggedEl:r}}))}function Ti(e,t,r){e.dispatchEvent(new CustomEvent(er,{detail:{draggedEl:t,type:mr.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Di(e,t){e.dispatchEvent(new CustomEvent(er,{detail:{draggedEl:t,type:mr.OUTSIDE_OF_ANY}}))}function Ei(e,t,r){e.dispatchEvent(new CustomEvent(Ar,{detail:{indexObj:t,draggedEl:r}}))}function Ai(e){window.dispatchEvent(new CustomEvent(ha,{detail:{draggedEl:e}}))}var Re={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Er,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Ar,DRAGGED_LEFT:er,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Ge={POINTER:"pointer",KEYBOARD:"keyboard"},Ir="isDndShadowItem",Or="data-is-dnd-shadow-item-internal",Ii="data-is-dnd-shadow-item-hint",gn="id:dnd-shadow-placeholder-0000",Oi="dnd-action-dragged-el",Ee="id",na=0;function pn(){na++}function mn(){if(na===0)throw new Error("Bug! trying to decrement when there are no dropzones");na--}var _a=typeof window>"u";function oa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?ji(e):e.getBoundingClientRect(),o=getComputedStyle(e),i=o.transform;if(i){var s,b,v,u;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],b=+r[5],v=+r[12],u=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],b=+r[3],v=+r[4],u=+r[5];else return a;var c=o.transformOrigin,x=a.x-v-(1-s)*parseFloat(c),g=a.y-u-(1-b)*parseFloat(c.slice(c.indexOf(" ")+1)),f=s?a.width/s:e.offsetWidth,p=b?a.height/b:e.offsetHeight;return{x,y:g,width:f,height:p,top:g,right:x+f,bottom:g+p,left:x}}else return a}function hn(e){var t=oa(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function _n(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function xn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Si(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Sr(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Xt(e){return xn(_n(e))}function Ba(e,t){var r=Xt(e),a=hn(t);return Sr(r,a)}function za(e,t){var r=Xt(e),a=Xt(t);return Si(r,a)}function Ci(e){var t=_n(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function ji(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,o=!1,i=e.parentElement;i&&i!==document.body;){var s=window.getComputedStyle(i),b=s.overflowY,v=s.overflowX,u=b==="scroll"||b==="auto",c=v==="scroll"||v==="auto";if(u||c){var x=i.getBoundingClientRect();if(u){var g=Math.max(r.top,x.top),f=Math.min(r.bottom,x.bottom);(g!==r.top||f!==r.bottom)&&(a=!0),r.top=g,r.bottom=f}if(c){var p=Math.max(r.left,x.left),m=Math.min(r.right,x.right);(p!==r.left||m!==r.right)&&(o=!0),r.left=p,r.right=m}}i=i.parentElement}return a||o?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Pt;function xa(){Pt=new Map}xa();function Mi(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Or)});if(t>=0)return Pt.has(e)||Pt.set(e,new Map),Pt.get(e).set(t,hn(e.children[t])),t}function Pi(e,t){if(!Ba(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=Mi(t),o=0;o<r.length;o++)if(Ba(e,r[o])){var i=Pt.has(t)&&Pt.get(t).get(o);return i&&!Sr(Xt(e),i)?{index:a,isProximityBased:!1}:{index:o,isProximityBased:!1}}for(var s=Number.MAX_VALUE,b=void 0,v=0;v<r.length;v++){var u=za(e,r[v]);u<s&&(s=u,b=v)}if(r.length>0){var c=r.length,x=r[c-1],g=x.cloneNode(!1);g.style.visibility="hidden",g.style.pointerEvents="none",t.appendChild(g);var f=za(e,g);f<s&&(b=c),t.removeChild(g)}return{index:b,isProximityBased:!0}}function Ht(e){return JSON.stringify(e,null,2)}function hr(e){if(!e)throw new Error("cannot get depth of a falsy node");return yn(e,0)}function yn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?yn(e.parentElement,t+1):t-1}function Ni(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Ri(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Li=200,Wa=10,ia;function Fi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Li,a=arguments.length>3?arguments[3]:void 0,o,i,s=!1,b,v=Array.from(t).sort(function(c,x){return hr(x)-hr(c)});function u(){var c=Xt(e),x=a.multiScrollIfNeeded();if(!x&&b&&Math.abs(b.x-c.x)<Wa&&Math.abs(b.y-c.y)<Wa){ia=window.setTimeout(u,r);return}if(Ci(e)){Ai(e);return}b=c;var g=!1,f=$t(v),p;try{for(f.s();!(p=f.n()).done;){var m=p.value;x&&xa();var _=Pi(e,m);if(_!==null){var T=_.index;g=!0,m!==o?(o&&Ti(o,e,m),ki(m,_,e),o=m):T!==i&&(Ei(m,_,e),i=T);break}}}catch(E){f.e(E)}finally{f.f()}!g&&s&&o?(Di(o,e),o=void 0,i=void 0,s=!1):s=!0,ia=window.setTimeout(u,r)}u()}function Bi(){clearTimeout(ia),xa()}var Vt=30;function zi(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var s=e,b=s.directionObj,v=s.stepPx;b&&(i.scrollBy(b.x*v,b.y*v),window.requestAnimationFrame(function(){return r(i)}))}function a(i){return Vt-i}function o(i,s){if(!s)return!1;var b=Wi(i,s),v=!!e.directionObj;if(b===null)return v&&t(),!1;var u=!1,c=!1;return s.scrollHeight>s.clientHeight&&(b.bottom<Vt?(u=!0,e.directionObj={x:0,y:1},e.stepPx=a(b.bottom)):b.top<Vt&&(u=!0,e.directionObj={x:0,y:-1},e.stepPx=a(b.top)),!v&&u)||s.scrollWidth>s.clientWidth&&(b.right<Vt?(c=!0,e.directionObj={x:1,y:0},e.stepPx=a(b.right)):b.left<Vt&&(c=!0,e.directionObj={x:-1,y:0},e.stepPx=a(b.left)),!v&&c)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:o,resetScrolling:t}}function Wi(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Sr(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Gi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Vi(e),a=Array.from(r).sort(function(v,u){return hr(u)-hr(v)}),o=zi(),i=o.scrollIfNeeded,s=o.resetScrolling;function b(){var v=t();if(!v||!a)return!1;for(var u=a.filter(function(g){return Sr(v,g.getBoundingClientRect())||g===document.scrollingElement}),c=0;c<u.length;c++){var x=i(v,u[c]);if(x)return!0}return!1}return{multiScrollIfNeeded:r.size>0?b:function(){return!1},destroy:function(){return s()}}}function Hi(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),o=a.overflow;o.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Vi(e){var t=new Set,r=$t(e),a;try{for(r.s();!(a=r.n()).done;){var o=a.value;Hi(o).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Ui(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",o=a?[e]:Ye(e.querySelectorAll("select")),i=$t(o),s;try{for(i.s();!(s=i.n()).done;){var b=s.value;r.push(b.value)}}catch(w){i.e(w)}finally{i.f()}if(o.length>0)for(var v=a?[t]:Ye(t.querySelectorAll("select")),u=0;u<v.length;u++){var c=v[u],x=r[u],g=c.querySelector('option[value="'.concat(x,'"'));g&&g.setAttribute("selected",!0)}var f=e.tagName==="CANVAS",p=f?[e]:Ye(e.querySelectorAll("canvas"));if(p.length>0)for(var m=f?[t]:Ye(t.querySelectorAll("canvas")),_=0;_<m.length;_++){var T=p[_],E=m[_];E.width=T.width,E.height=T.height,T.width>0&&T.height>0&&E.getContext("2d").drawImage(T,0,0)}return t}var Jt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Zi=Rt({},Jt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function wn(e){if(!Jt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Jt)));return Zi[e]}var Yi=.2;function ht(e){return"".concat(e," ").concat(Yi,"s ease")}function qi(e,t){var r=e.getBoundingClientRect(),a=Ui(e);kn(e,a),a.id=Oi,a.style.position="fixed";var o=r.top,i=r.left;if(a.style.top="".concat(o,"px"),a.style.left="".concat(i,"px"),t){var s=xn(r);o-=s.y-t.y,i-=s.x-t.x,window.setTimeout(function(){a.style.top="".concat(o,"px"),a.style.left="".concat(i,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(ht("top"),", ").concat(ht("left"),", ").concat(ht("background-color"),", ").concat(ht("opacity"),", ").concat(ht("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(ht("width"),", ").concat(ht("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function Ki(e){e.style.cursor="grab"}function Xi(e,t,r,a){kn(t,e);var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=o.width-i.width,b=o.height-i.height;if(s||b){var v={left:(r-i.left)/i.width,top:(a-i.top)/i.height};wn(Jt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(o.height,"px"),e.style.width="".concat(o.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-v.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-v.top*b,"px")}}function kn(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||wn(Jt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function Ji(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Tn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Qi(e){e.style.visibility="hidden",e.setAttribute(Or,"true")}function $i(e){e.style.visibility="",e.removeAttribute(Or)}function fr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var o=t(a);Object.keys(o).forEach(function(i){a.style[i]=o[i]}),r(a).forEach(function(i){return a.classList.add(i)})})}function _r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var o=t(a);Object.keys(o).forEach(function(i){a.style[i]=""}),r(a).forEach(function(i){return a.classList.contains(i)&&a.classList.remove(i)})})}function es(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var ts="--any--",rs=100,as=20,dr=3,ns=80,Ga={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ha="data-is-dnd-original-dragged-item",Be,Se,We,Cr,ge,jr,ut,je,tt,Me,dt=!1,ya=!1,wa,tr=!1,br=[],qt,rt,Zt=!1,Qe=new Map,xe=new Map,Xr=new WeakMap;function os(e,t){Qe.has(t)||Qe.set(t,new Set),Qe.get(t).has(e)||(Qe.get(t).add(e),pn())}function Va(e,t){Qe.get(t).delete(e),mn(),Qe.get(t).size===0&&Qe.delete(t)}function is(){var e=Qe.get(Cr),t=$t(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(Er,Dn),a.addEventListener(er,En),a.addEventListener(Ar,An)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(ha,Ft);var o=Math.max.apply(Math,Ye(Array.from(e.keys()).map(function(s){return xe.get(s).dropAnimationDurationMs}))),i=o===0?as:Math.max(o,rs);qt=Gi(e,function(){return Me}),Fi(Se,e,i*1.07,qt)}function ss(){var e=Qe.get(Cr),t=$t(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(Er,Dn),a.removeEventListener(er,En),a.removeEventListener(Ar,An)}}catch(o){t.e(o)}finally{t.f()}window.removeEventListener(ha,Ft),qt&&(qt.destroy(),qt=void 0),Bi()}function Mr(e){return e.findIndex(function(t){return!!t[Ir]})}function ls(e){var t;return pr(pr({},e),{},(t={},Rt(t,Ir,!0),Rt(t,Ee,gn),t))}function Dn(e){var t=xe.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ge)){if(tr=!1,r=r.filter(function(b){return b[Ee]!==ut[Ee]&&b[Ee]!==gn}),ge!==e.currentTarget){var o=xe.get(ge).items,i=o.filter(function(b){return!b[Ir]});ft(ge,i,{trigger:Re.DRAGGED_ENTERED_ANOTHER,id:We[Ee],source:Ge.POINTER})}var s=e.detail.indexObj.index;je=e.currentTarget,r.splice(s,0,ut),ft(e.currentTarget,r,{trigger:Re.DRAGGED_ENTERED,id:We[Ee],source:Ge.POINTER})}}function En(e){if(dt){var t=xe.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ge&&e.currentTarget!==je)){var o=Ye(r),i=Mr(o);i!==-1&&o.splice(i,1);var s=je;je=void 0;var b=e.detail,v=b.type,u=b.theOtherDz;if(v===mr.OUTSIDE_OF_ANY||v===mr.LEFT_FOR_ANOTHER&&u!==ge&&xe.get(u).dropFromOthersDisabled){tr=!0,je=ge;var c=s===ge?o:Ye(xe.get(ge).items);c.splice(jr,0,ut),ft(ge,c,{trigger:Re.DRAGGED_LEFT_ALL,id:We[Ee],source:Ge.POINTER})}ft(e.currentTarget,o,{trigger:Re.DRAGGED_LEFT,id:We[Ee],source:Ge.POINTER})}}}function An(e){var t=xe.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ge)){var o=Ye(r);tr=!1;var i=e.detail.indexObj.index,s=Mr(o);s!==-1&&o.splice(s,1),o.splice(i,0,ut),ft(e.currentTarget,o,{trigger:Re.DRAGGED_OVER_INDEX,id:We[Ee],source:Ge.POINTER})}}function xr(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Me={x:t.clientX,y:t.clientY},Se.style.transform="translate3d(".concat(Me.x-tt.x,"px, ").concat(Me.y-tt.y,"px, 0)")}function Ft(){ya=!0,window.removeEventListener("mousemove",xr),window.removeEventListener("touchmove",xr),window.removeEventListener("mouseup",Ft),window.removeEventListener("touchend",Ft),ss(),Ki(Se),je||(je=ge);var e=xe.get(je),t=e.items,r=e.type;_r(Qe.get(r),function(i){return xe.get(i).dropTargetStyle},function(i){return xe.get(i).dropTargetClasses});var a=Mr(t);a===-1&&je===ge&&(a=jr),t=t.map(function(i){return i[Ir]?We:i});function o(){wa(),Lt(je,t,{trigger:tr?Re.DROPPED_OUTSIDE_OF_ANY:Re.DROPPED_INTO_ZONE,id:We[Ee],source:Ge.POINTER}),je!==ge&&Lt(ge,xe.get(ge).items,{trigger:Re.DROPPED_INTO_ANOTHER,id:We[Ee],source:Ge.POINTER});var i=Array.from(je.children).find(function(s){return s.getAttribute(Or)});i&&$i(i),us()}xe.get(je).dropAnimationDisabled?o():ds(a,o)}function ds(e,t){var r=e>-1?oa(je.children[e],!1):oa(je,!1),a={x:r.left-parseFloat(Se.style.left),y:r.top-parseFloat(Se.style.top)},o=xe.get(je),i=o.dropAnimationDurationMs,s="transform ".concat(i,"ms ease");Se.style.transition=Se.style.transition?Se.style.transition+","+s:s,Se.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,i)}function cs(e,t){br.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){Tn(e),document.body.appendChild(e)})}function us(){Se&&Se.remove&&Se.remove(),Be&&Be.remove&&Be.remove(),Se=void 0,Be=void 0,We=void 0,Cr=void 0,ge=void 0,jr=void 0,ut=void 0,je=void 0,tt=void 0,Me=void 0,dt=!1,ya=!1,wa=void 0,tr=!1,rt&&clearTimeout(rt),rt=void 0,Zt=!1,br.length&&(br.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),br=[])}function vs(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ga,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},o=new Map;function i(){window.addEventListener("mousemove",v,{passive:!1}),window.addEventListener("touchmove",v,{passive:!1,capture:!1}),window.addEventListener("mouseup",b,{passive:!1}),window.addEventListener("touchend",b,{passive:!1})}function s(){window.removeEventListener("mousemove",v),window.removeEventListener("touchmove",v),window.removeEventListener("mouseup",b),window.removeEventListener("touchend",b),rt&&(clearTimeout(rt),rt=void 0,Zt=!1)}function b(g){if(s(),Be=void 0,tt=void 0,Me=void 0,g.type==="touchend"){var f=new Event("click",{bubbles:!0,cancelable:!0});g.target.dispatchEvent(f)}}function v(g){var f=!!g.touches,p=f?g.touches[0]:g;if(f&&a.delayTouchStartMs>0&&!Zt){Me={x:p.clientX,y:p.clientY},(Math.abs(Me.x-tt.x)>=dr||Math.abs(Me.y-tt.y)>=dr)&&(rt&&(clearTimeout(rt),rt=void 0),b(g));return}g.preventDefault(),Me={x:p.clientX,y:p.clientY},(Math.abs(Me.x-tt.x)>=dr||Math.abs(Me.y-tt.y)>=dr)&&(s(),c())}function u(g){if(!(g.target!==g.currentTarget&&(g.target.value!==void 0||g.target.isContentEditable))&&!g.button&&!dt){var f=!!g.touches,p=f&&a.delayTouchStartMs>0;p||g.preventDefault(),g.stopPropagation();var m=f?g.touches[0]:g;tt={x:m.clientX,y:m.clientY},Me=pr({},tt),Be=g.currentTarget,p&&(Zt=!1,rt=window.setTimeout(function(){Be&&(Zt=!0,s(),c())},a.delayTouchStartMs)),i()}}function c(){dt=!0;var g=o.get(Be);jr=g,ge=Be.parentElement;var f=ge.closest("dialog")||ge.closest("[popover]")||ge.getRootNode(),p=f.body||f,m=a.items,_=a.type,T=a.centreDraggedOnCursor,E=Ye(m);We=E[g],Cr=_,ut=ls(We),Se=qi(Be,T&&Me),p.appendChild(Se);function w(){Be.parentElement?window.requestAnimationFrame(w):(Be.setAttribute(Ha,!0),p.appendChild(Be),is(),Tn(Be),ut[Ee]=We[Ee],Se.focus())}window.requestAnimationFrame(w),fr(Array.from(Qe.get(a.type)).filter(function(y){return y===ge||!xe.get(y).dropFromOthersDisabled}),function(y){return xe.get(y).dropTargetStyle},function(y){return xe.get(y).dropTargetClasses}),E.splice(g,1,ut),wa=es(ge),ft(ge,E,{trigger:Re.DRAG_STARTED,id:We[Ee],source:Ge.POINTER}),window.addEventListener("mousemove",xr,{passive:!1}),window.addEventListener("touchmove",xr,{passive:!1,capture:!1}),window.addEventListener("mouseup",Ft,{passive:!1}),window.addEventListener("touchend",Ft,{passive:!1})}function x(g){var f=g.items,p=f===void 0?void 0:f,m=g.flipDurationMs,_=m===void 0?0:m,T=g.type,E=T===void 0?ts:T,w=g.dragDisabled,y=w===void 0?!1:w,S=g.morphDisabled,j=S===void 0?!1:S,k=g.dropFromOthersDisabled,A=k===void 0?!1:k,I=g.dropTargetStyle,C=I===void 0?Ga:I,P=g.dropTargetClasses,F=P===void 0?[]:P,Z=g.transformDraggedElement,z=Z===void 0?function(){}:Z,$=g.centreDraggedOnCursor,L=$===void 0?!1:$,V=g.dropAnimationDisabled,q=V===void 0?!1:V,Y=g.delayTouchStart,U=Y===void 0?!1:Y;a.dropAnimationDurationMs=_;var G=0;U===!0?G=ns:typeof U=="number"&&isFinite(U)&&U>=0&&(G=U),a.delayTouchStartMs=G,a.type&&E!==a.type&&Va(e,a.type),a.type=E,a.items=Ye(p),a.dragDisabled=y,a.morphDisabled=j,a.transformDraggedElement=z,a.centreDraggedOnCursor=L,a.dropAnimationDisabled=q,r&&dt&&!ya&&(!Ni(C,a.dropTargetStyle)||!Ri(F,a.dropTargetClasses))&&(_r([e],function(){return a.dropTargetStyle},function(){return F}),fr([e],function(){return C},function(){return F})),a.dropTargetStyle=C,a.dropTargetClasses=Ye(F);function ae(W,M){return xe.get(W)?xe.get(W)[M]:a[M]}r&&dt&&a.dropFromOthersDisabled!==A&&(A?_r([e],function(W){return ae(W,"dropTargetStyle")},function(W){return ae(W,"dropTargetClasses")}):fr([e],function(W){return ae(W,"dropTargetStyle")},function(W){return ae(W,"dropTargetClasses")})),a.dropFromOthersDisabled=A,xe.set(e,a),os(e,E);for(var H=dt?Mr(a.items):-1,ne=0;ne<e.children.length;ne++){var ie=e.children[ne];if(Ji(ie,y),ne===H){j||Xi(Se,ie,Me.x,Me.y),a.transformDraggedElement(Se,We,ne),Qi(ie);continue}ie.removeEventListener("mousedown",Xr.get(ie)),ie.removeEventListener("touchstart",Xr.get(ie)),y||(ie.addEventListener("mousedown",u),ie.addEventListener("touchstart",u),Xr.set(ie,u)),o.set(ie,ne),r||(r=!0)}}return x(t),{update:function(f){x(f)},destroy:function(){function f(){Va(e,xe.get(e).type),xe.delete(e)}dt&&!e.closest("[".concat(Ha,"]"))?cs(e,f):f()}}}var cr,sa={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},In=(cr={},Rt(cr,sa.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Rt(cr,sa.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),cr),fs="dnd-action-aria-alert",ke;function la(){ke||(ke=document.createElement("div"),(function(){ke.id=fs,ke.style.position="fixed",ke.style.bottom="0",ke.style.left="0",ke.style.zIndex="-5",ke.style.opacity="0",ke.style.height="0",ke.style.width="0",ke.setAttribute("role","alert")})(),document.body.prepend(ke),Object.entries(In).forEach(function(e){var t=bi(e,2),r=t[0],a=t[1];return document.body.prepend(ps(r,a))}))}function bs(){return _a?null:(document.readyState==="complete"?la():window.addEventListener("DOMContentLoaded",la),pr({},sa))}function gs(){_a||!ke||(Object.keys(In).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),ke.remove(),ke=void 0)}function ps(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Nt(e){if(!_a){ke||la(),ke.innerHTML="";var t=document.createTextNode(e);ke.appendChild(t),ke.style.display="none",ke.style.display="inline"}}var ms="--any--",Ua={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ze=!1,da,Pe,kt="",_t,at,ct="",yr=new WeakSet,Za=new WeakMap,Ya=new WeakMap,ca=new Map,Ce=new Map,Je=new Map,wr;function hs(e,t){Je.size===0&&(wr=bs(),window.addEventListener("keydown",On),window.addEventListener("click",Sn)),Je.has(t)||Je.set(t,new Set),Je.get(t).has(e)||(Je.get(t).add(e),pn())}function qa(e,t){Pe===e&&Qt(),Je.get(t).delete(e),mn(),Je.get(t).size===0&&Je.delete(t),Je.size===0&&(window.removeEventListener("keydown",On),window.removeEventListener("click",Sn),wr=void 0,gs())}function On(e){if(Ze)switch(e.key){case"Escape":{Qt();break}}}function Sn(){Ze&&(yr.has(document.activeElement)||Qt())}function _s(e){if(Ze){var t=e.currentTarget;if(t!==Pe){kt=t.getAttribute("aria-label")||"";var r=Ce.get(Pe),a=r.items,o=a.find(function(x){return x[Ee]===at}),i=a.indexOf(o),s=a.splice(i,1)[0],b=Ce.get(t),v=b.items,u=b.autoAriaDisabled;t.getBoundingClientRect().top<Pe.getBoundingClientRect().top||t.getBoundingClientRect().left<Pe.getBoundingClientRect().left?(v.push(s),u||Nt("Moved item ".concat(ct," to the end of the list ").concat(kt))):(v.unshift(s),u||Nt("Moved item ".concat(ct," to the beginning of the list ").concat(kt)));var c=Pe;Lt(c,a,{trigger:Re.DROPPED_INTO_ANOTHER,id:at,source:Ge.KEYBOARD}),Lt(t,v,{trigger:Re.DROPPED_INTO_ZONE,id:at,source:Ge.KEYBOARD}),Pe=t}}}function Cn(){ca.forEach(function(e,t){var r=e.update;return r(Ce.get(t))})}function Qt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Ce.get(Pe).autoAriaDisabled||Nt("Stopped dragging item ".concat(ct)),yr.has(document.activeElement)&&document.activeElement.blur(),e&&ft(Pe,Ce.get(Pe).items,{trigger:Re.DRAG_STOPPED,id:at,source:Ge.KEYBOARD}),_r(Je.get(da),function(t){return Ce.get(t).dropTargetStyle},function(t){return Ce.get(t).dropTargetClasses}),_t=null,at=null,ct="",da=null,Pe=null,kt="",Ze=!1,Cn()}function xs(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ua,dropTargetClasses:[],autoAriaDisabled:!1};function a(c,x,g){c.length<=1||c.splice(g,1,c.splice(x,1,c[g])[0])}function o(c){switch(c.key){case"Enter":case" ":{if((c.target.disabled!==void 0||c.target.href||c.target.isContentEditable)&&!yr.has(c.target))return;c.preventDefault(),c.stopPropagation(),Ze?Qt():i(c);break}case"ArrowDown":case"ArrowRight":{if(!Ze)return;c.preventDefault(),c.stopPropagation();var x=Ce.get(e),g=x.items,f=Array.from(e.children),p=f.indexOf(c.currentTarget);p<f.length-1&&(r.autoAriaDisabled||Nt("Moved item ".concat(ct," to position ").concat(p+2," in the list ").concat(kt)),a(g,p,p+1),Lt(e,g,{trigger:Re.DROPPED_INTO_ZONE,id:at,source:Ge.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Ze)return;c.preventDefault(),c.stopPropagation();var m=Ce.get(e),_=m.items,T=Array.from(e.children),E=T.indexOf(c.currentTarget);E>0&&(r.autoAriaDisabled||Nt("Moved item ".concat(ct," to position ").concat(E," in the list ").concat(kt)),a(_,E,E-1),Lt(e,_,{trigger:Re.DROPPED_INTO_ZONE,id:at,source:Ge.KEYBOARD}));break}}}function i(c){b(c.currentTarget),Pe=e,da=r.type,Ze=!0;var x=Array.from(Je.get(r.type)).filter(function(f){return f===Pe||!Ce.get(f).dropFromOthersDisabled});if(fr(x,function(f){return Ce.get(f).dropTargetStyle},function(f){return Ce.get(f).dropTargetClasses}),!r.autoAriaDisabled){var g="Started dragging item ".concat(ct,". Use the arrow keys to move it within its list ").concat(kt);x.length>1&&(g+=", or tab to another list in order to move the item into it"),Nt(g)}ft(e,Ce.get(e).items,{trigger:Re.DRAG_STARTED,id:at,source:Ge.KEYBOARD}),Cn()}function s(c){Ze&&c.currentTarget!==_t&&(c.stopPropagation(),Qt(!1),i(c))}function b(c){var x=Ce.get(e),g=x.items,f=Array.from(e.children),p=f.indexOf(c);_t=c,_t.tabIndex=r.zoneItemTabIndex,at=g[p][Ee],ct=f[p].getAttribute("aria-label")||""}function v(c){var x=c.items,g=x===void 0?[]:x,f=c.type,p=f===void 0?ms:f,m=c.dragDisabled,_=m===void 0?!1:m,T=c.zoneTabIndex,E=T===void 0?0:T,w=c.zoneItemTabIndex,y=w===void 0?0:w,S=c.dropFromOthersDisabled,j=S===void 0?!1:S,k=c.dropTargetStyle,A=k===void 0?Ua:k,I=c.dropTargetClasses,C=I===void 0?[]:I,P=c.autoAriaDisabled,F=P===void 0?!1:P;r.items=Ye(g),r.dragDisabled=_,r.dropFromOthersDisabled=j,r.zoneTabIndex=E,r.zoneItemTabIndex=y,r.dropTargetStyle=A,r.dropTargetClasses=C,r.autoAriaDisabled=F,r.type&&p!==r.type&&qa(e,r.type),r.type=p,hs(e,p),F||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",_?wr.DND_ZONE_DRAG_DISABLED:wr.DND_ZONE_ACTIVE)),Ce.set(e,r),Ze?e.tabIndex=e===Pe||_t.contains(e)||r.dropFromOthersDisabled||Pe&&r.type!==Ce.get(Pe).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",_s);for(var Z=function(L){var V=e.children[L];yr.add(V),V.tabIndex=Ze?-1:r.zoneItemTabIndex,F||V.setAttribute("role","listitem"),V.removeEventListener("keydown",Za.get(V)),V.removeEventListener("click",Ya.get(V)),_||(V.addEventListener("keydown",o),Za.set(V,o),V.addEventListener("click",s),Ya.set(V,s)),Ze&&r.items[L][Ee]===at&&(_t=V,_t.tabIndex=r.zoneItemTabIndex,V.focus())},z=0;z<e.children.length;z++)Z(z)}v(t);var u={update:function(x){v(x)},destroy:function(){qa(e,r.type),Ce.delete(e),ca.delete(e)}};return ca.set(e,u),u}var ys=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function jn(e,t){if(ws(e))return{update:function(){},destroy:function(){}};Ka(t);var r=vs(e,t),a=xs(e,t);return{update:function(i){Ka(i),r.update(i),a.update(i)},destroy:function(){r.destroy(),a.destroy()}}}function ws(e){return!!e.closest("[".concat(Ii,'="true"]'))}function Ka(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var o=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var i=e.delayTouchStart;e.dropAnimationDisabled;var s=fi(e,ys);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var b=t.find(function(c){return!{}.hasOwnProperty.call(c,Ee)});if(b)throw new Error("missing '".concat(Ee,"' property for item ").concat(Ht(b)));if(o&&!Array.isArray(o))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Mt(o),", ").concat(Ht(o)));if(r&&!Xa(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Mt(r),", ").concat(Ht(r)));if(a&&!Xa(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Mt(a),", ").concat(Ht(a)));if(i!==void 0&&i!==!1){var v=i===!0,u=typeof i=="number"&&isFinite(i)&&i>=0;if(!v&&!u)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(Mt(i),", ").concat(Ht(i)))}}function Xa(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function ks(e){const t=e-1;return t*t*t+1}function Pr(e){return--e*e*e*e*e+1}function zt(e,{from:t,to:r},a={}){var{delay:o=0,duration:i=j=>Math.sqrt(j)*120,easing:s=ks}=a,b=getComputedStyle(e),v=b.transform==="none"?"":b.transform,[u,c]=b.transformOrigin.split(" ").map(parseFloat);u/=e.clientWidth,c/=e.clientHeight;var x=Ts(e),g=e.clientWidth/r.width/x,f=e.clientHeight/r.height/x,p=t.left+t.width*u,m=t.top+t.height*c,_=r.left+r.width*u,T=r.top+r.height*c,E=(p-_)*g,w=(m-T)*f,y=t.width/r.width,S=t.height/r.height;return{delay:o,duration:typeof i=="function"?i(Math.sqrt(E*E+w*w)):i,easing:s,css:(j,k)=>{var A=k*E,I=k*w,C=j+k*y,P=j+k*S;return`transform: ${v} translate(${A}px, ${I}px) scale(${C}, ${P});`}}}function Ts(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var Ds=N("<span> </span>");function kr(e,t){ye(t,!0);const r={regular:{sev1:"bg-purple-500/20 text-purple-400",sev2:"bg-teal-500/20 text-teal-400",sev3:"bg-sky-500/20 text-sky-400"},maintenance:{sev1:"bg-rose-400/20 text-rose-400",sev2:"bg-lime-500/20 text-lime-400",sev3:"bg-slate-400/20 text-slate-400"}},a=ee(()=>ti[t.type][t.level]),o=ee(()=>r[t.type][t.level]||"bg-slate-400/20 text-slate-400");var i=Ds(),s=d(i,!0);l(i),te(()=>{X(i,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${n(o)??""}`),R(s,n(a))}),O(e,i),we()}var Es=N("<span> </span>");function Tr(e,t){var r=Es(),a=d(r,!0);l(r),te(()=>{X(r,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${t.classes??""}`),R(a,t.label)}),O(e,r)}var As=N('<div class="flex items-center gap-2 p-2 bg-base-200 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-2xl"> </div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate"> </p></div> <div><!></div></div>'),Is=N('<div class="flex flex-col gap-2"></div>'),Os=N('<div tabindex="0" role="button"><div class="flex items-start p-3"><div class="flex-1 min-w-0"><div class="flex flex-col gap-3"><p class="text-sm text-base-content"><span class="text-base"> </span> </p> <div class="h-1 bg-base-300/50"><div class="h-full bg-primary/80 transition-all"></div></div> <p class="text-xs gap-1 flex items-center"><!> <!> <!></p></div></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),Ss=N('<div class="flex flex-col gap-2"></div>'),Cs=N('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),js=N('<div class="flex flex-col "><!></div>');function Ms(e,t){ye(t,!0);const r=200;let a=ee(()=>t.assignedProjects.map(f=>({...f,id:f.project.id}))),o=J(Ve([]));nt(()=>{D(o,n(a),!0)});async function i(f,p){f.stopPropagation(),await dn(p,t.currentWeekOf)}function s(f){const p=yt.getByProject(f),m=p.filter(T=>!["completed","cancelled"].includes(T.status)).length,_=p.filter(T=>["completed","cancelled"].includes(T.status)).length;return{active:m,completed:_,total:m+_}}function b(f){D(o,f.detail.items,!0)}function v(f){D(o,f.detail.items,!0);const{info:p}=f.detail,m=p.id,_=n(o).findIndex(S=>S.id===m);if(_===-1)return;const T=_>0?n(o)[_-1]:null,E=_<n(o).length-1?n(o)[_+1]:null;let w=null,y=null;if(T){const S=n(a).findIndex(j=>j.id===T.id);w=T.assignment.order,y=S<n(a).length-1?n(a)[S+1].assignment.order:null}else if(E){const S=n(a).findIndex(j=>j.id===E.id);w=S>0?n(a)[S-1].assignment.order:null,y=E.assignment.order}Do(t.currentWeekOf,m,w,y)}var u=js(),c=d(u);{var x=f=>{var p=me(),m=le(p);{var _=E=>{var w=Is();Ae(w,29,()=>n(o),({id:y,project:S,area:j})=>y,(y,S)=>{let j=()=>n(S).project,k=()=>n(S).area;var A=As(),I=d(A),C=d(I,!0);l(I);var P=h(I,2),F=d(P),Z=d(F,!0);l(F),l(P);var z=h(P,2),$=d(z);kr($,{get level(){return j().severity},get type(){return j().type}}),l(z),l(A),te(()=>{R(C,k().icon),R(Z,j().name)}),Bt(A,()=>zt,()=>({duration:r})),O(y,A)}),l(w),ga(w,(y,S)=>jn?.(y,S),()=>({items:n(o),flipDurationMs:r,dropTargetStyle:{}})),xt("consider",w,b),xt("finalize",w,v),O(E,w)},T=E=>{var w=Ss();Ae(w,21,()=>n(a),Ue,(y,S)=>{let j=()=>n(S).project,k=()=>n(S).area;const A=ee(()=>s(j().id)),I=ee(()=>n(A).total>0?n(A).completed/n(A).total*100:0);var C=Os();C.__click=()=>t.navigateToTasks(j());var P=d(C),F=d(P),Z=d(F),z=d(Z),$=d(z),L=d($,!0);l($);var V=h($);l(z);var q=h(z,2),Y=d(q);l(q);var U=h(q,2),G=d(U);kr(G,{get level(){return j().severity},get type(){return j().type}});var ae=h(G,2);{let ie=ee(()=>n(A).active==0?"text-error bg-error/10 border-error/10 border":"bg-base-100 text-base-content/50");Tr(ae,{get classes(){return n(ie)},get label(){return`${n(A).active??""} available`}})}var H=h(ae,2);Tr(H,{classes:"bg-base-100 text-base-content/50",get label(){return k().name}}),l(U),l(Z),l(F);var ne=h(F,2);ne.__click=ie=>i(ie,j().id),l(P),l(C),te(()=>{X(C,1,`bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer overflow-hidden ${j().status=="blocked"?"glow-error":""} `),R(L,k().icon),R(V,` ${j().name??""}`),pa(Y,`width: ${n(I)??""}%`)}),O(y,C)}),l(w),O(E,w)};Q(m,E=>{t.reorderMode?E(_):E(T,!1)})}O(f,p)},g=f=>{var p=Cs();O(f,p)};Q(c,f=>{n(o).length>0?f(x):f(g,!1)})}l(u),O(e,u),we()}Te(["click"]);var Ps=N('<span class="text-xs text-primary px-2 py-1 bg-primary/10 border-primary/20 border rounded"> </span>'),Ns=N('<button><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-muted"> </p></div> <!></button>'),Rs=N('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),Ls=N('<div class="flex flex-col gap-2"></div>');function Fs(e,t){ye(t,!0);var r=Ls();Ae(r,21,()=>t.weekTasks,Ue,(a,o)=>{const i=ee(()=>t.isTaskAssignedToDay(n(o).id));var s=Ns();s.__click=p=>t.openDayPicker(p,n(o));var b=d(s),v=d(b),u=d(v,!0);l(v);var c=h(v,2),x=d(c);l(c),l(b);var g=h(b,2);{var f=p=>{var m=Ps(),_=d(m,!0);l(m),te(T=>R(_,T),[()=>ln(n(i))]),O(p,m)};Q(g,p=>{n(i)&&p(f)})}l(s),te(()=>{X(s,1,`${n(o).status=="blocked"?"glow-error":""} text-start flex items-center gap-3 p-3 bg-base-200 rounded-lg transition-all hover:bg-base-100 cursor-pointer`),R(u,n(o).name),R(x,`${n(o).areaIcon??""} ${(n(o).type==="oneoff"?"One-off":n(o).projectName)??""}`)}),O(a,s)},a=>{var o=Rs();O(a,o)}),l(r),O(e,r),we()}Te(["click"]);let Jr=Ve({});class ua{scrollTimeout;#e=J();get scrollContainer(){return n(this.#e)}set scrollContainer(t){D(this.#e,t,!0)}pageKey="default"+Math.random();get positions(){return Jr}save(t,r){Jr[t]=r}get(t){return Jr[t]||0}handleScroll=()=>{clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.scrollContainer&&this.save(this.pageKey,this.scrollContainer.scrollTop)},100)};restoreScroll=async(t,r)=>{if(await nn(),this.scrollContainer=t,this.pageKey=r,this.scrollContainer){const a=this.get(this.pageKey);a&&(this.scrollContainer.scrollTop=a)}}}var Bs=N('<button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button>'),zs=N('<button type="button"><span>Pending</span></button> <button type="button"><span>Resolved</span></button>',1),Ws=N('<button type="button"><span>Pending</span></button> <button type="button"><span>Resolved</span></button>',1),Gs=N('<div class="flex flex-col h-full"><div class="bg-base-300 ps-4 pe-2 pt-1 pb-0 flex flex-col gap-4 border-b border-b-base-content/10"><div class="flex flex-row justify-between items-center"><div class="text-center w-full"><h2 class="text-lg font-medium">This Week</h2> <p class="text-xs text-base-content/50"> </p></div></div> <div class="flex items-center justify-between h-8"><div class="flex gap-1"><button>Projects</button> <button>Tasks</button></div> <!></div></div> <div class="px-4 py-2 border-b flex justify-end border-b-base-content/10 gap-4"><!></div> <div><!></div> <div><!></div></div> <!>',1);function Hs(e,t){ye(t,!0);let r,a;const o=new ua,i=new ua;on(()=>{o.restoreScroll(r,"weekview_projects"),i.restoreScroll(a,"weekview_tasks")});let s=J(!1),b=()=>D(s,!n(s)),v=J(Ve(localStorage.getItem("weekTabFilterModeProjects")||"pending"));nt(()=>{n(v)&&localStorage.setItem("weekTabFilterModeProjects",n(v))});let u=J(Ve(localStorage.getItem("weekTabFilterModeTasks")||"pending"));nt(()=>{n(u)&&localStorage.setItem("weekTabFilterModeTasks",n(u))});let c=J(Ve(localStorage.getItem("weekTabView")||"projects"));nt(()=>{n(c)&&localStorage.setItem("weekTabView",n(c))});let x=Ve(Tt());const g=ee(()=>vt.getWeek(x));let f;function p(M){return n(g)?n(g).tasksByDay.find(se=>se.taskId===M)?.date??null:null}let m=ee(()=>n(g)?n(g).projectAssignments.map(M=>{const re=st.getById(M.areaId);if(!re)return null;const B=wt.getByArea(re.id).find(oe=>oe.id===M.projectId);return B?{assignment:M,project:B,area:re}:null}).filter(M=>M!==null):[]),_=ee(()=>n(m).filter(M=>n(v)=="resolved"?["completed","cancelled"].includes(M.project.status):!["completed","cancelled"].includes(M.project.status))),T=ee(()=>{const M=[];for(const{project:re,area:se}of n(m)){const B=yt.getByProject(re.id);for(const oe of B)M.push({type:"task",id:oe.id,name:oe.name,status:oe.status,areaIcon:se.icon,areaName:se.name,projectName:re.name,areaId:se.id,projectId:re.id})}if(n(g))for(const re of n(g).oneOffAssignments){const se=Yt.getById(re.oneOffId);if(!se)continue;const B=st.getById(re.areaId);B&&M.push({type:"oneoff",id:se.id,name:se.name,status:se.status,areaIcon:B.icon,areaName:B.name,projectName:"One-off",areaId:B.id,projectId:""})}return M}),E=ee(()=>n(T).filter(M=>n(u)=="resolved"?["completed","cancelled"].includes(M.status):!["completed","cancelled"].includes(M.status)));var w=Gs(),y=le(w),S=d(y),j=d(S),k=d(j),A=h(d(k),2),I=d(A,!0);l(A),l(k),l(j);var C=h(j,2),P=d(C),F=d(P);F.__click=()=>D(c,"projects");var Z=h(F,2);Z.__click=()=>D(c,"tasks"),l(P);var z=h(P,2);{var $=M=>{var re=Bs();re.__click=b;var se=h(d(re));l(re),te(()=>{X(re,1,`btn mb-2 ${n(s)?"btn-success":"btn-ghost"} btn-xs`),R(se,` ${n(s)?"Done":"Reorder"}`)}),O(M,re)};Q(z,M=>{n(c)=="projects"&&n(_).length>1&&M($)})}l(C),l(S);var L=h(S,2),V=d(L);{var q=M=>{var re=zs(),se=le(re);se.__click=()=>D(v,"pending");var B=h(se,2);B.__click=()=>D(v,"resolved"),te(()=>{X(se,1,`${n(v)=="pending"?"bg-primary/20 text-primary":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),X(B,1,`${n(v)=="resolved"?"bg-success/20 text-success":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `)}),O(M,re)},Y=M=>{var re=Ws(),se=le(re);se.__click=()=>D(u,"pending");var B=h(se,2);B.__click=()=>D(u,"resolved"),te(()=>{X(se,1,`${n(u)=="pending"?"bg-primary/20 text-primary":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),X(B,1,`${n(u)=="resolved"?"bg-success/20 text-success":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `)}),O(M,re)};Q(V,M=>{n(c)=="projects"?M(q):M(Y,!1)})}l(L);var U=h(L,2),G=d(U);{var ae=M=>{Ms(M,{get reorderMode(){return n(s)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return x},get assignedProjects(){return n(_)}})};Q(G,M=>{n(c)==="projects"&&M(ae)})}l(U),Ne(U,M=>r=M,()=>r);var H=h(U,2),ne=d(H);{var ie=M=>{Fs(M,{get openDayPicker(){return f.openDayPicker},get weekTasks(){return n(E)},isTaskAssignedToDay:p})};Q(ne,M=>{n(c)=="tasks"&&M(ie)})}l(H),Ne(H,M=>a=M,()=>a),l(y);var W=h(y,2);Ne(ui(W,{get currentWeekOf(){return x},isTaskAssignedToDay:p}),M=>f=M,()=>f),te((M,re)=>{R(I,M),X(F,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(c)=="projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),X(Z,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(c)=="tasks"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),X(U,1,`${re??""} flex-1 overflow-y-auto px-3 py-4`),X(H,1,`${n(c)=="tasks"?"":"hidden"} flex-1 overflow-y-auto px-3 py-4`)},[()=>Eo(x),()=>n(c).match(/projects/)?"":"hidden"]),xt("scroll",U,function(...M){o.handleScroll?.apply(this,M)}),xt("scroll",H,function(...M){i.handleScroll?.apply(this,M)}),O(e,w),we()}Te(["click"]);var Vs=N('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),Us=N('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),Zs=N('<div class="flex flex-col gap-2"></div>'),Ys=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="p-4 border-b border-base-content/10"><p class="font-medium text-base-content mb-2"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-3 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="join w-full"><label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Active</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Blocked</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Completed</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function qs(e,t){ye(t,!0);const r=[];let a=J("completed"),o=J(Ve([]));nt(()=>{t.show&&(D(a,t.taskByDay?.status||"completed",!0),D(o,[],!0))});function i(f,p){p&&setTimeout(()=>f.focus(),0)}function s(){D(o,[...n(o),""],!0)}function b(f){D(o,n(o).filter((p,m)=>m!==f),!0)}function v(f,p){D(o,n(o).map((m,_)=>_===f?p:m),!0)}async function u(){if(t.taskByDay){t.taskByDay.isOneOff?await ea(t.taskByDay.taskId,t.taskByDay.areaId,n(a)):await ta(t.taskByDay.taskId,t.taskByDay.projectId,n(a));for(const f of n(o))f.trim()&&await cn(t.taskByDay.projectId,t.taskByDay.areaId,f.trim());t.onClose()}}var c=me(),x=le(c);{var g=f=>{var p=Ys(),m=d(p);m.__click=function(...W){t.onClose?.apply(this,W)},m.__keydown=W=>W.key==="Escape"&&t.onClose();var _=h(m,2),T=d(_),E=d(T),w=d(E,!0);l(E);var y=h(E,2),S=d(y);l(y),l(T);var j=h(T,2),k=d(j),A=h(d(k),2),I=d(A),C=d(I);Xe(C),C.value=C.__value="active",sr(2),l(I);var P=h(I,2),F=d(P);Xe(F),F.value=F.__value="blocked",sr(2),l(P);var Z=h(P,2),z=d(Z);Xe(z),z.value=z.__value="completed",sr(2),l(Z);var $=h(Z,2),L=d($);Xe(L),L.value=L.__value="cancelled",sr(2),l($),l(A),l(k);var V=h(k,2),q=d(V),Y=h(d(q),2);Y.__click=s,l(q);var U=h(q,2);{var G=W=>{var M=Vs();O(W,M)},ae=W=>{var M=Zs();Ae(M,21,()=>n(o),Ue,(re,se,B)=>{var oe=Us(),de=d(oe);Xe(de),de.__input=be=>v(B,be.currentTarget.value),ga(de,(be,pe)=>i?.(be,pe),()=>B===n(o).length-1);var ue=h(de,2);ue.__click=()=>b(B),l(oe),te(()=>ei(de,n(se))),O(re,oe)}),l(M),O(W,M)};Q(U,W=>{n(o).length===0?W(G):W(ae,!1)})}l(V),l(j);var H=h(j,2),ne=d(H);ne.__click=function(...W){t.onClose?.apply(this,W)};var ie=h(ne,2);ie.__click=u,l(H),l(_),l(p),te(()=>{R(w,t.taskByDay.name),R(S,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),X(I,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="active"?"bg-primary/10 border-primary":""}`),X(P,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="blocked"?"bg-error/10 border-error":""}`),X(Z,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="completed"?"bg-success/10 border-success":""}`),X($,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="cancelled"?"bg-base-content/10 border-base-content/40":""}`)}),He(3,m,()=>Dt,()=>({duration:200})),jt(r,[],C,()=>n(a),W=>D(a,W)),jt(r,[],F,()=>n(a),W=>D(a,W)),jt(r,[],z,()=>n(a),W=>D(a,W)),jt(r,[],L,()=>n(a),W=>D(a,W)),He(3,_,()=>Et,()=>({y:300,duration:300})),O(f,p)};Q(x,f=>{t.show&&t.taskByDay&&f(g)})}O(e,c),we()}Te(["click","keydown","input"]);var Ks=N('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate "> </p></div></div>'),Xs=N('<div class="flex flex-col gap-2 mb-4"></div>'),Js=N('<div><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm mb-2"> </p> <p class="text-xs text-muted truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),Qs=N('<div class="flex flex-col gap-2 mb-4"></div>'),$s=N('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),el=N('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),tl=bt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),rl=bt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),al=N('<div class="flex items-center gap-3 p-3 opacity-50 "><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),nl=N('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),ol=N('<div class="flex flex-col h-full "><div class="flex flex-col gap-4 pt-1 pb-0 border-b border-base-content/10"><div class="flex flex-row justify-between items-center px-2"><button aria-label="prev" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button> <button class="cursor-pointer text-center w-full "><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-muted"> </p></button> <button aria-label="next" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="transform:rotate(180deg)" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button></div> <div class="flex items-center px-2"><div class="flex-1"><div class="px-4 pb-3 flex flex-col"><div class="flex items-center justify-between text-xs text-muted mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success/85 transition-all rounded-full"></div></div></div></div> <button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-3"><!> <!></div></div> <!>',1);function il(e,t){ye(t,!0);let r;const a=new ua;on(()=>a.restoreScroll(r,"todayview"));const o=Tt(),i=200,s=()=>D(v,Io(n(u)),!0),b=()=>D(v,Oo(n(u)),!0);let v=J(Ve(new Date));const u=ee(()=>So(n(v)));let c=ee(()=>{const K=vt.getWeek(o);return K?K.tasksByDay.filter(ce=>ce.date===n(u)).map(ce=>{if(ce.isOneOff){const Ie=Yt.getById(ce.taskId),he=st.getById(ce.areaId);return{id:ce.taskId,taskByDay:ce,task:Ie,areaIcon:he?.icon??"ðŸ“",areaName:he?.name??"Unknown",projectName:"One-off"}}else{const Ie=yt.getById(ce.taskId),he=st.getById(ce.areaId),_e=(he?wt.getByArea(he.id):[]).find(fe=>fe.id===ce.projectId);return{id:ce.taskId,taskByDay:ce,task:Ie,areaIcon:he?.icon??"ðŸ“",areaName:he?.name??"Unknown",projectName:_e?.name??"Unknown"}}}):[]}),x=ee(()=>n(c)),g=ee(()=>n(c).filter(K=>K.taskByDay.status!=="completed"&&K.taskByDay.status!=="cancelled")),f=ee(()=>n(c).filter(K=>K.taskByDay.status==="completed"||K.taskByDay.status==="cancelled")),p=J(!1),m=J(null),_=J(""),T=J(""),E=J(""),w=J(!1);const y=()=>{D(w,!n(w))};let S=J(Ve([]));nt(()=>{D(S,n(g),!0)});let j=ee(()=>{const K=n(f).length,ce=n(c).length,Ie=ce>0?K/ce*100:0;return{completed:K,total:ce,percent:Ie}});function k(K){D(S,K.detail.items,!0)}function A(K){D(S,K.detail.items,!0);const{info:ce}=K.detail,Ie=ce.id,he=n(S).findIndex(De=>De.id===Ie);if(he===-1)return;const Ke=he>0?n(S)[he-1]:null,_e=he<n(S).length-1?n(S)[he+1]:null;let fe=null,Oe=null;if(Ke){const De=n(x).findIndex(Fe=>Fe.id===Ke.id);fe=Ke.taskByDay.order,Oe=De<n(x).length-1?n(x)[De+1].taskByDay.order:null}else if(_e){const De=n(x).findIndex(Fe=>Fe.id===_e.id);fe=De>0?n(x)[De-1].taskByDay.order:null,Oe=_e.taskByDay.order}Co(o,n(u),Ie,fe,Oe)}async function I(K){K.isOneOff?await ea(K.taskId,K.areaId,"completed"):await ta(K.taskId,K.projectId,"completed")}async function C(K){K.isOneOff?await ea(K.taskId,K.areaId,"active"):await ta(K.taskId,K.projectId,"active")}async function P(K){K.isOneOff?await ur(K.taskId,o,n(u)):await vr(K.taskId,K.projectId,o,n(u))}function F(K,ce,Ie,he){D(m,K,!0),D(_,ce,!0),D(T,Ie,!0),D(E,he,!0),D(p,!0)}function Z(){D(p,!1),D(m,null)}var z=ol(),$=le(z),L=d($),V=d(L),q=d(V);q.__click=b;var Y=h(q,2);Y.__click=()=>D(v,new Date,!0);var U=d(Y),G=d(U,!0);l(U);var ae=h(U,2),H=d(ae,!0);l(ae),l(Y);var ne=h(Y,2);ne.__click=s,l(V);var ie=h(V,2),W=d(ie),M=d(W),re=d(M),se=d(re),B=d(se);l(se);var oe=h(se,2),de=d(oe);l(oe),l(re);var ue=h(re,2),be=d(ue);l(ue),l(M),l(W);var pe=h(W,2);pe.__click=y;var Le=h(d(pe));l(pe),l(ie),l(L);var ve=h(L,2),qe=d(ve);{var Nr=K=>{var ce=me(),Ie=le(ce);{var he=_e=>{var fe=Xs();Ae(fe,29,()=>n(S),({id:Oe,taskByDay:De,areaIcon:Fe,projectName:$e})=>Oe,(Oe,De)=>{let Fe=()=>n(De).taskByDay;var $e=Ks(),At=h(d($e),2),gt=d(At),pt=d(gt,!0);l(gt),l(At),l($e),te(()=>R(pt,Fe().name)),Bt($e,()=>zt,()=>({duration:i})),O(Oe,$e)}),l(fe),ga(fe,(Oe,De)=>jn?.(Oe,De),()=>({items:n(S),flipDurationMs:i,dropTargetStyle:{}})),xt("consider",fe,k),xt("finalize",fe,A),O(_e,fe)},Ke=_e=>{var fe=Qs();Ae(fe,21,()=>n(g),Ue,(Oe,De)=>{let Fe=()=>n(De).taskByDay,$e=()=>n(De).areaIcon,At=()=>n(De).areaName,gt=()=>n(De).projectName;const pt=ee(()=>Fe().status=="blocked");var et=Js(),rr=d(et);rr.__click=()=>I(Fe());var It=h(rr,2);It.__click=()=>F(Fe(),$e(),At(),gt());var Wt=d(It),ar=d(Wt,!0);l(Wt);var Ot=h(Wt,2),Fr=d(Ot);l(Ot),l(It);var nr=h(It,2);nr.__click=()=>P(Fe()),l(et),te(()=>{X(et,1,`flex items-start gap-2 p-3 bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer ${n(pt)?"glow-error":""}`),R(ar,Fe().name),R(Fr,`${$e()??""}  ${gt()??""}`)}),O(Oe,et)}),l(fe),O(_e,fe)};Q(Ie,_e=>{n(w)?_e(he):_e(Ke,!1)})}O(K,ce)},Rr=K=>{var ce=me(),Ie=le(ce);{var he=_e=>{var fe=$s();O(_e,fe)},Ke=_e=>{var fe=el();O(_e,fe)};Q(Ie,_e=>{n(j).total===0?_e(he):_e(Ke,!1)},!0)}O(K,ce)};Q(qe,K=>{n(S).length>0?K(Nr):K(Rr,!1)})}var Lr=h(qe,2);{var Rn=K=>{var ce=nl(),Ie=d(ce),he=d(Ie);l(Ie);var Ke=h(Ie,2);Ae(Ke,21,()=>n(f),Ue,(_e,fe)=>{let Oe=()=>n(fe).taskByDay,De=()=>n(fe).areaIcon,Fe=()=>n(fe).areaName,$e=()=>n(fe).projectName;const At=ee(()=>Oe().status==="completed"),gt=ee(()=>Oe().status==="cancelled");var pt=al(),et=d(pt);et.__click=()=>C(Oe());var rr=d(et);{var It=St=>{var or=tl();O(St,or)},Wt=St=>{var or=me(),Bn=le(or);{var zn=Br=>{var Wn=rl();O(Br,Wn)};Q(Bn,Br=>{Oe().status==="cancelled"&&Br(zn)},!0)}O(St,or)};Q(rr,St=>{Oe().status==="completed"?St(It):St(Wt,!1)})}l(et);var ar=h(et,2),Ot=d(ar),Fr=d(Ot,!0);l(Ot);var nr=h(Ot,2),Fn=d(nr);l(nr),l(ar),l(pt),te(()=>{X(et,1,`w-7 h-7 rounded-full ${n(At)?"bg-success border-success text-success-content":n(gt)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),R(Fr,Oe().name),R(Fn,`${De()??""} ${Fe()??""} Â· ${$e()??""}`)}),O(_e,pt)}),l(Ke),l(ce),te(()=>R(he,`Completed (${n(f).length??""})`)),O(K,ce)};Q(Lr,K=>{n(f).length>0&&!n(w)&&K(Rn)})}l(ve),Ne(ve,K=>r=K,()=>r),l($);var Ln=h($,2);qs(Ln,{get show(){return n(p)},get taskByDay(){return n(m)},get areaIcon(){return n(_)},get areaName(){return n(T)},get projectName(){return n(E)},get weekOf(){return o},onClose:Z}),te((K,ce)=>{R(G,K),R(H,n(u)),R(B,`${n(j).completed??""} of ${n(j).total??""} completed`),R(de,`${ce??""}%`),pa(be,`width: ${n(j).percent??""}%`),X(pe,1,`btn w-20 ${n(w)?"btn-success":"btn-ghost"} btn-xs`),R(Le,` ${n(w)?"Done":"Reorder"}`)},[()=>sn(n(u))?"Today":Ao(n(u)),()=>Math.round(n(j).percent)]),xt("scroll",ve,function(...K){a.handleScroll?.apply(this,K)}),O(e,z),we()}Te(["click"]);const Qr=["reorder","status"],Mn=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var sl=N('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function ll(e,t){var r=sl();r.__click=function(...a){t.handleClick?.apply(this,a)},O(e,r)}Te(["click"]);var dl=N('<button type="button"> </button>'),cl=N('<button type="button" class="btn btn-outline btn-error btn-sm" title="Archive">Archive</button>'),ul=N('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),vl=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4 flex flex-col"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="h-40 overflow-y-auto rounded-lg border border-base-content/10 p-2"><div class="grid grid-cols-8 gap-1"></div></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Pn(e,t){ye(t,!0);let r=J(!1),a=J(null),o=J(""),i=J("ðŸŽ¯"),s;function b(){D(a,null),D(o,""),D(i,"ðŸŽ¯"),D(r,!0),setTimeout(()=>s.focus(),100)}function v(T,E){T.stopPropagation(),D(a,E,!0),D(o,E.name,!0),D(i,E.icon,!0),D(r,!0),setTimeout(()=>s.focus(),100)}function u(){D(r,!1),D(a,null)}async function c(){!n(o).trim()||!n(i)||(n(a)?(await jo(n(a).index,{name:n(o).trim(),icon:n(i)}),n(a).name=n(o).trim(),n(a).icon=n(i)):await Mo(n(o).trim(),n(i)),u())}async function x(){n(a)&&(await Po(n(a).index),u())}async function g(){n(a)&&(await No(n(a).index),u())}var f={openCreateAreaModal:b,openEditAreaModal:v},p=me(),m=le(p);{var _=T=>{var E=vl(),w=d(E);w.__click=u,w.__keydown=G=>G.key==="Escape"&&u();var y=h(w,2),S=d(y),j=d(S),k=d(j,!0);l(j);var A=h(j,2);A.__click=u,l(S);var I=h(S,2),C=d(I),P=h(d(C),2),F=d(P);Ae(F,21,()=>ri,Ue,(G,ae)=>{var H=dl();H.__click=()=>D(i,n(ae),!0);var ne=d(H,!0);l(H),te(()=>{X(H,1,`aspect-square cursor-pointer flex items-center justify-center text-lg rounded-lg transition-colors ${n(i)===n(ae)?"bg-primary/20 ring-2 ring-primary":"hover:bg-base-200"}`),R(ne,n(ae))}),O(G,H)}),l(F),l(P),l(C);var Z=h(C,2),z=h(d(Z),2);Xe(z),z.__keydown=G=>G.key==="Enter"&&c(),Ne(z,G=>s=G,()=>s),l(Z),l(I);var $=h(I,2),L=d($);{var V=G=>{var ae=me(),H=le(ae);{var ne=W=>{var M=cl();M.__click=x,O(W,M)},ie=W=>{var M=me(),re=le(M);{var se=B=>{var oe=ul();oe.__click=g,O(B,oe)};Q(re,B=>{n(a).status=="archived"&&B(se)},!0)}O(W,M)};Q(H,W=>{n(a).status=="active"?W(ne):W(ie,!1)})}O(G,ae)};Q(L,G=>{n(a)&&G(V)})}var q=h(L,4);q.__click=u;var Y=h(q,2);Y.__click=c;var U=d(Y,!0);l(Y),l($),l(y),l(E),te(G=>{R(k,n(a)?"Edit Area":"New Area"),Y.disabled=G,R(U,n(a)?"Save":"Create")},[()=>!n(o).trim()||!n(i)]),He(3,w,()=>Dt,()=>({duration:200})),Dr(z,()=>n(o),G=>D(o,G)),He(3,y,()=>Et,()=>({y:300,duration:300})),O(T,E)};Q(m,T=>{n(r)&&T(_)})}return O(e,p),we(f)}Te(["click","keydown"]);var fl=N("<span> </span>");function bl(e,t){const r={clear:"badge-success",planned:"badge-primary",active:"badge-info",fading:"badge-warning",avoiding:"badge-error"},a=ee(()=>r[t.status]||"badge-neutral");var o=fl(),i=d(o,!0);l(o),te(()=>{X(o,1,`rounded badge badge-sm badge-soft ${n(a)??""} font-semibold uppercase tracking-wide text-[10px]`),R(i,t.status)}),O(e,o)}var gl=N('<div class="flex flex-row gap-1"><button aria-label="edit" class="btn btn-sm btn-ghost">â†</button> <button aria-label="edit" class="btn btn-sm btn-ghost">â†’</button></div>'),pl=N('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm tracking-wide mb-0 pb-1 truncate"> </div> <p class="text-muted text-xs text-base-content/50"> </p></div></div></div></div>');function ml(e,t){ye(t,!0);const r=ee(()=>wt.getByArea(t.area.id).filter(E=>!["completed","cancelled"].includes(E.status)).length),a=ee(()=>{const E=Tt(),w=vt.getWeek(E),y=wt.getByArea(t.area.id),S=y.filter(I=>I.status==="active"||I.status==="blocked");if(S.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};if(w?.projectAssignments.some(I=>S.some(C=>C.id===I.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"â—†"};const k=y.filter(I=>I.status==="completed"&&I.completedAt),A=k.length>0?Math.max(...k.map(I=>new Date(I.completedAt).getTime())):null;if(A){const I=Date.now()-12096e5,C=Date.now()-720*60*60*1e3;if(A>=I)return{level:"active",color:"badge-info",icon:"â—"};if(A>=C)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var o=pl();o.__click=()=>t.handleSelect(t.area);var i=d(o),s=d(i),b=d(s),v=d(b,!0);l(b);var u=h(b,2);{var c=E=>{var w=gl(),y=d(w);y.__click=j=>t.handleAreaMoveUp(j,t.index);var S=h(y,2);S.__click=j=>t.handleAreaMoveDown(j,t.index),l(w),te(()=>y.disabled=t.index==0),O(E,w)},x=E=>{var w=me(),y=le(w);{var S=j=>{bl(j,{get status(){return n(a).level}})};Q(y,j=>{t.viewMode=="status"&&j(S)},!0)}O(E,w)};Q(u,E=>{t.viewMode=="reorder"?E(c):E(x,!1)})}l(s);var g=h(s,2),f=d(g),p=d(f),m=d(p,!0);l(p);var _=h(p,2),T=d(_);l(_),l(f),l(g),l(i),l(o),te(()=>{X(o,1,`rounded-lg bg-base-200 hover:bg-base-100 transition-colors cursor-pointer w-full ${n(a).level==="avoiding"?"border border-error/20":n(a).level==="fading"?"border border-warning/20":n(a).level==="active"?"border border-info/20":n(a).level==="planned"?"border border-purple-500/20":""}`),R(v,t.area.icon),R(m,t.area.name),R(T,`${n(r)??""} project${n(r)!==1?"s":""}`)}),O(e,o),we()}Te(["click"]);var hl=N("<button> </button>"),_l=N("<div><!></div>"),xl=N('<div class="flex flex-col h-full bg-base-300"><div class="px-3 pt-1 pb-2 flex flex-row justify-between items-center border-b border-base-content/10"><a href="/" class="flex text-base-content/80 flex-row items-center "><div class="flex flex-col"><div class="text-lg tracking-wider font-medium">Doable</div></div></a> <div class="flex flex-row gap-4"><!> <button class="btn btn-xs btn-ghost"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function yl(e,t){ye(t,!0);let r,a=J(Ve(localStorage.getItem("areasViewMode")||"status"));nt(()=>localStorage.setItem("areasViewMode",n(a)));let o=J(!1),i=()=>D(a,Qr[(Qr.indexOf(n(a))+1)%Qr.length],!0),s=()=>D(o,!n(o));const b=ee(()=>n(o)?st.areas.filter(k=>k.status=="archived"):st.areas.filter(k=>k.status=="active"));async function v(k,A){if(k.stopPropagation(),A===0)return;const I=st.areas,C=n(b)[A],P=n(b)[A-1],F=I.findIndex($=>$.id===P.id),Z=F>0?I[F-1].index:null,z=P.index;await Ea(C.index,Z,z)}async function u(k,A){if(k.stopPropagation(),A===n(b).length-1)return;const I=st.areas,C=n(b)[A],P=n(b)[A+1],F=I.findIndex($=>$.id===P.id),Z=P.index,z=F<I.length-1?I[F+1].index:null;await Ea(C.index,Z,z)}var c=xl(),x=d(c),g=h(d(x),2),f=d(g);{var p=k=>{var A=hl();A.__click=i;var I=d(A,!0);l(A),te(()=>{X(A,1,`btn btn-xs capitalize ${n(a)=="reorder"?"btn-success":"btn-ghost"}`),R(I,n(a)=="reorder"?"Done":"Reorder")}),O(k,A)};Q(f,k=>{n(o)||k(p)})}var m=h(f,2);m.__click=s;var _=d(m,!0);l(m),l(g),l(x);var T=h(x,2),E=d(T),w=d(E);Ae(w,27,()=>n(b),k=>k.id,(k,A,I)=>{var C=_l(),P=d(C);ml(P,{get area(){return n(A)},get handleSelect(){return t.onSelectArea},get index(){return n(I)},handleAreaMoveUp:v,handleAreaMoveDown:u,get viewMode(){return n(a)}}),l(C),Bt(C,()=>zt,()=>({duration:250,easing:Pr})),O(k,C)});var y=h(w,2);{var S=k=>{ll(k,{get handleClick(){return r.openCreateAreaModal}})};Q(y,k=>{n(o)||k(S)})}l(E),l(T);var j=h(T,2);Ne(Pn(j,{}),k=>r=k,()=>r),l(c),te(()=>R(_,n(o)?"Active":"Archived")),O(e,c),we()}Te(["click"]);var wl=N('<span class="text-xs mx-0.5">â€¢</span> ',1),kl=N('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),Tl=N('<button class="cursor-pointer flex items-center"><!></button>'),Dl=N('<div class="px-3 "><div role="button" tabindex="0"><div class="flex text-sm "> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <p class="text-2xs text-muted font-medium text-base-content/50 "> <!></p></div> <div class="flex flex-row gap-1 items-center"><!></div></div></div></div>');function El(e,t){ye(t,!0);const r=ee(()=>yt.getByProject(t.project.id)),a=ee(()=>n(r).filter(k=>k.status==="active").length),o=ee(()=>n(r).filter(k=>k.status==="completed").length);function i(k){for(const[A,I]of Object.entries(vt.weeksByWeekOf))if(I.projectAssignments.some(C=>C.projectId===k))return A;return null}function s(k){const A=Tt();if(k===A)return"This week";const I=new Date(A),C=new Date(k),P=Math.round((C.getTime()-I.getTime())/(1e3*60*60*24)),F=Math.round(P/7);return F===1?"Next week":F>1?`In ${F} weeks`:F===-1?"Last week":k.slice(5)}const b=ee(()=>i(t.project.id));var v=Dl(),u=d(v);u.__click=()=>t.navigateToTasks(t.project),u.__keydown=k=>k.key==="Enter"&&t.navigateToTasks(t.project);var c=d(u),x=d(c,!0);l(c);var g=h(c,2),f=d(g),p=d(f);kr(p,{get type(){return t.project.type},get level(){return t.project.severity}});var m=h(p,2),_=d(m),T=h(_);{var E=k=>{var A=wl(),I=h(le(A));te(()=>R(I,` ${n(o)??""} done`)),O(k,A)};Q(T,k=>{n(o)>0&&k(E)})}l(m),l(f);var w=h(f,2),y=d(w);{var S=k=>{var A=kl(),I=le(A);I.__click=P=>t.handleProjectMoveUp(P,t.index);var C=h(I,2);C.__click=P=>t.handleProjectMoveDown(P,t.index),O(k,A)},j=k=>{var A=Tl();A.__click=C=>t.handleProjectAssign(C,t.project);var I=d(A);{let C=ee(()=>n(b)?"bg-accent/20 text-accent":"bg-slate-400/20 text-slate-400"),P=ee(()=>n(b)?s(n(b)):"Unassigned");Tr(I,{get classes(){return n(C)},get label(){return n(P)}})}l(A),O(k,A)};Q(y,k=>{t.reorderMode?k(S):k(j,!1)})}l(w),l(g),l(u),l(v),te(()=>{X(u,1,`flex ${t.project.status=="blocked"?"glow-error":t.project.status=="completed"?"glow-success":""} flex-col p-3 gap-2 transition-colors bg-base-200 cursor-pointer hover:bg-base-100 rounded-lg `),R(x,t.project.name),R(_,`${n(a)??""} active `)}),O(e,v),we()}Te(["click","keydown"]);var Al=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[605px] max-h-full bg-base-300 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-300 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="join w-full"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Completed</button> <button type="button">Cancelled</button></div></div> <div class="flex gap-3 p-4 pb-10  border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function Nn(e,t){ye(t,!0);const r=[];let a=J(!1),o=J(null),i=J(""),s=J("active"),b=J("regular"),v=J("sev3"),u;function c(){console.log("Creating.."),D(o,null),D(i,""),D(s,"active"),D(b,"regular"),D(v,"sev3"),D(a,!0),setTimeout(()=>u.focus(),100)}function x(E,w){E.stopPropagation(),D(o,w,!0),D(i,w.name,!0),D(s,w.status,!0),D(b,w.type||"regular",!0),D(v,w.severity||"sev1",!0),D(a,!0),setTimeout(()=>u.focus(),100)}function g(){D(a,!1),D(o,null)}async function f(){!n(i).trim()||!t.selectedArea||(n(o)?(await Ro(t.selectedArea.id,n(o).index,{name:n(i).trim(),status:n(s),type:n(b),severity:n(v)}),n(o).name=n(i).trim(),n(o).status=n(s),n(o).type=n(b),n(o).severity=n(v)):await Lo(t.selectedArea.id,n(i).trim(),n(b),n(v)),g())}var p={openCreateProjectModal:c,openEditProjectModal:x},m=me(),_=le(m);{var T=E=>{var w=Al(),y=d(w);y.__click=g,y.__keydown=ve=>ve.key==="Escape"&&g();var S=h(y,2),j=d(S),k=d(j),A=d(k),I=d(A,!0);l(A);var C=h(A,2);C.__click=g,l(k);var P=h(k,2),F=d(P),Z=h(d(F),2);Xe(Z),Z.__keydown=ve=>ve.key==="Enter"&&f(),Ne(Z,ve=>u=ve,()=>u),l(F);var z=h(F,2),$=h(d(z),2),L=d($);Xe(L),L.value=L.__value="regular";var V=h(L,2);Xe(V),V.value=V.__value="maintenance",l($),l(z);var q=h(z,4),Y=d(q);Y.__click=()=>D(v,"sev1");var U=h(d(Y),2),G=d(U,!0);l(U),l(Y);var ae=h(Y,2);ae.__click=()=>D(v,"sev2");var H=h(d(ae),2),ne=d(H,!0);l(H),l(ae);var ie=h(ae,2);ie.__click=()=>D(v,"sev3");var W=h(d(ie),2),M=d(W,!0);l(W),l(ie),l(q);var re=h(q,4),se=d(re);se.__click=()=>D(s,"active");var B=h(se,2);B.__click=()=>D(s,"blocked");var oe=h(B,2);oe.__click=()=>D(s,"completed");var de=h(oe,2);de.__click=()=>D(s,"cancelled"),l(re),l(P);var ue=h(P,2),be=h(d(ue),2);be.__click=g;var pe=h(be,2);pe.__click=f;var Le=d(pe,!0);l(pe),l(ue),l(j),l(S),l(w),te(ve=>{R(I,n(o)?"Edit Project":"New Project"),X(Y,1,`hover:bg-purple-500 btn justify-start gap-2 transition-all ${n(v)==="sev1"?"bg-purple-600 text-white":""}`),R(G,Kr[n(b)].sev1),X(ae,1,`hover:bg-emerald-500 hover:text-white btn justify-start gap-2 ${n(v)==="sev2"?"bg-emerald-600 text-white":""} transition-all`),R(ne,Kr[n(b)].sev2),X(ie,1,`hover:bg-slate-500 hover:text-slate-300 ${n(v)==="sev3"?"bg-slate-500 text-white":""} btn justify-start gap-2 transition-all`),R(M,Kr[n(b)].sev3),X(se,1,`join-item btn btn-sm flex-1 ${n(s)==="active"?"btn-primary":""}`),X(B,1,`join-item btn btn-sm flex-1 ${n(s)==="blocked"?"btn-error":""}`),X(oe,1,`join-item btn btn-sm flex-1 ${n(s)==="completed"?"btn-success":""}`),X(de,1,`join-item btn btn-sm flex-1 ${n(s)==="cancelled"?"bg-base-content/30":""}`),pe.disabled=ve,R(Le,n(o)?"Save":"Create")},[()=>!n(i).trim()]),He(3,y,()=>Dt,()=>({duration:200})),Dr(Z,()=>n(i),ve=>D(i,ve)),jt(r,[],L,()=>{"regular";return n(b)},ve=>D(b,ve)),jt(r,[],V,()=>{"maintenance";return n(b)},ve=>D(b,ve)),He(3,S,()=>Et,()=>({y:300,duration:300})),O(E,w)};Q(_,E=>{n(a)&&E(T)})}return O(e,m),we(p)}Te(["click","keydown"]);var Il=N('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),Ol=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2 pb-10 "></div></div></div>');function Sl(e,t){ye(t,!0);let r=J(!1),a=J(null),o=J(void 0);function i(f,p,m){f.stopPropagation(),D(o,p,!0),D(a,m,!0),D(r,!0)}function s(){D(r,!1),D(a,null)}async function b(f,p){!n(a)||!n(o)||(p?await dn(n(a).id,f):await Bo(n(a).id,n(o).id,f),s())}function v(f,p){const m=p??Tt();return vt.getWeek(m)?.projectAssignments.some(T=>T.projectId===f)??!1}var u={openWeekPicker:i},c=me(),x=le(c);{var g=f=>{var p=Ol(),m=d(p);m.__click=s,m.__keydown=y=>y.key==="Escape"&&s();var _=h(m,2),T=d(_),E=h(d(T),2);E.__click=s,l(T);var w=h(T,2);Ae(w,21,Fo,Ue,(y,S)=>{const j=ee(()=>v(n(a).id,n(S).weekOf));var k=Il();k.__click=()=>b(n(S).weekOf,n(j));var A=d(k),I=d(A,!0);l(A);var C=h(A,2),P=d(C,!0);l(C),l(k),te(()=>{X(k,1,`w-full p-3 text-left rounded-lg border transition-colors ${n(j)?"bg-base-200 text-primary border-primary":"border-base-content/10 hover:border-primary"}`),R(I,n(S).label),R(P,n(S).weekOf)}),O(y,k)}),l(w),l(_),l(p),He(3,m,()=>Dt,()=>({duration:200})),He(3,_,()=>Et,()=>({y:300,duration:300})),O(f,p)};Q(x,f=>{n(r)&&n(a)&&f(g)})}return O(e,c),we(u)}Te(["click","keydown"]);var Cl=N('<button type="button"> </button>'),jl=N('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="join w-full"></div></div>'),Ml=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Buy groceries, Call mom"/></div> <!></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Pl(e,t){ye(t,!0);let r=J(!1),a=J(null),o=J(""),i=J("active"),s;function b(){D(a,null),D(o,""),D(i,"active"),D(r,!0),setTimeout(()=>s.focus(),100)}function v(m,_){m.stopPropagation(),D(a,_,!0),D(o,_.name,!0),D(i,_.status,!0),D(r,!0),setTimeout(()=>s.focus(),100)}function u(){D(r,!1),D(a,null)}async function c(){!n(o).trim()||!t.selectedArea||(n(a)?await un(t.selectedArea.id,n(a).index,{name:n(o).trim(),status:n(i)}):await zo(t.selectedArea.id,n(o).trim()),u())}var x={openCreateOneOffModal:b,openEditOneOffModal:v},g=me(),f=le(g);{var p=m=>{var _=Ml(),T=d(_);T.__click=u,T.__keydown=L=>L.key==="Escape"&&u();var E=h(T,2),w=d(E),y=d(w),S=d(y,!0);l(y);var j=h(y,2);j.__click=u,l(w);var k=h(w,2),A=d(k),I=h(d(A),2);Xe(I),I.__keydown=L=>L.key==="Enter"&&c(),Ne(I,L=>s=L,()=>s),l(A);var C=h(A,2);{var P=L=>{var V=jl(),q=h(d(V),2);Ae(q,21,()=>Mn,Ue,(Y,U)=>{var G=Cl();G.__click=()=>D(i,n(U).value,!0);var ae=d(G,!0);l(G),te(()=>{X(G,1,`join-item btn btn-sm flex-1 ${n(i)===n(U).value?n(U).value==="active"?"btn-primary":n(U).value==="blocked"?"btn-warning":n(U).value==="completed"?"btn-success":"btn-neutral":""}`),R(ae,n(U).label)}),O(Y,G)}),l(q),l(V),O(L,V)};Q(C,L=>{n(a)&&L(P)})}l(k);var F=h(k,2),Z=h(d(F),2);Z.__click=u;var z=h(Z,2);z.__click=c;var $=d(z,!0);l(z),l(F),l(E),l(_),te(L=>{R(S,n(a)?"Edit One-off":"New One-off"),z.disabled=L,R($,n(a)?"Save":"Create")},[()=>!n(o).trim()]),He(3,T,()=>Dt,()=>({duration:200})),Dr(I,()=>n(o),L=>D(o,L)),He(3,E,()=>Et,()=>({y:300,duration:300})),O(m,_)};Q(f,m=>{n(r)&&m(p)})}return O(e,g),we(x)}Te(["click","keydown"]);var Nl=bt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Rl=bt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Ll=bt('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),Fl=N('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),Bl=N('<button class="cursor-pointer flex items-center"><!></button>'),zl=N('<div class="px-2"><div class="flex flex-col gap-1 p-3 bg-base-200 rounded-lg  cursor-pointer hover:bg-base-100 transition-colors" role="button" tabindex="0"><div class="flex flex-row"><button type="button"><!></button> <span> </span></div> <div class="flex flex-row items-center justify-end"><!></div></div></div>'),Wl=N('<div class="text-center py-8 text-base-content/50 text-sm">No one-offs yet</div>'),Gl=N('<div class="px-4 uppercase text-neutral text-xs font-medium tracking-wide"> </div> <!> <!>',1);function Hl(e,t){ye(t,!0);let r=Sa(t,"filterMode",3,"active"),a=Sa(t,"reorderMode",3,!1),o;const i=Tt();let s=ee(()=>Yt.getByArea(t.selectedArea.id).filter(w=>{if(r()=="active")return["active","blocked"].includes(w.status)&&b(w.id);if(r()=="pending")return["active","blocked"].includes(w.status)&&!b(w.id);if(r()=="resolved")return["cancelled","completed"].includes(w.status)}));function b(w){return vt.isOneOffAssignedToWeek(w,i)}async function v(w,y){w.stopPropagation();const S=y.status==="completed"?"active":"completed";await un(t.selectedArea.id,y.index,{status:S})}async function u(w,y){w.stopPropagation(),b(y.id)?await Wo(y.id,i):await Go(y.id,t.selectedArea.id,i)}async function c(w,y){if(w.stopPropagation(),y===0)return;const S=Yt.getByArea(t.selectedArea.id),j=n(s)[y],k=n(s)[y-1],A=S.findIndex(P=>P.id===k.id),I=A>0?S[A-1].index:null,C=k.index;await Aa(t.selectedArea.id,j.index,I,C)}async function x(w,y){if(w.stopPropagation(),y===n(s).length-1)return;const S=Yt.getByArea(t.selectedArea.id),j=n(s)[y],k=n(s)[y+1],A=S.findIndex(P=>P.id===k.id),I=k.index,C=A<S.length-1?S[A+1].index:null;await Aa(t.selectedArea.id,j.index,I,C)}function g(){o.openCreateOneOffModal()}var f={openCreateModal:g},p=Gl(),m=le(p),_=d(m);l(m);var T=h(m,2);Ae(T,27,()=>n(s),w=>w.id,(w,y,S)=>{const j=ee(()=>b(n(y).id)),k=ee(()=>n(y).status=="completed"),A=ee(()=>n(y).status=="cancelled"),I=ee(()=>n(y).status=="blocked");var C=zl(),P=d(C);P.__click=H=>o.openEditOneOffModal(H,n(y)),P.__keydown=H=>H.key==="Enter"&&o.openEditOneOffModal(H,n(y));var F=d(P),Z=d(F);Z.__click=H=>v(H,n(y));var z=d(Z);{var $=H=>{var ne=Nl();O(H,ne)},L=H=>{var ne=me(),ie=le(ne);{var W=re=>{var se=Rl();O(re,se)},M=re=>{var se=me(),B=le(se);{var oe=de=>{var ue=Ll();O(de,ue)};Q(B,de=>{n(I)&&de(oe)},!0)}O(re,se)};Q(ie,re=>{n(A)?re(W):re(M,!1)},!0)}O(H,ne)};Q(z,H=>{n(k)?H($):H(L,!1)})}l(Z);var V=h(Z,2),q=d(V,!0);l(V),l(F);var Y=h(F,2),U=d(Y);{var G=H=>{var ne=Fl(),ie=le(ne);ie.__click=M=>c(M,n(S));var W=h(ie,2);W.__click=M=>x(M,n(S)),O(H,ne)},ae=H=>{var ne=Bl();ne.__click=W=>u(W,n(y));var ie=d(ne);{let W=ee(()=>n(j)?"bg-accent/20 text-accent":"bg-slate-400/20 text-slate-400"),M=ee(()=>n(j)?"This week":"Unassigned");Tr(ie,{get classes(){return n(W)},get label(){return n(M)}})}l(ne),O(H,ne)};Q(U,H=>{a()?H(G):H(ae,!1)})}l(Y),l(P),l(C),te(()=>{X(Z,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(k)?"bg-success/70 border-success/10 text-success-content":n(I)?"text-error border-error bg-error/30":n(A)?"bg-base-content/15 border-base-content/30 text-base-content":"border-base-content/30 hover:border-success/70"}`),Z.disabled=n(A),X(V,1,`flex-1 text-sm ${n(y).status==="completed"?"line-through text-base-content/50":""}`),R(q,n(y).name)}),Bt(C,()=>zt,()=>({duration:250,easing:Pr})),O(w,C)},w=>{var y=Wl();O(w,y)});var E=h(T,2);return Ne(Pl(E,{get selectedArea(){return t.selectedArea}}),w=>o=w,()=>o),te(()=>R(_,`${r()??""} one-offs`)),O(e,p),we(f)}Te(["click","keydown"]);var Vl=N("<button> </button>"),Ul=N('<button type="button"><span>Active</span></button> <button type="button"><span>Pending</span></button> <button type="button"><span>Resolved</span></button>',1),Zl=N('<button type="button"><span>Active</span></button> <button type="button"><span>Pending</span></button> <button type="button"><span>Resolved</span></button>',1),Yl=N("<div><!></div>"),ql=N('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),Kl=N('<div class="px-4 uppercase text-neutral text-xs font-medium tracking-wide"> </div> <!>',1),Xl=N('<div class="flex flex-col h-full bg-base-300"><div class="flex flex-col border-b border-base-content/10 gap-3 p-3 pb-0"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row gap-3 items-center"><div class="text-3xl"> </div> <h2 class="text-lg tracking-wide"> </h2></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="flex justify-between items-center"><div class="flex gap-1 flex-row justify-between"></div></div></div> <div class="px-4 py-2 border-b flex justify-between border-b-base-content/10 gap-4"><button type="button" class="text-primary text-sm cursor-pointer no-underline "><span class="me-1 text-base">+</span> <span>New</span></button> <div><!></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!></div></div></div> <!> <!> <!>',1);function Jl(e,t){ye(t,!0);let r,a,o,i;const s=Tt(),b=["projects","oneoffs"];let v=J(Ve(localStorage.getItem("projectTabView")||"projects"));nt(()=>{n(v)&&localStorage.setItem("projectTabView",n(v))});let u=J(Ve(localStorage.getItem("projectsTabFilterModeProjects")||"active"));nt(()=>{n(u)&&localStorage.setItem("projectsTabFilterModeProjects",n(u))});let c=J(Ve(localStorage.getItem("projectsTabFilterModeOneoffs")||"active"));nt(()=>{n(c)&&localStorage.setItem("projectsTabFilterModeOneoffs",n(c))});let x=J(!1),g=()=>D(x,!n(x)),f=ee(()=>wt.getByArea(t.selectedArea.id).filter(B=>n(v)=="oneoffs"?!1:n(u)=="active"?["active","blocked"].includes(B.status)&&vt.isProjectAssignedToWeek(B.id,s):n(u)=="resolved"?["completed","cancelled"].includes(B.status):["active","blocked"].includes(B.status)&&!vt.isProjectAssignedToWeek(B.id,s)));async function p(B,oe){if(B.stopPropagation(),oe===0||!t.selectedArea)return;const de=wt.getByArea(t.selectedArea.id),ue=n(f)[oe],be=n(f)[oe-1],pe=de.findIndex(qe=>qe.id===be.id),Le=pe>0?de[pe-1].index:null,ve=be.index;await Ia(t.selectedArea.id,ue.index,Le,ve)}async function m(B,oe){if(B.stopPropagation(),!t.selectedArea||oe===n(f).length-1)return;const de=wt.getByArea(t.selectedArea.id),ue=n(f)[oe],be=n(f)[oe+1],pe=de.findIndex(qe=>qe.id===be.id),Le=be.index,ve=pe<de.length-1?de[pe+1].index:null;console.log(Le,ve),await Ia(t.selectedArea.id,ue.index,Le,ve)}async function _(){n(v)=="projects"?o.openCreateProjectModal():n(v)=="oneoffs"&&r.openCreateModal()}var T=Xl(),E=le(T),w=d(E),y=d(w),S=d(y),j=d(S),k=d(j,!0);l(j);var A=h(j,2),I=d(A,!0);l(A),l(S);var C=h(S,2),P=d(C);P.__click=g;var F=h(d(P));l(P);var Z=h(P,2);Z.__click=B=>a.openEditAreaModal(B,t.selectedArea),l(C),l(y);var z=h(y,2),$=d(z);Ae($,21,()=>b,Ue,(B,oe)=>{const de=ee(()=>n(v)===n(oe));var ue=Vl();ue.__click=()=>D(v,n(oe),!0);var be=d(ue,!0);l(ue),te(()=>{X(ue,1,`capitalize px-3 py-2 border-b border-b-2 text-sm tracking-wider rounded-t-md transition-colors cursor-pointer whitespace-nowrap ${n(de)?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),R(be,n(oe))}),O(B,ue)}),l($),l(z),l(w);var L=h(w,2),V=d(L);V.__click=_;var q=h(V,2),Y=d(q);{var U=B=>{var oe=Ul(),de=le(oe);de.__click=()=>D(u,"active");var ue=h(de,2);ue.__click=()=>D(u,"pending");var be=h(ue,2);be.__click=()=>D(u,"resolved"),te(()=>{X(de,1,`${n(u)=="active"?"bg-accent/20 text-accent":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),X(ue,1,`${n(u)=="pending"?"bg-primary/20 text-primary":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),X(be,1,`${n(u)=="resolved"?"bg-success/20 text-success":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `)}),O(B,oe)},G=B=>{var oe=Zl(),de=le(oe);de.__click=()=>D(c,"active");var ue=h(de,2);ue.__click=()=>D(c,"pending");var be=h(ue,2);be.__click=()=>D(c,"resolved"),te(()=>{X(de,1,`${n(c)=="active"?"bg-accent/20 text-accent":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),X(ue,1,`${n(c)=="pending"?"bg-primary/20 text-primary":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `),X(be,1,`${n(c)=="resolved"?"bg-success/20 text-success":"text-muted"} px-3 py-1 rounded text-xs cursor-pointer `)}),O(B,oe)};Q(Y,B=>{n(v)=="projects"?B(U):B(G,!1)})}l(q),l(L);var ae=h(L,2),H=d(ae),ne=d(H);{var ie=B=>{Ne(Hl(B,{get selectedArea(){return t.selectedArea},get filterMode(){return n(c)},get reorderMode(){return n(x)}}),oe=>r=oe,()=>r)},W=B=>{var oe=Kl(),de=le(oe),ue=d(de);l(de);var be=h(de,2);Ae(be,27,()=>n(f),pe=>pe.id,(pe,Le,ve)=>{var qe=Yl(),Nr=d(qe);El(Nr,{get index(){return n(ve)},get reorderMode(){return n(x)},handleProjectAssign:(Rr,Lr)=>i.openWeekPicker(Rr,t.selectedArea,Lr),get navigateToTasks(){return t.navigateToTasks},get project(){return n(Le)},handleProjectMoveUp:p,handleProjectMoveDown:m}),l(qe),Bt(qe,()=>zt,()=>({duration:250,easing:Pr})),O(pe,qe)},pe=>{var Le=ql(),ve=d(Le);l(Le),te(()=>R(ve,`No ${n(v)??""} projects`)),O(pe,Le)}),te(()=>R(ue,`${n(u)??""} projects`)),O(B,oe)};Q(ne,B=>{n(v)==="oneoffs"?B(ie):B(W,!1)})}l(H),l(ae),l(E);var M=h(E,2);Ne(Nn(M,{get selectedArea(){return t.selectedArea}}),B=>o=B,()=>o);var re=h(M,2);Ne(Sl(re,{}),B=>i=B,()=>i);var se=h(re,2);Ne(Pn(se,{}),B=>a=B,()=>a),te(()=>{R(k,t.selectedArea.icon),R(I,t.selectedArea.name),X(P,1,`btn ${n(x)?"btn-success":"btn-ghost"} btn-xs`),R(F,` ${n(x)?"Done":"Reorder"}`)}),O(e,T),we()}Te(["click"]);var Ql=N('<button type="button"> </button>'),$l=N('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),ed=N('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function td(e,t){ye(t,!0);let r=J(!1),a=J(null),o=J(""),i=J("active"),s;function b(){D(a,null),D(o,""),D(i,"active"),D(r,!0),setTimeout(()=>s.focus(),100)}function v(m,_){m.stopPropagation(),D(a,_,!0),D(o,_.name,!0),D(i,_.status,!0),D(r,!0),setTimeout(()=>s.focus(),100)}function u(){D(r,!1),D(a,null)}async function c(){!n(o).trim()||!t.selectedProject||!t.selectedArea||(n(a)?await vn(t.selectedProject.id,n(a).index,{name:n(o).trim(),status:n(i)}):await cn(t.selectedProject.id,t.selectedArea.id,n(o).trim()),u())}var x={openCreateTaskModal:b,openEditTaskModal:v},g=me(),f=le(g);{var p=m=>{var _=ed(),T=d(_);T.__click=u,T.__keydown=L=>L.key==="Escape"&&u();var E=h(T,2),w=d(E),y=d(w),S=d(y,!0);l(y);var j=h(y,2);j.__click=u,l(w);var k=h(w,2),A=d(k),I=h(d(A),2);Xe(I),I.__keydown=L=>L.key==="Enter"&&c(),Ne(I,L=>s=L,()=>s),l(A);var C=h(A,2);{var P=L=>{var V=$l(),q=h(d(V),2);Ae(q,21,()=>Mn,Ue,(Y,U)=>{var G=Ql();G.__click=()=>D(i,n(U).value,!0);var ae=d(G,!0);l(G),te(()=>{X(G,1,`px-2 py-1.5 text-sm rounded-lg border transition-colors ${n(i)===n(U).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),R(ae,n(U).label)}),O(Y,G)}),l(q),l(V),O(L,V)};Q(C,L=>{n(a)&&L(P)})}l(k);var F=h(k,2),Z=h(d(F),2);Z.__click=u;var z=h(Z,2);z.__click=c;var $=d(z,!0);l(z),l(F),l(E),l(_),te(L=>{R(S,n(a)?"Edit Task":"New Task"),z.disabled=L,R($,n(a)?"Save":"Create")},[()=>!n(o).trim()]),He(3,T,()=>Dt,()=>({duration:200})),Dr(I,()=>n(o),L=>D(o,L)),He(3,E,()=>Et,()=>({y:300,duration:300})),O(m,_)};Q(f,m=>{n(r)&&m(p)})}return O(e,g),we(x)}Te(["click","keydown"]);var rd=bt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),ad=bt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),nd=bt('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),od=N('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),id=N('<div tabindex="0" role="button" class="hover:bg-base-100 cursor-pointer w-full flex flex-row items-start py-4 px-3 bg-base-200 rounded-md"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function sd(e,t){ye(t,!0);const r=ee(()=>t.task.status==="completed"),a=ee(()=>t.task.status==="cancelled"),o=ee(()=>t.task.status==="blocked");var i=id();i.__click=p=>t.handleEdit(p,t.task);var s=d(i);s.__click=p=>t.toggleTaskComplete(p,t.task);var b=d(s);{var v=p=>{var m=rd();O(p,m)},u=p=>{var m=me(),_=le(m);{var T=w=>{var y=ad();O(w,y)},E=w=>{var y=me(),S=le(y);{var j=k=>{var A=nd();O(k,A)};Q(S,k=>{n(o)&&k(j)},!0)}O(w,y)};Q(_,w=>{n(a)?w(T):w(E,!1)},!0)}O(p,m)};Q(b,p=>{n(r)?p(v):p(u,!1)})}l(s);var c=h(s,2),x=d(c,!0);l(c);var g=h(c,2);{var f=p=>{var m=od(),_=le(m);_.__click=E=>t.handleTaskMoveUp(E,t.index);var T=h(_,2);T.__click=E=>t.handleTaskMoveDown(E,t.index),O(p,m)};Q(g,p=>{t.reorderEnabled&&p(f)})}l(i),te(()=>{X(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(r)?"bg-success/70 border-success/10 text-success-content":n(o)?"text-error border-error bg-error/30":n(a)?"bg-base-content/15 border-base-content/30 text-base-content":"border-base-content/30 hover:border-success/70"}`),s.disabled=n(a),R(x,t.task.name)}),O(e,i),we()}Te(["click"]);var ld=N("<span> </span>");function dd(e,t){const r={active:{label:"Active",class:"bg-info/20 text-info"},blocked:{label:"Blocked",class:"bg-error/20 text-error"},completed:{label:"Completed",class:"bg-success/20 text-success"},cancelled:{label:"Cancelled",class:"bg-base-content/10 text-base-content/40"}},a=ee(()=>r[t.status]||r.active);var o=ld(),i=d(o,!0);l(o),te(()=>{X(o,1,`inline-flex items-center px-2 py-0.5 rounded text-2xs font-medium ${n(a).class??""}`),R(i,n(a).label)}),O(e,o)}var cd=N("<div><!></div>"),ud=N('<div class="flex flex-col h-full w-full bg-base-300"><div class="flex flex-col p-3 gap-3 border-b border-base-content/10"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row items-center gap-1 text-xs  text-muted"><div class="text-base"> </div> <div> </div></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="mb-1"> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <!></div> <button type="button" class="text-xs flex items-center cursor-pointer mb-1 text-primary"><span class="me-1 text-base">+</span> <span>Add Task</span></button></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0 gap-2"></div></div></div> <!> <!>',1);function vd(e,t){ye(t,!0);let r,a,o=ee(()=>yt.getByProject(t.selectedProject.id)),i=J(!1),s=()=>D(i,!n(i));async function b(q,Y){if(q.stopPropagation(),!t.selectedProject)return;const U=Y.status==="completed"?"active":"completed";await vn(t.selectedProject.id,Y.index,{status:U})}async function v(q,Y){if(q.stopPropagation(),Y===0||!t.selectedProject)return;const U=n(o),G=yt.getByProject(t.selectedProject.id),ae=U[Y],H=U[Y-1],ne=G.findIndex(M=>M.id===H.id),ie=ne>0?G[ne-1].index:null,W=H.index;await Oa(t.selectedProject.id,ae.index,ie,W)}async function u(q,Y){if(q.stopPropagation(),!t.selectedProject)return;const U=n(o);if(Y===U.length-1)return;const G=yt.getByProject(t.selectedProject.id),ae=U[Y],H=U[Y+1],ne=G.findIndex(M=>M.id===H.id),ie=H.index,W=ne<G.length-1?G[ne+1].index:null;await Oa(t.selectedProject.id,ae.index,ie,W)}var c=ud(),x=le(c),g=d(x),f=d(g),p=d(f),m=d(p),_=d(m,!0);l(m);var T=h(m,2),E=d(T,!0);l(T),l(p);var w=h(p,2),y=d(w);y.__click=s;var S=h(d(y));l(y);var j=h(y,2);j.__click=q=>r.openEditProjectModal(q,t.selectedProject),l(w),l(f);var k=h(f,2),A=d(k,!0);l(k);var I=h(k,2),C=d(I),P=d(C);dd(P,{get status(){return t.selectedProject.status}});var F=h(P,2);kr(F,{get level(){return t.selectedProject.severity},get type(){return t.selectedProject.type}}),l(C);var Z=h(C,2);Z.__click=function(...q){a.openCreateTaskModal?.apply(this,q)},l(I),l(g);var z=h(g,2),$=d(z);Ae($,31,()=>n(o),q=>q.id,(q,Y,U)=>{var G=cd(),ae=d(G);sd(ae,{get handleEdit(){return a.openEditTaskModal},handleTaskMoveUp:v,handleTaskMoveDown:u,get index(){return n(U)},get task(){return n(Y)},toggleTaskComplete:b,get reorderEnabled(){return n(i)}}),l(G),Bt(G,()=>zt,()=>({duration:250,easing:Pr})),O(q,G)}),l($),l(z),l(x);var L=h(x,2);Ne(td(L,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),q=>a=q,()=>a);var V=h(L,2);Ne(Nn(V,{get selectedArea(){return t.selectedArea}}),q=>r=q,()=>r),te(()=>{R(_,t.selectedArea.icon),R(E,t.selectedArea.name),X(y,1,`btn ${n(i)?"btn-success":"btn-ghost"} btn-xs`),R(S,` ${n(i)?"Done":"Reorder"}`),R(A,t.selectedProject.name)}),O(e,c),we()}Te(["click"]);var fd=N('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),bd=N('<div class="h-screen flex flex-col bg-base-300 md:ml-20"><div class="max-md:pb-22 h-full"><!></div> <!></div>');function wd(e,t){ye(t,!0);const r=()=>s("areas"),a=()=>s("projects");let o=J(void 0),i=J(void 0);s("areas");function s(m){yo("",{activeTab:m})}function b(m){D(o,m,!0),s("projects")}function v(m){D(i,m,!0),D(o,st.getById(m.areaId),!0),s("tasks")}var u=bd(),c=d(u),x=d(c);{var g=m=>{yl(m,{onSelectArea:b})},f=m=>{var _=me(),T=le(_);{var E=y=>{Jl(y,{navigateBack:r,navigateToTasks:v,get selectedArea(){return n(o)}})},w=y=>{var S=me(),j=le(S);{var k=I=>{vd(I,{navigateBack:a,get selectedArea(){return n(o)},get selectedProject(){return n(i)}})},A=I=>{var C=me(),P=le(C);{var F=z=>{Hs(z,{navigateToTasks:v})},Z=z=>{var $=me(),L=le($);{var V=Y=>{il(Y,{})},q=Y=>{var U=me(),G=le(U);{var ae=H=>{var ne=fd();O(H,ne)};Q(G,H=>{mt.state.activeTab==="review"&&H(ae)},!0)}O(Y,U)};Q(L,Y=>{mt.state.activeTab==="today"?Y(V):Y(q,!1)},!0)}O(z,$)};Q(P,z=>{mt.state.activeTab==="week"?z(F):z(Z,!1)},!0)}O(I,C)};Q(j,I=>{mt.state.activeTab=="tasks"?I(k):I(A,!1)},!0)}O(y,S)};Q(T,y=>{mt.state.activeTab==="projects"?y(E):y(w,!1)},!0)}O(m,_)};Q(x,m=>{mt.state.activeTab==="areas"?m(g):m(f,!1)})}l(c);var p=h(c,2);ii(p,{get activeTab(){return mt.state.activeTab},onTabChange:s}),l(u),O(e,u),we()}export{wd as component};
