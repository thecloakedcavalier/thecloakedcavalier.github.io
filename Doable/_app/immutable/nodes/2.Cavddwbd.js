import{d as $,f as B,a as P,s as L,c as Z,b as Ke}from"../chunks/C0mSsNzB.js";import{y as Ne,E as Rt,K as We,A as ae,ao as Lt,F as Ot,g as e,T as zt,H as Vt,I as Ft,J as ut,L as Be,B as je,aa as Ut,aC as Ht,ah as bt,o as ue,aE as ie,z as Ue,D as Gt,a8 as ft,a4 as qt,aA as Je,aF as Kt,aG as Jt,aH as Yt,aI as Qt,v as jt,x as At,aJ as Re,aw as Xt,az as Zt,w as $t,aK as Tt,q as Te,aL as ea,aM as ta,aN as aa,aO as ra,aP as na,aQ as sa,aR as Pt,a5 as oa,u as la,r as Mt,aS as ia,aT as ca,aU as da,p as ee,l as te,n as s,m as l,s as u,t as G,k as Y,O as J,N as S,a6 as K,b as Ye,U as He}from"../chunks/BqVyvuT7.js";import{i as U}from"../chunks/Dgz-J3ua.js";import{a as va}from"../chunks/Cx0AVdJQ.js";import{p as de}from"../chunks/D8k2Yiry.js";import{b as ke}from"../chunks/BYS0SYey.js";import{a1 as Ae,a2 as ua,a3 as ba,a4 as fa,a5 as St,a6 as Ct,a7 as he,a8 as Pe,a9 as ga,aa as be,ab as fe,ac as Me,ad as xa,ae as _a,af as pa,ag as ma,ah as ka,ai as ha,aj as ya,ak as gt,al as wa,am as ja,an as Aa,ao as Ta,ap as xt,aq as Et,ar as Pa,as as _t}from"../chunks/CqUaVhGt.js";function ne(a,t){return t}function Ma(a,t,n){for(var r=[],o=t.length,i,c=t.length,m=0;m<o;m++){let y=t[m];At(y,()=>{if(i){if(i.pending.delete(y),i.done.add(y),i.pending.size===0){var _=a.outrogroups;Ge(Je(i.done)),_.delete(i),_.size===0&&(a.outrogroups=null)}}else c-=1},!1)}if(c===0){var b=r.length===0&&n!==null;if(b){var p=n,k=p.parentNode;Zt(k),k.append(p),a.items.clear()}Ge(t,!b)}else i={pending:new Set(t),done:new Set},(a.outrogroups??=new Set).add(i)}function Ge(a,t=!0){for(var n=0;n<a.length;n++)$t(a[n],t)}var pt;function se(a,t,n,r,o,i=null){var c=a,m=new Map,b=(t&Tt)!==0;if(b){var p=a;c=ae?We(Lt(p)):p.appendChild(Ne())}ae&&Ot();var k=null,y=zt(()=>{var f=n();return Kt(f)?f:f==null?[]:Je(f)}),_,w=!0;function j(){v.fallback=k,Sa(v,_,c,t,r),k!==null&&(_.length===0?(k.f&ie)===0?jt(k):(k.f^=ie,pe(k,null,c)):At(k,()=>{k=null}))}var h=Rt(()=>{_=e(y);var f=_.length;let M=!1;if(ae){var W=Vt(c)===Ft;W!==(f===0)&&(c=ut(),We(c),Be(!1),M=!0)}for(var E=new Set,I=ue,O=Gt(),d=0;d<f;d+=1){ae&&je.nodeType===Ut&&je.data===Ht&&(c=je,M=!0,Be(!1));var g=_[d],x=r(g,d),T=w?null:m.get(x);T?(T.v&&bt(T.v,g),T.i&&bt(T.i,d),O&&I.skipped_effects.delete(T.e)):(T=Ca(m,w?c:pt??=Ne(),g,x,d,o,t,n),w||(T.e.f|=ie),m.set(x,T)),E.add(x)}if(f===0&&i&&!k&&(w?k=Ue(()=>i(c)):(k=Ue(()=>i(pt??=Ne())),k.f|=ie)),ae&&f>0&&We(ut()),!w)if(O){for(const[D,z]of m)E.has(D)||I.skipped_effects.add(z.e);I.oncommit(j),I.ondiscard(()=>{})}else j();M&&Be(!0),e(y)}),v={effect:h,items:m,outrogroups:null,fallback:k};w=!1,ae&&(c=je)}function Sa(a,t,n,r,o){var i=(r&ea)!==0,c=t.length,m=a.items,b=a.effect.first,p,k=null,y,_=[],w=[],j,h,v,f;if(i)for(f=0;f<c;f+=1)j=t[f],h=o(j,f),v=m.get(h).e,(v.f&ie)===0&&(v.nodes?.a?.measure(),(y??=new Set).add(v));for(f=0;f<c;f+=1){if(j=t[f],h=o(j,f),v=m.get(h).e,a.outrogroups!==null)for(const T of a.outrogroups)T.pending.delete(v),T.done.delete(v);if((v.f&ie)!==0)if(v.f^=ie,v===b)pe(v,null,n);else{var M=k?k.next:b;v===a.effect.last&&(a.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),ce(a,k,v),ce(a,v,M),pe(v,M,n),k=v,_=[],w=[],b=k.next;continue}if((v.f&Re)!==0&&(jt(v),i&&(v.nodes?.a?.unfix(),(y??=new Set).delete(v))),v!==b){if(p!==void 0&&p.has(v)){if(_.length<w.length){var W=w[0],E;k=W.prev;var I=_[0],O=_[_.length-1];for(E=0;E<_.length;E+=1)pe(_[E],W,n);for(E=0;E<w.length;E+=1)p.delete(w[E]);ce(a,I.prev,O.next),ce(a,k,I),ce(a,O,W),b=W,k=O,f-=1,_=[],w=[]}else p.delete(v),pe(v,b,n),ce(a,v.prev,v.next),ce(a,v,k===null?a.effect.first:k.next),ce(a,k,v),k=v;continue}for(_=[],w=[];b!==null&&b!==v;)(p??=new Set).add(b),w.push(b),b=b.next;if(b===null)continue}(v.f&ie)===0&&_.push(v),k=v,b=v.next}if(a.outrogroups!==null){for(const T of a.outrogroups)T.pending.size===0&&(Ge(Je(T.done)),a.outrogroups?.delete(T));a.outrogroups.size===0&&(a.outrogroups=null)}if(b!==null||p!==void 0){var d=[];if(p!==void 0)for(v of p)(v.f&Re)===0&&d.push(v);for(;b!==null;)(b.f&Re)===0&&b!==a.fallback&&d.push(b),b=b.next;var g=d.length;if(g>0){var x=(r&Tt)!==0&&c===0?n:null;if(i){for(f=0;f<g;f+=1)d[f].nodes?.a?.measure();for(f=0;f<g;f+=1)d[f].nodes?.a?.fix()}Ma(a,d,x)}}i&&Te(()=>{if(y!==void 0)for(v of y)v.nodes?.a?.apply()})}function Ca(a,t,n,r,o,i,c,m){var b=(c&Jt)!==0?(c&Yt)===0?qt(n,!1,!1):ft(n):null,p=(c&Qt)!==0?ft(o):null;return{v:b,i:p,e:Ue(()=>(i(t,b??n,p??o,m),()=>{a.delete(r)}))}}function pe(a,t,n){if(a.nodes)for(var r=a.nodes.start,o=a.nodes.end,i=t&&(t.f&ie)===0?t.nodes.start:n;r!==null;){var c=Xt(r);if(i.before(r),r===o)return;r=c}}function ce(a,t,n){t===null?a.effect.first=n:t.next=n,n===null?a.effect.last=t:n.prev=t}const mt=[...` 	
\r\f¬†\v\uFEFF`];function Ea(a,t,n){var r=a==null?"":""+a;if(t&&(r=r?r+" "+t:t),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var i=o.length,c=0;(c=r.indexOf(o,c))>=0;){var m=c+i;(c===0||mt.includes(r[c-1]))&&(m===r.length||mt.includes(r[m]))?r=(c===0?"":r.substring(0,c))+r.substring(m+1):c=m}}return r===""?null:r}function kt(a,t=!1){var n=t?" !important;":";",r="";for(var o in a){var i=a[o];i!=null&&i!==""&&(r+=" "+o+": "+i+n)}return r}function Le(a){return a[0]!=="-"||a[1]!=="-"?a.toLowerCase():a}function Ia(a,t){if(t){var n="",r,o;if(Array.isArray(t)?(r=t[0],o=t[1]):r=t,a){a=String(a).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,c=0,m=!1,b=[];r&&b.push(...Object.keys(r).map(Le)),o&&b.push(...Object.keys(o).map(Le));var p=0,k=-1;const h=a.length;for(var y=0;y<h;y++){var _=a[y];if(m?_==="/"&&a[y-1]==="*"&&(m=!1):i?i===_&&(i=!1):_==="/"&&a[y+1]==="*"?m=!0:_==='"'||_==="'"?i=_:_==="("?c++:_===")"&&c--,!m&&i===!1&&c===0){if(_===":"&&k===-1)k=y;else if(_===";"||y===h-1){if(k!==-1){var w=Le(a.substring(p,k).trim());if(!b.includes(w)){_!==";"&&y++;var j=a.substring(p,y).trim();n+=" "+j+";"}}p=y+1,k=-1}}}}return r&&(n+=kt(r)),o&&(n+=kt(o,!0)),n=n.trim(),n===""?null:n}return a==null?null:String(a)}function Q(a,t,n,r,o,i){var c=a.__className;if(ae||c!==n||c===void 0){var m=Ea(n,r,i);(!ae||m!==a.getAttribute("class"))&&(m==null?a.removeAttribute("class"):a.className=m),a.__className=n}else if(i&&o!==i)for(var b in i){var p=!!i[b];(o==null||p!==!!o[b])&&a.classList.toggle(b,p)}return i}function Oe(a,t={},n,r){for(var o in n){var i=n[o];t[o]!==i&&(n[o]==null?a.style.removeProperty(o):a.style.setProperty(o,i,r))}}function Se(a,t,n,r){var o=a.__style;if(ae||o!==t){var i=Ia(t,r);(!ae||i!==a.getAttribute("style"))&&(i==null?a.removeAttribute("style"):a.style.cssText=i),a.__style=t}else r&&(Array.isArray(r)?(Oe(a,n?.[0],r[0]),Oe(a,n?.[1],r[1],"important")):Oe(a,n,r));return r}const Da=Symbol("is custom element"),Na=Symbol("is html");function me(a){if(ae){var t=!1,n=()=>{if(!t){if(t=!0,a.hasAttribute("value")){var r=a.value;qe(a,"value",null),a.value=r}if(a.hasAttribute("checked")){var o=a.checked;qe(a,"checked",null),a.checked=o}}};a.__on_r=n,Te(n),ta()}}function qe(a,t,n,r){var o=Wa(a);ae&&(o[t]=a.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&a.nodeName==="LINK")||o[t]!==(o[t]=n)&&(t==="loading"&&(a[aa]=n),n==null?a.removeAttribute(t):typeof n!="string"&&Ba(a).includes(t)?a[t]=n:a.setAttribute(t,n))}function Wa(a){return a.__attributes??={[Da]:a.nodeName.includes("-"),[Na]:a.namespaceURI===ra}}var ht=new Map;function Ba(a){var t=a.getAttribute("is")||a.nodeName,n=ht.get(t);if(n)return n;ht.set(t,n=[]);for(var r,o=a,i=Element.prototype;i!==o;){r=sa(o);for(var c in r)r[c].set&&n.push(c);o=na(o)}return n}function Qe(a,t,n=t){var r=new WeakSet;Pt(a,"input",async o=>{var i=o?a.defaultValue:a.value;if(i=Ve(a)?Fe(i):i,n(i),ue!==null&&r.add(ue),await oa(),i!==(i=t())){var c=a.selectionStart,m=a.selectionEnd,b=a.value.length;if(a.value=i??"",m!==null){var p=a.value.length;c===m&&m===b&&p>b?(a.selectionStart=p,a.selectionEnd=p):(a.selectionStart=c,a.selectionEnd=Math.min(m,p))}}}),(ae&&a.defaultValue!==a.value||la(t)==null&&a.value)&&(n(Ve(a)?Fe(a.value):a.value),ue!==null&&r.add(ue)),Mt(()=>{var o=t();if(a===document.activeElement){var i=ia??ue;if(r.has(i))return}Ve(a)&&o===Fe(a.value)||a.type==="date"&&!o&&!a.value||o!==a.value&&(a.value=o??"")})}const ze=new Set;function yt(a,t,n,r,o=r){var i=n.getAttribute("type")==="checkbox",c=a;let m=!1;if(t!==null)for(var b of t)c=c[b]??=[];c.push(n),Pt(n,"change",()=>{var p=n.__value;i&&(p=wt(c,p,n.checked)),o(p)},()=>o(i?[]:null)),Mt(()=>{var p=r();if(ae&&n.defaultChecked!==n.checked){m=!0;return}i?(p=p||[],n.checked=p.includes(n.__value)):n.checked=ca(n.__value,p)}),da(()=>{var p=c.indexOf(n);p!==-1&&c.splice(p,1)}),ze.has(c)||(ze.add(c),Te(()=>{c.sort((p,k)=>p.compareDocumentPosition(k)===4?-1:1),ze.delete(c)})),Te(()=>{if(m){var p;if(i)p=wt(c,p,n.checked);else{var k=c.find(y=>y.checked);p=k?.__value}o(p)}})}function wt(a,t,n){for(var r=new Set,o=0;o<a.length;o+=1)a[o].checked&&r.add(a[o].__value);return n||r.delete(t),Array.from(r)}function Ve(a){var t=a.type;return t==="number"||t==="range"}function Fe(a){return a===""?null:+a}const _e={regular:{sev1:"Core to who I am or want to become",sev2:"Significant progress toward a major goal",sev3:"Meaningful but not defining",sev4:"Nice to do, no real deadline",sev5:"Pure exploration or fun"},maintenance:{sev1:"Immediate risk if ignored (safety, legal, financial)",sev2:"Disrupts daily life if neglected",sev3:"Routine upkeep, flexible timing",sev4:"Minor improvement, no consequences",sev5:"Cosmetic or nice-to-have"}},Ra=["üíº","üè†","üí™","üìö","üí∞","‚ù§Ô∏è","üéØ","üöÄ","üé®","üéµ","‚úàÔ∏è","üçé","üßò","üë®‚Äçüë©‚Äçüëß‚Äçüë¶","ü§ù","üì±","üíª","üîß","üìù","üéì","üèÉ","üß†","üå±","‚≠ê","üî•","üí°","üéÆ","üì∏","üõí","üè¶","üöó","üèãÔ∏è"];$(["click","keydown"]);var La=B('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),Oa=B('<nav class="pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav>');function za(a,t){ee(t,!0);const n=[{id:"areas",icon:"üìÅ",label:"Areas"},{id:"week",icon:"üìÖ",label:"Week"},{id:"today",icon:"‚òÄÔ∏è",label:"Today"}];var r=Oa();se(r,21,()=>n,ne,(o,i)=>{var c=La();let m;c.__click=()=>t.onTabChange(e(i).id);let b;var p=l(c),k=l(p,!0);s(p);var y=u(p,2),_=l(y,!0);s(y),s(c),G(()=>{m=Q(c,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,m,{"text-primary":t.activeTab===e(i).id,"text-base-content":t.activeTab!==e(i).id}),b=Se(c,"",b,{opacity:t.activeTab===e(i).id?1:.4}),L(k,e(i).icon),L(_,e(i).label)}),P(o,c)}),s(r),P(a,r),te()}$(["click"]);var Va=B('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),Fa=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function Ua(a,t){ee(t,!0);let n=J(!1),r=J(null);function o(_,w,j,h){_.stopPropagation(),S(r,{task:w,project:j,area:h},!0),S(n,!0)}function i(){S(n,!1),S(r,null)}function c(){return ba(t.currentWeekOf).map(_=>({date:_,dayName:St(_),isToday:fa(_)}))}async function m(_){if(!e(r))return;const{task:w,project:j,area:h}=e(r);i();const v=t.isTaskAssignedToDay(w.id);v===_?await Ae(w.id,j.id,t.currentWeekOf,_):(v&&await Ae(w.id,j.id,t.currentWeekOf,v),await ua(w.id,j.id,h.id,w.name,t.currentWeekOf,_,!1))}var b={openDayPicker:o},p=Z(),k=Y(p);{var y=_=>{var w=Fa(),j=l(w);j.__click=i,j.__keydown=g=>g.key==="Escape"&&i();var h=u(j,2),v=l(h),f=l(v),M=u(l(f),2),W=l(M,!0);s(M),s(f);var E=u(f,2);E.__click=i,s(v);var I=u(v,2);se(I,21,c,ne,(g,x)=>{const T=K(()=>t.isTaskAssignedToDay(e(r).task.id)===e(x).date);var D=Va();D.__click=()=>m(e(x).date);var z=l(D),C=l(z,!0);s(z);var N=u(z,2),A=l(N,!0);s(N),s(D),G(R=>{Q(D,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${e(T)?"bg-primary text-primary-content border-primary":e(x).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),L(C,e(x).dayName),L(A,R)},[()=>e(x).date.split("-")[2]]),P(g,D)}),s(I);var O=u(I,2),d=l(O);d.__click=()=>{const g=t.isTaskAssignedToDay(e(r).task.id);g&&Ae(e(r).task.id,e(r).project.id,t.currentWeekOf,g),i()},s(O),s(h),s(w),G(()=>L(W,e(r).task.name)),P(_,w)};U(k,_=>{e(n)&&e(r)&&_(y)})}return P(a,p),te(b)}$(["click","keydown"]);var Ha=B('<div class="h-1 bg-base-300"><div class="h-full bg-base-content/20 transition-all"></div></div>'),Ga=B('<div class="bg-base-100 rounded-lg overflow-hidden"><!> <div class="flex items-center gap-3 p-3"><span class="text-2xl"> </span> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content truncate mb-1"> </p> <p class="text-xs text-base-content/50"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">‚úï</button></div></div>'),qa=B('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),Ka=B('<div class="flex flex-col gap-2"><div class="flex justify-end"><button> </button></div> <!></div>');function Ja(a,t){ee(t,!0);let n=J(localStorage.getItem("filterAssignedProject")=="true"),r=()=>S(n,!e(n));Ye(()=>{localStorage.setItem("filterAssignedProject",e(n)+"")});async function o(y,_){y.stopPropagation(),await Ct(_,t.currentWeekOf)}function i(y){const _=he.getByProject(y),w=_.filter(h=>h.status==="active").length,j=_.filter(h=>h.status==="completed").length;return{active:w,completed:j,total:w+j}}var c=Ka(),m=l(c),b=l(m);b.__click=r;var p=l(b);s(b),s(m);var k=u(m,2);se(k,17,()=>t.assignedProjects,ne,(y,_)=>{let w=()=>e(_).project,j=()=>e(_).area;const h=K(()=>i(w().id)),v=K(()=>e(h).total>0?e(h).completed/e(h).total*100:0);var f=Z(),M=Y(f);{var W=E=>{var I=Ga(),O=l(I);{var d=V=>{var H=Ha(),F=l(H);s(H),G(()=>Se(F,`width: ${e(v)??""}%`)),P(V,H)};U(O,V=>{e(h).total>0&&V(d)})}var g=u(O,2),x=l(g),T=l(x,!0);s(x);var D=u(x,2),z=l(D),C=l(z,!0);s(z);var N=u(z,2),A=l(N,!0);s(N),s(D);var R=u(D,2);R.__click=V=>o(V,w().id),s(g),s(I),G(()=>{L(T,j().icon),L(C,w().name),L(A,j().name)}),P(E,I)};U(M,E=>{(e(v)<100&&e(n)||!e(n))&&E(W)})}P(y,f)},y=>{var _=qa();P(y,_)}),s(c),G(()=>{Q(b,1,`w-20 btn btn-xs btn-soft btn-secondary ${e(n)?"bg-secondary text-secondary-content":""}`),L(p,`Filter :${e(n)?"ON":"OFF"}`)}),P(a,c),te()}$(["click"]);var Ya=B('<span class="text-xs text-primary-content px-2 py-1 bg-primary rounded"> </span>'),Qa=B('<button class="text-start flex items-center gap-3 p-3 bg-base-100 border border-base-content/10 rounded-lg transition-all hover:border-primary"><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-base-content/50"> </p></div> <!></button>'),Xa=B('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),Za=B('<div class="flex flex-col gap-2"></div>');function $a(a,t){ee(t,!0);var n=Za();se(n,21,()=>t.weekTasks,ne,(r,o)=>{let i=()=>e(o).task,c=()=>e(o).project,m=()=>e(o).area;const b=K(()=>t.isTaskAssignedToDay(i().id));var p=Qa();p.__click=f=>t.openDayPicker(f,i(),c(),m());var k=l(p),y=l(k),_=l(y,!0);s(y);var w=u(y,2),j=l(w);s(w),s(k);var h=u(k,2);{var v=f=>{var M=Ya(),W=l(M,!0);s(M),G(E=>L(W,E),[()=>St(e(b))]),P(f,M)};U(h,f=>{e(b)&&f(v)})}s(p),G(()=>{L(_,i().name),L(j,`${m().icon??""} ${c().name??""}`)}),P(r,p)},r=>{var o=Xa();P(r,o)}),s(n),P(a,n),te()}$(["click"]);var er=B('<div class="flex flex-col h-full"><div class="bg-base-100 border-b border-b-base-content/10"><div class="px-4 pt-4 pb-2 "><h2 class="text-lg font-medium">Week</h2> <p class="text-xs text-base-content/50"> </p></div> <div class="flex gap-1 px-4 pb-3"><button> </button> <button> </button></div></div> <div class="flex-1 overflow-y-auto px-4 py-4"><!></div></div> <!>',1);function tr(a,t){ee(t,!0);let n=J(He(localStorage.getItem("weekTabView")||"projects"));Ye(()=>{e(n)&&localStorage.setItem("weekTabView",e(n))});let r=He(Pe());const o=K(()=>Me.getWeek(r));let i;function c(x){return e(o)?e(o).tasksByDay.find(D=>D.taskId===x)?.date??null:null}let m=K(()=>e(o)?e(o).projectAssignments.map(x=>{const T=be.getById(x.areaId);if(!T)return null;const z=fe.getByArea(T.id).find(C=>C.id===x.projectId);return z?{assignment:x,project:z,area:T}:null}).filter(x=>x!==null):[]),b=K(()=>{const x=[];for(const{project:T,area:D}of e(m)){const z=he.getByProject(T.id).filter(C=>C.status==="active");for(const C of z)x.push({task:C,project:T,area:D})}return x});var p=er(),k=Y(p),y=l(k),_=l(y),w=u(l(_),2),j=l(w,!0);s(w),s(_);var h=u(_,2),v=l(h);v.__click=()=>S(n,"projects");var f=l(v);s(v);var M=u(v,2);M.__click=()=>S(n,"tasks");var W=l(M);s(M),s(h),s(y);var E=u(y,2),I=l(E);{var O=x=>{Ja(x,{get currentWeekOf(){return r},get assignedProjects(){return e(m)}})},d=x=>{$a(x,{get openDayPicker(){return i.openDayPicker},get weekTasks(){return e(b)},isTaskAssignedToDay:c})};U(I,x=>{e(n)==="projects"?x(O):x(d,!1)})}s(E),s(k);var g=u(k,2);ke(Ua(g,{get currentWeekOf(){return r},isTaskAssignedToDay:c}),x=>i=x,()=>i),G(x=>{L(j,x),Q(v,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${e(n)==="projects"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),L(f,`Projects (${e(m).length??""})`),Q(M,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${e(n)==="tasks"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),L(W,`Tasks (${e(b).length??""})`)},[()=>ga(r)]),P(a,p),te()}$(["click"]);var ar=B('<div class="px-4 pb-3"><div class="flex items-center justify-between text-xs text-base-content/50 mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success transition-all rounded-full"></div></div></div>'),rr=B('<div class="flex items-center gap-3 p-3 bg-base-100 border border-base-content/10 rounded-lg"><button type="button" aria-label="check" class="w-7 h-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content mb-2"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from today">‚úï</button></div>'),nr=B('<div class="flex flex-col gap-2 mb-4"></div>'),sr=B('<div class="text-center py-12"><span class="text-4xl block mb-3">üìã</span> <p class="text-base-content/50 text-sm mb-2">No tasks for today</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),or=B('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">üéâ</span> <p class="text-sm font-medium text-success">All done for today!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),lr=B('<div class="flex items-center gap-3 p-3 opacity-50"><button type="button" class="w-7 h-7 rounded-full bg-success border-2 border-success flex items-center justify-center flex-shrink-0 text-success-content" title="Mark as incomplete"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),ir=B('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),cr=B('<div class="flex flex-col h-full"><div class="px-4 pt-4 pb-2"><h2 class="text-lg font-medium">Today</h2> <p class="text-xs text-base-content/50"> </p></div> <!> <div class="flex-1 overflow-y-auto px-3 pb-4"><!> <!></div></div>');function dr(a,t){ee(t,!0);const n=xa(),r=Pe();let o=K(()=>{const d=Me.getWeek(r);return d?d.tasksByDay.filter(g=>g.date===n).map(g=>{const x=he.getById(g.taskId),T=be.getById(g.areaId),z=(T?fe.getByArea(T.id):[]).find(C=>C.id===g.projectId);return{taskByDay:g,task:x,areaIcon:T?.icon??"üìÅ",areaName:T?.name??"Unknown",projectName:z?.name??"Unknown"}}):[]}),i=K(()=>e(o).filter(d=>d.taskByDay.status!=="completed")),c=K(()=>e(o).filter(d=>d.taskByDay.status==="completed"));function m(){const d=e(o),g=d.filter(D=>D.taskByDay.status==="completed").length,x=d.length,T=x>0?g/x*100:0;return{completed:g,total:x,percent:T}}async function b(d){await pa(d.taskId,d.projectId,r,n)}async function p(d){await ma(d.taskId,d.projectId,r,n)}async function k(d){await Ae(d.taskId,d.projectId,r,n)}var y=cr(),_=l(y),w=u(l(_),2),j=l(w);s(w),s(_);var h=u(_,2);{var v=d=>{const g=K(m);var x=ar(),T=l(x),D=l(T),z=l(D);s(D);var C=u(D,2),N=l(C);s(C),s(T);var A=u(T,2),R=l(A);s(A),s(x),G(V=>{L(z,`${e(g).completed??""} of ${e(g).total??""} completed`),L(N,`${V??""}%`),Se(R,`width: ${e(g).percent??""}%`)},[()=>Math.round(e(g).percent)]),P(d,x)};U(h,d=>{m().total>0&&d(v)})}var f=u(h,2),M=l(f);{var W=d=>{var g=nr();se(g,21,()=>e(i),ne,(x,T)=>{let D=()=>e(T).taskByDay,z=()=>e(T).areaIcon,C=()=>e(T).projectName;var N=rr(),A=l(N);A.__click=()=>b(D());var R=u(A,2),V=l(R),H=l(V,!0);s(V);var F=u(V,2),q=l(F);s(F),s(R);var X=u(R,2);X.__click=()=>k(D()),s(N),G(()=>{L(H,D().name),L(q,`${z()??""}  ${C()??""}`)}),P(x,N)}),s(g),P(d,g)},E=d=>{var g=Z(),x=Y(g);{var T=z=>{var C=sr();P(z,C)},D=z=>{var C=or();P(z,C)};U(x,z=>{m().total===0?z(T):z(D,!1)},!0)}P(d,g)};U(M,d=>{e(i).length>0?d(W):d(E,!1)})}var I=u(M,2);{var O=d=>{var g=ir(),x=l(g),T=l(x);s(x);var D=u(x,2);se(D,21,()=>e(c),ne,(z,C)=>{let N=()=>e(C).taskByDay,A=()=>e(C).areaIcon,R=()=>e(C).areaName,V=()=>e(C).projectName;var H=lr(),F=l(H);F.__click=()=>p(N());var q=u(F,2),X=l(q),re=l(X,!0);s(X);var le=u(X,2),ve=l(le);s(le),s(q),s(H),G(()=>{L(re,N().name),L(ve,`${A()??""} ${R()??""} ¬∑ ${V()??""}`)}),P(z,H)}),s(D),s(g),G(()=>L(T,`Completed (${e(c).length??""})`)),P(d,g)};U(I,d=>{e(c).length>0&&d(O)})}s(f),s(y),G(d=>L(j,`${d??""}, ${n??""}`),[()=>_a(n)]),P(a,y),te()}$(["click"]);var vr=B('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function ur(a,t){var n=vr();n.__click=function(...r){t.handleClick?.apply(this,r)},P(a,n)}$(["click"]);var br=B('<button type="button"> </button>'),fr=B('<button type="button" class="btn btn-outline btn-error btn-sm">Archive</button>'),gr=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="grid grid-cols-8 gap-1"></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function xr(a,t){ee(t,!0);let n=J(!1),r=J(null),o=J(""),i=J("üéØ");function c(){S(r,null),S(o,""),S(i,"üéØ"),S(n,!0)}function m(v,f){v.stopPropagation(),S(r,f,!0),S(o,f.name,!0),S(i,f.icon,!0),S(n,!0)}function b(){S(n,!1),S(r,null)}async function p(){!e(o).trim()||!e(i)||(e(r)?await ka(e(r).index,{name:e(o).trim(),icon:e(i)}):await ha(e(o).trim(),e(i)),b())}function k(v){return fe.getByArea(v.id).filter(M=>M.status==="active").length===0}async function y(){!e(r)||!k(e(r))||(await ya(e(r).index),b())}var _={openCreateAreaModal:c,openEditAreaModal:m},w=Z(),j=Y(w);{var h=v=>{var f=gr(),M=l(f);M.__click=b,M.__keydown=F=>F.key==="Escape"&&b();var W=u(M,2),E=l(W),I=l(E),O=l(I,!0);s(I);var d=u(I,2);d.__click=b,s(E);var g=u(E,2),x=l(g),T=u(l(x),2);se(T,21,()=>Ra,ne,(F,q)=>{var X=br();X.__click=()=>S(i,e(q),!0);var re=l(X,!0);s(X),G(()=>{Q(X,1,`aspect-square flex items-center justify-center text-lg rounded-lg transition-colors ${e(i)===e(q)?"bg-primary text-primary-content":"hover:bg-base-200"}`),L(re,e(q))}),P(F,X)}),s(T),s(x);var D=u(x,2),z=u(l(D),2);me(z),z.__keydown=F=>F.key==="Enter"&&p(),s(D),s(g);var C=u(g,2),N=l(C);{var A=F=>{var q=fr();q.__click=y,G((X,re)=>{q.disabled=X,qe(q,"title",re)},[()=>!k(e(r)),()=>k(e(r))?"Archive area":"Cannot archive: has active projects"]),P(F,q)};U(N,F=>{e(r)&&F(A)})}var R=u(N,4);R.__click=b;var V=u(R,2);V.__click=p;var H=l(V,!0);s(V),s(C),s(W),s(f),G(F=>{L(O,e(r)?"Edit Area":"New Area"),V.disabled=F,L(H,e(r)?"Save":"Create")},[()=>!e(o).trim()||!e(i)]),Qe(z,()=>e(o),F=>S(o,F)),P(v,f)};U(j,v=>{e(n)&&v(h)})}return P(a,w),te(_)}$(["click","keydown"]);var _r=B('<button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-6" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button>'),pr=B('<div class="flex flex-row gap-1"><button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üê</button> <button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üí</button></div>'),mr=B('<div tabindex="0" role="button" class="rounded-lg bg-base-100 hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-3"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm font-medium mb-0 pb-1 truncate"> </div> <p class="text-xs text-base-content/50"> </p></div></div></div></div>');function kr(a,t){ee(t,!0);const n=K(()=>fe.getByArea(t.area.id).filter(f=>f.status==="active").length);var r=mr();r.__click=()=>t.handleSelect(t.area);var o=l(r),i=l(o),c=l(i),m=l(c,!0);s(c);var b=u(c,2);{var p=f=>{var M=_r();M.__click=W=>t.handleEdit(W,t.area),P(f,M)},k=f=>{var M=Z(),W=Y(M);{var E=I=>{var O=pr(),d=l(O);d.__click=x=>t.handleAreaMoveUp(x,t.index);var g=u(d,2);g.__click=x=>t.handleAreaMoveDown(x,t.index),s(O),G(()=>d.disabled=t.index==0),P(I,O)};U(W,I=>{t.allowEdit&&t.reorderModeEnabled&&I(E)},!0)}P(f,M)};U(b,f=>{t.allowEdit&&!t.reorderModeEnabled?f(p):f(k,!1)})}s(i);var y=u(i,2),_=l(y),w=l(_),j=l(w,!0);s(w);var h=u(w,2),v=l(h);s(h),s(_),s(y),s(o),s(r),G(()=>{L(m,t.area.icon),L(j,t.area.name),L(v,`${e(n)??""} project${e(n)!==1?"s":""}`)}),P(a,r),te()}$(["click"]);var hr=B('<button class="link text-base-content/50 text-sm"> </button>'),yr=B('<div class="flex flex-col h-full"><div class="px-3 pt-5 pb-4 flex flex-row justify-between items-center bg-base-100 border-b border-base-content/10"><div><div class="text-xl text-base-content/80 tracking-wider font-medium">Doable</div> <div class="text-sm text-base-content/50">Life areas at a glance</div></div> <div class="flex flex-row gap-4"><!> <button class="link text-base-content/50 text-sm"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function wr(a,t){ee(t,!0);let n,r=J(!1),o=J(!1),i=()=>S(r,!e(r)),c=()=>S(o,!e(o));const m=K(()=>e(o)?be.archived:be.areas);async function b(d,g){d.stopPropagation();const x=be.areas;if(g===0)return;const T=x[g],D=g>1?x[g-2].index:null,z=x[g-1].index;await gt(T.index,D,z)}async function p(d,g){d.stopPropagation();const x=be.areas;if(g===x.length-1)return;const T=x[g],D=x[g+1].index,z=g<x.length-2?x[g+2].index:null;await gt(T.index,D,z)}var k=yr(),y=l(k),_=u(l(y),2),w=l(_);{var j=d=>{var g=hr();g.__click=i;var x=l(g,!0);s(g),G(()=>L(x,e(r)?"Edit":"Reorder")),P(d,g)};U(w,d=>{e(o)||d(j)})}var h=u(w,2);h.__click=c;var v=l(h,!0);s(h),s(_),s(y);var f=u(y,2),M=l(f),W=l(M);se(W,17,()=>e(m),ne,(d,g,x)=>{{let T=K(()=>!e(o));kr(d,{get area(){return e(g)},get handleSelect(){return t.onSelectArea},index:x,get allowEdit(){return e(T)},handleAreaMoveUp:b,handleAreaMoveDown:p,get reorderModeEnabled(){return e(r)},get handleEdit(){return n.openEditAreaModal}})}});var E=u(W,2);{var I=d=>{ur(d,{get handleClick(){return n.openCreateAreaModal}})};U(E,d=>{e(o)||d(I)})}s(M),s(f);var O=u(f,2);ke(xr(O,{}),d=>n=d,()=>n),s(k),G(()=>L(v,e(o)?"Active":"Archived")),P(a,k),te()}$(["click"]);var jr=B('<div class="text-center text-xs font-semibold bg-purple-500/20 text-purple-400 rounded w-full h-full  items-center justify-center flex">1</div>'),Ar=B('<div class="text-center text-xs font-semibold bg-red-500/20 text-red-400 rounded w-full h-full items-center justify-center flex">2</div>'),Tr=B('<div class="text-center text-xs font-semibold bg-yellow-500/20 text-yellow-400 rounded w-full h-full items-center justify-center flex">3</div>'),Pr=B('<div class="text-center text-xs font-semibold bg-blue-500/20 text-blue-500 rounded w-full h-full items-center justify-center flex">4</div>'),Mr=B('<div class="text-center text-xs font-semibold bg-emerald-500/20 text-emerald-300 rounded w-full h-full items-center justify-center flex">5</div>');function Sr(a,t){var n=Z(),r=Y(n);{var o=c=>{var m=jr();P(c,m)},i=c=>{var m=Z(),b=Y(m);{var p=y=>{var _=Ar();P(y,_)},k=y=>{var _=Z(),w=Y(_);{var j=v=>{var f=Tr();P(v,f)},h=v=>{var f=Z(),M=Y(f);{var W=I=>{var O=Pr();P(I,O)},E=I=>{var O=Mr();P(I,O)};U(M,I=>{t.level=="sev4"?I(W):I(E,!1)},!0)}P(v,f)};U(w,v=>{t.level=="sev3"?v(j):v(h,!1)},!0)}P(y,_)};U(b,y=>{t.level=="sev2"?y(p):y(k,!1)},!0)}P(c,m)};U(r,c=>{t.level=="sev1"?c(o):c(i,!1)})}P(a,n)}var Cr=B('<div class="h-full bg-primary/80 transition-all"></div>'),Er=B('<span class="text-xs mx-0.5">‚Ä¢</span> ',1),Ir=B('<button aria-label="edit"> </button>'),Dr=B('<button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üë</button> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üì</button>',1),Nr=B('<div class="w-full transition-colors bg-base-100 rounded-lg cursor-pointer hover:bg-primary/20" role="button" tabindex="0"><div class="flex-1 min-w-0 p-3 pt-4"><div class="flex flex-row items-start gap-2 "><div class="shrink-0 size-8"><!></div> <p class="text-sm mb-1.5 text-base-content"> </p></div> <div class="mb-2 mt-3 w-full items-center flex h-1 bg-neutral"><!></div> <div class="flex flex-row justify-between items-center"><p class="text-xs font-semibold text-base-content/50 "> <!></p> <div class="flex flex-row gap-1 items-center mt-1"><!> <!> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-5" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div></div></div>');function Wr(a,t){ee(t,!0);const n=K(()=>he.getByProject(t.project.id)),r=K(()=>e(n).filter(A=>A.status==="active").length),o=K(()=>e(n).filter(A=>A.status==="completed").length),i=K(()=>e(n).filter(A=>A.status==="active"||A.status==="completed").length),c=K(()=>e(i)>0?e(o)/e(i)*100:0);function m(A){for(const[R,V]of Object.entries(Me.weeksByWeekOf))if(V.projectAssignments.some(H=>H.projectId===A))return R;return null}function b(A){const R=Pe();if(A===R)return"This week";const V=new Date(R),H=new Date(A),F=Math.round((H.getTime()-V.getTime())/(1e3*60*60*24)),q=Math.round(F/7);return q===1?"Next week":q>1?`In ${q} weeks`:q===-1?"Last week":A.slice(5)}const p=K(()=>m(t.project.id));var k=Nr();k.__click=()=>t.navigateToTasks(t.project),k.__keydown=A=>A.key==="Enter"&&t.navigateToTasks(t.project);var y=l(k),_=l(y),w=l(_),j=l(w);Sr(j,{get level(){return t.project.severity}}),s(w);var h=u(w,2),v=l(h,!0);s(h),s(_);var f=u(_,2),M=l(f);{var W=A=>{var R=Cr();G(()=>Se(R,`width: ${e(c)??""}%`)),P(A,R)};U(M,A=>{e(i)>0&&A(W)})}s(f);var E=u(f,2),I=l(E),O=l(I),d=u(O);{var g=A=>{var R=Er(),V=u(Y(R));G(()=>L(V,` ${e(o)??""} done`)),P(A,R)};U(d,A=>{e(o)>0&&A(g)})}s(I);var x=u(I,2),T=l(x);{var D=A=>{var R=Ir();R.__click=H=>t.handleProjectAssign(H,t.project);var V=l(R,!0);s(R),G(H=>{Q(R,1,`badge badge-lg badge-soft ${e(p)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer flex justify-center rounded-lg items-center`),L(V,H)},[()=>e(p)?b(e(p)):"Unassigned"]),P(A,R)};U(T,A=>{t.allowWeekAssignment&&A(D)})}var z=u(T,2);{var C=A=>{var R=Dr(),V=Y(R);V.__click=F=>t.handleProjectMoveUp(F,t.index);var H=u(V,2);H.__click=F=>t.handleProjectMoveDown(F,t.index),P(A,R)};U(z,A=>{t.allowReorder&&A(C)})}var N=u(z,2);N.__click=A=>t.handleEdit(A,t.project),s(x),s(E),s(y),s(k),G(()=>{L(v,t.project.name),L(O,`${e(r)??""} active `)}),P(a,k),te()}$(["click","keydown"]);const Br=[{value:"active",label:"Active",color:"border-s-primary"},{value:"blocked",label:"Blocked",color:"border-s-warning"},{value:"someday",label:"Someday",color:"border-s-info"},{value:"completed",label:"Completed",color:"border-s-success"},{value:"cancelled",label:"Cancelled",color:"border-s-error"}],Rr=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var Lr=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[650px] max-h-full bg-base-100 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-200 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">4</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">5</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="grid grid-cols-3 gap-1"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Someday</button> <button type="button">Cancelled</button> <button type="button">Done</button></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function Or(a,t){ee(t,!0);const n=[];let r=J(!1),o=J(null),i=J(""),c=J("active"),m=J("regular"),b=J("sev3");function p(){console.log("Creating.."),S(o,null),S(i,""),S(c,"active"),S(m,"regular"),S(b,"sev3"),S(r,!0)}function k(f,M){f.stopPropagation(),S(o,M,!0),S(i,M.name,!0),S(c,M.status,!0),S(m,M.type||"regular",!0),S(b,M.severity||"sev1",!0),S(r,!0)}function y(){S(r,!1),S(o,null)}async function _(){!e(i).trim()||!t.selectedArea||(e(o)?await wa(t.selectedArea.id,e(o).index,{name:e(i).trim(),status:e(c),type:e(m),severity:e(b)}):await ja(t.selectedArea.id,e(i).trim(),e(m),e(b)),y())}var w={openCreateProjectModal:p,openEditProjectModal:k},j=Z(),h=Y(j);{var v=f=>{var M=Lr(),W=l(M);W.__click=y,W.__keydown=oe=>oe.key==="Escape"&&y();var E=u(W,2),I=l(E),O=l(I),d=l(O),g=l(d,!0);s(d);var x=u(d,2);x.__click=y,s(O);var T=u(O,2),D=l(T),z=u(l(D),2);me(z),z.__keydown=oe=>oe.key==="Enter"&&_(),s(D);var C=u(D,2),N=u(l(C),2),A=l(N);me(A),A.value=A.__value="regular";var R=u(A,2);me(R),R.value=R.__value="maintenance",s(N),s(C);var V=u(C,4),H=l(V);let F;H.__click=()=>S(b,"sev1");var q=u(l(H),2),X=l(q,!0);s(q),s(H);var re=u(H,2);let le;re.__click=()=>S(b,"sev2");var ve=u(l(re),2),It=l(ve,!0);s(ve),s(re);var ge=u(re,2);let Xe;ge.__click=()=>S(b,"sev3");var Ze=u(l(ge),2),Dt=l(Ze,!0);s(Ze),s(ge);var xe=u(ge,2);let $e;xe.__click=()=>S(b,"sev4");var et=u(l(xe),2),Nt=l(et,!0);s(et),s(xe);var ye=u(xe,2);let tt;ye.__click=()=>S(b,"sev5");var at=u(l(ye),2),Wt=l(at,!0);s(at),s(ye),s(V);var rt=u(V,4),Ce=l(rt);let nt;Ce.__click=()=>S(c,"active");var Ee=u(Ce,2);let st;Ee.__click=()=>S(c,"blocked");var Ie=u(Ee,2);let ot;Ie.__click=()=>S(c,"someday");var De=u(Ie,2);let lt;De.__click=()=>S(c,"cancelled");var it=u(De,2);let ct;it.__click=()=>S(c,"completed"),s(rt),s(T);var dt=u(T,2),vt=u(l(dt),2);vt.__click=y;var we=u(vt,2);we.__click=_;var Bt=l(we,!0);s(we),s(dt),s(I),s(E),s(M),G(oe=>{L(g,e(o)?"Edit Project":"New Project"),F=Q(H,1,"hover:bg-purple-600 btn btn-sm justify-start gap-2 transition-all",null,F,{"bg-purple-600":e(b)==="sev1","text-white":e(b)==="sev1"}),L(X,_e[e(m)].sev1),le=Q(re,1,"hover:bg-red-500 btn btn-sm justify-start gap-2 transition-all",null,le,{"bg-red-500":e(b)==="sev2","text-white":e(b)==="sev2"}),L(It,_e[e(m)].sev2),Xe=Q(ge,1,"hover:bg-yellow-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,Xe,{"bg-yellow-500":e(b)==="sev3","text-black":e(b)==="sev3"}),L(Dt,_e[e(m)].sev3),$e=Q(xe,1,"hover:bg-sky-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,$e,{"bg-sky-500":e(b)==="sev4","text-black":e(b)==="sev4"}),L(Nt,_e[e(m)].sev4),tt=Q(ye,1,"hover:bg-emerald-500 hover:text-black btn btn-sm justify-start gap-3 transition-all",null,tt,{"bg-emerald-500":e(b)==="sev5","text-black":e(b)==="sev5"}),L(Wt,_e[e(m)].sev5),nt=Q(Ce,1,"btn btn-sm hover:bg-warning hover:text-warning-content",null,nt,{"btn-warning":e(c)==="active"}),st=Q(Ee,1,"btn btn-sm hover:btn-error",null,st,{"btn-error":e(c)==="blocked"}),ot=Q(Ie,1,"btn btn-sm hover:btn-info",null,ot,{"btn-info":e(c)==="someday"}),lt=Q(De,1,"btn btn-sm hover:btn-neutral",null,lt,{"btn-info":e(c)==="cancelled"}),ct=Q(it,1,"btn btn-sm hover:btn-success",null,ct,{"btn-success":e(c)==="completed"}),we.disabled=oe,L(Bt,e(o)?"Save":"Create")},[()=>!e(i).trim()]),Qe(z,()=>e(i),oe=>S(i,oe)),yt(n,[],A,()=>{"regular";return e(m)},oe=>S(m,oe)),yt(n,[],R,()=>{"maintenance";return e(m)},oe=>S(m,oe)),P(f,M)};U(h,f=>{e(r)&&f(v)})}return P(a,j),te(w)}$(["click","keydown"]);var zr=B('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),Vr=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-2"></div></div></div>');function Fr(a,t){ee(t,!0);let n=J(!1),r=J(null),o=J(void 0);function i(w,j,h){w.stopPropagation(),S(o,j,!0),S(r,h,!0),S(n,!0)}function c(){S(n,!1),S(r,null)}async function m(w,j){!e(r)||!e(o)||(j?await Ct(e(r).id,w):await Ta(e(r).id,e(o).id,w),c())}function b(w,j){const h=j??Pe();return Me.getWeek(h)?.projectAssignments.some(f=>f.projectId===w)??!1}var p={openWeekPicker:i},k=Z(),y=Y(k);{var _=w=>{var j=Vr(),h=l(j);h.__click=c,h.__keydown=E=>E.key==="Escape"&&c();var v=u(h,2),f=l(v),M=u(l(f),2);M.__click=c,s(f);var W=u(f,2);se(W,21,Aa,ne,(E,I)=>{const O=K(()=>b(e(r).id,e(I).weekOf));var d=zr();d.__click=()=>m(e(I).weekOf,e(O));var g=l(d),x=l(g,!0);s(g);var T=u(g,2),D=l(T,!0);s(T),s(d),G(()=>{Q(d,1,`w-full p-3 text-left rounded-lg border transition-colors ${e(O)?"bg-primary/20 text-primary-content border-primary":"border-base-content/10 hover:border-primary"}`),L(x,e(I).label),L(D,e(I).weekOf)}),P(E,d)}),s(W),s(v),s(j),P(w,j)};U(y,w=>{e(n)&&e(r)&&w(_)})}return P(a,k),te(p)}$(["click","keydown"]);var Ur=B("<button> </button>"),Hr=B('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),Gr=B('<button type="button" class="flex items-center h-16 gap-2 p-3 border-2 border-dashed border-base-content/20 rounded-lg text-base-content/50 cursor-pointer transition-all hover:border-primary hover:text-primary"><span class="text-lg">+</span> <span class="text-sm">Add Project</span></button>'),qr=B('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2 "><button class="gap-2 mx-3 mt-2 mb-1 text-sm text-secondary w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>‚Üê</span> <span>Back</span></button> <div class="flex items-center gap-3 pe-2"><span class="text-4xl"> </span> <h2 class="text-lg "> </h2></div></div> <div class="flex gap-1 mt-4  px-3 pb-2 overflow-x-auto"></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 px-3 py-0"><!> <!></div></div></div> <!> <!>',1);function Kr(a,t){ee(t,!0);let n,r,o=J(He(localStorage.getItem("projectTabView")||"active"));Ye(()=>{e(o)&&localStorage.setItem("projectTabView",e(o))});let i=K(()=>!["completed","cancelled"].includes(e(o))),c=K(()=>e(o)=="active"),m=K(()=>fe.getByArea(t.selectedArea.id).filter(C=>C.status===e(o)));function b(C){return fe.getByArea(t.selectedArea.id).filter(N=>N.status===C).length}async function p(C,N){if(C.stopPropagation(),N===0||!t.selectedArea)return;const A=e(m),R=A[N],V=N>1?A[N-2].index:null,H=A[N-1].index;await xt(t.selectedArea.id,R.index,V,H)}async function k(C,N){if(C.stopPropagation(),!t.selectedArea)return;const A=e(m);if(N===A.length-1)return;const R=A[N],V=A[N+1].index,H=N<A.length-2?A[N+2].index:null;await xt(t.selectedArea.id,R.index,V,H)}var y=qr(),_=Y(y),w=l(_),j=l(w),h=l(j);h.__click=function(...C){t.navigateBack?.apply(this,C)};var v=u(h,2),f=l(v),M=l(f,!0);s(f);var W=u(f,2),E=l(W,!0);s(W),s(v),s(j);var I=u(j,2);se(I,21,()=>Br,ne,(C,N)=>{const A=K(()=>e(o)===e(N).value),R=K(()=>b(e(N).value));var V=Ur();V.__click=()=>S(o,e(N).value,!0);var H=l(V);s(V),G(()=>{Q(V,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${e(A)?"bg-primary/40 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),L(H,`${e(N).label??""} (${e(R)??""})`)}),P(C,V)}),s(I),s(w);var O=u(w,2),d=l(O),g=l(d);se(g,17,()=>e(m),ne,(C,N,A)=>{Wr(C,{handleProjectAssign:(R,V)=>r.openWeekPicker(R,t.selectedArea,V),index:A,get allowReorder(){return e(i)},get navigateToTasks(){return t.navigateToTasks},get project(){return e(N)},get allowWeekAssignment(){return e(c)},get handleEdit(){return n.openEditProjectModal},handleProjectMoveUp:p,handleProjectMoveDown:k})},C=>{var N=Hr(),A=l(N);s(N),G(()=>L(A,`No ${e(o)??""} projects`)),P(C,N)});var x=u(g,2);{var T=C=>{var N=Gr();N.__click=function(...A){n.openCreateProjectModal?.apply(this,A)},P(C,N)};U(x,C=>{e(o)=="active"&&C(T)})}s(d),s(O),s(_);var D=u(_,2);ke(Or(D,{get selectedArea(){return t.selectedArea}}),C=>n=C,()=>n);var z=u(D,2);ke(Fr(z,{}),C=>r=C,()=>r),G(()=>{L(M,t.selectedArea.icon),L(E,t.selectedArea.name)}),P(a,y),te()}$(["click"]);var Jr=B('<button type="button"> </button>'),Yr=B('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),Qr=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Xr(a,t){ee(t,!0);let n=J(!1),r=J(null),o=J(""),i=J("active");function c(){S(r,null),S(o,""),S(i,"active"),S(n,!0)}function m(j,h){j.stopPropagation(),S(r,h,!0),S(o,h.name,!0),S(i,h.status,!0),S(n,!0)}function b(){S(n,!1),S(r,null)}async function p(){!e(o).trim()||!t.selectedProject||!t.selectedArea||(e(r)?await Et(t.selectedProject.id,e(r).index,{name:e(o).trim(),status:e(i)}):await Pa(t.selectedProject.id,t.selectedArea.id,e(o).trim()),b())}var k={openCreateTaskModal:c,openEditTaskModal:m},y=Z(),_=Y(y);{var w=j=>{var h=Qr(),v=l(h);v.__click=b,v.__keydown=A=>A.key==="Escape"&&b();var f=u(v,2),M=l(f),W=l(M),E=l(W,!0);s(W);var I=u(W,2);I.__click=b,s(M);var O=u(M,2),d=l(O),g=u(l(d),2);me(g),g.__keydown=A=>A.key==="Enter"&&p(),s(d);var x=u(d,2);{var T=A=>{var R=Yr(),V=u(l(R),2);se(V,21,()=>Rr,ne,(H,F)=>{var q=Jr();q.__click=()=>S(i,e(F).value,!0);var X=l(q,!0);s(q),G(()=>{Q(q,1,`px-3 py-1.5 text-sm rounded-lg border transition-colors ${e(i)===e(F).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),L(X,e(F).label)}),P(H,q)}),s(V),s(R),P(A,R)};U(x,A=>{e(r)&&A(T)})}s(O);var D=u(O,2),z=u(l(D),2);z.__click=b;var C=u(z,2);C.__click=p;var N=l(C,!0);s(C),s(D),s(f),s(h),G(A=>{L(E,e(r)?"Edit Task":"New Task"),C.disabled=A,L(N,e(r)?"Save":"Create")},[()=>!e(o).trim()]),Qe(g,()=>e(o),A=>S(o,A)),P(j,h)};U(_,j=>{e(n)&&j(w)})}return P(a,y),te(k)}$(["click","keydown"]);var Zr=Ke('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),$r=Ke('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),en=Ke('<svg class="w-3 h-3 text-warning" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),tn=B('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üë</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üì</button>',1),an=B('<div tabindex="0" role="button" class="hover:bg-primary/20 cursor-pointer w-full flex flex-row items-start border-b border-b-base-content/10 p-2"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function rn(a,t){ee(t,!0);const n=K(()=>t.task.status==="completed"),r=K(()=>t.task.status==="cancelled"),o=K(()=>t.task.status==="blocked");var i=an();i.__click=j=>t.handleEdit(j,t.task);var c=l(i);c.__click=j=>t.toggleTaskComplete(j,t.task);var m=l(c);{var b=j=>{var h=Zr();P(j,h)},p=j=>{var h=Z(),v=Y(h);{var f=W=>{var E=$r();P(W,E)},M=W=>{var E=Z(),I=Y(E);{var O=d=>{var g=en();P(d,g)};U(I,d=>{e(o)&&d(O)},!0)}P(W,E)};U(v,W=>{e(r)?W(f):W(M,!1)},!0)}P(j,h)};U(m,j=>{e(n)?j(b):j(p,!1)})}s(c);var k=u(c,2),y=l(k,!0);s(k);var _=u(k,2);{var w=j=>{var h=tn(),v=Y(h);v.__click=M=>t.handleTaskMoveUp(M,t.index);var f=u(v,2);f.__click=M=>t.handleTaskMoveDown(M,t.index),P(j,h)};U(_,j=>{t.reorderEnabled&&j(w)})}s(i),G(()=>{Q(c,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${e(n)?"bg-success border-success text-success-content":e(o)?"border-warning":e(r)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"}`),c.disabled=e(r),L(y,t.task.name)}),P(a,i),te()}$(["click"]);var nn=B('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2 "><button class="gap-2 mx-3 mt-2 mb-0 text-sm text-secondary w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>‚Üê</span> <span>Back</span></button> <div class="flex items-center gap-2"><svg class="size-10 inline shrink-0 text-base-content/40 align-text-bottom -mb-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg> <h2 class="text-base "> </h2></div> <div class="flex gap-1 overflow-x-auto my-2"><button class="text-base-content/50 bg-base-300 hover:bg-primary/50 hover:text-primary-content px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap">+ New</button> <button>Reorder</button></div></div></div> <div class="flex-1 overflow-auto bg-base-200  min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0"></div></div></div> <!>',1);function sn(a,t){ee(t,!0);let n,r=K(()=>he.getByProject(t.selectedProject.id)),o=J(!1),i=()=>S(o,!e(o));async function c(d,g){if(d.stopPropagation(),!t.selectedProject)return;const x=g.status==="completed"?"active":"completed";await Et(t.selectedProject.id,g.index,{status:x})}async function m(d,g){if(d.stopPropagation(),g===0||!t.selectedProject)return;const x=e(r)[g],T=g>1?e(r)[g-2].index:null,D=e(r)[g-1].index;await _t(t.selectedProject.id,x.index,T,D)}async function b(d,g){if(d.stopPropagation(),!t.selectedProject||g===e(r).length-1)return;const x=e(r)[g],T=e(r)[g+1].index,D=g<e(r).length-2?e(r)[g+2].index:null;await _t(t.selectedProject.id,x.index,T,D)}var p=nn(),k=Y(p),y=l(k),_=l(y),w=l(_);w.__click=function(...d){t.navigateBack?.apply(this,d)};var j=u(w,2),h=u(l(j),2),v=l(h,!0);s(h),s(j);var f=u(j,2),M=l(f);M.__click=function(...d){n.openCreateTaskModal?.apply(this,d)};var W=u(M,2);W.__click=i,s(f),s(_),s(y);var E=u(y,2),I=l(E);se(I,21,()=>e(r),ne,(d,g,x)=>{rn(d,{get handleEdit(){return n.openEditTaskModal},handleTaskMoveUp:m,handleTaskMoveDown:b,index:x,get task(){return e(g)},toggleTaskComplete:c,get reorderEnabled(){return e(o)}})}),s(I),s(E),s(k);var O=u(k,2);ke(Xr(O,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),d=>n=d,()=>n),G(()=>{L(v,t.selectedProject.name),Q(W,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${e(o)?"bg-primary/40 text-primary-content":"text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50"}`)}),P(a,p),te()}$(["click"]);var on=B('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),ln=B('<div class="h-screen flex flex-col bg-base-300"><div class="pb-22 h-full"><!></div> <!></div>');function xn(a,t){ee(t,!0);const n=()=>c("areas"),r=()=>c("projects");let o=J(void 0),i=J(void 0);c("areas");function c(h){va("",{activeTab:h})}function m(h){S(o,h,!0),c("projects")}function b(h){S(i,h,!0),c("tasks")}var p=ln(),k=l(p),y=l(k);{var _=h=>{wr(h,{onSelectArea:m})},w=h=>{var v=Z(),f=Y(v);{var M=E=>{Kr(E,{navigateBack:n,navigateToTasks:b,get selectedArea(){return e(o)}})},W=E=>{var I=Z(),O=Y(I);{var d=x=>{sn(x,{navigateBack:r,get selectedArea(){return e(o)},get selectedProject(){return e(i)}})},g=x=>{var T=Z(),D=Y(T);{var z=N=>{tr(N,{})},C=N=>{var A=Z(),R=Y(A);{var V=F=>{dr(F,{})},H=F=>{var q=Z(),X=Y(q);{var re=le=>{var ve=on();P(le,ve)};U(X,le=>{de.state.activeTab==="review"&&le(re)},!0)}P(F,q)};U(R,F=>{de.state.activeTab==="today"?F(V):F(H,!1)},!0)}P(N,A)};U(D,N=>{de.state.activeTab==="week"?N(z):N(C,!1)},!0)}P(x,T)};U(O,x=>{de.state.activeTab=="tasks"?x(d):x(g,!1)},!0)}P(E,I)};U(f,E=>{de.state.activeTab==="projects"?E(M):E(W,!1)},!0)}P(h,v)};U(y,h=>{de.state.activeTab==="areas"?h(_):h(w,!1)})}s(k);var j=u(k,2);za(j,{get activeTab(){return de.state.activeTab},onTabChange:c}),s(p),P(a,p),te()}export{xn as component};
