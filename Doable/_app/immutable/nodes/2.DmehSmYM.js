import{d as te,f as B,a as M,s as R,c as $,b as Qe}from"../chunks/C0mSsNzB.js";import{y as We,E as Lt,K as Re,A as se,ao as zt,F as Vt,g as e,T as Ft,H as Ht,I as Ut,J as ft,L as Oe,B as Pe,aa as Gt,aC as qt,ah as gt,o as fe,aE as ce,z as qe,D as Jt,a8 as xt,a4 as Kt,aA as Xe,aF as Yt,aG as Qt,aH as Xt,aI as Zt,v as Tt,x as Pt,aJ as Le,aw as $t,az as ea,w as ta,aK as Mt,q as Se,aL as aa,aM as ra,aN as sa,aO as na,aP as oa,aQ as la,aR as St,a5 as ia,u as ca,r as Ct,aS as da,aT as va,aU as ua,p as ae,l as re,n as s,m as o,s as b,t as G,k as Z,O as Y,N as C,a6 as J,b as Ie,U as Ce}from"../chunks/BqVyvuT7.js";import{i as U}from"../chunks/Dgz-J3ua.js";import{a as ba}from"../chunks/BRZCxvz4.js";import{p as ue}from"../chunks/BPK0kRKz.js";import{a1 as Me,a2 as fa,a3 as ga,a4 as xa,a5 as It,a6 as Et,a7 as he,a8 as ye,a9 as pa,aa as be,ab as de,ac as we,ad as _a,ae as ma,af as ka,ag as ha,ah as ya,ai as wa,aj as ja,ak as pt,al as Aa,am as Ta,an as Pa,ao as Ma,ap as _t,aq as Dt,ar as Sa,as as mt}from"../chunks/CqUaVhGt.js";import{b as ke}from"../chunks/BYS0SYey.js";function ne(a,t){return t}function Ca(a,t,n){for(var r=[],l=t.length,c,i=t.length,h=0;h<l;h++){let j=t[h];Pt(j,()=>{if(c){if(c.pending.delete(j),c.done.add(j),c.pending.size===0){var k=a.outrogroups;Je(Xe(c.done)),k.delete(c),k.size===0&&(a.outrogroups=null)}}else i-=1},!1)}if(i===0){var f=r.length===0&&n!==null;if(f){var p=n,y=p.parentNode;ea(y),y.append(p),a.items.clear()}Je(t,!f)}else c={pending:new Set(t),done:new Set},(a.outrogroups??=new Set).add(c)}function Je(a,t=!0){for(var n=0;n<a.length;n++)ta(a[n],t)}var kt;function oe(a,t,n,r,l,c=null){var i=a,h=new Map,f=(t&Mt)!==0;if(f){var p=a;i=se?Re(zt(p)):p.appendChild(We())}se&&Vt();var y=null,j=Ft(()=>{var _=n();return Yt(_)?_:_==null?[]:Xe(_)}),k,A=!0;function m(){v.fallback=y,Ia(v,k,i,t,r),y!==null&&(k.length===0?(y.f&ce)===0?Tt(y):(y.f^=ce,_e(y,null,i)):Pt(y,()=>{y=null}))}var x=Lt(()=>{k=e(j);var _=k.length;let T=!1;if(se){var I=Ht(i)===Ut;I!==(_===0)&&(i=ft(),Re(i),Oe(!1),T=!0)}for(var S=new Set,D=fe,O=Jt(),d=0;d<_;d+=1){se&&Pe.nodeType===Gt&&Pe.data===qt&&(i=Pe,T=!0,Oe(!1));var u=k[d],g=r(u,d),w=A?null:h.get(g);w?(w.v&&gt(w.v,u),w.i&&gt(w.i,d),O&&D.skipped_effects.delete(w.e)):(w=Ea(h,A?i:kt??=We(),u,g,d,l,t,n),A||(w.e.f|=ce),h.set(g,w)),S.add(g)}if(_===0&&c&&!y&&(A?y=qe(()=>c(i)):(y=qe(()=>c(kt??=We())),y.f|=ce)),se&&_>0&&Re(ft()),!A)if(O){for(const[P,W]of h)S.has(P)||D.skipped_effects.add(W.e);D.oncommit(m),D.ondiscard(()=>{})}else m();T&&Oe(!0),e(j)}),v={effect:x,items:h,outrogroups:null,fallback:y};A=!1,se&&(i=Pe)}function Ia(a,t,n,r,l){var c=(r&aa)!==0,i=t.length,h=a.items,f=a.effect.first,p,y=null,j,k=[],A=[],m,x,v,_;if(c)for(_=0;_<i;_+=1)m=t[_],x=l(m,_),v=h.get(x).e,(v.f&ce)===0&&(v.nodes?.a?.measure(),(j??=new Set).add(v));for(_=0;_<i;_+=1){if(m=t[_],x=l(m,_),v=h.get(x).e,a.outrogroups!==null)for(const w of a.outrogroups)w.pending.delete(v),w.done.delete(v);if((v.f&ce)!==0)if(v.f^=ce,v===f)_e(v,null,n);else{var T=y?y.next:f;v===a.effect.last&&(a.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),ve(a,y,v),ve(a,v,T),_e(v,T,n),y=v,k=[],A=[],f=y.next;continue}if((v.f&Le)!==0&&(Tt(v),c&&(v.nodes?.a?.unfix(),(j??=new Set).delete(v))),v!==f){if(p!==void 0&&p.has(v)){if(k.length<A.length){var I=A[0],S;y=I.prev;var D=k[0],O=k[k.length-1];for(S=0;S<k.length;S+=1)_e(k[S],I,n);for(S=0;S<A.length;S+=1)p.delete(A[S]);ve(a,D.prev,O.next),ve(a,y,D),ve(a,O,I),f=I,y=O,_-=1,k=[],A=[]}else p.delete(v),_e(v,f,n),ve(a,v.prev,v.next),ve(a,v,y===null?a.effect.first:y.next),ve(a,y,v),y=v;continue}for(k=[],A=[];f!==null&&f!==v;)(p??=new Set).add(f),A.push(f),f=f.next;if(f===null)continue}(v.f&ce)===0&&k.push(v),y=v,f=v.next}if(a.outrogroups!==null){for(const w of a.outrogroups)w.pending.size===0&&(Je(Xe(w.done)),a.outrogroups?.delete(w));a.outrogroups.size===0&&(a.outrogroups=null)}if(f!==null||p!==void 0){var d=[];if(p!==void 0)for(v of p)(v.f&Le)===0&&d.push(v);for(;f!==null;)(f.f&Le)===0&&f!==a.fallback&&d.push(f),f=f.next;var u=d.length;if(u>0){var g=(r&Mt)!==0&&i===0?n:null;if(c){for(_=0;_<u;_+=1)d[_].nodes?.a?.measure();for(_=0;_<u;_+=1)d[_].nodes?.a?.fix()}Ca(a,d,g)}}c&&Se(()=>{if(j!==void 0)for(v of j)v.nodes?.a?.apply()})}function Ea(a,t,n,r,l,c,i,h){var f=(i&Qt)!==0?(i&Xt)===0?Kt(n,!1,!1):xt(n):null,p=(i&Zt)!==0?xt(l):null;return{v:f,i:p,e:qe(()=>(c(t,f??n,p??l,h),()=>{a.delete(r)}))}}function _e(a,t,n){if(a.nodes)for(var r=a.nodes.start,l=a.nodes.end,c=t&&(t.f&ce)===0?t.nodes.start:n;r!==null;){var i=$t(r);if(c.before(r),r===l)return;r=i}}function ve(a,t,n){t===null?a.effect.first=n:t.next=n,n===null?a.effect.last=t:n.prev=t}const ht=[...` 	
\r\f¬†\v\uFEFF`];function Da(a,t,n){var r=a==null?"":""+a;if(t&&(r=r?r+" "+t:t),n){for(var l in n)if(n[l])r=r?r+" "+l:l;else if(r.length)for(var c=l.length,i=0;(i=r.indexOf(l,i))>=0;){var h=i+c;(i===0||ht.includes(r[i-1]))&&(h===r.length||ht.includes(r[h]))?r=(i===0?"":r.substring(0,i))+r.substring(h+1):i=h}}return r===""?null:r}function yt(a,t=!1){var n=t?" !important;":";",r="";for(var l in a){var c=a[l];c!=null&&c!==""&&(r+=" "+l+": "+c+n)}return r}function ze(a){return a[0]!=="-"||a[1]!=="-"?a.toLowerCase():a}function Na(a,t){if(t){var n="",r,l;if(Array.isArray(t)?(r=t[0],l=t[1]):r=t,a){a=String(a).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var c=!1,i=0,h=!1,f=[];r&&f.push(...Object.keys(r).map(ze)),l&&f.push(...Object.keys(l).map(ze));var p=0,y=-1;const x=a.length;for(var j=0;j<x;j++){var k=a[j];if(h?k==="/"&&a[j-1]==="*"&&(h=!1):c?c===k&&(c=!1):k==="/"&&a[j+1]==="*"?h=!0:k==='"'||k==="'"?c=k:k==="("?i++:k===")"&&i--,!h&&c===!1&&i===0){if(k===":"&&y===-1)y=j;else if(k===";"||j===x-1){if(y!==-1){var A=ze(a.substring(p,y).trim());if(!f.includes(A)){k!==";"&&j++;var m=a.substring(p,j).trim();n+=" "+m+";"}}p=j+1,y=-1}}}}return r&&(n+=yt(r)),l&&(n+=yt(l,!0)),n=n.trim(),n===""?null:n}return a==null?null:String(a)}function X(a,t,n,r,l,c){var i=a.__className;if(se||i!==n||i===void 0){var h=Da(n,r,c);(!se||h!==a.getAttribute("class"))&&(h==null?a.removeAttribute("class"):a.className=h),a.__className=n}else if(c&&l!==c)for(var f in c){var p=!!c[f];(l==null||p!==!!l[f])&&a.classList.toggle(f,p)}return c}function Ve(a,t={},n,r){for(var l in n){var c=n[l];t[l]!==c&&(n[l]==null?a.style.removeProperty(l):a.style.setProperty(l,c,r))}}function je(a,t,n,r){var l=a.__style;if(se||l!==t){var c=Na(t,r);(!se||c!==a.getAttribute("style"))&&(c==null?a.removeAttribute("style"):a.style.cssText=c),a.__style=t}else r&&(Array.isArray(r)?(Ve(a,n?.[0],r[0]),Ve(a,n?.[1],r[1],"important")):Ve(a,n,r));return r}const Ba=Symbol("is custom element"),Wa=Symbol("is html");function me(a){if(se){var t=!1,n=()=>{if(!t){if(t=!0,a.hasAttribute("value")){var r=a.value;Ke(a,"value",null),a.value=r}if(a.hasAttribute("checked")){var l=a.checked;Ke(a,"checked",null),a.checked=l}}};a.__on_r=n,Se(n),ra()}}function Ke(a,t,n,r){var l=Ra(a);se&&(l[t]=a.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&a.nodeName==="LINK")||l[t]!==(l[t]=n)&&(t==="loading"&&(a[sa]=n),n==null?a.removeAttribute(t):typeof n!="string"&&Oa(a).includes(t)?a[t]=n:a.setAttribute(t,n))}function Ra(a){return a.__attributes??={[Ba]:a.nodeName.includes("-"),[Wa]:a.namespaceURI===na}}var wt=new Map;function Oa(a){var t=a.getAttribute("is")||a.nodeName,n=wt.get(t);if(n)return n;wt.set(t,n=[]);for(var r,l=a,c=Element.prototype;c!==l;){r=la(l);for(var i in r)r[i].set&&n.push(i);l=oa(l)}return n}function Ze(a,t,n=t){var r=new WeakSet;St(a,"input",async l=>{var c=l?a.defaultValue:a.value;if(c=He(a)?Ue(c):c,n(c),fe!==null&&r.add(fe),await ia(),c!==(c=t())){var i=a.selectionStart,h=a.selectionEnd,f=a.value.length;if(a.value=c??"",h!==null){var p=a.value.length;i===h&&h===f&&p>f?(a.selectionStart=p,a.selectionEnd=p):(a.selectionStart=i,a.selectionEnd=Math.min(h,p))}}}),(se&&a.defaultValue!==a.value||ca(t)==null&&a.value)&&(n(He(a)?Ue(a.value):a.value),fe!==null&&r.add(fe)),Ct(()=>{var l=t();if(a===document.activeElement){var c=da??fe;if(r.has(c))return}He(a)&&l===Ue(a.value)||a.type==="date"&&!l&&!a.value||l!==a.value&&(a.value=l??"")})}const Fe=new Set;function jt(a,t,n,r,l=r){var c=n.getAttribute("type")==="checkbox",i=a;let h=!1;if(t!==null)for(var f of t)i=i[f]??=[];i.push(n),St(n,"change",()=>{var p=n.__value;c&&(p=At(i,p,n.checked)),l(p)},()=>l(c?[]:null)),Ct(()=>{var p=r();if(se&&n.defaultChecked!==n.checked){h=!0;return}c?(p=p||[],n.checked=p.includes(n.__value)):n.checked=va(n.__value,p)}),ua(()=>{var p=i.indexOf(n);p!==-1&&i.splice(p,1)}),Fe.has(i)||(Fe.add(i),Se(()=>{i.sort((p,y)=>p.compareDocumentPosition(y)===4?-1:1),Fe.delete(i)})),Se(()=>{if(h){var p;if(c)p=At(i,p,n.checked);else{var y=i.find(j=>j.checked);p=y?.__value}l(p)}})}function At(a,t,n){for(var r=new Set,l=0;l<a.length;l+=1)a[l].checked&&r.add(a[l].__value);return n||r.delete(t),Array.from(r)}function He(a){var t=a.type;return t==="number"||t==="range"}function Ue(a){return a===""?null:+a}const pe={regular:{sev1:"Core to who I am or want to become",sev2:"Significant progress toward a major goal",sev3:"Meaningful but not defining",sev4:"Nice to do, no real deadline",sev5:"Pure exploration or fun"},maintenance:{sev1:"Immediate risk if ignored (safety, legal, financial)",sev2:"Disrupts daily life if neglected",sev3:"Routine upkeep, flexible timing",sev4:"Minor improvement, no consequences",sev5:"Cosmetic or nice-to-have"}},La=["üíº","üè†","üí™","üìö","üí∞","‚ù§Ô∏è","üéØ","üöÄ","üé®","üéµ","‚úàÔ∏è","üçé","üßò","üë®‚Äçüë©‚Äçüëß‚Äçüë¶","ü§ù","üì±","üíª","üîß","üìù","üéì","üèÉ","üß†","üå±","‚≠ê","üî•","üí°","üéÆ","üì∏","üõí","üè¶","üöó","üèãÔ∏è"];te(["click","keydown"]);var za=B('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),Va=B('<nav class="pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav>');function Fa(a,t){ae(t,!0);const n=[{id:"areas",icon:"üìÅ",label:"Areas"},{id:"week",icon:"üìÖ",label:"Week"},{id:"today",icon:"‚òÄÔ∏è",label:"Today"}];var r=Va();oe(r,21,()=>n,ne,(l,c)=>{var i=za();let h;i.__click=()=>t.onTabChange(e(c).id);let f;var p=o(i),y=o(p,!0);s(p);var j=b(p,2),k=o(j,!0);s(j),s(i),G(()=>{h=X(i,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,h,{"text-primary":t.activeTab===e(c).id,"text-base-content":t.activeTab!==e(c).id}),f=je(i,"",f,{opacity:t.activeTab===e(c).id?1:.4}),R(y,e(c).icon),R(k,e(c).label)}),M(l,i)}),s(r),M(a,r),re()}te(["click"]);var Ha=B('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),Ua=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function Ga(a,t){ae(t,!0);let n=Y(!1),r=Y(null);function l(k,A,m,x){k.stopPropagation(),C(r,{task:A,project:m,area:x},!0),C(n,!0)}function c(){C(n,!1),C(r,null)}function i(){return ga(t.currentWeekOf).map(k=>({date:k,dayName:It(k),isToday:xa(k)}))}async function h(k){if(!e(r))return;const{task:A,project:m,area:x}=e(r);c();const v=t.isTaskAssignedToDay(A.id);v===k?await Me(A.id,m.id,t.currentWeekOf,k):(v&&await Me(A.id,m.id,t.currentWeekOf,v),await fa(A.id,m.id,x.id,A.name,t.currentWeekOf,k,!1))}var f={openDayPicker:l},p=$(),y=Z(p);{var j=k=>{var A=Ua(),m=o(A);m.__click=c,m.__keydown=u=>u.key==="Escape"&&c();var x=b(m,2),v=o(x),_=o(v),T=b(o(_),2),I=o(T,!0);s(T),s(_);var S=b(_,2);S.__click=c,s(v);var D=b(v,2);oe(D,21,i,ne,(u,g)=>{const w=J(()=>t.isTaskAssignedToDay(e(r).task.id)===e(g).date);var P=Ha();P.__click=()=>h(e(g).date);var W=o(P),V=o(W,!0);s(W);var q=b(W,2),E=o(q,!0);s(q),s(P),G(L=>{X(P,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${e(w)?"bg-primary text-primary-content border-primary":e(g).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),R(V,e(g).dayName),R(E,L)},[()=>e(g).date.split("-")[2]]),M(u,P)}),s(D);var O=b(D,2),d=o(O);d.__click=()=>{const u=t.isTaskAssignedToDay(e(r).task.id);u&&Me(e(r).task.id,e(r).project.id,t.currentWeekOf,u),c()},s(O),s(x),s(A),G(()=>R(I,e(r).task.name)),M(k,A)};U(y,k=>{e(n)&&e(r)&&k(j)})}return M(a,p),re(f)}te(["click","keydown"]);var qa=B('<span class="text-center text-xs font-semibold bg-purple-500/20 text-purple-400 rounded w-full h-full  items-center justify-center flex">1</span>'),Ja=B('<span class="text-center text-xs font-semibold bg-red-500/20 text-red-400 rounded w-full h-full items-center justify-center flex">2</span>'),Ka=B('<span class="text-center text-xs font-semibold bg-yellow-500/20 text-yellow-400 rounded w-full h-full items-center justify-center flex">3</span>'),Ya=B('<span class="text-center text-xs font-semibold bg-blue-500/20 text-blue-500 rounded w-full h-full items-center justify-center flex">4</span>'),Qa=B('<span class="text-center text-xs font-semibold bg-emerald-500/20 text-emerald-300 rounded w-full h-full items-center justify-center flex">5</span>');function Ye(a,t){var n=$(),r=Z(n);{var l=i=>{var h=qa();M(i,h)},c=i=>{var h=$(),f=Z(h);{var p=j=>{var k=Ja();M(j,k)},y=j=>{var k=$(),A=Z(k);{var m=v=>{var _=Ka();M(v,_)},x=v=>{var _=$(),T=Z(_);{var I=D=>{var O=Ya();M(D,O)},S=D=>{var O=Qa();M(D,O)};U(T,D=>{t.level=="sev4"?D(I):D(S,!1)},!0)}M(v,_)};U(A,v=>{t.level=="sev3"?v(m):v(x,!1)},!0)}M(j,k)};U(f,j=>{t.level=="sev2"?j(p):j(y,!1)},!0)}M(i,h)};U(r,i=>{t.level=="sev1"?i(l):i(c,!1)})}M(a,n)}var Xa=B('<div class="h-1 bg-base-300"><div class="h-full bg-base-content/20 transition-all"></div></div>'),Za=B('<div class="bg-base-100 rounded-lg overflow-hidden" tabindex="0" role="button"><!> <div class="flex items-start gap-2 p-2"><div class="size-8 mt-0.5"><!></div> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content mb-1"> </p> <p class="text-sm "><span> </span> <span class="text-xs mx-0.5">‚Ä¢</span> <span class="text-base-content/50"> </span></p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">‚úï</button></div></div>'),$a=B('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),er=B('<div class="flex flex-col gap-2"><div class="flex justify-between items-center"><div class="text-xs tracking-wider text-base-content/50 uppercase">Assigned projects</div> <button> </button></div> <!></div>');function tr(a,t){ae(t,!0);let n=Y(localStorage.getItem("filterAssignedProject")=="true"),r=()=>C(n,!e(n));Ie(()=>{localStorage.setItem("filterAssignedProject",e(n)+"")});async function l(j,k){j.stopPropagation(),await Et(k,t.currentWeekOf)}function c(j){const k=he.getByProject(j),A=k.filter(x=>x.status==="active").length,m=k.filter(x=>x.status==="completed").length;return{active:A,completed:m,total:A+m}}var i=er(),h=o(i),f=b(o(h),2);f.__click=r;var p=o(f);s(f),s(h);var y=b(h,2);oe(y,17,()=>t.assignedProjects,ne,(j,k)=>{let A=()=>e(k).project,m=()=>e(k).area;const x=J(()=>c(A().id)),v=J(()=>e(x).total>0?e(x).completed/e(x).total*100:0);var _=$(),T=Z(_);{var I=S=>{var D=Za();D.__click=()=>t.navigateToTasks(A());var O=o(D);{var d=N=>{var F=Xa(),Q=o(F);s(F),G(()=>je(Q,`width: ${e(v)??""}%`)),M(N,F)};U(O,N=>{e(x).total>0&&N(d)})}var u=b(O,2),g=o(u),w=o(g);Ye(w,{get level(){return A().severity}}),s(g);var P=b(g,2),W=o(P),V=o(W,!0);s(W);var q=b(W,2),E=o(q),L=o(E);s(E);var H=b(E,4),K=o(H,!0);s(H),s(q),s(P);var z=b(P,2);z.__click=N=>l(N,A().id),s(u),s(D),G(()=>{R(V,A().name),X(E,1,`text-base-content/50 ${e(x).total==0?"text-error":""}`),R(L,`${e(x).active??""} available`),R(K,m().name)}),M(S,D)};U(T,S=>{(!["completed","cancelled"].includes(A().status)&&e(n)||!e(n))&&S(I)})}M(j,_)},j=>{var k=$a();M(j,k)}),s(i),G(()=>{X(f,1,`w-20 btn btn-xs btn-soft btn-secondary ${e(n)?"bg-secondary text-secondary-content":""}`),R(p,`Filter :${e(n)?"ON":"OFF"}`)}),M(a,i),re()}te(["click"]);var ar=B('<span class="text-xs text-primary-content px-2 py-1 bg-primary rounded"> </span>'),rr=B('<button class="text-start flex items-center gap-3 p-3 bg-base-100 border border-base-content/10 rounded-lg transition-all hover:border-primary"><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-base-content/50"> </p></div> <!></button>'),sr=B('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),nr=B('<div class="flex flex-col gap-2"></div>');function or(a,t){ae(t,!0);var n=nr();oe(n,21,()=>t.weekTasks,ne,(r,l)=>{let c=()=>e(l).task,i=()=>e(l).project,h=()=>e(l).area;const f=J(()=>t.isTaskAssignedToDay(c().id));var p=rr();p.__click=_=>t.openDayPicker(_,c(),i(),h());var y=o(p),j=o(y),k=o(j,!0);s(j);var A=b(j,2),m=o(A);s(A),s(y);var x=b(y,2);{var v=_=>{var T=ar(),I=o(T,!0);s(T),G(S=>R(I,S),[()=>It(e(f))]),M(_,T)};U(x,_=>{e(f)&&_(v)})}s(p),G(()=>{R(k,c().name),R(m,`${h().icon??""} ${i().name??""}`)}),M(r,p)},r=>{var l=sr();M(r,l)}),s(n),M(a,n),re()}te(["click"]);var lr=B('<div class="flex flex-col h-full"><div class="bg-base-100 border-b border-b-base-content/10"><div class="px-4 pt-4 pb-2 "><h2 class="text-lg font-medium">Week</h2> <p class="text-xs text-base-content/50"> </p></div> <div class="flex gap-1 px-4 pb-3"><button> </button> <button> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-4"><!></div></div> <!>',1);function ir(a,t){ae(t,!0);let n=Y(Ce(localStorage.getItem("weekTabView")||"projects"));Ie(()=>{e(n)&&localStorage.setItem("weekTabView",e(n))});let r=Ce(ye());const l=J(()=>we.getWeek(r));let c;function i(g){return e(l)?e(l).tasksByDay.find(P=>P.taskId===g)?.date??null:null}let h=J(()=>e(l)?e(l).projectAssignments.map(g=>{const w=be.getById(g.areaId);if(!w)return null;const W=de.getByArea(w.id).find(V=>V.id===g.projectId);return W?{assignment:g,project:W,area:w}:null}).filter(g=>g!==null):[]),f=J(()=>{const g=[];for(const{project:w,area:P}of e(h)){const W=he.getByProject(w.id).filter(V=>V.status==="active");for(const V of W)g.push({task:V,project:w,area:P})}return g});var p=lr(),y=Z(p),j=o(y),k=o(j),A=b(o(k),2),m=o(A,!0);s(A),s(k);var x=b(k,2),v=o(x);v.__click=()=>C(n,"projects");var _=o(v);s(v);var T=b(v,2);T.__click=()=>C(n,"tasks");var I=o(T);s(T),s(x),s(j);var S=b(j,2),D=o(S);{var O=g=>{tr(g,{get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return r},get assignedProjects(){return e(h)}})},d=g=>{or(g,{get openDayPicker(){return c.openDayPicker},get weekTasks(){return e(f)},isTaskAssignedToDay:i})};U(D,g=>{e(n)==="projects"?g(O):g(d,!1)})}s(S),s(y);var u=b(y,2);ke(Ga(u,{get currentWeekOf(){return r},isTaskAssignedToDay:i}),g=>c=g,()=>c),G(g=>{R(m,g),X(v,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${e(n)==="projects"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),R(_,`Projects (${e(h).length??""})`),X(T,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${e(n)==="tasks"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),R(I,`Tasks (${e(f).length??""})`)},[()=>pa(r)]),M(a,p),re()}te(["click"]);var cr=B('<div class="px-4 pb-3"><div class="flex items-center justify-between text-xs text-base-content/50 mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success transition-all rounded-full"></div></div></div>'),dr=B('<div class="flex items-center gap-3 p-3 bg-base-100 border border-base-content/10 rounded-lg"><button type="button" aria-label="check" class="w-7 h-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content mb-2"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from today">‚úï</button></div>'),vr=B('<div class="flex flex-col gap-2 mb-4"></div>'),ur=B('<div class="text-center py-12"><span class="text-4xl block mb-3">üìã</span> <p class="text-base-content/50 text-sm mb-2">No tasks for today</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),br=B('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">üéâ</span> <p class="text-sm font-medium text-success">All done for today!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),fr=B('<div class="flex items-center gap-3 p-3 opacity-50"><button type="button" class="w-7 h-7 rounded-full bg-success border-2 border-success flex items-center justify-center flex-shrink-0 text-success-content" title="Mark as incomplete"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),gr=B('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),xr=B('<div class="flex flex-col h-full"><div class="px-4 pt-4 pb-2"><h2 class="text-lg font-medium">Today</h2> <p class="text-xs text-base-content/50"> </p></div> <!> <div class="flex-1 overflow-y-auto px-3 pb-4"><!> <!></div></div>');function pr(a,t){ae(t,!0);const n=_a(),r=ye();let l=J(()=>{const d=we.getWeek(r);return d?d.tasksByDay.filter(u=>u.date===n).map(u=>{const g=he.getById(u.taskId),w=be.getById(u.areaId),W=(w?de.getByArea(w.id):[]).find(V=>V.id===u.projectId);return{taskByDay:u,task:g,areaIcon:w?.icon??"üìÅ",areaName:w?.name??"Unknown",projectName:W?.name??"Unknown"}}):[]}),c=J(()=>e(l).filter(d=>d.taskByDay.status!=="completed")),i=J(()=>e(l).filter(d=>d.taskByDay.status==="completed"));function h(){const d=e(l),u=d.filter(P=>P.taskByDay.status==="completed").length,g=d.length,w=g>0?u/g*100:0;return{completed:u,total:g,percent:w}}async function f(d){await ka(d.taskId,d.projectId,r,n)}async function p(d){await ha(d.taskId,d.projectId,r,n)}async function y(d){await Me(d.taskId,d.projectId,r,n)}var j=xr(),k=o(j),A=b(o(k),2),m=o(A);s(A),s(k);var x=b(k,2);{var v=d=>{const u=J(h);var g=cr(),w=o(g),P=o(w),W=o(P);s(P);var V=b(P,2),q=o(V);s(V),s(w);var E=b(w,2),L=o(E);s(E),s(g),G(H=>{R(W,`${e(u).completed??""} of ${e(u).total??""} completed`),R(q,`${H??""}%`),je(L,`width: ${e(u).percent??""}%`)},[()=>Math.round(e(u).percent)]),M(d,g)};U(x,d=>{h().total>0&&d(v)})}var _=b(x,2),T=o(_);{var I=d=>{var u=vr();oe(u,21,()=>e(c),ne,(g,w)=>{let P=()=>e(w).taskByDay,W=()=>e(w).areaIcon,V=()=>e(w).projectName;var q=dr(),E=o(q);E.__click=()=>f(P());var L=b(E,2),H=o(L),K=o(H,!0);s(H);var z=b(H,2),N=o(z);s(z),s(L);var F=b(L,2);F.__click=()=>y(P()),s(q),G(()=>{R(K,P().name),R(N,`${W()??""}  ${V()??""}`)}),M(g,q)}),s(u),M(d,u)},S=d=>{var u=$(),g=Z(u);{var w=W=>{var V=ur();M(W,V)},P=W=>{var V=br();M(W,V)};U(g,W=>{h().total===0?W(w):W(P,!1)},!0)}M(d,u)};U(T,d=>{e(c).length>0?d(I):d(S,!1)})}var D=b(T,2);{var O=d=>{var u=gr(),g=o(u),w=o(g);s(g);var P=b(g,2);oe(P,21,()=>e(i),ne,(W,V)=>{let q=()=>e(V).taskByDay,E=()=>e(V).areaIcon,L=()=>e(V).areaName,H=()=>e(V).projectName;var K=fr(),z=o(K);z.__click=()=>p(q());var N=b(z,2),F=o(N),Q=o(F,!0);s(F);var ee=b(F,2),ie=o(ee);s(ee),s(N),s(K),G(()=>{R(Q,q().name),R(ie,`${E()??""} ${L()??""} ¬∑ ${H()??""}`)}),M(W,K)}),s(P),s(u),G(()=>R(w,`Completed (${e(i).length??""})`)),M(d,u)};U(D,d=>{e(i).length>0&&d(O)})}s(_),s(j),G(d=>R(m,`${d??""}, ${n??""}`),[()=>ma(n)]),M(a,j),re()}te(["click"]);const Ge=["none","reorder","edit","status"],_r=[{value:"active",label:"Active",color:"border-s-primary"},{value:"blocked",label:"Blocked",color:"border-s-warning"},{value:"someday",label:"Someday",color:"border-s-info"},{value:"completed",label:"Completed",color:"border-s-success"},{value:"cancelled",label:"Cancelled",color:"border-s-error"}],mr=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var kr=B('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function hr(a,t){var n=kr();n.__click=function(...r){t.handleClick?.apply(this,r)},M(a,n)}te(["click"]);var yr=B('<button type="button"> </button>'),wr=B('<button type="button" class="btn btn-outline btn-error btn-sm">Archive</button>'),jr=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="grid grid-cols-8 gap-1"></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Ar(a,t){ae(t,!0);let n=Y(!1),r=Y(null),l=Y(""),c=Y("üéØ");function i(){C(r,null),C(l,""),C(c,"üéØ"),C(n,!0)}function h(v,_){v.stopPropagation(),C(r,_,!0),C(l,_.name,!0),C(c,_.icon,!0),C(n,!0)}function f(){C(n,!1),C(r,null)}async function p(){!e(l).trim()||!e(c)||(e(r)?await ya(e(r).index,{name:e(l).trim(),icon:e(c)}):await wa(e(l).trim(),e(c)),f())}function y(v){return de.getByArea(v.id).filter(T=>T.status==="active").length===0}async function j(){!e(r)||!y(e(r))||(await ja(e(r).index),f())}var k={openCreateAreaModal:i,openEditAreaModal:h},A=$(),m=Z(A);{var x=v=>{var _=jr(),T=o(_);T.__click=f,T.__keydown=z=>z.key==="Escape"&&f();var I=b(T,2),S=o(I),D=o(S),O=o(D,!0);s(D);var d=b(D,2);d.__click=f,s(S);var u=b(S,2),g=o(u),w=b(o(g),2);oe(w,21,()=>La,ne,(z,N)=>{var F=yr();F.__click=()=>C(c,e(N),!0);var Q=o(F,!0);s(F),G(()=>{X(F,1,`aspect-square flex items-center justify-center text-lg rounded-lg transition-colors ${e(c)===e(N)?"bg-primary text-primary-content":"hover:bg-base-200"}`),R(Q,e(N))}),M(z,F)}),s(w),s(g);var P=b(g,2),W=b(o(P),2);me(W),W.__keydown=z=>z.key==="Enter"&&p(),s(P),s(u);var V=b(u,2),q=o(V);{var E=z=>{var N=wr();N.__click=j,G((F,Q)=>{N.disabled=F,Ke(N,"title",Q)},[()=>!y(e(r)),()=>y(e(r))?"Archive area":"Cannot archive: has active projects"]),M(z,N)};U(q,z=>{e(r)&&z(E)})}var L=b(q,4);L.__click=f;var H=b(L,2);H.__click=p;var K=o(H,!0);s(H),s(V),s(I),s(_),G(z=>{R(O,e(r)?"Edit Area":"New Area"),H.disabled=z,R(K,e(r)?"Save":"Create")},[()=>!e(l).trim()||!e(c)]),Ze(W,()=>e(l),z=>C(l,z)),M(v,_)};U(m,v=>{e(n)&&v(x)})}return M(a,A),re(k)}te(["click","keydown"]);var Tr=B('<button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-6" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button>'),Pr=B('<div class="flex flex-row gap-1"><button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üê</button> <button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üí</button></div>'),Mr=B("<div> </div>"),Sr=B('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-3"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm font-medium mb-0 pb-1 truncate"> </div> <p class="text-xs text-base-content/50"> </p></div></div></div></div>');function Cr(a,t){ae(t,!0);const n=J(()=>de.getByArea(t.area.id).filter(T=>T.status==="active").length),r=J(()=>{const T=ye(),I=we.getWeek(T),S=de.getByArea(t.area.id);if(S.filter(P=>P.status==="active"||P.status==="blocked"||P.status==="someday").length===0)return{level:"clear",color:"badge-success",icon:"‚úì"};const O=I?.projectAssignments.some(P=>S.some(W=>W.id===P.projectId))??!1,d=new Date(T),u=S.some(P=>P.status==="completed"&&P.completedAt&&new Date(P.completedAt)>=d);if(O||u)return{level:"active",color:"badge-info",icon:"‚óè"};const g=S.filter(P=>P.status==="completed"&&P.completedAt),w=g.length>0?Math.max(...g.map(P=>new Date(P.completedAt).getTime())):null;if(w){const P=Date.now()-12096e5;if(w>=P)return{level:"cooling",color:"badge-warning",icon:"‚óã"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var l=Sr();l.__click=()=>t.handleSelect(t.area);var c=o(l),i=o(c),h=o(i),f=o(h,!0);s(h);var p=b(h,2);{var y=T=>{var I=Tr();I.__click=S=>t.handleEdit(S,t.area),M(T,I)},j=T=>{var I=$(),S=Z(I);{var D=d=>{var u=Pr(),g=o(u);g.__click=P=>t.handleAreaMoveUp(P,t.index);var w=b(g,2);w.__click=P=>t.handleAreaMoveDown(P,t.index),s(u),G(()=>g.disabled=t.index==0),M(d,u)},O=d=>{var u=$(),g=Z(u);{var w=P=>{var W=Mr(),V=o(W,!0);s(W),G(()=>{X(W,1,`badge badge-sm rounded ${e(r).color??""} badge-soft`),R(V,e(r).level)}),M(P,W)};U(g,P=>{t.viewMode=="status"&&P(w)},!0)}M(d,u)};U(S,d=>{t.viewMode=="reorder"?d(D):d(O,!1)},!0)}M(T,I)};U(p,T=>{t.viewMode=="edit"?T(y):T(j,!1)})}s(i);var k=b(i,2),A=o(k),m=o(A),x=o(m,!0);s(m);var v=b(m,2),_=o(v);s(v),s(A),s(k),s(c),s(l),G(()=>{X(l,1,`rounded-lg bg-base-100 hover:bg-primary/20 transition-colors cursor-pointer w-full ${e(r).level==="avoiding"?"border border-error/20":e(r).level==="cooling"?"border border-warning/20":e(r).level==="active"?"border border-info/20":""}`),je(l,e(r).level==="avoiding"?"box-shadow: inset 0 0 30px rgba(248, 114, 114, 0.1);":e(r).level==="cooling"?"box-shadow: inset 0 0 30px rgba(251, 189, 35, 0.1);":e(r).level==="active"?"box-shadow: inset 0 0 30px rgba(58, 191, 248, 0.1);":""),R(f,t.area.icon),R(x,t.area.name),R(_,`${e(n)??""} project${e(n)!==1?"s":""}`)}),M(a,l),re()}te(["click"]);var Ir=B('<button class="link text-base-content/50 text-sm capitalize"> </button>'),Er=B('<div class="flex flex-col h-full"><div class="px-3 pt-5 pb-4 flex flex-row justify-between items-center bg-base-100 border-b border-base-content/10"><a href="/" class="flex flex-row items-center text-base-content/80"><svg version="1.1" id="Icons" class="size-12 mt-1 me-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><style type="text/css">.st0{fill:none;stroke:currentColor;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}</style><path class="st0" d="M11,13H5c-1.1,0-2-0.9-2-2V5c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,12.1,12.1,13,11,13z"></path><path class="st0" d="M11,29H5c-1.1,0-2-0.9-2-2v-6c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,28.1,12.1,29,11,29z"></path><line class="st0" x1="17" y1="5" x2="29" y2="5"></line><line class="st0" x1="17" y1="9" x2="24" y2="9"></line><line class="st0" x1="17" y1="21" x2="29" y2="21"></line><line class="st0" x1="17" y1="25" x2="24" y2="25"></line><polyline class="st0" points="6,7 8,9 11,6 "></polyline></g></svg> <div class="flex flex-col"><div class="text-xl text-base-content/80 tracking-wider font-medium">Doable</div> <div class="text-sm text-base-content/50">Life areas at a glance</div></div></a> <div class="flex flex-row gap-4"><!> <button class="link text-base-content/50 text-sm"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function Dr(a,t){ae(t,!0);let n,r=Y(Ce(localStorage.getItem("areasViewMode")||"none"));Ie(()=>localStorage.setItem("areasViewMode",e(r)));let l=Y(!1),c=()=>C(r,Ge[(Ge.indexOf(e(r))+1)%Ge.length],!0),i=()=>C(l,!e(l));const h=J(()=>e(l)?be.archived:be.areas);async function f(d,u){d.stopPropagation();const g=be.areas;if(u===0)return;const w=g[u],P=u>1?g[u-2].index:null,W=g[u-1].index;await pt(w.index,P,W)}async function p(d,u){d.stopPropagation();const g=be.areas;if(u===g.length-1)return;const w=g[u],P=g[u+1].index,W=u<g.length-2?g[u+2].index:null;await pt(w.index,P,W)}var y=Er(),j=o(y),k=b(o(j),2),A=o(k);{var m=d=>{var u=Ir();u.__click=c;var g=o(u,!0);s(u),G(()=>R(g,e(r))),M(d,u)};U(A,d=>{e(l)||d(m)})}var x=b(A,2);x.__click=i;var v=o(x,!0);s(x),s(k),s(j);var _=b(j,2),T=o(_),I=o(T);oe(I,17,()=>e(h),ne,(d,u,g)=>{Cr(d,{get area(){return e(u)},get handleSelect(){return t.onSelectArea},index:g,handleAreaMoveUp:f,handleAreaMoveDown:p,get viewMode(){return e(r)},get handleEdit(){return n.openEditAreaModal}})});var S=b(I,2);{var D=d=>{hr(d,{get handleClick(){return n.openCreateAreaModal}})};U(S,d=>{e(l)||d(D)})}s(T),s(_);var O=b(_,2);ke(Ar(O,{}),d=>n=d,()=>n),s(y),G(()=>R(v,e(l)?"Active":"Archived")),M(a,y),re()}te(["click"]);var Nr=B('<button aria-label="edit"> </button>'),Br=B('<div tabindex="0" role="button" class="flex flex-row gap-2 items-start text-left"><p class="px-2 flex flex-row gap-2 text-sm mb-1.5 w-full text-base-content"><span class="w-8 h-8 flex mt-0.5"><!></span> <span class="flex-1"> </span> <!></p></div>'),Wr=B('<div class="h-full bg-primary/80 transition-all"></div>'),Rr=B('<span class="text-xs mx-0.5">‚Ä¢</span> ',1),Or=B('<button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üë</button> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üì</button>',1),Lr=B('<button aria-label="edit"> </button>'),zr=B('<div class="w-full transition-colors bg-base-100 cursor-pointer hover:bg-primary/20" role="button" tabindex="0"><div class="flex-1 min-w-0 p-2 pt-4"><div class="flex flex-row items-start gap-2 "><div class="shrink-0 size-8"><!></div> <p class="text-sm mb-1.5 text-base-content"> </p></div> <div class="mb-2 mt-3 w-full items-center flex h-1 bg-neutral"><!></div> <div class="flex flex-row justify-between items-center ms-2"><p class="text-xs font-semibold text-base-content/50 "> <!></p> <div class="flex flex-row gap-2 items-center mt-1"><!> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-5" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button> <!></div></div></div></div>'),Vr=B("<div><!></div>");function Fr(a,t){ae(t,!0);const n=J(()=>he.getByProject(t.project.id)),r=J(()=>e(n).filter(m=>m.status==="active").length),l=J(()=>e(n).filter(m=>m.status==="completed").length),c=J(()=>e(n).filter(m=>m.status==="active"||m.status==="completed").length),i=J(()=>e(c)>0?e(l)/e(c)*100:0);function h(m){for(const[x,v]of Object.entries(we.weeksByWeekOf))if(v.projectAssignments.some(_=>_.projectId===m))return x;return null}function f(m){const x=ye();if(m===x)return"This week";const v=new Date(x),_=new Date(m),T=Math.round((_.getTime()-v.getTime())/(1e3*60*60*24)),I=Math.round(T/7);return I===1?"Next week":I>1?`In ${I} weeks`:I===-1?"Last week":m.slice(5)}const p=J(()=>h(t.project.id));var y=Vr(),j=o(y);{var k=m=>{var x=Br();x.__click=()=>t.onclick(t.project);var v=o(x),_=o(v),T=o(_);Ye(T,{get level(){return t.project.severity}}),s(_);var I=b(_,2),S=o(I,!0);s(I);var D=b(I,2);{var O=d=>{var u=Nr();u.__click=w=>t.handleProjectAssign(w,t.project);var g=o(u,!0);s(u),G(w=>{X(u,1,`badge badge-lg badge-soft ${e(p)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer justify-center rounded-lg items-center flex`),R(g,w)},[()=>f(e(p))]),M(d,u)};U(D,d=>{e(p)&&d(O)})}s(v),s(x),G(()=>R(S,t.project.name)),M(m,x)},A=m=>{var x=zr();x.__click=()=>t.navigateToTasks(t.project),x.__keydown=N=>N.key==="Enter"&&t.navigateToTasks(t.project);var v=o(x),_=o(v),T=o(_),I=o(T);Ye(I,{get level(){return t.project.severity}}),s(T);var S=b(T,2),D=o(S,!0);s(S),s(_);var O=b(_,2),d=o(O);{var u=N=>{var F=Wr();G(()=>je(F,`width: ${e(i)??""}%`)),M(N,F)};U(d,N=>{e(c)>0&&N(u)})}s(O);var g=b(O,2),w=o(g),P=o(w),W=b(P);{var V=N=>{var F=Rr(),Q=b(Z(F));G(()=>R(Q,` ${e(l)??""} done`)),M(N,F)};U(W,N=>{e(l)>0&&N(V)})}s(w);var q=b(w,2),E=o(q);{var L=N=>{var F=Or(),Q=Z(F);Q.__click=ie=>t.handleProjectMoveUp(ie,t.index);var ee=b(Q,2);ee.__click=ie=>t.handleProjectMoveDown(ie,t.index),M(N,F)};U(E,N=>{t.allowReorder&&N(L)})}var H=b(E,2);H.__click=N=>t.handleEdit(N,t.project);var K=b(H,2);{var z=N=>{var F=Lr();F.__click=ee=>t.handleProjectAssign(ee,t.project);var Q=o(F,!0);s(F),G(ee=>{X(F,1,`badge badge-lg badge-soft ${e(p)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer flex justify-center rounded-lg items-center`),R(Q,ee)},[()=>e(p)?f(e(p)):"Unassigned"]),M(N,F)};U(K,N=>{t.allowWeekAssignment&&N(z)})}s(q),s(g),s(v),s(x),G(()=>{R(D,t.project.name),R(P,`${e(r)??""} active `)}),M(m,x)};U(j,m=>{t.isSelected?m(A,!1):m(k)})}s(y),M(a,y),re()}te(["click","keydown"]);var Hr=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[650px] max-h-full bg-base-100 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-200 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">4</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">5</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="grid grid-cols-3 gap-1"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Someday</button> <button type="button">Cancelled</button> <button type="button">Done</button></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function Ur(a,t){ae(t,!0);const n=[];let r=Y(!1),l=Y(null),c=Y(""),i=Y("active"),h=Y("regular"),f=Y("sev3");function p(){console.log("Creating.."),C(l,null),C(c,""),C(i,"active"),C(h,"regular"),C(f,"sev3"),C(r,!0)}function y(_,T){_.stopPropagation(),C(l,T,!0),C(c,T.name,!0),C(i,T.status,!0),C(h,T.type||"regular",!0),C(f,T.severity||"sev1",!0),C(r,!0)}function j(){C(r,!1),C(l,null)}async function k(){!e(c).trim()||!t.selectedArea||(e(l)?await Aa(t.selectedArea.id,e(l).index,{name:e(c).trim(),status:e(i),type:e(h),severity:e(f)}):await Ta(t.selectedArea.id,e(c).trim(),e(h),e(f)),j())}var A={openCreateProjectModal:p,openEditProjectModal:y},m=$(),x=Z(m);{var v=_=>{var T=Hr(),I=o(T);I.__click=j,I.__keydown=le=>le.key==="Escape"&&j();var S=b(I,2),D=o(S),O=o(D),d=o(O),u=o(d,!0);s(d);var g=b(d,2);g.__click=j,s(O);var w=b(O,2),P=o(w),W=b(o(P),2);me(W),W.__keydown=le=>le.key==="Enter"&&k(),s(P);var V=b(P,2),q=b(o(V),2),E=o(q);me(E),E.value=E.__value="regular";var L=b(E,2);me(L),L.value=L.__value="maintenance",s(q),s(V);var H=b(V,4),K=o(H);let z;K.__click=()=>C(f,"sev1");var N=b(o(K),2),F=o(N,!0);s(N),s(K);var Q=b(K,2);let ee;Q.__click=()=>C(f,"sev2");var ie=b(o(Q),2),Nt=o(ie,!0);s(ie),s(Q);var ge=b(Q,2);let $e;ge.__click=()=>C(f,"sev3");var et=b(o(ge),2),Bt=o(et,!0);s(et),s(ge);var xe=b(ge,2);let tt;xe.__click=()=>C(f,"sev4");var at=b(o(xe),2),Wt=o(at,!0);s(at),s(xe);var Ae=b(xe,2);let rt;Ae.__click=()=>C(f,"sev5");var st=b(o(Ae),2),Rt=o(st,!0);s(st),s(Ae),s(H);var nt=b(H,4),Ee=o(nt);let ot;Ee.__click=()=>C(i,"active");var De=b(Ee,2);let lt;De.__click=()=>C(i,"blocked");var Ne=b(De,2);let it;Ne.__click=()=>C(i,"someday");var Be=b(Ne,2);let ct;Be.__click=()=>C(i,"cancelled");var dt=b(Be,2);let vt;dt.__click=()=>C(i,"completed"),s(nt),s(w);var ut=b(w,2),bt=b(o(ut),2);bt.__click=j;var Te=b(bt,2);Te.__click=k;var Ot=o(Te,!0);s(Te),s(ut),s(D),s(S),s(T),G(le=>{R(u,e(l)?"Edit Project":"New Project"),z=X(K,1,"hover:bg-purple-600 btn btn-sm justify-start gap-2 transition-all",null,z,{"bg-purple-600":e(f)==="sev1","text-white":e(f)==="sev1"}),R(F,pe[e(h)].sev1),ee=X(Q,1,"hover:bg-red-500 btn btn-sm justify-start gap-2 transition-all",null,ee,{"bg-red-500":e(f)==="sev2","text-white":e(f)==="sev2"}),R(Nt,pe[e(h)].sev2),$e=X(ge,1,"hover:bg-yellow-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,$e,{"bg-yellow-500":e(f)==="sev3","text-black":e(f)==="sev3"}),R(Bt,pe[e(h)].sev3),tt=X(xe,1,"hover:bg-sky-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,tt,{"bg-sky-500":e(f)==="sev4","text-black":e(f)==="sev4"}),R(Wt,pe[e(h)].sev4),rt=X(Ae,1,"hover:bg-emerald-500 hover:text-black btn btn-sm justify-start gap-3 transition-all",null,rt,{"bg-emerald-500":e(f)==="sev5","text-black":e(f)==="sev5"}),R(Rt,pe[e(h)].sev5),ot=X(Ee,1,"btn btn-sm hover:bg-warning hover:text-warning-content",null,ot,{"btn-warning":e(i)==="active"}),lt=X(De,1,"btn btn-sm hover:btn-error",null,lt,{"btn-error":e(i)==="blocked"}),it=X(Ne,1,"btn btn-sm hover:btn-info",null,it,{"btn-info":e(i)==="someday"}),ct=X(Be,1,"btn btn-sm hover:btn-neutral",null,ct,{"btn-info":e(i)==="cancelled"}),vt=X(dt,1,"btn btn-sm hover:btn-success",null,vt,{"btn-success":e(i)==="completed"}),Te.disabled=le,R(Ot,e(l)?"Save":"Create")},[()=>!e(c).trim()]),Ze(W,()=>e(c),le=>C(c,le)),jt(n,[],E,()=>{"regular";return e(h)},le=>C(h,le)),jt(n,[],L,()=>{"maintenance";return e(h)},le=>C(h,le)),M(_,T)};U(x,_=>{e(r)&&_(v)})}return M(a,m),re(A)}te(["click","keydown"]);var Gr=B('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),qr=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-2"></div></div></div>');function Jr(a,t){ae(t,!0);let n=Y(!1),r=Y(null),l=Y(void 0);function c(A,m,x){A.stopPropagation(),C(l,m,!0),C(r,x,!0),C(n,!0)}function i(){C(n,!1),C(r,null)}async function h(A,m){!e(r)||!e(l)||(m?await Et(e(r).id,A):await Ma(e(r).id,e(l).id,A),i())}function f(A,m){const x=m??ye();return we.getWeek(x)?.projectAssignments.some(_=>_.projectId===A)??!1}var p={openWeekPicker:c},y=$(),j=Z(y);{var k=A=>{var m=qr(),x=o(m);x.__click=i,x.__keydown=S=>S.key==="Escape"&&i();var v=b(x,2),_=o(v),T=b(o(_),2);T.__click=i,s(_);var I=b(_,2);oe(I,21,Pa,ne,(S,D)=>{const O=J(()=>f(e(r).id,e(D).weekOf));var d=Gr();d.__click=()=>h(e(D).weekOf,e(O));var u=o(d),g=o(u,!0);s(u);var w=b(u,2),P=o(w,!0);s(w),s(d),G(()=>{X(d,1,`w-full p-3 text-left rounded-lg border transition-colors ${e(O)?"bg-primary/20 text-primary-content border-primary":"border-base-content/10 hover:border-primary"}`),R(g,e(D).label),R(P,e(D).weekOf)}),M(S,d)}),s(I),s(v),s(m),M(A,m)};U(j,A=>{e(n)&&e(r)&&A(k)})}return M(a,y),re(p)}te(["click","keydown"]);var Kr=B("<button> </button>"),Yr=B('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),Qr=B('<button type="button" class="flex items-center h-16 gap-2 p-3 border-2 border-dashed border-base-content/20 rounded-lg text-base-content/50 cursor-pointer transition-all hover:border-primary hover:text-primary"><span class="text-lg">+</span> <span class="text-sm">Add Project</span></button>'),Xr=B('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2 "><button class="gap-2 mx-3 mt-2 mb-1 text-sm text-secondary w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>‚Üê</span> <span>Back</span></button> <div class="flex items-center gap-3 pe-2"><span class="text-4xl"> </span> <h2 class="text-lg "> </h2></div></div> <div class="flex gap-1 mt-4  px-3 pb-2 overflow-x-auto"></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!> <!></div></div></div> <!> <!>',1);function Zr(a,t){ae(t,!0);let n=Y(void 0);const r=E=>C(n,E.id,!0);let l,c,i=Y(Ce(localStorage.getItem("projectTabView")||"active"));Ie(()=>{e(i)&&localStorage.setItem("projectTabView",e(i))});let h=J(()=>!["completed","cancelled"].includes(e(i))),f=J(()=>e(i)=="active"),p=J(()=>de.getByArea(t.selectedArea.id).filter(E=>E.status===e(i)));function y(E){return de.getByArea(t.selectedArea.id).filter(L=>L.status===E).length}async function j(E,L){if(E.stopPropagation(),L===0||!t.selectedArea)return;const H=de.getByArea(t.selectedArea.id),K=e(p)[L],z=e(p)[L-1],N=H.findIndex(ee=>ee.id===z.id),F=N>0?H[N-1].index:null,Q=z.index;await _t(t.selectedArea.id,K.index,F,Q)}async function k(E,L){if(E.stopPropagation(),!t.selectedArea||L===e(p).length-1)return;const H=de.getByArea(t.selectedArea.id),K=e(p)[L],z=e(p)[L+1],N=H.findIndex(ee=>ee.id===z.id),F=z.index,Q=N<H.length-1?H[N+1].index:null;console.log(F,Q),await _t(t.selectedArea.id,K.index,F,Q)}var A=Xr(),m=Z(A),x=o(m),v=o(x),_=o(v);_.__click=function(...E){t.navigateBack?.apply(this,E)};var T=b(_,2),I=o(T),S=o(I,!0);s(I);var D=b(I,2),O=o(D,!0);s(D),s(T),s(v);var d=b(v,2);oe(d,21,()=>_r,ne,(E,L)=>{const H=J(()=>e(i)===e(L).value),K=J(()=>y(e(L).value));var z=Kr();z.__click=()=>C(i,e(L).value,!0);var N=o(z);s(z),G(()=>{X(z,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${e(H)?"bg-primary/40 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),R(N,`${e(L).label??""} (${e(K)??""})`)}),M(E,z)}),s(d),s(x);var u=b(x,2),g=o(u),w=o(g);oe(w,17,()=>e(p),ne,(E,L,H)=>{{let K=J(()=>e(n)==e(L).id);Fr(E,{get isSelected(){return e(K)},onclick:r,handleProjectAssign:(z,N)=>c.openWeekPicker(z,t.selectedArea,N),index:H,get allowReorder(){return e(h)},get navigateToTasks(){return t.navigateToTasks},get project(){return e(L)},get allowWeekAssignment(){return e(f)},get handleEdit(){return l.openEditProjectModal},handleProjectMoveUp:j,handleProjectMoveDown:k})}},E=>{var L=Yr(),H=o(L);s(L),G(()=>R(H,`No ${e(i)??""} projects`)),M(E,L)});var P=b(w,2);{var W=E=>{var L=Qr();L.__click=function(...H){l.openCreateProjectModal?.apply(this,H)},M(E,L)};U(P,E=>{e(i)=="active"&&E(W)})}s(g),s(u),s(m);var V=b(m,2);ke(Ur(V,{get selectedArea(){return t.selectedArea}}),E=>l=E,()=>l);var q=b(V,2);ke(Jr(q,{}),E=>c=E,()=>c),G(()=>{R(S,t.selectedArea.icon),R(O,t.selectedArea.name)}),M(a,A),re()}te(["click"]);var $r=B('<button type="button"> </button>'),es=B('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),ts=B('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 backdrop-blur-sm" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">‚úï</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function as(a,t){ae(t,!0);let n=Y(!1),r=Y(null),l=Y(""),c=Y("active");function i(){C(r,null),C(l,""),C(c,"active"),C(n,!0)}function h(m,x){m.stopPropagation(),C(r,x,!0),C(l,x.name,!0),C(c,x.status,!0),C(n,!0)}function f(){C(n,!1),C(r,null)}async function p(){!e(l).trim()||!t.selectedProject||!t.selectedArea||(e(r)?await Dt(t.selectedProject.id,e(r).index,{name:e(l).trim(),status:e(c)}):await Sa(t.selectedProject.id,t.selectedArea.id,e(l).trim()),f())}var y={openCreateTaskModal:i,openEditTaskModal:h},j=$(),k=Z(j);{var A=m=>{var x=ts(),v=o(x);v.__click=f,v.__keydown=E=>E.key==="Escape"&&f();var _=b(v,2),T=o(_),I=o(T),S=o(I,!0);s(I);var D=b(I,2);D.__click=f,s(T);var O=b(T,2),d=o(O),u=b(o(d),2);me(u),u.__keydown=E=>E.key==="Enter"&&p(),s(d);var g=b(d,2);{var w=E=>{var L=es(),H=b(o(L),2);oe(H,21,()=>mr,ne,(K,z)=>{var N=$r();N.__click=()=>C(c,e(z).value,!0);var F=o(N,!0);s(N),G(()=>{X(N,1,`px-3 py-1.5 text-sm rounded-lg border transition-colors ${e(c)===e(z).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),R(F,e(z).label)}),M(K,N)}),s(H),s(L),M(E,L)};U(g,E=>{e(r)&&E(w)})}s(O);var P=b(O,2),W=b(o(P),2);W.__click=f;var V=b(W,2);V.__click=p;var q=o(V,!0);s(V),s(P),s(_),s(x),G(E=>{R(S,e(r)?"Edit Task":"New Task"),V.disabled=E,R(q,e(r)?"Save":"Create")},[()=>!e(l).trim()]),Ze(u,()=>e(l),E=>C(l,E)),M(m,x)};U(k,m=>{e(n)&&m(A)})}return M(a,j),re(y)}te(["click","keydown"]);var rs=Qe('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),ss=Qe('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),ns=Qe('<svg class="w-3 h-3 text-warning" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),os=B('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üë</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">‚Üì</button>',1),ls=B('<div tabindex="0" role="button" class="hover:bg-primary/20 cursor-pointer w-full flex flex-row items-start border-b border-b-base-content/10 p-2"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function is(a,t){ae(t,!0);const n=J(()=>t.task.status==="completed"),r=J(()=>t.task.status==="cancelled"),l=J(()=>t.task.status==="blocked");var c=ls();c.__click=m=>t.handleEdit(m,t.task);var i=o(c);i.__click=m=>t.toggleTaskComplete(m,t.task);var h=o(i);{var f=m=>{var x=rs();M(m,x)},p=m=>{var x=$(),v=Z(x);{var _=I=>{var S=ss();M(I,S)},T=I=>{var S=$(),D=Z(S);{var O=d=>{var u=ns();M(d,u)};U(D,d=>{e(l)&&d(O)},!0)}M(I,S)};U(v,I=>{e(r)?I(_):I(T,!1)},!0)}M(m,x)};U(h,m=>{e(n)?m(f):m(p,!1)})}s(i);var y=b(i,2),j=o(y,!0);s(y);var k=b(y,2);{var A=m=>{var x=os(),v=Z(x);v.__click=T=>t.handleTaskMoveUp(T,t.index);var _=b(v,2);_.__click=T=>t.handleTaskMoveDown(T,t.index),M(m,x)};U(k,m=>{t.reorderEnabled&&m(A)})}s(c),G(()=>{X(i,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${e(n)?"bg-success border-success text-success-content":e(l)?"border-warning":e(r)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"}`),i.disabled=e(r),R(j,t.task.name)}),M(a,c),re()}te(["click"]);var cs=B('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2 "><button class="gap-2 mx-3 mt-2 mb-0 text-sm text-secondary w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>‚Üê</span> <span>Back</span></button> <div class="flex items-center gap-2"><svg class="size-10 inline shrink-0 text-base-content/40 align-text-bottom -mb-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg> <h2 class="text-base "> </h2></div> <div class="flex gap-1 overflow-x-auto my-2"><button class="text-base-content/50 bg-base-300 hover:bg-primary/50 hover:text-primary-content px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap">+ New</button> <button>Reorder</button></div></div></div> <div class="flex-1 overflow-auto bg-base-200  min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0"></div></div></div> <!>',1);function ds(a,t){ae(t,!0);let n,r=J(()=>he.getByProject(t.selectedProject.id)),l=Y(!1),c=()=>C(l,!e(l));async function i(d,u){if(d.stopPropagation(),!t.selectedProject)return;const g=u.status==="completed"?"active":"completed";await Dt(t.selectedProject.id,u.index,{status:g})}async function h(d,u){if(d.stopPropagation(),u===0||!t.selectedProject)return;const g=e(r)[u],w=u>1?e(r)[u-2].index:null,P=e(r)[u-1].index;await mt(t.selectedProject.id,g.index,w,P)}async function f(d,u){if(d.stopPropagation(),!t.selectedProject||u===e(r).length-1)return;const g=e(r)[u],w=e(r)[u+1].index,P=u<e(r).length-2?e(r)[u+2].index:null;await mt(t.selectedProject.id,g.index,w,P)}var p=cs(),y=Z(p),j=o(y),k=o(j),A=o(k);A.__click=function(...d){t.navigateBack?.apply(this,d)};var m=b(A,2),x=b(o(m),2),v=o(x,!0);s(x),s(m);var _=b(m,2),T=o(_);T.__click=function(...d){n.openCreateTaskModal?.apply(this,d)};var I=b(T,2);I.__click=c,s(_),s(k),s(j);var S=b(j,2),D=o(S);oe(D,21,()=>e(r),ne,(d,u,g)=>{is(d,{get handleEdit(){return n.openEditTaskModal},handleTaskMoveUp:h,handleTaskMoveDown:f,index:g,get task(){return e(u)},toggleTaskComplete:i,get reorderEnabled(){return e(l)}})}),s(D),s(S),s(y);var O=b(y,2);ke(as(O,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),d=>n=d,()=>n),G(()=>{R(v,t.selectedProject.name),X(I,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${e(l)?"bg-primary/40 text-primary-content":"text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50"}`)}),M(a,p),re()}te(["click"]);var vs=B('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),us=B('<div class="h-screen flex flex-col bg-base-300"><div class="pb-22 h-full"><!></div> <!></div>');function ks(a,t){ae(t,!0);const n=()=>i("areas"),r=()=>i("projects");let l=Y(void 0),c=Y(void 0);i("areas");function i(x){ba("",{activeTab:x})}function h(x){C(l,x,!0),i("projects")}function f(x){C(c,x,!0),C(l,be.getById(x.areaId),!0),i("tasks")}var p=us(),y=o(p),j=o(y);{var k=x=>{Dr(x,{onSelectArea:h})},A=x=>{var v=$(),_=Z(v);{var T=S=>{Zr(S,{navigateBack:n,navigateToTasks:f,get selectedArea(){return e(l)}})},I=S=>{var D=$(),O=Z(D);{var d=g=>{ds(g,{navigateBack:r,get selectedArea(){return e(l)},get selectedProject(){return e(c)}})},u=g=>{var w=$(),P=Z(w);{var W=q=>{ir(q,{navigateToTasks:f})},V=q=>{var E=$(),L=Z(E);{var H=z=>{pr(z,{})},K=z=>{var N=$(),F=Z(N);{var Q=ee=>{var ie=vs();M(ee,ie)};U(F,ee=>{ue.state.activeTab==="review"&&ee(Q)},!0)}M(z,N)};U(L,z=>{ue.state.activeTab==="today"?z(H):z(K,!1)},!0)}M(q,E)};U(P,q=>{ue.state.activeTab==="week"?q(W):q(V,!1)},!0)}M(g,w)};U(O,g=>{ue.state.activeTab=="tasks"?g(d):g(u,!1)},!0)}M(S,D)};U(_,S=>{ue.state.activeTab==="projects"?S(T):S(I,!1)},!0)}M(x,v)};U(j,x=>{ue.state.activeTab==="areas"?x(k):x(A,!1)})}s(y);var m=b(y,2);Fa(m,{get activeTab(){return ue.state.activeTab},onTabChange:i}),s(p),M(a,p),re()}export{ks as component};
