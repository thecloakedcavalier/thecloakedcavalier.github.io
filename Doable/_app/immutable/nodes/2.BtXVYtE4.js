import{b as Nn,d as _e,f as F,a as S,s as B,c as ue,e as mt,g as qt}from"../chunks/BNJSKDXj.js";import{y as Fr,E as Ln,K as Br,A as je,aq as Fn,F as Bn,g as n,T as zn,H as Wn,I as Gn,J as wa,L as zr,B as dr,aa as Hn,aE as Vn,ah as ka,o as Et,aG as et,z as Jr,D as Un,a8 as Ta,a4 as Zn,aC as ca,aH as Yn,aI as Kn,aJ as qn,aK as Xn,v as Ka,x as qa,aL as Wr,ay as Jn,aB as Qn,w as $n,aM as Xa,q as Ut,aN as eo,W as Ja,aO as to,aP as Bt,G as ro,aQ as ao,au as no,e as Qa,u as da,aR as oo,ap as $a,r as ua,h as io,aS as so,aT as lo,aU as co,aV as uo,aW as vo,aX as fo,aY as en,a5 as tn,aZ as bo,a_ as go,ao as po,p as be,k as ae,l as ge,n as l,s as _,m as v,t as re,O as $,N as A,a6 as Q,U as tt,b as xt,M as rn,ai as ur}from"../chunks/DvQ4DuZU.js";import{i as te}from"../chunks/zkvLNOss.js";import{a as mo}from"../chunks/DhNL2Jr6.js";import{p as ft}from"../chunks/BKZzXAqw.js";import{a1 as gr,a2 as ho,a3 as _o,a4 as an,a5 as nn,a6 as xo,a7 as on,a8 as ht,a9 as Xt,aa as yo,ab as pt,ac as st,ad as Jt,ae as At,af as sn,ag as wo,ah as ko,ai as To,aj as Do,ak as Eo,al as Ao,am as Io,an as So,ao as Co,ap as Da,aq as Oo,ar as jo,as as Mo,at as Po,au as Ea,av as ln,aw as Aa}from"../chunks/BIvRX7i5.js";import{b as Le}from"../chunks/CYvY_5F1.js";function We(e,t){return t}function Ro(e,t,r){for(var a=[],o=t.length,i,s=t.length,u=0;u<o;u++){let y=t[u];qa(y,()=>{if(i){if(i.pending.delete(y),i.done.add(y),i.pending.size===0){var f=e.outrogroups;Qr(ca(i.done)),f.delete(i),f.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var b=a.length===0&&r!==null;if(b){var c=r,d=c.parentNode;Qn(d),d.append(c),e.items.clear()}Qr(t,!b)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function Qr(e,t=!0){for(var r=0;r<e.length;r++)$n(e[r],t)}var Ia;function we(e,t,r,a,o,i=null){var s=e,u=new Map,b=(t&Xa)!==0;if(b){var c=e;s=je?Br(Fn(c)):c.appendChild(Fr())}je&&Bn();var d=null,y=zn(()=>{var w=r();return Yn(w)?w:w==null?[]:ca(w)}),f,p=!0;function g(){h.fallback=d,No(h,f,s,t,a),d!==null&&(f.length===0?(d.f&et)===0?Ka(d):(d.f^=et,Gt(d,null,s)):qa(d,()=>{d=null}))}var m=Ln(()=>{f=n(y);var w=f.length;let k=!1;if(je){var D=Wn(s)===Gn;D!==(w===0)&&(s=wa(),Br(s),zr(!1),k=!0)}for(var T=new Set,j=Et,C=Un(),x=0;x<w;x+=1){je&&dr.nodeType===Hn&&dr.data===Vn&&(s=dr,k=!0,zr(!1));var I=f[x],E=a(I,x),O=p?null:u.get(E);O?(O.v&&ka(O.v,I),O.i&&ka(O.i,x),C&&j.skipped_effects.delete(O.e)):(O=Lo(u,p?s:Ia??=Fr(),I,E,x,o,t,r),p||(O.e.f|=et),u.set(E,O)),T.add(E)}if(w===0&&i&&!d&&(p?d=Jr(()=>i(s)):(d=Jr(()=>i(Ia??=Fr())),d.f|=et)),je&&w>0&&Br(wa()),!p)if(C){for(const[N,z]of u)T.has(N)||j.skipped_effects.add(z.e);j.oncommit(g),j.ondiscard(()=>{})}else g();k&&zr(!0),n(y)}),h={effect:m,items:u,outrogroups:null,fallback:d};p=!1,je&&(s=dr)}function No(e,t,r,a,o){var i=(a&eo)!==0,s=t.length,u=e.items,b=e.effect.first,c,d=null,y,f=[],p=[],g,m,h,w;if(i)for(w=0;w<s;w+=1)g=t[w],m=o(g,w),h=u.get(m).e,(h.f&et)===0&&(h.nodes?.a?.measure(),(y??=new Set).add(h));for(w=0;w<s;w+=1){if(g=t[w],m=o(g,w),h=u.get(m).e,e.outrogroups!==null)for(const O of e.outrogroups)O.pending.delete(h),O.done.delete(h);if((h.f&et)!==0)if(h.f^=et,h===b)Gt(h,null,r);else{var k=d?d.next:b;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),nt(e,d,h),nt(e,h,k),Gt(h,k,r),d=h,f=[],p=[],b=d.next;continue}if((h.f&Wr)!==0&&(Ka(h),i&&(h.nodes?.a?.unfix(),(y??=new Set).delete(h))),h!==b){if(c!==void 0&&c.has(h)){if(f.length<p.length){var D=p[0],T;d=D.prev;var j=f[0],C=f[f.length-1];for(T=0;T<f.length;T+=1)Gt(f[T],D,r);for(T=0;T<p.length;T+=1)c.delete(p[T]);nt(e,j.prev,C.next),nt(e,d,j),nt(e,C,D),b=D,d=C,w-=1,f=[],p=[]}else c.delete(h),Gt(h,b,r),nt(e,h.prev,h.next),nt(e,h,d===null?e.effect.first:d.next),nt(e,d,h),d=h;continue}for(f=[],p=[];b!==null&&b!==h;)(c??=new Set).add(b),p.push(b),b=b.next;if(b===null)continue}(h.f&et)===0&&f.push(h),d=h,b=h.next}if(e.outrogroups!==null){for(const O of e.outrogroups)O.pending.size===0&&(Qr(ca(O.done)),e.outrogroups?.delete(O));e.outrogroups.size===0&&(e.outrogroups=null)}if(b!==null||c!==void 0){var x=[];if(c!==void 0)for(h of c)(h.f&Wr)===0&&x.push(h);for(;b!==null;)(b.f&Wr)===0&&b!==e.fallback&&x.push(b),b=b.next;var I=x.length;if(I>0){var E=(a&Xa)!==0&&s===0?r:null;if(i){for(w=0;w<I;w+=1)x[w].nodes?.a?.measure();for(w=0;w<I;w+=1)x[w].nodes?.a?.fix()}Ro(e,x,E)}}i&&Ut(()=>{if(y!==void 0)for(h of y)h.nodes?.a?.apply()})}function Lo(e,t,r,a,o,i,s,u){var b=(s&Kn)!==0?(s&qn)===0?Zn(r,!1,!1):Ta(r):null,c=(s&Xn)!==0?Ta(o):null;return{v:b,i:c,e:Jr(()=>(i(t,b??r,c??o,u),()=>{e.delete(a)}))}}function Gt(e,t,r){if(e.nodes)for(var a=e.nodes.start,o=e.nodes.end,i=t&&(t.f&et)===0?t.nodes.start:r;a!==null;){var s=Jn(a);if(i.before(a),a===o)return;a=s}}function nt(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const Fo=()=>performance.now(),$e={tick:e=>requestAnimationFrame(e),now:()=>Fo(),tasks:new Set};function cn(){const e=$e.now();$e.tasks.forEach(t=>{t.c(e)||($e.tasks.delete(t),t.f())}),$e.tasks.size!==0&&$e.tick(cn)}function Bo(e){let t;return $e.tasks.size===0&&$e.tick(cn),{promise:new Promise(r=>{$e.tasks.add(t={c:e,f:r})}),abort(){$e.tasks.delete(t)}}}function vr(e,t){$a(()=>{e.dispatchEvent(new CustomEvent(t))})}function zo(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Sa(e){const t={},r=e.split(";");for(const a of r){const[o,i]=a.split(":");if(!o||i===void 0)break;const s=zo(o.trim());t[s]=i.trim()}return t}const Wo=e=>e;function Qt(e,t,r){var a=Ja,o=a.nodes,i,s,u,b=null;o.a??={element:e,measure(){i=this.element.getBoundingClientRect()},apply(){if(u?.abort(),s=this.element.getBoundingClientRect(),i.left!==s.left||i.right!==s.right||i.top!==s.top||i.bottom!==s.bottom){const c=t()(this.element,{from:i,to:s},r?.());u=hr(this.element,c,void 0,1,()=>{u?.abort(),u=void 0})}},fix(){if(!e.getAnimations().length){var{position:c,width:d,height:y}=getComputedStyle(e);if(c!=="absolute"&&c!=="fixed"){var f=e.style;b={position:f.position,width:f.width,height:f.height,transform:f.transform},f.position="absolute",f.width=d,f.height=y;var p=e.getBoundingClientRect();if(i.left!==p.left||i.top!==p.top){var g=`translate(${i.left-p.left}px, ${i.top-p.top}px)`;f.transform=f.transform?`${f.transform} ${g}`:g}}}},unfix(){if(b){var c=e.style;c.position=b.position,c.width=b.width,c.height=b.height,c.transform=b.transform}}},o.a.element=e}function Ge(e,t,r,a){var o=(e&oo)!==0,i="both",s,u=t.inert,b=t.style.overflow,c,d;function y(){return $a(()=>s??=r()(t,a?.()??{},{direction:i}))}var f={is_global:o,in(){t.inert=u,vr(t,"introstart"),c=hr(t,y(),d,1,()=>{vr(t,"introend"),c?.abort(),c=s=void 0,t.style.overflow=b})},out(h){t.inert=!0,vr(t,"outrostart"),d=hr(t,y(),c,0,()=>{vr(t,"outroend"),h?.()})},stop:()=>{c?.abort(),d?.abort()}},p=Ja;if((p.nodes.t??=[]).push(f),Nn){var g=o;if(!g){for(var m=p.parent;m&&(m.f&ro)!==0;)for(;(m=m.parent)&&(m.f&ao)===0;);g=!m||(m.f&no)!==0}g&&Qa(()=>{da(()=>f.in())})}}function hr(e,t,r,a,o){var i=a===1;if(to(t)){var s,u=!1;return Ut(()=>{if(!u){var h=t({direction:i?"in":"out"});s=hr(e,h,r,a,o)}}),{abort:()=>{u=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return o(),{abort:Bt,deactivate:Bt,reset:Bt,t:()=>a};const{delay:b=0,css:c,tick:d,easing:y=Wo}=t;var f=[];if(i&&r===void 0&&(d&&d(0,1),c)){var p=Sa(c(0,1));f.push(p,p)}var g=()=>1-a,m=e.animate(f,{duration:b,fill:"forwards"});return m.onfinish=()=>{m.cancel();var h=r?.t()??1-a;r?.abort();var w=a-h,k=t.duration*Math.abs(w),D=[];if(k>0){var T=!1;if(c)for(var j=Math.ceil(k/16.666666666666668),C=0;C<=j;C+=1){var x=h+w*y(C/j),I=Sa(c(x,1-x));D.push(I),T||=I.overflow==="hidden"}T&&(e.style.overflow="hidden"),g=()=>{var E=m.currentTime;return h+w*y(E/k)},d&&Bo(()=>{if(m.playState!=="running")return!1;var E=g();return d(E,1-E),!0})}m=e.animate(D,{duration:k,fill:"forwards"}),m.onfinish=()=>{g=()=>a,d?.(a,1-a),o()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Bt)},deactivate:()=>{o=Bt},reset:()=>{a===0&&d?.(1,0)},t:()=>g()}}function va(e,t,r){Qa(()=>{var a=da(()=>t(e,r?.())||{});if(r&&a?.update){var o=!1,i={};ua(()=>{var s=r();io(s),o&&so(i,s)&&(i=s,a.update(s))}),o=!0}if(a?.destroy)return()=>a.destroy()})}const Ca=[...` 	
\r\fÂ \v\uFEFF`];function Go(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var o in r)if(r[o])a=a?a+" "+o:o;else if(a.length)for(var i=o.length,s=0;(s=a.indexOf(o,s))>=0;){var u=s+i;(s===0||Ca.includes(a[s-1]))&&(u===a.length||Ca.includes(a[u]))?a=(s===0?"":a.substring(0,s))+a.substring(u+1):s=u}}return a===""?null:a}function Oa(e,t=!1){var r=t?" !important;":";",a="";for(var o in e){var i=e[o];i!=null&&i!==""&&(a+=" "+o+": "+i+r)}return a}function Gr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Ho(e,t){if(t){var r="",a,o;if(Array.isArray(t)?(a=t[0],o=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,u=!1,b=[];a&&b.push(...Object.keys(a).map(Gr)),o&&b.push(...Object.keys(o).map(Gr));var c=0,d=-1;const m=e.length;for(var y=0;y<m;y++){var f=e[y];if(u?f==="/"&&e[y-1]==="*"&&(u=!1):i?i===f&&(i=!1):f==="/"&&e[y+1]==="*"?u=!0:f==='"'||f==="'"?i=f:f==="("?s++:f===")"&&s--,!u&&i===!1&&s===0){if(f===":"&&d===-1)d=y;else if(f===";"||y===m-1){if(d!==-1){var p=Gr(e.substring(c,d).trim());if(!b.includes(p)){f!==";"&&y++;var g=e.substring(c,y).trim();r+=" "+g+";"}}c=y+1,d=-1}}}}return a&&(r+=Oa(a)),o&&(r+=Oa(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function ee(e,t,r,a,o,i){var s=e.__className;if(je||s!==r||s===void 0){var u=Go(r,a,i);(!je||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=r}else if(i&&o!==i)for(var b in i){var c=!!i[b];(o==null||c!==!!o[b])&&e.classList.toggle(b,c)}return i}function Hr(e,t={},r,a){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,a))}}function fa(e,t,r,a){var o=e.__style;if(je||o!==t){var i=Ho(t,a);(!je||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else a&&(Array.isArray(a)?(Hr(e,r?.[0],a[0]),Hr(e,r?.[1],a[1],"important")):Hr(e,r,a));return a}const Vo=Symbol("is custom element"),Uo=Symbol("is html");function Je(e){if(je){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;$r(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var o=e.checked;$r(e,"checked",null),e.checked=o}}};e.__on_r=r,Ut(r),lo()}}function Zo(e,t){var r=dn(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function $r(e,t,r,a){var o=dn(e);je&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="loading"&&(e[co]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Yo(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function dn(e){return e.__attributes??={[Vo]:e.nodeName.includes("-"),[Uo]:e.namespaceURI===uo}}var ja=new Map;function Yo(e){var t=e.getAttribute("is")||e.nodeName,r=ja.get(t);if(r)return r;ja.set(t,r=[]);for(var a,o=e,i=Element.prototype;i!==o;){a=fo(o);for(var s in a)a[s].set&&r.push(s);o=vo(o)}return r}function ba(e,t,r=t){var a=new WeakSet;en(e,"input",async o=>{var i=o?e.defaultValue:e.value;if(i=Ur(e)?Zr(i):i,r(i),Et!==null&&a.add(Et),await tn(),i!==(i=t())){var s=e.selectionStart,u=e.selectionEnd,b=e.value.length;if(e.value=i??"",u!==null){var c=e.value.length;s===u&&u===b&&c>b?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=s,e.selectionEnd=Math.min(u,c))}}}),(je&&e.defaultValue!==e.value||da(t)==null&&e.value)&&(r(Ur(e)?Zr(e.value):e.value),Et!==null&&a.add(Et)),ua(()=>{var o=t();if(e===document.activeElement){var i=bo??Et;if(a.has(i))return}Ur(e)&&o===Zr(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const Vr=new Set;function It(e,t,r,a,o=a){var i=r.getAttribute("type")==="checkbox",s=e;let u=!1;if(t!==null)for(var b of t)s=s[b]??=[];s.push(r),en(r,"change",()=>{var c=r.__value;i&&(c=Ma(s,c,r.checked)),o(c)},()=>o(i?[]:null)),ua(()=>{var c=a();if(je&&r.defaultChecked!==r.checked){u=!0;return}i?(c=c||[],r.checked=c.includes(r.__value)):r.checked=go(r.__value,c)}),po(()=>{var c=s.indexOf(r);c!==-1&&s.splice(c,1)}),Vr.has(s)||(Vr.add(s),Ut(()=>{s.sort((c,d)=>c.compareDocumentPosition(d)===4?-1:1),Vr.delete(s)})),Ut(()=>{if(u){var c;if(i)c=Ma(s,c,r.checked);else{var d=s.find(y=>y.checked);c=d?.__value}o(c)}})}function Ma(e,t,r){for(var a=new Set,o=0;o<e.length;o+=1)e[o].checked&&a.add(e[o].__value);return r||a.delete(t),Array.from(a)}function Ur(e){var t=e.type;return t==="number"||t==="range"}function Zr(e){return e===""?null:+e}const Yr={regular:{sev1:"I do this because it's who I am",sev2:"I do this to become better",sev3:"I do this because I enjoy it"},maintenance:{sev1:"Life breaks without this",sev2:"Keeps things running smooth",sev3:"Can wait or be skipped"}},Ko={regular:{sev1:"Core",sev2:"Growth",sev3:"Enrichment"},maintenance:{sev1:"Essential",sev2:"Routine",sev3:"Optional"}},qo=["ðŸ’¼","ðŸ“Š","ðŸ“ˆ","ðŸ“‹","ðŸ“","ðŸ—‚ï¸","ðŸ“Œ","ðŸŽ¯","ðŸ ","ðŸ¡","ðŸ›‹ï¸","ðŸ§¹","ðŸ³","ðŸ›’","ðŸ§º","ðŸª´","ðŸ’ª","ðŸƒ","ðŸ‹ï¸","ðŸ§˜","ðŸš´","ðŸŠ","âš½","ðŸŽ¾","ðŸ“š","ðŸŽ“","ðŸ“–","âœï¸","ðŸ”¬","ðŸ§ª","ðŸŒ","ðŸ’¡","ðŸ’°","ðŸ’µ","ðŸ¦","ðŸ’³","ðŸ“‰","ðŸª™","ðŸ’Ž","ðŸ§","â¤ï¸","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ‘¥","ðŸ’‘","ðŸ‘¶","ðŸ•","ðŸˆ","ðŸŽ¨","ðŸŽµ","ðŸŽ¸","ðŸŽ¹","ðŸ“¸","ðŸŽ¬","ðŸŽ­","âœï¸","ðŸ’»","ðŸ“±","ðŸ–¥ï¸","âŒ¨ï¸","ðŸ”§","âš™ï¸","ðŸ¤–","ðŸŽ®","âœˆï¸","ðŸš—","ðŸš€","ðŸ—ºï¸","ðŸ–ï¸","â›°ï¸","ðŸ•ï¸","ðŸŒ…","ðŸ§ ","ðŸŒ±","â˜€ï¸","ðŸŒ¸","ðŸ¦‹","ðŸŒˆ","âœ¨","ðŸ’«","ðŸŽ","ðŸ¥—","ðŸ¥‘","ðŸ³","â˜•","ðŸµ","ðŸ¥¤","ðŸ§ƒ","â­","ðŸ”¥","ðŸ†","ðŸ¥‡","ðŸŽ–ï¸","ðŸ…","ðŸ‘‘","ðŸ’¯","ðŸ“","ðŸ—“ï¸","â°","ðŸ””","ðŸ’¬","ðŸ“§","ðŸŽ","ðŸŽ‰"];var Xo=F('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),Jo=F('<button><span class="text-xl"> </span> <span class="text-xs font-medium"> </span></button>'),Qo=F('<nav class="md:hidden pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav> <nav class="hidden md:flex fixed left-0 top-0 bottom-0 w-20 bg-base-200 border-r border-base-content/10 flex-col items-center py-6 gap-2"></nav>',1);function $o(e,t){be(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var a=Qo(),o=ae(a);we(o,21,()=>r,We,(s,u)=>{var b=Xo();let c;b.__click=()=>t.onTabChange(n(u).id);let d;var y=v(b),f=v(y,!0);l(y);var p=_(y,2),g=v(p,!0);l(p),l(b),re(()=>{c=ee(b,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,c,{"text-primary":t.activeTab===n(u).id,"text-base-content":t.activeTab!==n(u).id}),d=fa(b,"",d,{opacity:t.activeTab===n(u).id?1:.4}),B(f,n(u).icon),B(g,n(u).label)}),S(s,b)}),l(o);var i=_(o,2);we(i,21,()=>r,We,(s,u)=>{var b=Jo();b.__click=()=>t.onTabChange(n(u).id);var c=v(b),d=v(c,!0);l(c);var y=_(c,2),f=v(y,!0);l(y),l(b),re(()=>{ee(b,1,`flex flex-col ${t.activeTab==n(u).id?"bg-primary/20 text-primary":"text-base-content "} items-center gap-1 px-3 py-3 rounded-lg transition-colors w-16 `),B(d,n(u).icon),B(f,n(u).label)}),S(s,b)}),l(i),S(e,a),ge()}_e(["click"]);const ei=e=>e;function ti(e){const t=e-1;return t*t*t+1}function Pa(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Rt(e,{delay:t=0,duration:r=400,easing:a=ei}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:i=>`opacity: ${i*o}`}}function Nt(e,{delay:t=0,duration:r=400,easing:a=ti,x:o=0,y:i=0,opacity:s=0}={}){const u=getComputedStyle(e),b=+u.opacity,c=u.transform==="none"?"":u.transform,d=b*(1-s),[y,f]=Pa(o),[p,g]=Pa(i);return{delay:t,duration:r,easing:a,css:(m,h)=>`
			transform: ${c} translate(${(1-m)*y}${f}, ${(1-m)*p}${g});
			opacity: ${b-d*h}`}}var ri=F('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),ai=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function ni(e,t){be(t,!0);let r=$(!1),a=$(null);function o(f,p,g,m){f.stopPropagation(),A(a,{task:p,project:g,area:m},!0),A(r,!0)}function i(){A(r,!1),A(a,null)}function s(){return _o(t.currentWeekOf).map(f=>({date:f,dayName:nn(f),isToday:an(f)}))}async function u(f){if(!n(a))return;const{task:p,project:g,area:m}=n(a);i();const h=t.isTaskAssignedToDay(p.id);h===f?await gr(p.id,g.id,t.currentWeekOf,f):(h&&await gr(p.id,g.id,t.currentWeekOf,h),await ho(p.id,g.id,m.id,p.name,t.currentWeekOf,f,!1))}var b={openDayPicker:o},c=ue(),d=ae(c);{var y=f=>{var p=ai(),g=v(p);g.__click=i,g.__keydown=I=>I.key==="Escape"&&i();var m=_(g,2),h=v(m),w=v(h),k=_(v(w),2),D=v(k,!0);l(k),l(w);var T=_(w,2);T.__click=i,l(h);var j=_(h,2);we(j,21,s,We,(I,E)=>{const O=Q(()=>t.isTaskAssignedToDay(n(a).task.id)===n(E).date);var N=ri();N.__click=()=>u(n(E).date);var z=v(N),K=v(z,!0);l(z);var W=_(z,2),Z=v(W,!0);l(W),l(N),re(H=>{ee(N,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${n(O)?"bg-primary/10 text-primary border-primary":n(E).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),B(K,n(E).dayName),B(Z,H)},[()=>n(E).date.split("-")[2]]),S(I,N)}),l(j);var C=_(j,2),x=v(C);x.__click=()=>{const I=t.isTaskAssignedToDay(n(a).task.id);I&&gr(n(a).task.id,n(a).project.id,t.currentWeekOf,I),i()},l(C),l(m),l(p),re(()=>B(D,n(a).task.name)),Ge(3,g,()=>Rt,()=>({duration:200})),Ge(3,m,()=>Nt,()=>({y:300,duration:300})),S(f,p)};te(d,f=>{n(r)&&n(a)&&f(y)})}return S(e,c),ge(b)}_e(["click","keydown"]);function Ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ra(Object(r),!0).forEach(function(a){jt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ra(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function St(e){"@babel/helpers - typeof";return St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(e)}function jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oi(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,i;for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function ii(e,t){if(e==null)return{};var r=oi(e,t),a,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function si(e,t){return ci(e)||ui(e,t)||ga(e,t)||fi()}function ze(e){return li(e)||di(e)||ga(e)||vi()}function li(e){if(Array.isArray(e))return ea(e)}function ci(e){if(Array.isArray(e))return e}function di(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ui(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],o=!0,i=!1,s,u;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));o=!0);}catch(b){i=!0,u=b}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw u}}return a}}function ga(e,t){if(e){if(typeof e=="string")return ea(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ea(e,t)}}function ea(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function vi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ga(e))||t){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(b){throw b},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,u;return{s:function(){r=r.call(e)},n:function(){var b=r.next();return i=b.done,b},e:function(b){s=!0,u=b},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(s)throw u}}}}var bi="finalize",gi="consider";function Mt(e,t,r){e.dispatchEvent(new CustomEvent(bi,{detail:{items:t,info:r}}))}function ct(e,t,r){e.dispatchEvent(new CustomEvent(gi,{detail:{items:t,info:r}}))}var Ar="draggedEntered",er="draggedLeft",Ir="draggedOverIndex",pa="draggedLeftDocument",xr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function pi(e,t,r){e.dispatchEvent(new CustomEvent(Ar,{detail:{indexObj:t,draggedEl:r}}))}function mi(e,t,r){e.dispatchEvent(new CustomEvent(er,{detail:{draggedEl:t,type:xr.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function hi(e,t){e.dispatchEvent(new CustomEvent(er,{detail:{draggedEl:t,type:xr.OUTSIDE_OF_ANY}}))}function _i(e,t,r){e.dispatchEvent(new CustomEvent(Ir,{detail:{indexObj:t,draggedEl:r}}))}function xi(e){window.dispatchEvent(new CustomEvent(pa,{detail:{draggedEl:e}}))}var Ie={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Ar,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Ir,DRAGGED_LEFT:er,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Pe={POINTER:"pointer",KEYBOARD:"keyboard"},Sr="isDndShadowItem",Cr="data-is-dnd-shadow-item-internal",yi="data-is-dnd-shadow-item-hint",un="id:dnd-shadow-placeholder-0000",wi="dnd-action-dragged-el",fe="id",ta=0;function vn(){ta++}function fn(){if(ta===0)throw new Error("Bug! trying to decrement when there are no dropzones");ta--}var ma=typeof window>"u";function ra(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?Di(e):e.getBoundingClientRect(),o=getComputedStyle(e),i=o.transform;if(i){var s,u,b,c;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],u=+r[5],b=+r[12],c=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],u=+r[3],b=+r[4],c=+r[5];else return a;var d=o.transformOrigin,y=a.x-b-(1-s)*parseFloat(d),f=a.y-c-(1-u)*parseFloat(d.slice(d.indexOf(" ")+1)),p=s?a.width/s:e.offsetWidth,g=u?a.height/u:e.offsetHeight;return{x:y,y:f,width:p,height:g,top:f,right:y+p,bottom:f+g,left:y}}else return a}function bn(e){var t=ra(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function gn(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function pn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function ki(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Or(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Zt(e){return pn(gn(e))}function Na(e,t){var r=Zt(e),a=bn(t);return Or(r,a)}function La(e,t){var r=Zt(e),a=Zt(t);return ki(r,a)}function Ti(e){var t=gn(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Di(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,o=!1,i=e.parentElement;i&&i!==document.body;){var s=window.getComputedStyle(i),u=s.overflowY,b=s.overflowX,c=u==="scroll"||u==="auto",d=b==="scroll"||b==="auto";if(c||d){var y=i.getBoundingClientRect();if(c){var f=Math.max(r.top,y.top),p=Math.min(r.bottom,y.bottom);(f!==r.top||p!==r.bottom)&&(a=!0),r.top=f,r.bottom=p}if(d){var g=Math.max(r.left,y.left),m=Math.min(r.right,y.right);(g!==r.left||m!==r.right)&&(o=!0),r.left=g,r.right=m}}i=i.parentElement}return a||o?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Ct;function ha(){Ct=new Map}ha();function Ei(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Cr)});if(t>=0)return Ct.has(e)||Ct.set(e,new Map),Ct.get(e).set(t,bn(e.children[t])),t}function Ai(e,t){if(!Na(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=Ei(t),o=0;o<r.length;o++)if(Na(e,r[o])){var i=Ct.has(t)&&Ct.get(t).get(o);return i&&!Or(Zt(e),i)?{index:a,isProximityBased:!1}:{index:o,isProximityBased:!1}}for(var s=Number.MAX_VALUE,u=void 0,b=0;b<r.length;b++){var c=La(e,r[b]);c<s&&(s=c,u=b)}if(r.length>0){var d=r.length,y=r[d-1],f=y.cloneNode(!1);f.style.visibility="hidden",f.style.pointerEvents="none",t.appendChild(f);var p=La(e,f);p<s&&(u=d),t.removeChild(f)}return{index:u,isProximityBased:!0}}function zt(e){return JSON.stringify(e,null,2)}function yr(e){if(!e)throw new Error("cannot get depth of a falsy node");return mn(e,0)}function mn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?mn(e.parentElement,t+1):t-1}function Ii(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Si(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var Ci=200,Fa=10,aa;function Oi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ci,a=arguments.length>3?arguments[3]:void 0,o,i,s=!1,u,b=Array.from(t).sort(function(d,y){return yr(y)-yr(d)});function c(){var d=Zt(e),y=a.multiScrollIfNeeded();if(!y&&u&&Math.abs(u.x-d.x)<Fa&&Math.abs(u.y-d.y)<Fa){aa=window.setTimeout(c,r);return}if(Ti(e)){xi(e);return}u=d;var f=!1,p=$t(b),g;try{for(p.s();!(g=p.n()).done;){var m=g.value;y&&ha();var h=Ai(e,m);if(h!==null){var w=h.index;f=!0,m!==o?(o&&mi(o,e,m),pi(m,h,e),o=m):w!==i&&(_i(m,h,e),i=w);break}}}catch(k){p.e(k)}finally{p.f()}!f&&s&&o?(hi(o,e),o=void 0,i=void 0,s=!1):s=!0,aa=window.setTimeout(c,r)}c()}function ji(){clearTimeout(aa),ha()}var Wt=30;function Mi(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var s=e,u=s.directionObj,b=s.stepPx;u&&(i.scrollBy(u.x*b,u.y*b),window.requestAnimationFrame(function(){return r(i)}))}function a(i){return Wt-i}function o(i,s){if(!s)return!1;var u=Pi(i,s),b=!!e.directionObj;if(u===null)return b&&t(),!1;var c=!1,d=!1;return s.scrollHeight>s.clientHeight&&(u.bottom<Wt?(c=!0,e.directionObj={x:0,y:1},e.stepPx=a(u.bottom)):u.top<Wt&&(c=!0,e.directionObj={x:0,y:-1},e.stepPx=a(u.top)),!b&&c)||s.scrollWidth>s.clientWidth&&(u.right<Wt?(d=!0,e.directionObj={x:1,y:0},e.stepPx=a(u.right)):u.left<Wt&&(d=!0,e.directionObj={x:-1,y:0},e.stepPx=a(u.left)),!b&&d)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:o,resetScrolling:t}}function Pi(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Or(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Ri(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Li(e),a=Array.from(r).sort(function(b,c){return yr(c)-yr(b)}),o=Mi(),i=o.scrollIfNeeded,s=o.resetScrolling;function u(){var b=t();if(!b||!a)return!1;for(var c=a.filter(function(f){return Or(b,f.getBoundingClientRect())||f===document.scrollingElement}),d=0;d<c.length;d++){var y=i(b,c[d]);if(y)return!0}return!1}return{multiScrollIfNeeded:r.size>0?u:function(){return!1},destroy:function(){return s()}}}function Ni(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),o=a.overflow;o.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Li(e){var t=new Set,r=$t(e),a;try{for(r.s();!(a=r.n()).done;){var o=a.value;Ni(o).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Fi(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",o=a?[e]:ze(e.querySelectorAll("select")),i=$t(o),s;try{for(i.s();!(s=i.n()).done;){var u=s.value;r.push(u.value)}}catch(D){i.e(D)}finally{i.f()}if(o.length>0)for(var b=a?[t]:ze(t.querySelectorAll("select")),c=0;c<b.length;c++){var d=b[c],y=r[c],f=d.querySelector('option[value="'.concat(y,'"'));f&&f.setAttribute("selected",!0)}var p=e.tagName==="CANVAS",g=p?[e]:ze(e.querySelectorAll("canvas"));if(g.length>0)for(var m=p?[t]:ze(t.querySelectorAll("canvas")),h=0;h<m.length;h++){var w=g[h],k=m[h];k.width=w.width,k.height=w.height,w.width>0&&w.height>0&&k.getContext("2d").drawImage(w,0,0)}return t}var Yt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Bi=jt({},Yt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function hn(e){if(!Yt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Yt)));return Bi[e]}var zi=.2;function bt(e){return"".concat(e," ").concat(zi,"s ease")}function Wi(e,t){var r=e.getBoundingClientRect(),a=Fi(e);_n(e,a),a.id=wi,a.style.position="fixed";var o=r.top,i=r.left;if(a.style.top="".concat(o,"px"),a.style.left="".concat(i,"px"),t){var s=pn(r);o-=s.y-t.y,i-=s.x-t.x,window.setTimeout(function(){a.style.top="".concat(o,"px"),a.style.left="".concat(i,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(bt("top"),", ").concat(bt("left"),", ").concat(bt("background-color"),", ").concat(bt("opacity"),", ").concat(bt("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(bt("width"),", ").concat(bt("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function Gi(e){e.style.cursor="grab"}function Hi(e,t,r,a){_n(t,e);var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=o.width-i.width,u=o.height-i.height;if(s||u){var b={left:(r-i.left)/i.width,top:(a-i.top)/i.height};hn(Yt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(o.height,"px"),e.style.width="".concat(o.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-b.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-b.top*u,"px")}}function _n(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||hn(Yt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function Vi(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function xn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Ui(e){e.style.visibility="hidden",e.setAttribute(Cr,"true")}function Zi(e){e.style.visibility="",e.removeAttribute(Cr)}function pr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var o=t(a);Object.keys(o).forEach(function(i){a.style[i]=o[i]}),r(a).forEach(function(i){return a.classList.add(i)})})}function wr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var o=t(a);Object.keys(o).forEach(function(i){a.style[i]=""}),r(a).forEach(function(i){return a.classList.contains(i)&&a.classList.remove(i)})})}function Yi(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Ki="--any--",qi=100,Xi=20,fr=3,Ji=80,Ba={outline:"rgba(255, 255, 102, 0.7) solid 2px"},za="data-is-dnd-original-dragged-item",Oe,he,Me,jr,se,Mr,lt,ye,qe,De,ot=!1,_a=!1,xa,tr=!1,mr=[],Vt,Xe,Ht=!1,Ue=new Map,ce=new Map,Kr=new WeakMap;function Qi(e,t){Ue.has(t)||Ue.set(t,new Set),Ue.get(t).has(e)||(Ue.get(t).add(e),vn())}function Wa(e,t){Ue.get(t).delete(e),fn(),Ue.get(t).size===0&&Ue.delete(t)}function $i(){var e=Ue.get(jr),t=$t(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(Ar,yn),a.addEventListener(er,wn),a.addEventListener(Ir,kn)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(pa,Pt);var o=Math.max.apply(Math,ze(Array.from(e.keys()).map(function(s){return ce.get(s).dropAnimationDurationMs}))),i=o===0?Xi:Math.max(o,qi);Vt=Ri(e,function(){return De}),Oi(he,e,i*1.07,Vt)}function es(){var e=Ue.get(jr),t=$t(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(Ar,yn),a.removeEventListener(er,wn),a.removeEventListener(Ir,kn)}}catch(o){t.e(o)}finally{t.f()}window.removeEventListener(pa,Pt),Vt&&(Vt.destroy(),Vt=void 0),ji()}function Pr(e){return e.findIndex(function(t){return!!t[Sr]})}function ts(e){var t;return _r(_r({},e),{},(t={},jt(t,Sr,!0),jt(t,fe,un),t))}function yn(e){var t=ce.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==se)){if(tr=!1,r=r.filter(function(u){return u[fe]!==lt[fe]&&u[fe]!==un}),se!==e.currentTarget){var o=ce.get(se).items,i=o.filter(function(u){return!u[Sr]});ct(se,i,{trigger:Ie.DRAGGED_ENTERED_ANOTHER,id:Me[fe],source:Pe.POINTER})}var s=e.detail.indexObj.index;ye=e.currentTarget,r.splice(s,0,lt),ct(e.currentTarget,r,{trigger:Ie.DRAGGED_ENTERED,id:Me[fe],source:Pe.POINTER})}}function wn(e){if(ot){var t=ce.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==se&&e.currentTarget!==ye)){var o=ze(r),i=Pr(o);i!==-1&&o.splice(i,1);var s=ye;ye=void 0;var u=e.detail,b=u.type,c=u.theOtherDz;if(b===xr.OUTSIDE_OF_ANY||b===xr.LEFT_FOR_ANOTHER&&c!==se&&ce.get(c).dropFromOthersDisabled){tr=!0,ye=se;var d=s===se?o:ze(ce.get(se).items);d.splice(Mr,0,lt),ct(se,d,{trigger:Ie.DRAGGED_LEFT_ALL,id:Me[fe],source:Pe.POINTER})}ct(e.currentTarget,o,{trigger:Ie.DRAGGED_LEFT,id:Me[fe],source:Pe.POINTER})}}}function kn(e){var t=ce.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==se)){var o=ze(r);tr=!1;var i=e.detail.indexObj.index,s=Pr(o);s!==-1&&o.splice(s,1),o.splice(i,0,lt),ct(e.currentTarget,o,{trigger:Ie.DRAGGED_OVER_INDEX,id:Me[fe],source:Pe.POINTER})}}function kr(e){e.preventDefault();var t=e.touches?e.touches[0]:e;De={x:t.clientX,y:t.clientY},he.style.transform="translate3d(".concat(De.x-qe.x,"px, ").concat(De.y-qe.y,"px, 0)")}function Pt(){_a=!0,window.removeEventListener("mousemove",kr),window.removeEventListener("touchmove",kr),window.removeEventListener("mouseup",Pt),window.removeEventListener("touchend",Pt),es(),Gi(he),ye||(ye=se);var e=ce.get(ye),t=e.items,r=e.type;wr(Ue.get(r),function(i){return ce.get(i).dropTargetStyle},function(i){return ce.get(i).dropTargetClasses});var a=Pr(t);a===-1&&ye===se&&(a=Mr),t=t.map(function(i){return i[Sr]?Me:i});function o(){xa(),Mt(ye,t,{trigger:tr?Ie.DROPPED_OUTSIDE_OF_ANY:Ie.DROPPED_INTO_ZONE,id:Me[fe],source:Pe.POINTER}),ye!==se&&Mt(se,ce.get(se).items,{trigger:Ie.DROPPED_INTO_ANOTHER,id:Me[fe],source:Pe.POINTER});var i=Array.from(ye.children).find(function(s){return s.getAttribute(Cr)});i&&Zi(i),ns()}ce.get(ye).dropAnimationDisabled?o():rs(a,o)}function rs(e,t){var r=e>-1?ra(ye.children[e],!1):ra(ye,!1),a={x:r.left-parseFloat(he.style.left),y:r.top-parseFloat(he.style.top)},o=ce.get(ye),i=o.dropAnimationDurationMs,s="transform ".concat(i,"ms ease");he.style.transition=he.style.transition?he.style.transition+","+s:s,he.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,i)}function as(e,t){mr.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){xn(e),document.body.appendChild(e)})}function ns(){he&&he.remove&&he.remove(),Oe&&Oe.remove&&Oe.remove(),he=void 0,Oe=void 0,Me=void 0,jr=void 0,se=void 0,Mr=void 0,lt=void 0,ye=void 0,qe=void 0,De=void 0,ot=!1,_a=!1,xa=void 0,tr=!1,Xe&&clearTimeout(Xe),Xe=void 0,Ht=!1,mr.length&&(mr.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),mr=[])}function os(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ba,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},o=new Map;function i(){window.addEventListener("mousemove",b,{passive:!1}),window.addEventListener("touchmove",b,{passive:!1,capture:!1}),window.addEventListener("mouseup",u,{passive:!1}),window.addEventListener("touchend",u,{passive:!1})}function s(){window.removeEventListener("mousemove",b),window.removeEventListener("touchmove",b),window.removeEventListener("mouseup",u),window.removeEventListener("touchend",u),Xe&&(clearTimeout(Xe),Xe=void 0,Ht=!1)}function u(f){if(s(),Oe=void 0,qe=void 0,De=void 0,f.type==="touchend"){var p=new Event("click",{bubbles:!0,cancelable:!0});f.target.dispatchEvent(p)}}function b(f){var p=!!f.touches,g=p?f.touches[0]:f;if(p&&a.delayTouchStartMs>0&&!Ht){De={x:g.clientX,y:g.clientY},(Math.abs(De.x-qe.x)>=fr||Math.abs(De.y-qe.y)>=fr)&&(Xe&&(clearTimeout(Xe),Xe=void 0),u(f));return}f.preventDefault(),De={x:g.clientX,y:g.clientY},(Math.abs(De.x-qe.x)>=fr||Math.abs(De.y-qe.y)>=fr)&&(s(),d())}function c(f){if(!(f.target!==f.currentTarget&&(f.target.value!==void 0||f.target.isContentEditable))&&!f.button&&!ot){var p=!!f.touches,g=p&&a.delayTouchStartMs>0;g||f.preventDefault(),f.stopPropagation();var m=p?f.touches[0]:f;qe={x:m.clientX,y:m.clientY},De=_r({},qe),Oe=f.currentTarget,g&&(Ht=!1,Xe=window.setTimeout(function(){Oe&&(Ht=!0,s(),d())},a.delayTouchStartMs)),i()}}function d(){ot=!0;var f=o.get(Oe);Mr=f,se=Oe.parentElement;var p=se.closest("dialog")||se.closest("[popover]")||se.getRootNode(),g=p.body||p,m=a.items,h=a.type,w=a.centreDraggedOnCursor,k=ze(m);Me=k[f],jr=h,lt=ts(Me),he=Wi(Oe,w&&De),g.appendChild(he);function D(){Oe.parentElement?window.requestAnimationFrame(D):(Oe.setAttribute(za,!0),g.appendChild(Oe),$i(),xn(Oe),lt[fe]=Me[fe],he.focus())}window.requestAnimationFrame(D),pr(Array.from(Ue.get(a.type)).filter(function(T){return T===se||!ce.get(T).dropFromOthersDisabled}),function(T){return ce.get(T).dropTargetStyle},function(T){return ce.get(T).dropTargetClasses}),k.splice(f,1,lt),xa=Yi(se),ct(se,k,{trigger:Ie.DRAG_STARTED,id:Me[fe],source:Pe.POINTER}),window.addEventListener("mousemove",kr,{passive:!1}),window.addEventListener("touchmove",kr,{passive:!1,capture:!1}),window.addEventListener("mouseup",Pt,{passive:!1}),window.addEventListener("touchend",Pt,{passive:!1})}function y(f){var p=f.items,g=p===void 0?void 0:p,m=f.flipDurationMs,h=m===void 0?0:m,w=f.type,k=w===void 0?Ki:w,D=f.dragDisabled,T=D===void 0?!1:D,j=f.morphDisabled,C=j===void 0?!1:j,x=f.dropFromOthersDisabled,I=x===void 0?!1:x,E=f.dropTargetStyle,O=E===void 0?Ba:E,N=f.dropTargetClasses,z=N===void 0?[]:N,K=f.transformDraggedElement,W=K===void 0?function(){}:K,Z=f.centreDraggedOnCursor,H=Z===void 0?!1:Z,V=f.dropAnimationDisabled,R=V===void 0?!1:V,L=f.delayTouchStart,G=L===void 0?!1:L;a.dropAnimationDurationMs=h;var M=0;G===!0?M=Ji:typeof G=="number"&&isFinite(G)&&G>=0&&(M=G),a.delayTouchStartMs=M,a.type&&k!==a.type&&Wa(e,a.type),a.type=k,a.items=ze(g),a.dragDisabled=T,a.morphDisabled=C,a.transformDraggedElement=W,a.centreDraggedOnCursor=H,a.dropAnimationDisabled=R,r&&ot&&!_a&&(!Ii(O,a.dropTargetStyle)||!Si(z,a.dropTargetClasses))&&(wr([e],function(){return a.dropTargetStyle},function(){return z}),pr([e],function(){return O},function(){return z})),a.dropTargetStyle=O,a.dropTargetClasses=ze(z);function P(U,ie){return ce.get(U)?ce.get(U)[ie]:a[ie]}r&&ot&&a.dropFromOthersDisabled!==I&&(I?wr([e],function(U){return P(U,"dropTargetStyle")},function(U){return P(U,"dropTargetClasses")}):pr([e],function(U){return P(U,"dropTargetStyle")},function(U){return P(U,"dropTargetClasses")})),a.dropFromOthersDisabled=I,ce.set(e,a),Qi(e,k);for(var Y=ot?Pr(a.items):-1,J=0;J<e.children.length;J++){var q=e.children[J];if(Vi(q,T),J===Y){C||Hi(he,q,De.x,De.y),a.transformDraggedElement(he,Me,J),Ui(q);continue}q.removeEventListener("mousedown",Kr.get(q)),q.removeEventListener("touchstart",Kr.get(q)),T||(q.addEventListener("mousedown",c),q.addEventListener("touchstart",c),Kr.set(q,c)),o.set(q,J),r||(r=!0)}}return y(t),{update:function(p){y(p)},destroy:function(){function p(){Wa(e,ce.get(e).type),ce.delete(e)}ot&&!e.closest("[".concat(za,"]"))?as(e,p):p()}}}var br,na={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Tn=(br={},jt(br,na.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),jt(br,na.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),br),is="dnd-action-aria-alert",de;function oa(){de||(de=document.createElement("div"),(function(){de.id=is,de.style.position="fixed",de.style.bottom="0",de.style.left="0",de.style.zIndex="-5",de.style.opacity="0",de.style.height="0",de.style.width="0",de.setAttribute("role","alert")})(),document.body.prepend(de),Object.entries(Tn).forEach(function(e){var t=si(e,2),r=t[0],a=t[1];return document.body.prepend(cs(r,a))}))}function ss(){return ma?null:(document.readyState==="complete"?oa():window.addEventListener("DOMContentLoaded",oa),_r({},na))}function ls(){ma||!de||(Object.keys(Tn).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),de.remove(),de=void 0)}function cs(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Ot(e){if(!ma){de||oa(),de.innerHTML="";var t=document.createTextNode(e);de.appendChild(t),de.style.display="none",de.style.display="inline"}}var ds="--any--",Ga={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Be=!1,ia,Ee,_t="",gt,Qe,it="",Tr=new WeakSet,Ha=new WeakMap,Va=new WeakMap,sa=new Map,xe=new Map,Ve=new Map,Dr;function us(e,t){Ve.size===0&&(Dr=ss(),window.addEventListener("keydown",Dn),window.addEventListener("click",En)),Ve.has(t)||Ve.set(t,new Set),Ve.get(t).has(e)||(Ve.get(t).add(e),vn())}function Ua(e,t){Ee===e&&Kt(),Ve.get(t).delete(e),fn(),Ve.get(t).size===0&&Ve.delete(t),Ve.size===0&&(window.removeEventListener("keydown",Dn),window.removeEventListener("click",En),Dr=void 0,ls())}function Dn(e){if(Be)switch(e.key){case"Escape":{Kt();break}}}function En(){Be&&(Tr.has(document.activeElement)||Kt())}function vs(e){if(Be){var t=e.currentTarget;if(t!==Ee){_t=t.getAttribute("aria-label")||"";var r=xe.get(Ee),a=r.items,o=a.find(function(y){return y[fe]===Qe}),i=a.indexOf(o),s=a.splice(i,1)[0],u=xe.get(t),b=u.items,c=u.autoAriaDisabled;t.getBoundingClientRect().top<Ee.getBoundingClientRect().top||t.getBoundingClientRect().left<Ee.getBoundingClientRect().left?(b.push(s),c||Ot("Moved item ".concat(it," to the end of the list ").concat(_t))):(b.unshift(s),c||Ot("Moved item ".concat(it," to the beginning of the list ").concat(_t)));var d=Ee;Mt(d,a,{trigger:Ie.DROPPED_INTO_ANOTHER,id:Qe,source:Pe.KEYBOARD}),Mt(t,b,{trigger:Ie.DROPPED_INTO_ZONE,id:Qe,source:Pe.KEYBOARD}),Ee=t}}}function An(){sa.forEach(function(e,t){var r=e.update;return r(xe.get(t))})}function Kt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;xe.get(Ee).autoAriaDisabled||Ot("Stopped dragging item ".concat(it)),Tr.has(document.activeElement)&&document.activeElement.blur(),e&&ct(Ee,xe.get(Ee).items,{trigger:Ie.DRAG_STOPPED,id:Qe,source:Pe.KEYBOARD}),wr(Ve.get(ia),function(t){return xe.get(t).dropTargetStyle},function(t){return xe.get(t).dropTargetClasses}),gt=null,Qe=null,it="",ia=null,Ee=null,_t="",Be=!1,An()}function fs(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ga,dropTargetClasses:[],autoAriaDisabled:!1};function a(d,y,f){d.length<=1||d.splice(f,1,d.splice(y,1,d[f])[0])}function o(d){switch(d.key){case"Enter":case" ":{if((d.target.disabled!==void 0||d.target.href||d.target.isContentEditable)&&!Tr.has(d.target))return;d.preventDefault(),d.stopPropagation(),Be?Kt():i(d);break}case"ArrowDown":case"ArrowRight":{if(!Be)return;d.preventDefault(),d.stopPropagation();var y=xe.get(e),f=y.items,p=Array.from(e.children),g=p.indexOf(d.currentTarget);g<p.length-1&&(r.autoAriaDisabled||Ot("Moved item ".concat(it," to position ").concat(g+2," in the list ").concat(_t)),a(f,g,g+1),Mt(e,f,{trigger:Ie.DROPPED_INTO_ZONE,id:Qe,source:Pe.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Be)return;d.preventDefault(),d.stopPropagation();var m=xe.get(e),h=m.items,w=Array.from(e.children),k=w.indexOf(d.currentTarget);k>0&&(r.autoAriaDisabled||Ot("Moved item ".concat(it," to position ").concat(k," in the list ").concat(_t)),a(h,k,k-1),Mt(e,h,{trigger:Ie.DROPPED_INTO_ZONE,id:Qe,source:Pe.KEYBOARD}));break}}}function i(d){u(d.currentTarget),Ee=e,ia=r.type,Be=!0;var y=Array.from(Ve.get(r.type)).filter(function(p){return p===Ee||!xe.get(p).dropFromOthersDisabled});if(pr(y,function(p){return xe.get(p).dropTargetStyle},function(p){return xe.get(p).dropTargetClasses}),!r.autoAriaDisabled){var f="Started dragging item ".concat(it,". Use the arrow keys to move it within its list ").concat(_t);y.length>1&&(f+=", or tab to another list in order to move the item into it"),Ot(f)}ct(e,xe.get(e).items,{trigger:Ie.DRAG_STARTED,id:Qe,source:Pe.KEYBOARD}),An()}function s(d){Be&&d.currentTarget!==gt&&(d.stopPropagation(),Kt(!1),i(d))}function u(d){var y=xe.get(e),f=y.items,p=Array.from(e.children),g=p.indexOf(d);gt=d,gt.tabIndex=r.zoneItemTabIndex,Qe=f[g][fe],it=p[g].getAttribute("aria-label")||""}function b(d){var y=d.items,f=y===void 0?[]:y,p=d.type,g=p===void 0?ds:p,m=d.dragDisabled,h=m===void 0?!1:m,w=d.zoneTabIndex,k=w===void 0?0:w,D=d.zoneItemTabIndex,T=D===void 0?0:D,j=d.dropFromOthersDisabled,C=j===void 0?!1:j,x=d.dropTargetStyle,I=x===void 0?Ga:x,E=d.dropTargetClasses,O=E===void 0?[]:E,N=d.autoAriaDisabled,z=N===void 0?!1:N;r.items=ze(f),r.dragDisabled=h,r.dropFromOthersDisabled=C,r.zoneTabIndex=k,r.zoneItemTabIndex=T,r.dropTargetStyle=I,r.dropTargetClasses=O,r.autoAriaDisabled=z,r.type&&g!==r.type&&Ua(e,r.type),r.type=g,us(e,g),z||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",h?Dr.DND_ZONE_DRAG_DISABLED:Dr.DND_ZONE_ACTIVE)),xe.set(e,r),Be?e.tabIndex=e===Ee||gt.contains(e)||r.dropFromOthersDisabled||Ee&&r.type!==xe.get(Ee).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",vs);for(var K=function(H){var V=e.children[H];Tr.add(V),V.tabIndex=Be?-1:r.zoneItemTabIndex,z||V.setAttribute("role","listitem"),V.removeEventListener("keydown",Ha.get(V)),V.removeEventListener("click",Va.get(V)),h||(V.addEventListener("keydown",o),Ha.set(V,o),V.addEventListener("click",s),Va.set(V,s)),Be&&r.items[H][fe]===Qe&&(gt=V,gt.tabIndex=r.zoneItemTabIndex,V.focus())},W=0;W<e.children.length;W++)K(W)}b(t);var c={update:function(y){b(y)},destroy:function(){Ua(e,r.type),xe.delete(e),sa.delete(e)}};return sa.set(e,c),c}var bs=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function In(e,t){if(gs(e))return{update:function(){},destroy:function(){}};Za(t);var r=os(e,t),a=fs(e,t);return{update:function(i){Za(i),r.update(i),a.update(i)},destroy:function(){r.destroy(),a.destroy()}}}function gs(e){return!!e.closest("[".concat(yi,'="true"]'))}function Za(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var o=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var i=e.delayTouchStart;e.dropAnimationDisabled;var s=ii(e,bs);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var u=t.find(function(d){return!{}.hasOwnProperty.call(d,fe)});if(u)throw new Error("missing '".concat(fe,"' property for item ").concat(zt(u)));if(o&&!Array.isArray(o))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(St(o),", ").concat(zt(o)));if(r&&!Ya(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(St(r),", ").concat(zt(r)));if(a&&!Ya(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(St(a),", ").concat(zt(a)));if(i!==void 0&&i!==!1){var b=i===!0,c=typeof i=="number"&&isFinite(i)&&i>=0;if(!b&&!c)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(St(i),", ").concat(zt(i)))}}function Ya(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function ps(e){const t=e-1;return t*t*t+1}function ya(e){return--e*e*e*e*e+1}function rr(e,{from:t,to:r},a={}){var{delay:o=0,duration:i=C=>Math.sqrt(C)*120,easing:s=ps}=a,u=getComputedStyle(e),b=u.transform==="none"?"":u.transform,[c,d]=u.transformOrigin.split(" ").map(parseFloat);c/=e.clientWidth,d/=e.clientHeight;var y=ms(e),f=e.clientWidth/r.width/y,p=e.clientHeight/r.height/y,g=t.left+t.width*c,m=t.top+t.height*d,h=r.left+r.width*c,w=r.top+r.height*d,k=(g-h)*f,D=(m-w)*p,T=t.width/r.width,j=t.height/r.height;return{delay:o,duration:typeof i=="function"?i(Math.sqrt(k*k+D*D)):i,easing:s,css:(C,x)=>{var I=x*k,E=x*D,O=C+x*T,N=C+x*j;return`transform: ${b} translate(${I}px, ${E}px) scale(${O}, ${N});`}}}function ms(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var hs=F("<span> </span>");function Er(e,t){be(t,!0);const r={regular:{sev1:"bg-purple-500/20 text-purple-400",sev2:"bg-teal-500/20 text-teal-400",sev3:"bg-sky-500/20 text-sky-400"},maintenance:{sev1:"bg-rose-400/20 text-rose-400",sev2:"bg-lime-500/20 text-lime-400",sev3:"bg-slate-400/20 text-slate-400"}},a=Q(()=>Ko[t.type][t.level]),o=Q(()=>r[t.type][t.level]||"bg-slate-400/20 text-slate-400");var i=hs(),s=v(i,!0);l(i),re(()=>{ee(i,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${n(o)??""}`),B(s,n(a))}),S(e,i),ge()}var _s=F("<span> </span>");function Sn(e,t){var r=_s(),a=v(r,!0);l(r),re(()=>{ee(r,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${t.classes??""}`),B(a,t.label)}),S(e,r)}var xs=F('<div class="flex items-center gap-2 p-2 bg-base-200 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-2xl"> </div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate"> </p></div> <div><!></div></div>'),ys=F('<div class="flex flex-col gap-2"></div>'),ws=F('<div tabindex="0" role="button"><div class="flex items-start p-3"><div class="flex-1 min-w-0"><div class="flex flex-col gap-3"><p class="text-sm text-base-content"><span class="text-base"> </span> </p> <div class="h-1 bg-base-300/50"><div class="h-full bg-primary/50 transition-all"></div></div> <p class="text-xs gap-1 flex items-center"><!> <!></p></div></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),ks=F('<div class="flex flex-col gap-2"></div>'),Ts=F('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),Ds=F('<div class="flex flex-col "><!></div>');function Es(e,t){be(t,!0);const r=200;let a=Q(()=>t.assignedProjects.map(g=>({...g,id:g.project.id}))),o=Q(()=>t.filterCompleted?n(a).filter(g=>["completed","cancelled"].includes(g.project.status)):n(a).filter(g=>!["completed","cancelled"].includes(g.project.status))),i=$(tt([]));xt(()=>{A(i,n(o),!0)});async function s(g,m){g.stopPropagation(),await on(m,t.currentWeekOf)}function u(g){const m=ht.getByProject(g),h=m.filter(k=>k.status==="active").length,w=m.filter(k=>k.status==="completed").length;return{active:h,completed:w,total:h+w}}function b(g){A(i,g.detail.items,!0)}function c(g){A(i,g.detail.items,!0);const{info:m}=g.detail,h=m.id,w=n(i).findIndex(C=>C.id===h);if(w===-1)return;const k=w>0?n(i)[w-1]:null,D=w<n(i).length-1?n(i)[w+1]:null;let T=null,j=null;if(k){const C=n(a).findIndex(x=>x.id===k.id);T=k.assignment.order,j=C<n(a).length-1?n(a)[C+1].assignment.order:null}else if(D){const C=n(a).findIndex(x=>x.id===D.id);T=C>0?n(a)[C-1].assignment.order:null,j=D.assignment.order}xo(t.currentWeekOf,h,T,j)}var d=Ds(),y=v(d);{var f=g=>{var m=ue(),h=ae(m);{var w=D=>{var T=ys();we(T,29,()=>n(i),({id:j,project:C,area:x})=>j,(j,C)=>{let x=()=>n(C).project,I=()=>n(C).area;var E=xs(),O=v(E),N=v(O,!0);l(O);var z=_(O,2),K=v(z),W=v(K,!0);l(K),l(z);var Z=_(z,2),H=v(Z);Er(H,{get level(){return x().severity},get type(){return x().type}}),l(Z),l(E),re(()=>{B(N,I().icon),B(W,x().name)}),Qt(E,()=>rr,()=>({duration:r})),S(j,E)}),l(T),va(T,(j,C)=>In?.(j,C),()=>({items:n(i),flipDurationMs:r,dropTargetStyle:{}})),mt("consider",T,b),mt("finalize",T,c),S(D,T)},k=D=>{var T=ks();we(T,21,()=>n(o),We,(j,C)=>{let x=()=>n(C).project,I=()=>n(C).area;const E=Q(()=>u(x().id)),O=Q(()=>n(E).total>0?n(E).completed/n(E).total*100:0);var N=ws();N.__click=()=>t.navigateToTasks(x());var z=v(N),K=v(z),W=v(K),Z=v(W),H=v(Z),V=v(H,!0);l(H);var R=_(H);l(Z);var L=_(Z,2),G=v(L);l(L);var M=_(L,2),P=v(M);Er(P,{get level(){return x().severity},get type(){return x().type}});var Y=_(P,2);{let q=Q(()=>n(E).active==0?"text-error bg-error/10 border-error/10 border":"bg-base-100 text-base-content/50");Sn(Y,{get classes(){return n(q)},get label(){return`${n(E).active??""} available`}})}l(M),l(W),l(K);var J=_(K,2);J.__click=q=>s(q,x().id),l(z),l(N),re(()=>{ee(N,1,`bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer overflow-hidden ${x().status=="blocked"?"glow-error":""} `),B(V,I().icon),B(R,` ${x().name??""}`),fa(G,`width: ${n(O)??""}%`)}),S(j,N)}),l(T),S(D,T)};te(h,D=>{t.reorderMode?D(w):D(k,!1)})}S(g,m)},p=g=>{var m=Ts();S(g,m)};te(y,g=>{n(i).length>0?g(f):g(p,!1)})}l(d),S(e,d),ge()}_e(["click"]);var As=F('<span class="text-xs text-primary px-2 py-1 bg-primary/10 border-primary/20 border rounded"> </span>'),Is=F('<button><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-muted"> </p></div> <!></button>'),Ss=F('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),Cs=F('<div class="flex flex-col gap-2"></div>');function Os(e,t){be(t,!0);var r=Cs();we(r,21,()=>t.weekTasks,We,(a,o)=>{let i=()=>n(o).task,s=()=>n(o).project,u=()=>n(o).area;const b=Q(()=>t.isTaskAssignedToDay(i().id));var c=Is();c.__click=w=>t.openDayPicker(w,i(),s(),u());var d=v(c),y=v(d),f=v(y,!0);l(y);var p=_(y,2),g=v(p);l(p),l(d);var m=_(d,2);{var h=w=>{var k=As(),D=v(k,!0);l(k),re(T=>B(D,T),[()=>nn(n(b))]),S(w,k)};te(m,w=>{n(b)&&w(h)})}l(c),re(()=>{ee(c,1,`${i().status=="blocked"?"glow-error":""} text-start flex items-center gap-3 p-3 bg-base-200 rounded-lg transition-all hover:bg-base-100 cursor-pointer`),B(f,i().name),B(g,`${u().icon??""} ${s().name??""}`)}),S(a,c)},a=>{var o=Ss();S(a,o)}),l(r),S(e,r),ge()}_e(["click"]);let qr=tt({});class la{scrollTimeout;#e=$();get scrollContainer(){return n(this.#e)}set scrollContainer(t){A(this.#e,t,!0)}pageKey="default"+Math.random();get positions(){return qr}save(t,r){qr[t]=r}get(t){return qr[t]||0}handleScroll=()=>{clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.scrollContainer&&(console.log("Saving scroll top for ",this.pageKey,this.scrollContainer.scrollTop),this.save(this.pageKey,this.scrollContainer.scrollTop))},100)};restoreScroll=async(t,r)=>{if(await tn(),this.scrollContainer=t,this.pageKey=r,this.scrollContainer){const a=this.get(this.pageKey);console.log("Restoring scroll top for ",this.pageKey,a),a&&(this.scrollContainer.scrollTop=a,console.log(this.scrollContainer.scrollTop))}}}var js=F('<button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button>'),Ms=F('<div class="flex flex-col h-full"><div class="bg-base-300 ps-4 pe-2 pt-1 pb-0 flex flex-col gap-4 border-b border-b-base-content/10"><div class="flex flex-row justify-between items-center"><div class="text-center w-full"><h2 class="text-lg font-medium">This Week</h2> <p class="text-xs text-base-content/50"> </p></div></div> <div class="flex items-center justify-between h-8"><div class="flex gap-1"><button>Active</button> <button>Completed</button> <button>Tasks</button></div> <!></div></div> <div><!></div> <div><!></div></div> <!>',1);function Ps(e,t){be(t,!0);let r,a;const o=new la,i=new la;rn(()=>{o.restoreScroll(r,"weekview_projects"),i.restoreScroll(a,"weekview_tasks")});let s=localStorage.getItem("filterAssignedProject")=="true",u=$(!1),b=()=>A(u,!n(u));xt(()=>{localStorage.setItem("filterAssignedProject",s+"")});let c=$(tt(localStorage.getItem("weekTabView")||"active_projects"));xt(()=>{n(c)&&localStorage.setItem("weekTabView",n(c))});let d=tt(Xt());const y=Q(()=>Jt.getWeek(d));let f;function p(M){return n(y)?n(y).tasksByDay.find(Y=>Y.taskId===M)?.date??null:null}let g=Q(()=>n(y)?n(y).projectAssignments.map(M=>{const P=pt.getById(M.areaId);if(!P)return null;const J=st.getByArea(P.id).find(q=>q.id===M.projectId);return J?{assignment:M,project:J,area:P}:null}).filter(M=>M!==null):[]),m=Q(()=>{const M=[];for(const{project:P,area:Y}of n(g)){const J=ht.getByProject(P.id).filter(q=>["active","blocked"].includes(q.status));for(const q of J)M.push({task:q,project:P,area:Y})}return M});var h=Ms(),w=ae(h),k=v(w),D=v(k),T=v(D),j=_(v(T),2),C=v(j,!0);l(j),l(T),l(D);var x=_(D,2),I=v(x),E=v(I);E.__click=()=>A(c,"active_projects");var O=_(E,2);O.__click=()=>A(c,"completed_projects");var N=_(O,2);N.__click=()=>A(c,"tasks"),l(I);var z=_(I,2);{var K=M=>{var P=js();P.__click=b;var Y=_(v(P));l(P),re(()=>{ee(P,1,`btn mb-2 ${n(u)?"btn-success":"btn-ghost"} btn-xs`),B(Y,` ${n(u)?"Done":"Reorder"}`)}),S(M,P)};te(z,M=>{n(c)=="active_projects"&&n(g).length>1&&M(K)})}l(x),l(k);var W=_(k,2),Z=v(W);{var H=M=>{{let P=Q(()=>n(u)&&n(c)=="active_projects"),Y=Q(()=>n(c)=="completed_projects");Es(M,{get reorderMode(){return n(P)},get filterCompleted(){return n(Y)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return d},get assignedProjects(){return n(g)}})}};te(Z,M=>{(n(c)==="active_projects"||n(c)==="completed_projects")&&M(H)})}l(W),Le(W,M=>r=M,()=>r);var V=_(W,2),R=v(V);{var L=M=>{Os(M,{get openDayPicker(){return f.openDayPicker},get weekTasks(){return n(m)},isTaskAssignedToDay:p})};te(R,M=>{n(c)=="tasks"&&M(L)})}l(V),Le(V,M=>a=M,()=>a),l(w);var G=_(w,2);Le(ni(G,{get currentWeekOf(){return d},isTaskAssignedToDay:p}),M=>f=M,()=>f),re((M,P)=>{B(C,M),ee(E,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(c)=="active_projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),ee(O,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(c)=="completed_projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),ee(N,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(c)=="tasks"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),ee(W,1,`${P??""} flex-1 overflow-y-auto px-3 py-4`),ee(V,1,`${n(c)=="tasks"?"":"hidden"} flex-1 overflow-y-auto px-3 py-4`)},[()=>yo(d),()=>n(c).match(/projects/)?"":"hidden"]),mt("scroll",W,function(...M){o.handleScroll?.apply(this,M)}),mt("scroll",V,function(...M){i.handleScroll?.apply(this,M)}),S(e,h),ge()}_e(["click"]);var Rs=F('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),Ns=F('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),Ls=F('<div class="flex flex-col gap-2"></div>'),Fs=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="p-4 border-b border-base-content/10"><p class="font-medium text-base-content mb-2"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-3 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="join w-full"><label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Active</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Blocked</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Completed</span></label> <label><input type="radio" name="action" class="hidden"/> <span class="text-xs">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function Bs(e,t){be(t,!0);const r=[];let a=$("completed"),o=$(tt([]));xt(()=>{t.show&&(A(a,t.taskByDay?.status||"completed",!0),A(o,[],!0))});function i(p,g){g&&setTimeout(()=>p.focus(),0)}function s(){A(o,[...n(o),""],!0)}function u(p){A(o,n(o).filter((g,m)=>m!==p),!0)}function b(p,g){A(o,n(o).map((m,h)=>h===p?g:m),!0)}async function c(){if(t.taskByDay){n(a)==="completed"?await At(t.taskByDay.taskId,t.taskByDay.projectId,"completed"):n(a)==="blocked"?await At(t.taskByDay.taskId,t.taskByDay.projectId,"blocked"):n(a)==="cancelled"?await At(t.taskByDay.taskId,t.taskByDay.projectId,"cancelled"):n(a)==="active"&&await At(t.taskByDay.taskId,t.taskByDay.projectId,"active");for(const p of n(o))p.trim()&&await sn(t.taskByDay.projectId,t.taskByDay.areaId,p.trim());t.onClose()}}var d=ue(),y=ae(d);{var f=p=>{var g=Fs(),m=v(g);m.__click=function(...U){t.onClose?.apply(this,U)},m.__keydown=U=>U.key==="Escape"&&t.onClose();var h=_(m,2),w=v(h),k=v(w),D=v(k,!0);l(k);var T=_(k,2),j=v(T);l(T),l(w);var C=_(w,2),x=v(C),I=_(v(x),2),E=v(I),O=v(E);Je(O),O.value=O.__value="active",ur(2),l(E);var N=_(E,2),z=v(N);Je(z),z.value=z.__value="blocked",ur(2),l(N);var K=_(N,2),W=v(K);Je(W),W.value=W.__value="completed",ur(2),l(K);var Z=_(K,2),H=v(Z);Je(H),H.value=H.__value="cancelled",ur(2),l(Z),l(I),l(x);var V=_(x,2),R=v(V),L=_(v(R),2);L.__click=s,l(R);var G=_(R,2);{var M=U=>{var ie=Rs();S(U,ie)},P=U=>{var ie=Ls();we(ie,21,()=>n(o),We,(ke,Re,Fe)=>{var Se=Ns(),Ne=v(Se);Je(Ne),Ne.__input=at=>b(Fe,at.currentTarget.value),va(Ne,(at,Ze)=>i?.(at,Ze),()=>Fe===n(o).length-1);var rt=_(Ne,2);rt.__click=()=>u(Fe),l(Se),re(()=>Zo(Ne,n(Re))),S(ke,Se)}),l(ie),S(U,ie)};te(G,U=>{n(o).length===0?U(M):U(P,!1)})}l(V),l(C);var Y=_(C,2),J=v(Y);J.__click=function(...U){t.onClose?.apply(this,U)};var q=_(J,2);q.__click=c,l(Y),l(h),l(g),re(()=>{B(D,t.taskByDay.name),B(j,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),ee(E,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="active"?"bg-primary/10 border-primary":""}`),ee(N,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="blocked"?"bg-error/10 border-error":""}`),ee(K,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="completed"?"bg-success/10 border-success":""}`),ee(Z,1,`join-item flex-1 flex items-center justify-center gap-1 p-2 border border-base-content/10 cursor-pointer ${n(a)==="cancelled"?"bg-base-content/10 border-base-content/40":""}`)}),Ge(3,m,()=>Rt,()=>({duration:200})),It(r,[],O,()=>n(a),U=>A(a,U)),It(r,[],z,()=>n(a),U=>A(a,U)),It(r,[],W,()=>n(a),U=>A(a,U)),It(r,[],H,()=>n(a),U=>A(a,U)),Ge(3,h,()=>Nt,()=>({y:300,duration:300})),S(p,g)};te(y,p=>{t.show&&t.taskByDay&&p(f)})}S(e,d),ge()}_e(["click","keydown","input"]);var zs=F('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate "> </p></div></div>'),Ws=F('<div class="flex flex-col gap-2 mb-4"></div>'),Gs=F('<div><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm mb-2"> </p> <p class="text-xs text-muted truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),Hs=F('<div class="flex flex-col gap-2 mb-4"></div>'),Vs=F('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),Us=F('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),Zs=qt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Ys=qt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Ks=F('<div class="flex items-center gap-3 p-3 opacity-50 "><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),qs=F('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),Xs=F('<div class="flex flex-col h-full "><div class="flex flex-col gap-4 pt-1 pb-0 border-b border-base-content/10"><div class="flex flex-row justify-between items-center px-2"><button aria-label="prev" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button> <button class="cursor-pointer text-center w-full "><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-muted"> </p></button> <button aria-label="next" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="transform:rotate(180deg)" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button></div> <div class="flex items-center px-2"><div class="flex-1"><div class="px-4 pb-3 flex flex-col"><div class="flex items-center justify-between text-xs text-muted mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success/85 transition-all rounded-full"></div></div></div></div> <button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-3"><!> <!></div></div> <!>',1);function Js(e,t){be(t,!0);let r;const a=new la;rn(()=>a.restoreScroll(r,"todayview"));const o=Xt(),i=200,s=()=>A(b,ko(n(c)),!0),u=()=>A(b,To(n(c)),!0);let b=$(tt(new Date));const c=Q(()=>Do(n(b)));let d=Q(()=>{const X=Jt.getWeek(o);return X?X.tasksByDay.filter(ne=>ne.date===n(c)).map(ne=>{const Te=ht.getById(ne.taskId),pe=pt.getById(ne.areaId),le=(pe?st.getByArea(pe.id):[]).find(oe=>oe.id===ne.projectId);return{id:ne.taskId,taskByDay:ne,task:Te,areaIcon:pe?.icon??"ðŸ“",areaName:pe?.name??"Unknown",projectName:le?.name??"Unknown"}}):[]}),y=Q(()=>n(d)),f=Q(()=>n(d).filter(X=>X.taskByDay.status!=="completed"&&X.taskByDay.status!=="cancelled")),p=Q(()=>n(d).filter(X=>X.taskByDay.status==="completed"||X.taskByDay.status==="cancelled")),g=$(!1),m=$(null),h=$(""),w=$(""),k=$(""),D=$(!1);const T=()=>{A(D,!n(D))};let j=$(tt([]));xt(()=>{A(j,n(f),!0)});let C=Q(()=>{const X=n(p).length,ne=n(d).length,Te=ne>0?X/ne*100:0;return{completed:X,total:ne,percent:Te}});function x(X){A(j,X.detail.items,!0)}function I(X){A(j,X.detail.items,!0);const{info:ne}=X.detail,Te=ne.id,pe=n(j).findIndex(ve=>ve.id===Te);if(pe===-1)return;const He=pe>0?n(j)[pe-1]:null,le=pe<n(j).length-1?n(j)[pe+1]:null;let oe=null,me=null;if(He){const ve=n(y).findIndex(Ce=>Ce.id===He.id);oe=He.taskByDay.order,me=ve<n(y).length-1?n(y)[ve+1].taskByDay.order:null}else if(le){const ve=n(y).findIndex(Ce=>Ce.id===le.id);oe=ve>0?n(y)[ve-1].taskByDay.order:null,me=le.taskByDay.order}Eo(o,n(c),Te,oe,me)}async function E(X){await At(X.taskId,X.projectId,"completed")}async function O(X){await At(X.taskId,X.projectId,"active")}async function N(X){await gr(X.taskId,X.projectId,o,n(c))}function z(X,ne,Te,pe){A(m,X,!0),A(h,ne,!0),A(w,Te,!0),A(k,pe,!0),A(g,!0)}function K(){A(g,!1),A(m,null)}var W=Xs(),Z=ae(W),H=v(Z),V=v(H),R=v(V);R.__click=u;var L=_(R,2);L.__click=()=>A(b,new Date,!0);var G=v(L),M=v(G,!0);l(G);var P=_(G,2),Y=v(P,!0);l(P),l(L);var J=_(L,2);J.__click=s,l(V);var q=_(V,2),U=v(q),ie=v(U),ke=v(ie),Re=v(ke),Fe=v(Re);l(Re);var Se=_(Re,2),Ne=v(Se);l(Se),l(ke);var rt=_(ke,2),at=v(rt);l(rt),l(ie),l(U);var Ze=_(U,2);Ze.__click=T;var ar=_(v(Ze));l(Ze),l(q),l(H);var dt=_(H,2),Lt=v(dt);{var nr=X=>{var ne=ue(),Te=ae(ne);{var pe=le=>{var oe=Ws();we(oe,29,()=>n(j),({id:me,taskByDay:ve,areaIcon:Ce,projectName:Ye})=>me,(me,ve)=>{let Ce=()=>n(ve).taskByDay;var Ye=zs(),wt=_(v(Ye),2),ut=v(wt),vt=v(ut,!0);l(ut),l(wt),l(Ye),re(()=>B(vt,Ce().name)),Qt(Ye,()=>rr,()=>({duration:i})),S(me,Ye)}),l(oe),va(oe,(me,ve)=>In?.(me,ve),()=>({items:n(j),flipDurationMs:i,dropTargetStyle:{}})),mt("consider",oe,x),mt("finalize",oe,I),S(le,oe)},He=le=>{var oe=Hs();we(oe,21,()=>n(f),We,(me,ve)=>{let Ce=()=>n(ve).taskByDay,Ye=()=>n(ve).areaIcon,wt=()=>n(ve).areaName,ut=()=>n(ve).projectName;const vt=Q(()=>Ce().status=="blocked");var Ke=Gs(),ir=v(Ke);ir.__click=()=>E(Ce());var kt=_(ir,2);kt.__click=()=>z(Ce(),Ye(),wt(),ut());var Ft=v(kt),sr=v(Ft,!0);l(Ft);var Tt=_(Ft,2),Nr=v(Tt);l(Tt),l(kt);var lr=_(kt,2);lr.__click=()=>N(Ce()),l(Ke),re(()=>{ee(Ke,1,`flex items-start gap-2 p-3 bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer ${n(vt)?"glow-error":""}`),B(sr,Ce().name),B(Nr,`${Ye()??""}  ${ut()??""}`)}),S(me,Ke)}),l(oe),S(le,oe)};te(Te,le=>{n(D)?le(pe):le(He,!1)})}S(X,ne)},or=X=>{var ne=ue(),Te=ae(ne);{var pe=le=>{var oe=Vs();S(le,oe)},He=le=>{var oe=Us();S(le,oe)};te(Te,le=>{n(C).total===0?le(pe):le(He,!1)},!0)}S(X,ne)};te(Lt,X=>{n(j).length>0?X(nr):X(or,!1)})}var yt=_(Lt,2);{var Rr=X=>{var ne=qs(),Te=v(ne),pe=v(Te);l(Te);var He=_(Te,2);we(He,21,()=>n(p),We,(le,oe)=>{let me=()=>n(oe).taskByDay,ve=()=>n(oe).areaIcon,Ce=()=>n(oe).areaName,Ye=()=>n(oe).projectName;const wt=Q(()=>me().status==="completed"),ut=Q(()=>me().status==="cancelled");var vt=Ks(),Ke=v(vt);Ke.__click=()=>O(me());var ir=v(Ke);{var kt=Dt=>{var cr=Zs();S(Dt,cr)},Ft=Dt=>{var cr=ue(),Mn=ae(cr);{var Pn=Lr=>{var Rn=Ys();S(Lr,Rn)};te(Mn,Lr=>{me().status==="cancelled"&&Lr(Pn)},!0)}S(Dt,cr)};te(ir,Dt=>{me().status==="completed"?Dt(kt):Dt(Ft,!1)})}l(Ke);var sr=_(Ke,2),Tt=v(sr),Nr=v(Tt,!0);l(Tt);var lr=_(Tt,2),jn=v(lr);l(lr),l(sr),l(vt),re(()=>{ee(Ke,1,`w-7 h-7 rounded-full ${n(wt)?"bg-success border-success text-success-content":n(ut)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),B(Nr,me().name),B(jn,`${ve()??""} ${Ce()??""} Â· ${Ye()??""}`)}),S(le,vt)}),l(He),l(ne),re(()=>B(pe,`Completed (${n(p).length??""})`)),S(X,ne)};te(yt,X=>{n(p).length>0&&!n(D)&&X(Rr)})}l(dt),Le(dt,X=>r=X,()=>r),l(Z);var Ae=_(Z,2);Bs(Ae,{get show(){return n(g)},get taskByDay(){return n(m)},get areaIcon(){return n(h)},get areaName(){return n(w)},get projectName(){return n(k)},get weekOf(){return o},onClose:K}),re((X,ne)=>{B(M,X),B(Y,n(c)),B(Fe,`${n(C).completed??""} of ${n(C).total??""} completed`),B(Ne,`${ne??""}%`),fa(at,`width: ${n(C).percent??""}%`),ee(Ze,1,`btn w-20 ${n(D)?"btn-success":"btn-ghost"} btn-xs`),B(ar,` ${n(D)?"Done":"Reorder"}`)},[()=>an(n(c))?"Today":wo(n(c)),()=>Math.round(n(C).percent)]),mt("scroll",dt,function(...X){a.handleScroll?.apply(this,X)}),S(e,W),ge()}_e(["click"]);const Xr=["reorder","status"],Qs=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var $s=F('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function el(e,t){var r=$s();r.__click=function(...a){t.handleClick?.apply(this,a)},S(e,r)}_e(["click"]);var tl=F('<button type="button"> </button>'),rl=F('<button type="button" class="btn btn-outline btn-error btn-sm">Archive</button>'),al=F('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),nl=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4 flex flex-col"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="h-40 overflow-y-auto rounded-lg border border-base-content/10 p-2"><div class="grid grid-cols-8 gap-1"></div></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Cn(e,t){be(t,!0);let r=$(!1),a=$(null),o=$(""),i=$("ðŸŽ¯"),s;function u(){A(a,null),A(o,""),A(i,"ðŸŽ¯"),A(r,!0),setTimeout(()=>s.focus(),100)}function b(k,D){k.stopPropagation(),A(a,D,!0),A(o,D.name,!0),A(i,D.icon,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function c(){A(r,!1),A(a,null)}async function d(){!n(o).trim()||!n(i)||(n(a)?(await Ao(n(a).index,{name:n(o).trim(),icon:n(i)}),n(a).name=n(o).trim(),n(a).icon=n(i)):await Io(n(o).trim(),n(i)),c())}function y(k){return n(a)&&n(a).status=="archived"?!1:st.getByArea(k.id).filter(T=>T.status==="active").length===0}async function f(){!n(a)||!y(n(a))||(await So(n(a).index),c())}async function p(){n(a)&&(await Co(n(a).index),c())}var g={openCreateAreaModal:u,openEditAreaModal:b},m=ue(),h=ae(m);{var w=k=>{var D=nl(),T=v(D);T.__click=c,T.__keydown=P=>P.key==="Escape"&&c();var j=_(T,2),C=v(j),x=v(C),I=v(x,!0);l(x);var E=_(x,2);E.__click=c,l(C);var O=_(C,2),N=v(O),z=_(v(N),2),K=v(z);we(K,21,()=>qo,We,(P,Y)=>{var J=tl();J.__click=()=>A(i,n(Y),!0);var q=v(J,!0);l(J),re(()=>{ee(J,1,`aspect-square cursor-pointer flex items-center justify-center text-lg rounded-lg transition-colors ${n(i)===n(Y)?"bg-primary/20 ring-2 ring-primary":"hover:bg-base-200"}`),B(q,n(Y))}),S(P,J)}),l(K),l(z),l(N);var W=_(N,2),Z=_(v(W),2);Je(Z),Z.__keydown=P=>P.key==="Enter"&&d(),Le(Z,P=>s=P,()=>s),l(W),l(O);var H=_(O,2),V=v(H);{var R=P=>{var Y=ue(),J=ae(Y);{var q=ie=>{var ke=rl();ke.__click=f,re((Re,Fe)=>{ke.disabled=Re,$r(ke,"title",Fe)},[()=>!y(n(a)),()=>y(n(a))?"Archive area":"Cannot archive: has active projects"]),S(ie,ke)},U=ie=>{var ke=ue(),Re=ae(ke);{var Fe=Se=>{var Ne=al();Ne.__click=p,S(Se,Ne)};te(Re,Se=>{n(a).status=="archived"&&Se(Fe)},!0)}S(ie,ke)};te(J,ie=>{n(a).status=="active"?ie(q):ie(U,!1)})}S(P,Y)};te(V,P=>{n(a)&&P(R)})}var L=_(V,4);L.__click=c;var G=_(L,2);G.__click=d;var M=v(G,!0);l(G),l(H),l(j),l(D),re(P=>{B(I,n(a)?"Edit Area":"New Area"),G.disabled=P,B(M,n(a)?"Save":"Create")},[()=>!n(o).trim()||!n(i)]),Ge(3,T,()=>Rt,()=>({duration:200})),ba(Z,()=>n(o),P=>A(o,P)),Ge(3,j,()=>Nt,()=>({y:300,duration:300})),S(k,D)};te(h,k=>{n(r)&&k(w)})}return S(e,m),ge(g)}_e(["click","keydown"]);var ol=F("<span> </span>");function il(e,t){const r={clear:"badge-success",planned:"badge-primary",active:"badge-info",fading:"badge-warning",avoiding:"badge-error"},a=Q(()=>r[t.status]||"badge-neutral");var o=ol(),i=v(o,!0);l(o),re(()=>{ee(o,1,`rounded badge badge-sm badge-soft ${n(a)??""} font-semibold uppercase tracking-wide text-[10px]`),B(i,t.status)}),S(e,o)}var sl=F('<div class="flex flex-row gap-1"><button aria-label="edit" class="btn btn-sm btn-ghost">â†</button> <button aria-label="edit" class="btn btn-sm btn-ghost">â†’</button></div>'),ll=F('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm tracking-wide mb-0 pb-1 truncate"> </div> <p class="text-muted text-xs text-base-content/50"> </p></div></div></div></div>');function cl(e,t){be(t,!0);const r=Q(()=>st.getByArea(t.area.id).filter(k=>k.status==="active").length),a=Q(()=>{const k=Xt(),D=Jt.getWeek(k),T=st.getByArea(t.area.id),j=T.filter(E=>E.status==="active"||E.status==="blocked"||E.status==="someday");if(j.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};if(D?.projectAssignments.some(E=>j.some(O=>O.id===E.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"â—†"};const x=T.filter(E=>E.status==="completed"&&E.completedAt),I=x.length>0?Math.max(...x.map(E=>new Date(E.completedAt).getTime())):null;if(I){const E=Date.now()-12096e5,O=Date.now()-720*60*60*1e3;if(I>=E)return{level:"active",color:"badge-info",icon:"â—"};if(I>=O)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var o=ll();o.__click=()=>t.handleSelect(t.area);var i=v(o),s=v(i),u=v(s),b=v(u,!0);l(u);var c=_(u,2);{var d=k=>{var D=sl(),T=v(D);T.__click=C=>t.handleAreaMoveUp(C,t.index);var j=_(T,2);j.__click=C=>t.handleAreaMoveDown(C,t.index),l(D),re(()=>T.disabled=t.index==0),S(k,D)},y=k=>{var D=ue(),T=ae(D);{var j=C=>{il(C,{get status(){return n(a).level}})};te(T,C=>{t.viewMode=="status"&&C(j)},!0)}S(k,D)};te(c,k=>{t.viewMode=="reorder"?k(d):k(y,!1)})}l(s);var f=_(s,2),p=v(f),g=v(p),m=v(g,!0);l(g);var h=_(g,2),w=v(h);l(h),l(p),l(f),l(i),l(o),re(()=>{ee(o,1,`rounded-lg bg-base-200 hover:bg-base-100 transition-colors cursor-pointer w-full ${n(a).level==="avoiding"?"border border-error/20":n(a).level==="fading"?"border border-warning/20":n(a).level==="active"?"border border-info/20":n(a).level==="planned"?"border border-purple-500/20":""}`),B(b,t.area.icon),B(m,t.area.name),B(w,`${n(r)??""} project${n(r)!==1?"s":""}`)}),S(e,o),ge()}_e(["click"]);var dl=F("<button> </button>"),ul=F("<div><!></div>"),vl=F('<div class="flex flex-col h-full bg-base-300"><div class="px-3 pt-1 pb-2 flex flex-row justify-between items-center border-b border-base-content/10"><a href="/" class="flex text-base-content/80 flex-row items-center "><div class="flex flex-col"><div class="text-lg tracking-wider font-medium">Doable</div></div></a> <div class="flex flex-row gap-4"><!> <button class="btn btn-xs btn-ghost"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function fl(e,t){be(t,!0);let r,a=$(tt(localStorage.getItem("areasViewMode")||"none"));xt(()=>localStorage.setItem("areasViewMode",n(a)));let o=$(!1),i=()=>A(a,Xr[(Xr.indexOf(n(a))+1)%Xr.length],!0),s=()=>A(o,!n(o));const u=Q(()=>n(o)?pt.areas.filter(x=>x.status=="archived"):pt.areas.filter(x=>x.status=="active"));async function b(x,I){if(x.stopPropagation(),I===0)return;const E=pt.areas,O=n(u)[I],N=n(u)[I-1],z=E.findIndex(Z=>Z.id===N.id),K=z>0?E[z-1].index:null,W=N.index;await Da(O.index,K,W)}async function c(x,I){if(x.stopPropagation(),I===n(u).length-1)return;const E=pt.areas,O=n(u)[I],N=n(u)[I+1],z=E.findIndex(Z=>Z.id===N.id),K=N.index,W=z<E.length-1?E[z+1].index:null;await Da(O.index,K,W)}var d=vl(),y=v(d),f=_(v(y),2),p=v(f);{var g=x=>{var I=dl();I.__click=i;var E=v(I,!0);l(I),re(()=>{ee(I,1,`btn btn-xs capitalize ${n(a)=="reorder"?"btn-success":"btn-ghost"}`),B(E,n(a)=="reorder"?"Done":"Reorder")}),S(x,I)};te(p,x=>{n(o)||x(g)})}var m=_(p,2);m.__click=s;var h=v(m,!0);l(m),l(f),l(y);var w=_(y,2),k=v(w),D=v(k);we(D,27,()=>n(u),x=>x.id,(x,I,E)=>{var O=ul(),N=v(O);cl(N,{get area(){return n(I)},get handleSelect(){return t.onSelectArea},get index(){return n(E)},handleAreaMoveUp:b,handleAreaMoveDown:c,get viewMode(){return n(a)}}),l(O),Qt(O,()=>rr,()=>({duration:250,easing:ya})),S(x,O)});var T=_(D,2);{var j=x=>{el(x,{get handleClick(){return r.openCreateAreaModal}})};te(T,x=>{n(o)||x(j)})}l(k),l(w);var C=_(w,2);Le(Cn(C,{}),x=>r=x,()=>r),l(d),re(()=>B(h,n(o)?"Active":"Archived")),S(e,d),ge()}_e(["click"]);var bl=F('<span class="text-xs mx-0.5">â€¢</span> ',1),gl=F('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),pl=F('<button class="cursor-pointer flex items-center"><!></button>'),ml=F('<div class="px-3 "><div role="button" tabindex="0"><div class="flex text-sm "> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <p class="text-2xs text-muted font-medium text-base-content/50 "> <!></p></div> <div class="flex flex-row gap-1 items-center"><!></div></div></div></div>');function hl(e,t){be(t,!0);const r=Q(()=>ht.getByProject(t.project.id)),a=Q(()=>n(r).filter(x=>x.status==="active").length),o=Q(()=>n(r).filter(x=>x.status==="completed").length);function i(x){for(const[I,E]of Object.entries(Jt.weeksByWeekOf))if(E.projectAssignments.some(O=>O.projectId===x))return I;return null}function s(x){const I=Xt();if(x===I)return"This week";const E=new Date(I),O=new Date(x),N=Math.round((O.getTime()-E.getTime())/(1e3*60*60*24)),z=Math.round(N/7);return z===1?"Next week":z>1?`In ${z} weeks`:z===-1?"Last week":x.slice(5)}const u=Q(()=>i(t.project.id));var b=ml(),c=v(b);c.__click=()=>t.navigateToTasks(t.project),c.__keydown=x=>x.key==="Enter"&&t.navigateToTasks(t.project);var d=v(c),y=v(d,!0);l(d);var f=_(d,2),p=v(f),g=v(p);Er(g,{get type(){return t.project.type},get level(){return t.project.severity}});var m=_(g,2),h=v(m),w=_(h);{var k=x=>{var I=bl(),E=_(ae(I));re(()=>B(E,` ${n(o)??""} done`)),S(x,I)};te(w,x=>{n(o)>0&&x(k)})}l(m),l(p);var D=_(p,2),T=v(D);{var j=x=>{var I=gl(),E=ae(I);E.__click=N=>t.handleProjectMoveUp(N,t.index);var O=_(E,2);O.__click=N=>t.handleProjectMoveDown(N,t.index),S(x,I)},C=x=>{var I=pl();I.__click=O=>t.handleProjectAssign(O,t.project);var E=v(I);{let O=Q(()=>n(u)?"bg-accent/20 text-accent":"bg-slate-400/20 text-slate-400"),N=Q(()=>n(u)?s(n(u)):"Unassigned");Sn(E,{get classes(){return n(O)},get label(){return n(N)}})}l(I),S(x,I)};te(T,x=>{t.reorderMode?x(j):x(C,!1)})}l(D),l(f),l(c),l(b),re(()=>{ee(c,1,`flex ${t.project.status=="blocked"?"glow-error":""} flex-col p-3 gap-2 transition-colors bg-base-200 cursor-pointer hover:bg-base-100 rounded-lg `),B(y,t.project.name),B(h,`${n(a)??""} active `)}),S(e,b),ge()}_e(["click","keydown"]);var _l=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[605px] max-h-full bg-base-300 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-300 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="grid grid-cols-3 gap-1"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Someday</button> <button type="button">Cancelled</button> <button type="button">Done</button></div></div> <div class="flex gap-3 p-4 pb-10  border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function On(e,t){be(t,!0);const r=[];let a=$(!1),o=$(null),i=$(""),s=$("active"),u=$("regular"),b=$("sev3"),c;function d(){console.log("Creating.."),A(o,null),A(i,""),A(s,"active"),A(u,"regular"),A(b,"sev3"),A(a,!0),setTimeout(()=>c.focus(),100)}function y(k,D){k.stopPropagation(),A(o,D,!0),A(i,D.name,!0),A(s,D.status,!0),A(u,D.type||"regular",!0),A(b,D.severity||"sev1",!0),A(a,!0),setTimeout(()=>c.focus(),100)}function f(){A(a,!1),A(o,null)}async function p(){!n(i).trim()||!t.selectedArea||(n(o)?(await Oo(t.selectedArea.id,n(o).index,{name:n(i).trim(),status:n(s),type:n(u),severity:n(b)}),n(o).name=n(i).trim(),n(o).status=n(s),n(o).type=n(u),n(o).severity=n(b)):await jo(t.selectedArea.id,n(i).trim(),n(u),n(b)),f())}var g={openCreateProjectModal:d,openEditProjectModal:y},m=ue(),h=ae(m);{var w=k=>{var D=_l(),T=v(D);T.__click=f,T.__keydown=Ae=>Ae.key==="Escape"&&f();var j=_(T,2),C=v(j),x=v(C),I=v(x),E=v(I,!0);l(I);var O=_(I,2);O.__click=f,l(x);var N=_(x,2),z=v(N),K=_(v(z),2);Je(K),K.__keydown=Ae=>Ae.key==="Enter"&&p(),Le(K,Ae=>c=Ae,()=>c),l(z);var W=_(z,2),Z=_(v(W),2),H=v(Z);Je(H),H.value=H.__value="regular";var V=_(H,2);Je(V),V.value=V.__value="maintenance",l(Z),l(W);var R=_(W,4),L=v(R);L.__click=()=>A(b,"sev1");var G=_(v(L),2),M=v(G,!0);l(G),l(L);var P=_(L,2);P.__click=()=>A(b,"sev2");var Y=_(v(P),2),J=v(Y,!0);l(Y),l(P);var q=_(P,2);q.__click=()=>A(b,"sev3");var U=_(v(q),2),ie=v(U,!0);l(U),l(q),l(R);var ke=_(R,4),Re=v(ke);let Fe;Re.__click=()=>A(s,"active");var Se=_(Re,2);let Ne;Se.__click=()=>A(s,"blocked");var rt=_(Se,2);let at;rt.__click=()=>A(s,"someday");var Ze=_(rt,2);let ar;Ze.__click=()=>A(s,"cancelled");var dt=_(Ze,2);let Lt;dt.__click=()=>A(s,"completed"),l(ke),l(N);var nr=_(N,2),or=_(v(nr),2);or.__click=f;var yt=_(or,2);yt.__click=p;var Rr=v(yt,!0);l(yt),l(nr),l(C),l(j),l(D),re(Ae=>{B(E,n(o)?"Edit Project":"New Project"),ee(L,1,`hover:bg-purple-500 btn justify-start gap-2 transition-all ${n(b)==="sev1"?"bg-purple-600 text-white":""}`),B(M,Yr[n(u)].sev1),ee(P,1,`hover:bg-emerald-500 hover:text-white btn justify-start gap-2 ${n(b)==="sev2"?"bg-emerald-600 text-white":""} transition-all`),B(J,Yr[n(u)].sev2),ee(q,1,`hover:bg-slate-500 hover:text-slate-300 ${n(b)==="sev3"?"bg-slate-500 text-white":""} btn justify-start gap-2 transition-all`),B(ie,Yr[n(u)].sev3),Fe=ee(Re,1,"btn btn-sm hover:bg-warning hover:text-warning-content",null,Fe,{"btn-warning":n(s)==="active"}),Ne=ee(Se,1,"btn btn-sm hover:btn-error",null,Ne,{"btn-error":n(s)==="blocked"}),at=ee(rt,1,"btn btn-sm hover:btn-info",null,at,{"btn-info":n(s)==="someday"}),ar=ee(Ze,1,"btn btn-sm hover:btn-neutral",null,ar,{"btn-info":n(s)==="cancelled"}),Lt=ee(dt,1,"btn btn-sm hover:btn-success",null,Lt,{"btn-success":n(s)==="completed"}),yt.disabled=Ae,B(Rr,n(o)?"Save":"Create")},[()=>!n(i).trim()]),Ge(3,T,()=>Rt,()=>({duration:200})),ba(K,()=>n(i),Ae=>A(i,Ae)),It(r,[],H,()=>{"regular";return n(u)},Ae=>A(u,Ae)),It(r,[],V,()=>{"maintenance";return n(u)},Ae=>A(u,Ae)),Ge(3,j,()=>Nt,()=>({y:300,duration:300})),S(k,D)};te(h,k=>{n(a)&&k(w)})}return S(e,m),ge(g)}_e(["click","keydown"]);var xl=F('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),yl=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2 pb-10 "></div></div></div>');function wl(e,t){be(t,!0);let r=$(!1),a=$(null),o=$(void 0);function i(p,g,m){p.stopPropagation(),A(o,g,!0),A(a,m,!0),A(r,!0)}function s(){A(r,!1),A(a,null)}async function u(p,g){!n(a)||!n(o)||(g?await on(n(a).id,p):await Po(n(a).id,n(o).id,p),s())}function b(p,g){const m=g??Xt();return Jt.getWeek(m)?.projectAssignments.some(w=>w.projectId===p)??!1}var c={openWeekPicker:i},d=ue(),y=ae(d);{var f=p=>{var g=yl(),m=v(g);m.__click=s,m.__keydown=T=>T.key==="Escape"&&s();var h=_(m,2),w=v(h),k=_(v(w),2);k.__click=s,l(w);var D=_(w,2);we(D,21,Mo,We,(T,j)=>{const C=Q(()=>b(n(a).id,n(j).weekOf));var x=xl();x.__click=()=>u(n(j).weekOf,n(C));var I=v(x),E=v(I,!0);l(I);var O=_(I,2),N=v(O,!0);l(O),l(x),re(()=>{ee(x,1,`w-full p-3 text-left rounded-lg border transition-colors ${n(C)?"bg-base-200 text-primary border-primary":"border-base-content/10 hover:border-primary"}`),B(E,n(j).label),B(N,n(j).weekOf)}),S(T,x)}),l(D),l(h),l(g),Ge(3,m,()=>Rt,()=>({duration:200})),Ge(3,h,()=>Nt,()=>({y:300,duration:300})),S(p,g)};te(y,p=>{n(r)&&n(a)&&p(f)})}return S(e,d),ge(c)}_e(["click","keydown"]);var kl=F("<button> </button>"),Tl=F('<button type="button" class="text-xs flex items-center cursor-pointer mb-1 text-primary"><span class="me-1 text-base">+</span> <span>Add Project</span></button>'),Dl=F("<div><!></div>"),El=F('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),Al=F('<div class="flex flex-col h-full bg-base-300"><div class="flex flex-col border-b border-base-content/10 gap-3 p-3 pb-0"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row gap-3 items-center"><div class="text-3xl"> </div> <h2 class="text-lg tracking-wide"> </h2></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="flex justify-between items-center"><div class="flex gap-1 flex-row"></div> <!></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"></div></div></div> <!> <!> <!>',1);function Il(e,t){be(t,!0);let r,a,o;const i=["active","someday","resolved"];let s=$(tt(localStorage.getItem("projectTabView")||"active"));xt(()=>{n(s)&&localStorage.setItem("projectTabView",n(s))});let u=$(!1),b=()=>A(u,!n(u)),c=Q(()=>st.getByArea(t.selectedArea.id).filter(R=>n(s)=="active"?["active","blocked"].includes(R.status):n(s)=="resolved"?["completed","cancelled"].includes(R.status):R.status=="someday"));async function d(R,L){if(R.stopPropagation(),L===0||!t.selectedArea)return;const G=st.getByArea(t.selectedArea.id),M=n(c)[L],P=n(c)[L-1],Y=G.findIndex(U=>U.id===P.id),J=Y>0?G[Y-1].index:null,q=P.index;await Ea(t.selectedArea.id,M.index,J,q)}async function y(R,L){if(R.stopPropagation(),!t.selectedArea||L===n(c).length-1)return;const G=st.getByArea(t.selectedArea.id),M=n(c)[L],P=n(c)[L+1],Y=G.findIndex(U=>U.id===P.id),J=P.index,q=Y<G.length-1?G[Y+1].index:null;console.log(J,q),await Ea(t.selectedArea.id,M.index,J,q)}var f=Al(),p=ae(f),g=v(p),m=v(g),h=v(m),w=v(h),k=v(w,!0);l(w);var D=_(w,2),T=v(D,!0);l(D),l(h);var j=_(h,2),C=v(j);C.__click=b;var x=_(v(C));l(C);var I=_(C,2);I.__click=R=>r.openEditAreaModal(R,t.selectedArea),l(j),l(m);var E=_(m,2),O=v(E);we(O,21,()=>i,We,(R,L)=>{const G=Q(()=>n(s)===n(L));var M=kl();M.__click=()=>A(s,n(L),!0);var P=v(M,!0);l(M),re(()=>{ee(M,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(G)?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),B(P,n(L))}),S(R,M)}),l(O);var N=_(O,2);{var z=R=>{var L=Tl();L.__click=function(...G){a.openCreateProjectModal?.apply(this,G)},S(R,L)};te(N,R=>{n(s)=="active"&&R(z)})}l(E),l(g);var K=_(g,2),W=v(K);we(W,31,()=>n(c),R=>R.id,(R,L,G)=>{var M=Dl(),P=v(M);hl(P,{get index(){return n(G)},get reorderMode(){return n(u)},handleProjectAssign:(Y,J)=>o.openWeekPicker(Y,t.selectedArea,J),get navigateToTasks(){return t.navigateToTasks},get project(){return n(L)},handleProjectMoveUp:d,handleProjectMoveDown:y}),l(M),Qt(M,()=>rr,()=>({duration:250,easing:ya})),S(R,M)},R=>{var L=El(),G=v(L);l(L),re(()=>B(G,`No ${n(s)??""} projects`)),S(R,L)}),l(W),l(K),l(p);var Z=_(p,2);Le(On(Z,{get selectedArea(){return t.selectedArea}}),R=>a=R,()=>a);var H=_(Z,2);Le(wl(H,{}),R=>o=R,()=>o);var V=_(H,2);Le(Cn(V,{}),R=>r=R,()=>r),re(()=>{B(k,t.selectedArea.icon),B(T,t.selectedArea.name),ee(C,1,`btn ${n(u)?"btn-success":"btn-ghost"} btn-xs`),B(x,` ${n(u)?"Done":"Reorder"}`)}),S(e,f),ge()}_e(["click"]);var Sl=F('<button type="button"> </button>'),Cl=F('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),Ol=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 pb-10 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function jl(e,t){be(t,!0);let r=$(!1),a=$(null),o=$(""),i=$("active"),s;function u(){A(a,null),A(o,""),A(i,"active"),A(r,!0),setTimeout(()=>s.focus(),100)}function b(m,h){m.stopPropagation(),A(a,h,!0),A(o,h.name,!0),A(i,h.status,!0),A(r,!0),setTimeout(()=>s.focus(),100)}function c(){A(r,!1),A(a,null)}async function d(){!n(o).trim()||!t.selectedProject||!t.selectedArea||(n(a)?await ln(t.selectedProject.id,n(a).index,{name:n(o).trim(),status:n(i)}):await sn(t.selectedProject.id,t.selectedArea.id,n(o).trim()),c())}var y={openCreateTaskModal:u,openEditTaskModal:b},f=ue(),p=ae(f);{var g=m=>{var h=Ol(),w=v(h);w.__click=c,w.__keydown=H=>H.key==="Escape"&&c();var k=_(w,2),D=v(k),T=v(D),j=v(T,!0);l(T);var C=_(T,2);C.__click=c,l(D);var x=_(D,2),I=v(x),E=_(v(I),2);Je(E),E.__keydown=H=>H.key==="Enter"&&d(),Le(E,H=>s=H,()=>s),l(I);var O=_(I,2);{var N=H=>{var V=Cl(),R=_(v(V),2);we(R,21,()=>Qs,We,(L,G)=>{var M=Sl();M.__click=()=>A(i,n(G).value,!0);var P=v(M,!0);l(M),re(()=>{ee(M,1,`px-2 py-1.5 text-sm rounded-lg border transition-colors ${n(i)===n(G).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),B(P,n(G).label)}),S(L,M)}),l(R),l(V),S(H,V)};te(O,H=>{n(a)&&H(N)})}l(x);var z=_(x,2),K=_(v(z),2);K.__click=c;var W=_(K,2);W.__click=d;var Z=v(W,!0);l(W),l(z),l(k),l(h),re(H=>{B(j,n(a)?"Edit Task":"New Task"),W.disabled=H,B(Z,n(a)?"Save":"Create")},[()=>!n(o).trim()]),Ge(3,w,()=>Rt,()=>({duration:200})),ba(E,()=>n(o),H=>A(o,H)),Ge(3,k,()=>Nt,()=>({y:300,duration:300})),S(m,h)};te(p,m=>{n(r)&&m(g)})}return S(e,f),ge(y)}_e(["click","keydown"]);var Ml=qt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Pl=qt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Rl=qt('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),Nl=F('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),Ll=F('<div tabindex="0" role="button" class="hover:bg-base-100 cursor-pointer w-full flex flex-row items-start py-4 px-3 bg-base-200 rounded-md"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function Fl(e,t){be(t,!0);const r=Q(()=>t.task.status==="completed"),a=Q(()=>t.task.status==="cancelled"),o=Q(()=>t.task.status==="blocked");var i=Ll();i.__click=g=>t.handleEdit(g,t.task);var s=v(i);s.__click=g=>t.toggleTaskComplete(g,t.task);var u=v(s);{var b=g=>{var m=Ml();S(g,m)},c=g=>{var m=ue(),h=ae(m);{var w=D=>{var T=Pl();S(D,T)},k=D=>{var T=ue(),j=ae(T);{var C=x=>{var I=Rl();S(x,I)};te(j,x=>{n(o)&&x(C)},!0)}S(D,T)};te(h,D=>{n(a)?D(w):D(k,!1)},!0)}S(g,m)};te(u,g=>{n(r)?g(b):g(c,!1)})}l(s);var d=_(s,2),y=v(d,!0);l(d);var f=_(d,2);{var p=g=>{var m=Nl(),h=ae(m);h.__click=k=>t.handleTaskMoveUp(k,t.index);var w=_(h,2);w.__click=k=>t.handleTaskMoveDown(k,t.index),S(g,m)};te(f,g=>{t.reorderEnabled&&g(p)})}l(i),re(()=>{ee(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(r)?"bg-success/70 border-success/10 text-success-content":n(o)?"text-error border-error bg-error/30":n(a)?"bg-base-content/15 border-base-content/30 text-base-content":"border-base-content/30 hover:border-success/70"}`),s.disabled=n(a),B(y,t.task.name)}),S(e,i),ge()}_e(["click"]);var Bl=F("<span> </span>");function zl(e,t){const r={active:{label:"Active",class:"bg-info/20 text-info"},blocked:{label:"Blocked",class:"bg-error/20 text-error"},someday:{label:"Someday",class:"bg-base-content/10 text-base-content/50"},completed:{label:"Completed",class:"bg-success/20 text-success"},cancelled:{label:"Cancelled",class:"bg-base-content/10 text-base-content/40"}},a=Q(()=>r[t.status]||r.active);var o=Bl(),i=v(o,!0);l(o),re(()=>{ee(o,1,`inline-flex items-center px-2 py-0.5 rounded text-2xs font-medium ${n(a).class??""}`),B(i,n(a).label)}),S(e,o)}var Wl=F("<div><!></div>"),Gl=F('<div class="flex flex-col h-full w-full bg-base-300"><div class="flex flex-col p-3 gap-3 border-b border-base-content/10"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row items-center gap-1 text-xs  text-muted"><div class="text-base"> </div> <div> </div></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="mb-1"> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <!></div> <button type="button" class="text-xs flex items-center cursor-pointer mb-1 text-primary"><span class="me-1 text-base">+</span> <span>Add Task</span></button></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0 gap-2"></div></div></div> <!> <!>',1);function Hl(e,t){be(t,!0);let r,a,o=Q(()=>ht.getByProject(t.selectedProject.id)),i=$(!1),s=()=>A(i,!n(i));async function u(R,L){if(R.stopPropagation(),!t.selectedProject)return;const G=L.status==="completed"?"active":"completed";await ln(t.selectedProject.id,L.index,{status:G})}async function b(R,L){if(R.stopPropagation(),L===0||!t.selectedProject)return;const G=n(o),M=ht.getByProject(t.selectedProject.id),P=G[L],Y=G[L-1],J=M.findIndex(ie=>ie.id===Y.id),q=J>0?M[J-1].index:null,U=Y.index;await Aa(t.selectedProject.id,P.index,q,U)}async function c(R,L){if(R.stopPropagation(),!t.selectedProject)return;const G=n(o);if(L===G.length-1)return;const M=ht.getByProject(t.selectedProject.id),P=G[L],Y=G[L+1],J=M.findIndex(ie=>ie.id===Y.id),q=Y.index,U=J<M.length-1?M[J+1].index:null;await Aa(t.selectedProject.id,P.index,q,U)}var d=Gl(),y=ae(d),f=v(y),p=v(f),g=v(p),m=v(g),h=v(m,!0);l(m);var w=_(m,2),k=v(w,!0);l(w),l(g);var D=_(g,2),T=v(D);T.__click=s;var j=_(v(T));l(T);var C=_(T,2);C.__click=R=>r.openEditProjectModal(R,t.selectedProject),l(D),l(p);var x=_(p,2),I=v(x,!0);l(x);var E=_(x,2),O=v(E),N=v(O);zl(N,{get status(){return t.selectedProject.status}});var z=_(N,2);Er(z,{get level(){return t.selectedProject.severity},get type(){return t.selectedProject.type}}),l(O);var K=_(O,2);K.__click=function(...R){a.openCreateTaskModal?.apply(this,R)},l(E),l(f);var W=_(f,2),Z=v(W);we(Z,31,()=>n(o),R=>R.id,(R,L,G)=>{var M=Wl(),P=v(M);Fl(P,{get handleEdit(){return a.openEditTaskModal},handleTaskMoveUp:b,handleTaskMoveDown:c,get index(){return n(G)},get task(){return n(L)},toggleTaskComplete:u,get reorderEnabled(){return n(i)}}),l(M),Qt(M,()=>rr,()=>({duration:250,easing:ya})),S(R,M)}),l(Z),l(W),l(y);var H=_(y,2);Le(jl(H,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),R=>a=R,()=>a);var V=_(H,2);Le(On(V,{get selectedArea(){return t.selectedArea}}),R=>r=R,()=>r),re(()=>{B(h,t.selectedArea.icon),B(k,t.selectedArea.name),ee(T,1,`btn ${n(i)?"btn-success":"btn-ghost"} btn-xs`),B(j,` ${n(i)?"Done":"Reorder"}`),B(I,t.selectedProject.name)}),S(e,d),ge()}_e(["click"]);var Vl=F('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),Ul=F('<div class="h-screen flex flex-col bg-base-300 md:ml-20"><div class="max-md:pb-22 h-full"><!></div> <!></div>');function $l(e,t){be(t,!0);const r=()=>s("areas"),a=()=>s("projects");let o=$(void 0),i=$(void 0);s("areas");function s(m){mo("",{activeTab:m})}function u(m){A(o,m,!0),s("projects")}function b(m){A(i,m,!0),A(o,pt.getById(m.areaId),!0),s("tasks")}var c=Ul(),d=v(c),y=v(d);{var f=m=>{fl(m,{onSelectArea:u})},p=m=>{var h=ue(),w=ae(h);{var k=T=>{Il(T,{navigateBack:r,navigateToTasks:b,get selectedArea(){return n(o)}})},D=T=>{var j=ue(),C=ae(j);{var x=E=>{Hl(E,{navigateBack:a,get selectedArea(){return n(o)},get selectedProject(){return n(i)}})},I=E=>{var O=ue(),N=ae(O);{var z=W=>{Ps(W,{navigateToTasks:b})},K=W=>{var Z=ue(),H=ae(Z);{var V=L=>{Js(L,{})},R=L=>{var G=ue(),M=ae(G);{var P=Y=>{var J=Vl();S(Y,J)};te(M,Y=>{ft.state.activeTab==="review"&&Y(P)},!0)}S(L,G)};te(H,L=>{ft.state.activeTab==="today"?L(V):L(R,!1)},!0)}S(W,Z)};te(N,W=>{ft.state.activeTab==="week"?W(z):W(K,!1)},!0)}S(E,O)};te(C,E=>{ft.state.activeTab=="tasks"?E(x):E(I,!1)},!0)}S(T,j)};te(w,T=>{ft.state.activeTab==="projects"?T(k):T(D,!1)},!0)}S(m,h)};te(y,m=>{ft.state.activeTab==="areas"?m(f):m(p,!1)})}l(d);var g=_(d,2);$o(g,{get activeTab(){return ft.state.activeTab},onTabChange:s}),l(c),S(e,c),ge()}export{$l as component};
