import{b as _n,d as _e,f as F,a as A,s as z,c as ue,e as or,t as Ca,g as yt}from"../chunks/D3UQACKP.js";import{y as Dr,E as xn,K as Er,A as Pe,aq as yn,F as wn,g as n,T as kn,H as Tn,I as Dn,J as ia,L as Ar,B as Qt,aa as En,aE as An,ah as sa,o as kt,aG as rt,z as Rr,D as In,a8 as la,a4 as On,aC as qr,aH as Sn,aI as jn,aJ as Cn,aK as Mn,v as Ma,x as Pa,aL as Ir,ay as Pn,aB as Nn,w as Rn,aM as Na,q as Bt,aN as Ln,W as Ra,G as Fn,aO as Bn,au as Wn,e as La,u as Kr,aP as zn,ap as Fa,aQ as Gn,aR as Ct,r as Xr,h as Un,aS as Hn,aT as Vn,aU as Zn,aV as Yn,aW as qn,aX as Kn,aY as Ba,a5 as Xn,aZ as Jn,a_ as Qn,ao as $n,p as we,l as ke,n as l,m as d,s as _,t as K,k as ne,O as J,N as O,a6 as $,U as _t,b as xt,ai as ir}from"../chunks/DALkzYGd.js";import{i as Z}from"../chunks/BH6s77UL.js";import{a as eo}from"../chunks/Jj9T8Rau.js";import{p as ft}from"../chunks/VgUPdIlX.js";import{a1 as rr,a2 as to,a3 as ro,a4 as ao,a5 as Wa,a6 as za,a7 as mt,a8 as no,a9 as Ut,aa as oo,ab as pt,ac as et,ad as Ht,ae as Ga,af as io,ag as Ua,ah as so,ai as lo,aj as co,ak as uo,al as vo,am as fo,an as bo,ao as go,ap as po,aq as ca,ar as Ha,as as mo,at as ho,au as _o,av as da,aw as Va,ax as ua}from"../chunks/87D7SCSB.js";import{b as dt}from"../chunks/CUJ0RYTV.js";function Le(e,t){return t}function xo(e,t,r){for(var a=[],i=t.length,o,s=t.length,v=0;v<i;v++){let y=t[v];Pa(y,()=>{if(o){if(o.pending.delete(y),o.done.add(y),o.pending.size===0){var c=e.outrogroups;Lr(qr(o.done)),c.delete(o),c.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var f=a.length===0&&r!==null;if(f){var b=r,u=b.parentNode;Nn(u),u.append(b),e.items.clear()}Lr(t,!f)}else o={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(o)}function Lr(e,t=!0){for(var r=0;r<e.length;r++)Rn(e[r],t)}var va;function Oe(e,t,r,a,i,o=null){var s=e,v=new Map,f=(t&Na)!==0;if(f){var b=e;s=Pe?Er(yn(b)):b.appendChild(Dr())}Pe&&wn();var u=null,y=kn(()=>{var x=r();return Sn(x)?x:x==null?[]:qr(x)}),c,h=!0;function g(){m.fallback=u,yo(m,c,s,t,a),u!==null&&(c.length===0?(u.f&rt)===0?Ma(u):(u.f^=rt,Rt(u,null,s)):Pa(u,()=>{u=null}))}var p=xn(()=>{c=n(y);var x=c.length;let w=!1;if(Pe){var D=Tn(s)===Dn;D!==(x===0)&&(s=ia(),Er(s),Ar(!1),w=!0)}for(var k=new Set,S=kt,j=In(),T=0;T<x;T+=1){Pe&&Qt.nodeType===En&&Qt.data===An&&(s=Qt,w=!0,Ar(!1));var I=c[T],E=a(I,T),C=h?null:v.get(E);C?(C.v&&sa(C.v,I),C.i&&sa(C.i,T),j&&S.skipped_effects.delete(C.e)):(C=wo(v,h?s:va??=Dr(),I,E,T,i,t,r),h||(C.e.f|=rt),v.set(E,C)),k.add(E)}if(x===0&&o&&!u&&(h?u=Rr(()=>o(s)):(u=Rr(()=>o(va??=Dr())),u.f|=rt)),Pe&&x>0&&Er(ia()),!h)if(j){for(const[B,H]of v)k.has(B)||S.skipped_effects.add(H.e);S.oncommit(g),S.ondiscard(()=>{})}else g();w&&Ar(!0),n(y)}),m={effect:p,items:v,outrogroups:null,fallback:u};h=!1,Pe&&(s=Qt)}function yo(e,t,r,a,i){var o=(a&Ln)!==0,s=t.length,v=e.items,f=e.effect.first,b,u=null,y,c=[],h=[],g,p,m,x;if(o)for(x=0;x<s;x+=1)g=t[x],p=i(g,x),m=v.get(p).e,(m.f&rt)===0&&(m.nodes?.a?.measure(),(y??=new Set).add(m));for(x=0;x<s;x+=1){if(g=t[x],p=i(g,x),m=v.get(p).e,e.outrogroups!==null)for(const C of e.outrogroups)C.pending.delete(m),C.done.delete(m);if((m.f&rt)!==0)if(m.f^=rt,m===f)Rt(m,null,r);else{var w=u?u.next:f;m===e.effect.last&&(e.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),ot(e,u,m),ot(e,m,w),Rt(m,w,r),u=m,c=[],h=[],f=u.next;continue}if((m.f&Ir)!==0&&(Ma(m),o&&(m.nodes?.a?.unfix(),(y??=new Set).delete(m))),m!==f){if(b!==void 0&&b.has(m)){if(c.length<h.length){var D=h[0],k;u=D.prev;var S=c[0],j=c[c.length-1];for(k=0;k<c.length;k+=1)Rt(c[k],D,r);for(k=0;k<h.length;k+=1)b.delete(h[k]);ot(e,S.prev,j.next),ot(e,u,S),ot(e,j,D),f=D,u=j,x-=1,c=[],h=[]}else b.delete(m),Rt(m,f,r),ot(e,m.prev,m.next),ot(e,m,u===null?e.effect.first:u.next),ot(e,u,m),u=m;continue}for(c=[],h=[];f!==null&&f!==m;)(b??=new Set).add(f),h.push(f),f=f.next;if(f===null)continue}(m.f&rt)===0&&c.push(m),u=m,f=m.next}if(e.outrogroups!==null){for(const C of e.outrogroups)C.pending.size===0&&(Lr(qr(C.done)),e.outrogroups?.delete(C));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||b!==void 0){var T=[];if(b!==void 0)for(m of b)(m.f&Ir)===0&&T.push(m);for(;f!==null;)(f.f&Ir)===0&&f!==e.fallback&&T.push(f),f=f.next;var I=T.length;if(I>0){var E=(a&Na)!==0&&s===0?r:null;if(o){for(x=0;x<I;x+=1)T[x].nodes?.a?.measure();for(x=0;x<I;x+=1)T[x].nodes?.a?.fix()}xo(e,T,E)}}o&&Bt(()=>{if(y!==void 0)for(m of y)m.nodes?.a?.apply()})}function wo(e,t,r,a,i,o,s,v){var f=(s&jn)!==0?(s&Cn)===0?On(r,!1,!1):la(r):null,b=(s&Mn)!==0?la(i):null;return{v:f,i:b,e:Rr(()=>(o(t,f??r,b??i,v),()=>{e.delete(a)}))}}function Rt(e,t,r){if(e.nodes)for(var a=e.nodes.start,i=e.nodes.end,o=t&&(t.f&rt)===0?t.nodes.start:r;a!==null;){var s=Pn(a);if(o.before(a),a===i)return;a=s}}function ot(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const ko=()=>performance.now(),tt={tick:e=>requestAnimationFrame(e),now:()=>ko(),tasks:new Set};function Za(){const e=tt.now();tt.tasks.forEach(t=>{t.c(e)||(tt.tasks.delete(t),t.f())}),tt.tasks.size!==0&&tt.tick(Za)}function To(e){let t;return tt.tasks.size===0&&tt.tick(Za),{promise:new Promise(r=>{tt.tasks.add(t={c:e,f:r})}),abort(){tt.tasks.delete(t)}}}function $t(e,t){Fa(()=>{e.dispatchEvent(new CustomEvent(t))})}function Do(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function fa(e){const t={},r=e.split(";");for(const a of r){const[i,o]=a.split(":");if(!i||o===void 0)break;const s=Do(i.trim());t[s]=o.trim()}return t}const Eo=e=>e;function Ya(e,t,r){var a=Ra,i=a.nodes,o,s,v,f=null;i.a??={element:e,measure(){o=this.element.getBoundingClientRect()},apply(){if(v?.abort(),s=this.element.getBoundingClientRect(),o.left!==s.left||o.right!==s.right||o.top!==s.top||o.bottom!==s.bottom){const b=t()(this.element,{from:o,to:s},r?.());v=sr(this.element,b,void 0,1,()=>{v?.abort(),v=void 0})}},fix(){if(!e.getAnimations().length){var{position:b,width:u,height:y}=getComputedStyle(e);if(b!=="absolute"&&b!=="fixed"){var c=e.style;f={position:c.position,width:c.width,height:c.height,transform:c.transform},c.position="absolute",c.width=u,c.height=y;var h=e.getBoundingClientRect();if(o.left!==h.left||o.top!==h.top){var g=`translate(${o.left-h.left}px, ${o.top-h.top}px)`;c.transform=c.transform?`${c.transform} ${g}`:g}}}},unfix(){if(f){var b=e.style;b.position=f.position,b.width=f.width,b.height=f.height,b.transform=f.transform}}},i.a.element=e}function Ve(e,t,r,a){var i=(e&zn)!==0,o="both",s,v=t.inert,f=t.style.overflow,b,u;function y(){return Fa(()=>s??=r()(t,a?.()??{},{direction:o}))}var c={is_global:i,in(){t.inert=v,$t(t,"introstart"),b=sr(t,y(),u,1,()=>{$t(t,"introend"),b?.abort(),b=s=void 0,t.style.overflow=f})},out(m){t.inert=!0,$t(t,"outrostart"),u=sr(t,y(),b,0,()=>{$t(t,"outroend"),m?.()})},stop:()=>{b?.abort(),u?.abort()}},h=Ra;if((h.nodes.t??=[]).push(c),_n){var g=i;if(!g){for(var p=h.parent;p&&(p.f&Fn)!==0;)for(;(p=p.parent)&&(p.f&Bn)===0;);g=!p||(p.f&Wn)!==0}g&&La(()=>{Kr(()=>c.in())})}}function sr(e,t,r,a,i){var o=a===1;if(Gn(t)){var s,v=!1;return Bt(()=>{if(!v){var m=t({direction:o?"in":"out"});s=sr(e,m,r,a,i)}}),{abort:()=>{v=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return i(),{abort:Ct,deactivate:Ct,reset:Ct,t:()=>a};const{delay:f=0,css:b,tick:u,easing:y=Eo}=t;var c=[];if(o&&r===void 0&&(u&&u(0,1),b)){var h=fa(b(0,1));c.push(h,h)}var g=()=>1-a,p=e.animate(c,{duration:f,fill:"forwards"});return p.onfinish=()=>{p.cancel();var m=r?.t()??1-a;r?.abort();var x=a-m,w=t.duration*Math.abs(x),D=[];if(w>0){var k=!1;if(b)for(var S=Math.ceil(w/16.666666666666668),j=0;j<=S;j+=1){var T=m+x*y(j/S),I=fa(b(T,1-T));D.push(I),k||=I.overflow==="hidden"}k&&(e.style.overflow="hidden"),g=()=>{var E=p.currentTime;return m+x*y(E/w)},u&&To(()=>{if(p.playState!=="running")return!1;var E=g();return u(E,1-E),!0})}p=e.animate(D,{duration:w,fill:"forwards"}),p.onfinish=()=>{g=()=>a,u?.(a,1-a),i()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=Ct)},deactivate:()=>{i=Ct},reset:()=>{a===0&&u?.(1,0)},t:()=>g()}}function Jr(e,t,r){La(()=>{var a=Kr(()=>t(e,r?.())||{});if(r&&a?.update){var i=!1,o={};Xr(()=>{var s=r();Un(s),i&&Hn(o,s)&&(o=s,a.update(s))}),i=!0}if(a?.destroy)return()=>a.destroy()})}const ba=[...` 	
\r\fÂ \v\uFEFF`];function Ao(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var i in r)if(r[i])a=a?a+" "+i:i;else if(a.length)for(var o=i.length,s=0;(s=a.indexOf(i,s))>=0;){var v=s+o;(s===0||ba.includes(a[s-1]))&&(v===a.length||ba.includes(a[v]))?a=(s===0?"":a.substring(0,s))+a.substring(v+1):s=v}}return a===""?null:a}function ga(e,t=!1){var r=t?" !important;":";",a="";for(var i in e){var o=e[i];o!=null&&o!==""&&(a+=" "+i+": "+o+r)}return a}function Or(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Io(e,t){if(t){var r="",a,i;if(Array.isArray(t)?(a=t[0],i=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,v=!1,f=[];a&&f.push(...Object.keys(a).map(Or)),i&&f.push(...Object.keys(i).map(Or));var b=0,u=-1;const p=e.length;for(var y=0;y<p;y++){var c=e[y];if(v?c==="/"&&e[y-1]==="*"&&(v=!1):o?o===c&&(o=!1):c==="/"&&e[y+1]==="*"?v=!0:c==='"'||c==="'"?o=c:c==="("?s++:c===")"&&s--,!v&&o===!1&&s===0){if(c===":"&&u===-1)u=y;else if(c===";"||y===p-1){if(u!==-1){var h=Or(e.substring(b,u).trim());if(!f.includes(h)){c!==";"&&y++;var g=e.substring(b,y).trim();r+=" "+g+";"}}b=y+1,u=-1}}}}return a&&(r+=ga(a)),i&&(r+=ga(i,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function ae(e,t,r,a,i,o){var s=e.__className;if(Pe||s!==r||s===void 0){var v=Ao(r,a,o);(!Pe||v!==e.getAttribute("class"))&&(v==null?e.removeAttribute("class"):e.className=v),e.__className=r}else if(o&&i!==o)for(var f in o){var b=!!o[f];(i==null||b!==!!i[f])&&e.classList.toggle(f,b)}return o}function Sr(e,t={},r,a){for(var i in r){var o=r[i];t[i]!==o&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,a))}}function Vt(e,t,r,a){var i=e.__style;if(Pe||i!==t){var o=Io(t,a);(!Pe||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}else a&&(Array.isArray(a)?(Sr(e,r?.[0],a[0]),Sr(e,r?.[1],a[1],"important")):Sr(e,r,a));return a}const Oo=Symbol("is custom element"),So=Symbol("is html");function lt(e){if(Pe){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;Fr(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var i=e.checked;Fr(e,"checked",null),e.checked=i}}};e.__on_r=r,Bt(r),Vn()}}function jo(e,t){var r=qa(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Fr(e,t,r,a){var i=qa(e);Pe&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=r)&&(t==="loading"&&(e[Zn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Co(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function qa(e){return e.__attributes??={[Oo]:e.nodeName.includes("-"),[So]:e.namespaceURI===Yn}}var pa=new Map;function Co(e){var t=e.getAttribute("is")||e.nodeName,r=pa.get(t);if(r)return r;pa.set(t,r=[]);for(var a,i=e,o=Element.prototype;o!==i;){a=Kn(i);for(var s in a)a[s].set&&r.push(s);i=qn(i)}return r}function Qr(e,t,r=t){var a=new WeakSet;Ba(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=Cr(e)?Mr(o):o,r(o),kt!==null&&a.add(kt),await Xn(),o!==(o=t())){var s=e.selectionStart,v=e.selectionEnd,f=e.value.length;if(e.value=o??"",v!==null){var b=e.value.length;s===v&&v===f&&b>f?(e.selectionStart=b,e.selectionEnd=b):(e.selectionStart=s,e.selectionEnd=Math.min(v,b))}}}),(Pe&&e.defaultValue!==e.value||Kr(t)==null&&e.value)&&(r(Cr(e)?Mr(e.value):e.value),kt!==null&&a.add(kt)),Xr(()=>{var i=t();if(e===document.activeElement){var o=Jn??kt;if(a.has(o))return}Cr(e)&&i===Mr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const jr=new Set;function lr(e,t,r,a,i=a){var o=r.getAttribute("type")==="checkbox",s=e;let v=!1;if(t!==null)for(var f of t)s=s[f]??=[];s.push(r),Ba(r,"change",()=>{var b=r.__value;o&&(b=ma(s,b,r.checked)),i(b)},()=>i(o?[]:null)),Xr(()=>{var b=a();if(Pe&&r.defaultChecked!==r.checked){v=!0;return}o?(b=b||[],r.checked=b.includes(r.__value)):r.checked=Qn(r.__value,b)}),$n(()=>{var b=s.indexOf(r);b!==-1&&s.splice(b,1)}),jr.has(s)||(jr.add(s),Bt(()=>{s.sort((b,u)=>b.compareDocumentPosition(u)===4?-1:1),jr.delete(s)})),Bt(()=>{if(v){var b;if(o)b=ma(s,b,r.checked);else{var u=s.find(y=>y.checked);b=u?.__value}i(b)}})}function ma(e,t,r){for(var a=new Set,i=0;i<e.length;i+=1)e[i].checked&&a.add(e[i].__value);return r||a.delete(t),Array.from(a)}function Cr(e){var t=e.type;return t==="number"||t==="range"}function Mr(e){return e===""?null:+e}const Mt={regular:{sev1:"Core to who I am or want to become",sev2:"Significant progress toward a major goal",sev3:"Meaningful but not defining",sev4:"Nice to do, no real deadline",sev5:"Pure exploration or fun"},maintenance:{sev1:"Immediate risk if ignored (safety, legal, financial)",sev2:"Disrupts daily life if neglected",sev3:"Routine upkeep, flexible timing",sev4:"Minor improvement, no consequences",sev5:"Cosmetic or nice-to-have"}},Mo=["ðŸ’¼","ðŸ ","ðŸ’ª","ðŸ“š","ðŸ’°","â¤ï¸","ðŸŽ¯","ðŸš€","ðŸŽ¨","ðŸŽµ","âœˆï¸","ðŸŽ","ðŸ§˜","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ“±","ðŸ’»","ðŸ”§","ðŸ“","ðŸŽ“","ðŸƒ","ðŸ§ ","ðŸŒ±","â­","ðŸ”¥","ðŸ’¡","ðŸŽ®","ðŸ“¸","ðŸ›’","ðŸ¦","ðŸš—","ðŸ‹ï¸"];_e(["click","keydown"]);var Po=F('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),No=F('<nav class="pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav>');function Ro(e,t){we(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var a=No();Oe(a,21,()=>r,Le,(i,o)=>{var s=Po();let v;s.__click=()=>t.onTabChange(n(o).id);let f;var b=d(s),u=d(b,!0);l(b);var y=_(b,2),c=d(y,!0);l(y),l(s),K(()=>{v=ae(s,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,v,{"text-primary":t.activeTab===n(o).id,"text-base-content":t.activeTab!==n(o).id}),f=Vt(s,"",f,{opacity:t.activeTab===n(o).id?1:.4}),z(u,n(o).icon),z(c,n(o).label)}),A(i,s)}),l(a),A(e,a),ke()}_e(["click"]);const Lo=e=>e;function Fo(e){const t=e-1;return t*t*t+1}function ha(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function St(e,{delay:t=0,duration:r=400,easing:a=Lo}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:o=>`opacity: ${o*i}`}}function jt(e,{delay:t=0,duration:r=400,easing:a=Fo,x:i=0,y:o=0,opacity:s=0}={}){const v=getComputedStyle(e),f=+v.opacity,b=v.transform==="none"?"":v.transform,u=f*(1-s),[y,c]=ha(i),[h,g]=ha(o);return{delay:t,duration:r,easing:a,css:(p,m)=>`
			transform: ${b} translate(${(1-p)*y}${c}, ${(1-p)*h}${g});
			opacity: ${f-u*m}`}}var Bo=F('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),Wo=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function zo(e,t){we(t,!0);let r=J(!1),a=J(null);function i(c,h,g,p){c.stopPropagation(),O(a,{task:h,project:g,area:p},!0),O(r,!0)}function o(){O(r,!1),O(a,null)}function s(){return ro(t.currentWeekOf).map(c=>({date:c,dayName:Wa(c),isToday:ao(c)}))}async function v(c){if(!n(a))return;const{task:h,project:g,area:p}=n(a);o();const m=t.isTaskAssignedToDay(h.id);m===c?await rr(h.id,g.id,t.currentWeekOf,c):(m&&await rr(h.id,g.id,t.currentWeekOf,m),await to(h.id,g.id,p.id,h.name,t.currentWeekOf,c,!1))}var f={openDayPicker:i},b=ue(),u=ne(b);{var y=c=>{var h=Wo(),g=d(h);g.__click=o,g.__keydown=I=>I.key==="Escape"&&o();var p=_(g,2),m=d(p),x=d(m),w=_(d(x),2),D=d(w,!0);l(w),l(x);var k=_(x,2);k.__click=o,l(m);var S=_(m,2);Oe(S,21,s,Le,(I,E)=>{const C=$(()=>t.isTaskAssignedToDay(n(a).task.id)===n(E).date);var B=Bo();B.__click=()=>v(n(E).date);var H=d(B),V=d(H,!0);l(H);var W=_(H,2),R=d(W,!0);l(W),l(B),K(P=>{ae(B,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${n(C)?"bg-primary text-primary-content border-primary":n(E).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),z(V,n(E).dayName),z(R,P)},[()=>n(E).date.split("-")[2]]),A(I,B)}),l(S);var j=_(S,2),T=d(j);T.__click=()=>{const I=t.isTaskAssignedToDay(n(a).task.id);I&&rr(n(a).task.id,n(a).project.id,t.currentWeekOf,I),o()},l(j),l(p),l(h),K(()=>z(D,n(a).task.name)),Ve(3,g,()=>St,()=>({duration:200})),Ve(3,p,()=>jt,()=>({y:300,duration:300})),A(c,h)};Z(u,c=>{n(r)&&n(a)&&c(y)})}return A(e,b),ke(f)}_e(["click","keydown"]);function _a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_a(Object(r),!0).forEach(function(a){At(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tt(e){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(e)}function At(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Go(e,t){if(e==null)return{};var r={},a=Object.keys(e),i,o;for(o=0;o<a.length;o++)i=a[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Uo(e,t){if(e==null)return{};var r=Go(e,t),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ho(e,t){return Zo(e)||qo(e,t)||$r(e,t)||Xo()}function He(e){return Vo(e)||Yo(e)||$r(e)||Ko()}function Vo(e){if(Array.isArray(e))return Br(e)}function Zo(e){if(Array.isArray(e))return e}function Yo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qo(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],i=!0,o=!1,s,v;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));i=!0);}catch(f){o=!0,v=f}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw v}}return a}}function $r(e,t){if(e){if(typeof e=="string")return Br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Br(e,t)}}function Br(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ko(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=$r(e))||t){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,v;return{s:function(){r=r.call(e)},n:function(){var f=r.next();return o=f.done,f},e:function(f){s=!0,v=f},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw v}}}}var Jo="finalize",Qo="consider";function It(e,t,r){e.dispatchEvent(new CustomEvent(Jo,{detail:{items:t,info:r}}))}function ut(e,t,r){e.dispatchEvent(new CustomEvent(Qo,{detail:{items:t,info:r}}))}var pr="draggedEntered",Yt="draggedLeft",mr="draggedOverIndex",ea="draggedLeftDocument",dr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function $o(e,t,r){e.dispatchEvent(new CustomEvent(pr,{detail:{indexObj:t,draggedEl:r}}))}function ei(e,t,r){e.dispatchEvent(new CustomEvent(Yt,{detail:{draggedEl:t,type:dr.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function ti(e,t){e.dispatchEvent(new CustomEvent(Yt,{detail:{draggedEl:t,type:dr.OUTSIDE_OF_ANY}}))}function ri(e,t,r){e.dispatchEvent(new CustomEvent(mr,{detail:{indexObj:t,draggedEl:r}}))}function ai(e){window.dispatchEvent(new CustomEvent(ea,{detail:{draggedEl:e}}))}var je={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:pr,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:mr,DRAGGED_LEFT:Yt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Re={POINTER:"pointer",KEYBOARD:"keyboard"},hr="isDndShadowItem",_r="data-is-dnd-shadow-item-internal",ni="data-is-dnd-shadow-item-hint",Ka="id:dnd-shadow-placeholder-0000",oi="dnd-action-dragged-el",he="id",Wr=0;function Xa(){Wr++}function Ja(){if(Wr===0)throw new Error("Bug! trying to decrement when there are no dropzones");Wr--}var ta=typeof window>"u";function zr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?li(e):e.getBoundingClientRect(),i=getComputedStyle(e),o=i.transform;if(o){var s,v,f,b;if(o.startsWith("matrix3d("))r=o.slice(9,-1).split(/, /),s=+r[0],v=+r[5],f=+r[12],b=+r[13];else if(o.startsWith("matrix("))r=o.slice(7,-1).split(/, /),s=+r[0],v=+r[3],f=+r[4],b=+r[5];else return a;var u=i.transformOrigin,y=a.x-f-(1-s)*parseFloat(u),c=a.y-b-(1-v)*parseFloat(u.slice(u.indexOf(" ")+1)),h=s?a.width/s:e.offsetWidth,g=v?a.height/v:e.offsetHeight;return{x:y,y:c,width:h,height:g,top:c,right:y+h,bottom:c+g,left:y}}else return a}function Qa(e){var t=zr(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function $a(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function en(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function ii(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function xr(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Wt(e){return en($a(e))}function xa(e,t){var r=Wt(e),a=Qa(t);return xr(r,a)}function ya(e,t){var r=Wt(e),a=Wt(t);return ii(r,a)}function si(e){var t=$a(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function li(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,i=!1,o=e.parentElement;o&&o!==document.body;){var s=window.getComputedStyle(o),v=s.overflowY,f=s.overflowX,b=v==="scroll"||v==="auto",u=f==="scroll"||f==="auto";if(b||u){var y=o.getBoundingClientRect();if(b){var c=Math.max(r.top,y.top),h=Math.min(r.bottom,y.bottom);(c!==r.top||h!==r.bottom)&&(a=!0),r.top=c,r.bottom=h}if(u){var g=Math.max(r.left,y.left),p=Math.min(r.right,y.right);(g!==r.left||p!==r.right)&&(i=!0),r.left=g,r.right=p}}o=o.parentElement}return a||i?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Dt;function ra(){Dt=new Map}ra();function ci(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(_r)});if(t>=0)return Dt.has(e)||Dt.set(e,new Map),Dt.get(e).set(t,Qa(e.children[t])),t}function di(e,t){if(!xa(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=ci(t),i=0;i<r.length;i++)if(xa(e,r[i])){var o=Dt.has(t)&&Dt.get(t).get(i);return o&&!xr(Wt(e),o)?{index:a,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var s=Number.MAX_VALUE,v=void 0,f=0;f<r.length;f++){var b=ya(e,r[f]);b<s&&(s=b,v=f)}if(r.length>0){var u=r.length,y=r[u-1],c=y.cloneNode(!1);c.style.visibility="hidden",c.style.pointerEvents="none",t.appendChild(c);var h=ya(e,c);h<s&&(v=u),t.removeChild(c)}return{index:v,isProximityBased:!0}}function Pt(e){return JSON.stringify(e,null,2)}function ur(e){if(!e)throw new Error("cannot get depth of a falsy node");return tn(e,0)}function tn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?tn(e.parentElement,t+1):t-1}function ui(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function vi(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var fi=200,wa=10,Gr;function bi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fi,a=arguments.length>3?arguments[3]:void 0,i,o,s=!1,v,f=Array.from(t).sort(function(u,y){return ur(y)-ur(u)});function b(){var u=Wt(e),y=a.multiScrollIfNeeded();if(!y&&v&&Math.abs(v.x-u.x)<wa&&Math.abs(v.y-u.y)<wa){Gr=window.setTimeout(b,r);return}if(si(e)){ai(e);return}v=u;var c=!1,h=Zt(f),g;try{for(h.s();!(g=h.n()).done;){var p=g.value;y&&ra();var m=di(e,p);if(m!==null){var x=m.index;c=!0,p!==i?(i&&ei(i,e,p),$o(p,m,e),i=p):x!==o&&(ri(p,m,e),o=x);break}}}catch(w){h.e(w)}finally{h.f()}!c&&s&&i?(ti(i,e),i=void 0,o=void 0,s=!1):s=!0,Gr=window.setTimeout(b,r)}b()}function gi(){clearTimeout(Gr),ra()}var Nt=30;function pi(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(o){var s=e,v=s.directionObj,f=s.stepPx;v&&(o.scrollBy(v.x*f,v.y*f),window.requestAnimationFrame(function(){return r(o)}))}function a(o){return Nt-o}function i(o,s){if(!s)return!1;var v=mi(o,s),f=!!e.directionObj;if(v===null)return f&&t(),!1;var b=!1,u=!1;return s.scrollHeight>s.clientHeight&&(v.bottom<Nt?(b=!0,e.directionObj={x:0,y:1},e.stepPx=a(v.bottom)):v.top<Nt&&(b=!0,e.directionObj={x:0,y:-1},e.stepPx=a(v.top)),!f&&b)||s.scrollWidth>s.clientWidth&&(v.right<Nt?(u=!0,e.directionObj={x:1,y:0},e.stepPx=a(v.right)):v.left<Nt&&(u=!0,e.directionObj={x:-1,y:0},e.stepPx=a(v.left)),!f&&u)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function mi(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return xr(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function hi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=xi(e),a=Array.from(r).sort(function(f,b){return ur(b)-ur(f)}),i=pi(),o=i.scrollIfNeeded,s=i.resetScrolling;function v(){var f=t();if(!f||!a)return!1;for(var b=a.filter(function(c){return xr(f,c.getBoundingClientRect())||c===document.scrollingElement}),u=0;u<b.length;u++){var y=o(f,b[u]);if(y)return!0}return!1}return{multiScrollIfNeeded:r.size>0?v:function(){return!1},destroy:function(){return s()}}}function _i(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),i=a.overflow;i.split(" ").some(function(o){return o.includes("auto")||o.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function xi(e){var t=new Set,r=Zt(e),a;try{for(r.s();!(a=r.n()).done;){var i=a.value;_i(i).forEach(function(o){return t.add(o)})}}catch(o){r.e(o)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function yi(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",i=a?[e]:He(e.querySelectorAll("select")),o=Zt(i),s;try{for(o.s();!(s=o.n()).done;){var v=s.value;r.push(v.value)}}catch(D){o.e(D)}finally{o.f()}if(i.length>0)for(var f=a?[t]:He(t.querySelectorAll("select")),b=0;b<f.length;b++){var u=f[b],y=r[b],c=u.querySelector('option[value="'.concat(y,'"'));c&&c.setAttribute("selected",!0)}var h=e.tagName==="CANVAS",g=h?[e]:He(e.querySelectorAll("canvas"));if(g.length>0)for(var p=h?[t]:He(t.querySelectorAll("canvas")),m=0;m<p.length;m++){var x=g[m],w=p[m];w.width=x.width,w.height=x.height,x.width>0&&x.height>0&&w.getContext("2d").drawImage(x,0,0)}return t}var zt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),wi=At({},zt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function rn(e){if(!zt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(zt)));return wi[e]}var ki=.2;function bt(e){return"".concat(e," ").concat(ki,"s ease")}function Ti(e,t){var r=e.getBoundingClientRect(),a=yi(e);an(e,a),a.id=oi,a.style.position="fixed";var i=r.top,o=r.left;if(a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px"),t){var s=en(r);i-=s.y-t.y,o-=s.x-t.x,window.setTimeout(function(){a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(bt("top"),", ").concat(bt("left"),", ").concat(bt("background-color"),", ").concat(bt("opacity"),", ").concat(bt("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(bt("width"),", ").concat(bt("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function Di(e){e.style.cursor="grab"}function Ei(e,t,r,a){an(t,e);var i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),s=i.width-o.width,v=i.height-o.height;if(s||v){var f={left:(r-o.left)/o.width,top:(a-o.top)/o.height};rn(zt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-f.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-f.top*v,"px")}}function an(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||rn(zt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function Ai(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function nn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Ii(e){e.style.visibility="hidden",e.setAttribute(_r,"true")}function Oi(e){e.style.visibility="",e.removeAttribute(_r)}function ar(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var i=t(a);Object.keys(i).forEach(function(o){a.style[o]=i[o]}),r(a).forEach(function(o){return a.classList.add(o)})})}function vr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var i=t(a);Object.keys(i).forEach(function(o){a.style[o]=""}),r(a).forEach(function(o){return a.classList.contains(o)&&a.classList.remove(o)})})}function Si(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var ji="--any--",Ci=100,Mi=20,er=3,Pi=80,ka={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ta="data-is-dnd-original-dragged-item",Me,ye,Ne,yr,ve,wr,ct,Ee,Je,Ae,it=!1,aa=!1,na,qt=!1,nr=[],Ft,Qe,Lt=!1,Ke=new Map,ge=new Map,Pr=new WeakMap;function Ni(e,t){Ke.has(t)||Ke.set(t,new Set),Ke.get(t).has(e)||(Ke.get(t).add(e),Xa())}function Da(e,t){Ke.get(t).delete(e),Ja(),Ke.get(t).size===0&&Ke.delete(t)}function Ri(){var e=Ke.get(yr),t=Zt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(pr,on),a.addEventListener(Yt,sn),a.addEventListener(mr,ln)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(ea,Ot);var i=Math.max.apply(Math,He(Array.from(e.keys()).map(function(s){return ge.get(s).dropAnimationDurationMs}))),o=i===0?Mi:Math.max(i,Ci);Ft=hi(e,function(){return Ae}),bi(ye,e,o*1.07,Ft)}function Li(){var e=Ke.get(yr),t=Zt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(pr,on),a.removeEventListener(Yt,sn),a.removeEventListener(mr,ln)}}catch(i){t.e(i)}finally{t.f()}window.removeEventListener(ea,Ot),Ft&&(Ft.destroy(),Ft=void 0),gi()}function kr(e){return e.findIndex(function(t){return!!t[hr]})}function Fi(e){var t;return cr(cr({},e),{},(t={},At(t,hr,!0),At(t,he,Ka),t))}function on(e){var t=ge.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve)){if(qt=!1,r=r.filter(function(v){return v[he]!==ct[he]&&v[he]!==Ka}),ve!==e.currentTarget){var i=ge.get(ve).items,o=i.filter(function(v){return!v[hr]});ut(ve,o,{trigger:je.DRAGGED_ENTERED_ANOTHER,id:Ne[he],source:Re.POINTER})}var s=e.detail.indexObj.index;Ee=e.currentTarget,r.splice(s,0,ct),ut(e.currentTarget,r,{trigger:je.DRAGGED_ENTERED,id:Ne[he],source:Re.POINTER})}}function sn(e){if(it){var t=ge.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve&&e.currentTarget!==Ee)){var i=He(r),o=kr(i);o!==-1&&i.splice(o,1);var s=Ee;Ee=void 0;var v=e.detail,f=v.type,b=v.theOtherDz;if(f===dr.OUTSIDE_OF_ANY||f===dr.LEFT_FOR_ANOTHER&&b!==ve&&ge.get(b).dropFromOthersDisabled){qt=!0,Ee=ve;var u=s===ve?i:He(ge.get(ve).items);u.splice(wr,0,ct),ut(ve,u,{trigger:je.DRAGGED_LEFT_ALL,id:Ne[he],source:Re.POINTER})}ut(e.currentTarget,i,{trigger:je.DRAGGED_LEFT,id:Ne[he],source:Re.POINTER})}}}function ln(e){var t=ge.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve)){var i=He(r);qt=!1;var o=e.detail.indexObj.index,s=kr(i);s!==-1&&i.splice(s,1),i.splice(o,0,ct),ut(e.currentTarget,i,{trigger:je.DRAGGED_OVER_INDEX,id:Ne[he],source:Re.POINTER})}}function fr(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Ae={x:t.clientX,y:t.clientY},ye.style.transform="translate3d(".concat(Ae.x-Je.x,"px, ").concat(Ae.y-Je.y,"px, 0)")}function Ot(){aa=!0,window.removeEventListener("mousemove",fr),window.removeEventListener("touchmove",fr),window.removeEventListener("mouseup",Ot),window.removeEventListener("touchend",Ot),Li(),Di(ye),Ee||(Ee=ve);var e=ge.get(Ee),t=e.items,r=e.type;vr(Ke.get(r),function(o){return ge.get(o).dropTargetStyle},function(o){return ge.get(o).dropTargetClasses});var a=kr(t);a===-1&&Ee===ve&&(a=wr),t=t.map(function(o){return o[hr]?Ne:o});function i(){na(),It(Ee,t,{trigger:qt?je.DROPPED_OUTSIDE_OF_ANY:je.DROPPED_INTO_ZONE,id:Ne[he],source:Re.POINTER}),Ee!==ve&&It(ve,ge.get(ve).items,{trigger:je.DROPPED_INTO_ANOTHER,id:Ne[he],source:Re.POINTER});var o=Array.from(Ee.children).find(function(s){return s.getAttribute(_r)});o&&Oi(o),zi()}ge.get(Ee).dropAnimationDisabled?i():Bi(a,i)}function Bi(e,t){var r=e>-1?zr(Ee.children[e],!1):zr(Ee,!1),a={x:r.left-parseFloat(ye.style.left),y:r.top-parseFloat(ye.style.top)},i=ge.get(Ee),o=i.dropAnimationDurationMs,s="transform ".concat(o,"ms ease");ye.style.transition=ye.style.transition?ye.style.transition+","+s:s,ye.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,o)}function Wi(e,t){nr.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){nn(e),document.body.appendChild(e)})}function zi(){ye&&ye.remove&&ye.remove(),Me&&Me.remove&&Me.remove(),ye=void 0,Me=void 0,Ne=void 0,yr=void 0,ve=void 0,wr=void 0,ct=void 0,Ee=void 0,Je=void 0,Ae=void 0,it=!1,aa=!1,na=void 0,qt=!1,Qe&&clearTimeout(Qe),Qe=void 0,Lt=!1,nr.length&&(nr.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),nr=[])}function Gi(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:ka,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function o(){window.addEventListener("mousemove",f,{passive:!1}),window.addEventListener("touchmove",f,{passive:!1,capture:!1}),window.addEventListener("mouseup",v,{passive:!1}),window.addEventListener("touchend",v,{passive:!1})}function s(){window.removeEventListener("mousemove",f),window.removeEventListener("touchmove",f),window.removeEventListener("mouseup",v),window.removeEventListener("touchend",v),Qe&&(clearTimeout(Qe),Qe=void 0,Lt=!1)}function v(c){if(s(),Me=void 0,Je=void 0,Ae=void 0,c.type==="touchend"){var h=new Event("click",{bubbles:!0,cancelable:!0});c.target.dispatchEvent(h)}}function f(c){var h=!!c.touches,g=h?c.touches[0]:c;if(h&&a.delayTouchStartMs>0&&!Lt){Ae={x:g.clientX,y:g.clientY},(Math.abs(Ae.x-Je.x)>=er||Math.abs(Ae.y-Je.y)>=er)&&(Qe&&(clearTimeout(Qe),Qe=void 0),v(c));return}c.preventDefault(),Ae={x:g.clientX,y:g.clientY},(Math.abs(Ae.x-Je.x)>=er||Math.abs(Ae.y-Je.y)>=er)&&(s(),u())}function b(c){if(!(c.target!==c.currentTarget&&(c.target.value!==void 0||c.target.isContentEditable))&&!c.button&&!it){var h=!!c.touches,g=h&&a.delayTouchStartMs>0;g||c.preventDefault(),c.stopPropagation();var p=h?c.touches[0]:c;Je={x:p.clientX,y:p.clientY},Ae=cr({},Je),Me=c.currentTarget,g&&(Lt=!1,Qe=window.setTimeout(function(){Me&&(Lt=!0,s(),u())},a.delayTouchStartMs)),o()}}function u(){it=!0;var c=i.get(Me);wr=c,ve=Me.parentElement;var h=ve.closest("dialog")||ve.closest("[popover]")||ve.getRootNode(),g=h.body||h,p=a.items,m=a.type,x=a.centreDraggedOnCursor,w=He(p);Ne=w[c],yr=m,ct=Fi(Ne),ye=Ti(Me,x&&Ae),g.appendChild(ye);function D(){Me.parentElement?window.requestAnimationFrame(D):(Me.setAttribute(Ta,!0),g.appendChild(Me),Ri(),nn(Me),ct[he]=Ne[he],ye.focus())}window.requestAnimationFrame(D),ar(Array.from(Ke.get(a.type)).filter(function(k){return k===ve||!ge.get(k).dropFromOthersDisabled}),function(k){return ge.get(k).dropTargetStyle},function(k){return ge.get(k).dropTargetClasses}),w.splice(c,1,ct),na=Si(ve),ut(ve,w,{trigger:je.DRAG_STARTED,id:Ne[he],source:Re.POINTER}),window.addEventListener("mousemove",fr,{passive:!1}),window.addEventListener("touchmove",fr,{passive:!1,capture:!1}),window.addEventListener("mouseup",Ot,{passive:!1}),window.addEventListener("touchend",Ot,{passive:!1})}function y(c){var h=c.items,g=h===void 0?void 0:h,p=c.flipDurationMs,m=p===void 0?0:p,x=c.type,w=x===void 0?ji:x,D=c.dragDisabled,k=D===void 0?!1:D,S=c.morphDisabled,j=S===void 0?!1:S,T=c.dropFromOthersDisabled,I=T===void 0?!1:T,E=c.dropTargetStyle,C=E===void 0?ka:E,B=c.dropTargetClasses,H=B===void 0?[]:B,V=c.transformDraggedElement,W=V===void 0?function(){}:V,R=c.centreDraggedOnCursor,P=R===void 0?!1:R,G=c.dropAnimationDisabled,Q=G===void 0?!1:G,M=c.delayTouchStart,N=M===void 0?!1:M;a.dropAnimationDurationMs=m;var L=0;N===!0?L=Pi:typeof N=="number"&&isFinite(N)&&N>=0&&(L=N),a.delayTouchStartMs=L,a.type&&w!==a.type&&Da(e,a.type),a.type=w,a.items=He(g),a.dragDisabled=k,a.morphDisabled=j,a.transformDraggedElement=W,a.centreDraggedOnCursor=P,a.dropAnimationDisabled=Q,r&&it&&!aa&&(!ui(C,a.dropTargetStyle)||!vi(H,a.dropTargetClasses))&&(vr([e],function(){return a.dropTargetStyle},function(){return H}),ar([e],function(){return C},function(){return H})),a.dropTargetStyle=C,a.dropTargetClasses=He(H);function U(se,ce){return ge.get(se)?ge.get(se)[ce]:a[ce]}r&&it&&a.dropFromOthersDisabled!==I&&(I?vr([e],function(se){return U(se,"dropTargetStyle")},function(se){return U(se,"dropTargetClasses")}):ar([e],function(se){return U(se,"dropTargetStyle")},function(se){return U(se,"dropTargetClasses")})),a.dropFromOthersDisabled=I,ge.set(e,a),Ni(e,w);for(var q=it?kr(a.items):-1,te=0;te<e.children.length;te++){var oe=e.children[te];if(Ai(oe,k),te===q){j||Ei(ye,oe,Ae.x,Ae.y),a.transformDraggedElement(ye,Ne,te),Ii(oe);continue}oe.removeEventListener("mousedown",Pr.get(oe)),oe.removeEventListener("touchstart",Pr.get(oe)),k||(oe.addEventListener("mousedown",b),oe.addEventListener("touchstart",b),Pr.set(oe,b)),i.set(oe,te),r||(r=!0)}}return y(t),{update:function(h){y(h)},destroy:function(){function h(){Da(e,ge.get(e).type),ge.delete(e)}it&&!e.closest("[".concat(Ta,"]"))?Wi(e,h):h()}}}var tr,Ur={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},cn=(tr={},At(tr,Ur.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),At(tr,Ur.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),tr),Ui="dnd-action-aria-alert",pe;function Hr(){pe||(pe=document.createElement("div"),(function(){pe.id=Ui,pe.style.position="fixed",pe.style.bottom="0",pe.style.left="0",pe.style.zIndex="-5",pe.style.opacity="0",pe.style.height="0",pe.style.width="0",pe.setAttribute("role","alert")})(),document.body.prepend(pe),Object.entries(cn).forEach(function(e){var t=Ho(e,2),r=t[0],a=t[1];return document.body.prepend(Zi(r,a))}))}function Hi(){return ta?null:(document.readyState==="complete"?Hr():window.addEventListener("DOMContentLoaded",Hr),cr({},Ur))}function Vi(){ta||!pe||(Object.keys(cn).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),pe.remove(),pe=void 0)}function Zi(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Et(e){if(!ta){pe||Hr(),pe.innerHTML="";var t=document.createTextNode(e);pe.appendChild(t),pe.style.display="none",pe.style.display="inline"}}var Yi="--any--",Ea={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ue=!1,Vr,Ie,ht="",gt,$e,st="",br=new WeakSet,Aa=new WeakMap,Ia=new WeakMap,Zr=new Map,De=new Map,qe=new Map,gr;function qi(e,t){qe.size===0&&(gr=Hi(),window.addEventListener("keydown",dn),window.addEventListener("click",un)),qe.has(t)||qe.set(t,new Set),qe.get(t).has(e)||(qe.get(t).add(e),Xa())}function Oa(e,t){Ie===e&&Gt(),qe.get(t).delete(e),Ja(),qe.get(t).size===0&&qe.delete(t),qe.size===0&&(window.removeEventListener("keydown",dn),window.removeEventListener("click",un),gr=void 0,Vi())}function dn(e){if(Ue)switch(e.key){case"Escape":{Gt();break}}}function un(){Ue&&(br.has(document.activeElement)||Gt())}function Ki(e){if(Ue){var t=e.currentTarget;if(t!==Ie){ht=t.getAttribute("aria-label")||"";var r=De.get(Ie),a=r.items,i=a.find(function(y){return y[he]===$e}),o=a.indexOf(i),s=a.splice(o,1)[0],v=De.get(t),f=v.items,b=v.autoAriaDisabled;t.getBoundingClientRect().top<Ie.getBoundingClientRect().top||t.getBoundingClientRect().left<Ie.getBoundingClientRect().left?(f.push(s),b||Et("Moved item ".concat(st," to the end of the list ").concat(ht))):(f.unshift(s),b||Et("Moved item ".concat(st," to the beginning of the list ").concat(ht)));var u=Ie;It(u,a,{trigger:je.DROPPED_INTO_ANOTHER,id:$e,source:Re.KEYBOARD}),It(t,f,{trigger:je.DROPPED_INTO_ZONE,id:$e,source:Re.KEYBOARD}),Ie=t}}}function vn(){Zr.forEach(function(e,t){var r=e.update;return r(De.get(t))})}function Gt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;De.get(Ie).autoAriaDisabled||Et("Stopped dragging item ".concat(st)),br.has(document.activeElement)&&document.activeElement.blur(),e&&ut(Ie,De.get(Ie).items,{trigger:je.DRAG_STOPPED,id:$e,source:Re.KEYBOARD}),vr(qe.get(Vr),function(t){return De.get(t).dropTargetStyle},function(t){return De.get(t).dropTargetClasses}),gt=null,$e=null,st="",Vr=null,Ie=null,ht="",Ue=!1,vn()}function Xi(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ea,dropTargetClasses:[],autoAriaDisabled:!1};function a(u,y,c){u.length<=1||u.splice(c,1,u.splice(y,1,u[c])[0])}function i(u){switch(u.key){case"Enter":case" ":{if((u.target.disabled!==void 0||u.target.href||u.target.isContentEditable)&&!br.has(u.target))return;u.preventDefault(),u.stopPropagation(),Ue?Gt():o(u);break}case"ArrowDown":case"ArrowRight":{if(!Ue)return;u.preventDefault(),u.stopPropagation();var y=De.get(e),c=y.items,h=Array.from(e.children),g=h.indexOf(u.currentTarget);g<h.length-1&&(r.autoAriaDisabled||Et("Moved item ".concat(st," to position ").concat(g+2," in the list ").concat(ht)),a(c,g,g+1),It(e,c,{trigger:je.DROPPED_INTO_ZONE,id:$e,source:Re.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Ue)return;u.preventDefault(),u.stopPropagation();var p=De.get(e),m=p.items,x=Array.from(e.children),w=x.indexOf(u.currentTarget);w>0&&(r.autoAriaDisabled||Et("Moved item ".concat(st," to position ").concat(w," in the list ").concat(ht)),a(m,w,w-1),It(e,m,{trigger:je.DROPPED_INTO_ZONE,id:$e,source:Re.KEYBOARD}));break}}}function o(u){v(u.currentTarget),Ie=e,Vr=r.type,Ue=!0;var y=Array.from(qe.get(r.type)).filter(function(h){return h===Ie||!De.get(h).dropFromOthersDisabled});if(ar(y,function(h){return De.get(h).dropTargetStyle},function(h){return De.get(h).dropTargetClasses}),!r.autoAriaDisabled){var c="Started dragging item ".concat(st,". Use the arrow keys to move it within its list ").concat(ht);y.length>1&&(c+=", or tab to another list in order to move the item into it"),Et(c)}ut(e,De.get(e).items,{trigger:je.DRAG_STARTED,id:$e,source:Re.KEYBOARD}),vn()}function s(u){Ue&&u.currentTarget!==gt&&(u.stopPropagation(),Gt(!1),o(u))}function v(u){var y=De.get(e),c=y.items,h=Array.from(e.children),g=h.indexOf(u);gt=u,gt.tabIndex=r.zoneItemTabIndex,$e=c[g][he],st=h[g].getAttribute("aria-label")||""}function f(u){var y=u.items,c=y===void 0?[]:y,h=u.type,g=h===void 0?Yi:h,p=u.dragDisabled,m=p===void 0?!1:p,x=u.zoneTabIndex,w=x===void 0?0:x,D=u.zoneItemTabIndex,k=D===void 0?0:D,S=u.dropFromOthersDisabled,j=S===void 0?!1:S,T=u.dropTargetStyle,I=T===void 0?Ea:T,E=u.dropTargetClasses,C=E===void 0?[]:E,B=u.autoAriaDisabled,H=B===void 0?!1:B;r.items=He(c),r.dragDisabled=m,r.dropFromOthersDisabled=j,r.zoneTabIndex=w,r.zoneItemTabIndex=k,r.dropTargetStyle=I,r.dropTargetClasses=C,r.autoAriaDisabled=H,r.type&&g!==r.type&&Oa(e,r.type),r.type=g,qi(e,g),H||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",m?gr.DND_ZONE_DRAG_DISABLED:gr.DND_ZONE_ACTIVE)),De.set(e,r),Ue?e.tabIndex=e===Ie||gt.contains(e)||r.dropFromOthersDisabled||Ie&&r.type!==De.get(Ie).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Ki);for(var V=function(P){var G=e.children[P];br.add(G),G.tabIndex=Ue?-1:r.zoneItemTabIndex,H||G.setAttribute("role","listitem"),G.removeEventListener("keydown",Aa.get(G)),G.removeEventListener("click",Ia.get(G)),m||(G.addEventListener("keydown",i),Aa.set(G,i),G.addEventListener("click",s),Ia.set(G,s)),Ue&&r.items[P][he]===$e&&(gt=G,gt.tabIndex=r.zoneItemTabIndex,G.focus())},W=0;W<e.children.length;W++)V(W)}f(t);var b={update:function(y){f(y)},destroy:function(){Oa(e,r.type),De.delete(e),Zr.delete(e)}};return Zr.set(e,b),b}var Ji=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function fn(e,t){if(Qi(e))return{update:function(){},destroy:function(){}};Sa(t);var r=Gi(e,t),a=Xi(e,t);return{update:function(o){Sa(o),r.update(o),a.update(o)},destroy:function(){r.destroy(),a.destroy()}}}function Qi(e){return!!e.closest("[".concat(ni,'="true"]'))}function Sa(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var i=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var o=e.delayTouchStart;e.dropAnimationDisabled;var s=Uo(e,Ji);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var v=t.find(function(u){return!{}.hasOwnProperty.call(u,he)});if(v)throw new Error("missing '".concat(he,"' property for item ").concat(Pt(v)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Tt(i),", ").concat(Pt(i)));if(r&&!ja(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Tt(r),", ").concat(Pt(r)));if(a&&!ja(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Tt(a),", ").concat(Pt(a)));if(o!==void 0&&o!==!1){var f=o===!0,b=typeof o=="number"&&isFinite(o)&&o>=0;if(!f&&!b)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(Tt(o),", ").concat(Pt(o)))}}function ja(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function $i(e){const t=e-1;return t*t*t+1}function bn(e,{from:t,to:r},a={}){var{delay:i=0,duration:o=j=>Math.sqrt(j)*120,easing:s=$i}=a,v=getComputedStyle(e),f=v.transform==="none"?"":v.transform,[b,u]=v.transformOrigin.split(" ").map(parseFloat);b/=e.clientWidth,u/=e.clientHeight;var y=es(e),c=e.clientWidth/r.width/y,h=e.clientHeight/r.height/y,g=t.left+t.width*b,p=t.top+t.height*u,m=r.left+r.width*b,x=r.top+r.height*u,w=(g-m)*c,D=(p-x)*h,k=t.width/r.width,S=t.height/r.height;return{delay:i,duration:typeof o=="function"?o(Math.sqrt(w*w+D*D)):o,easing:s,css:(j,T)=>{var I=T*w,E=T*D,C=j+T*k,B=j+T*S;return`transform: ${f} translate(${I}px, ${E}px) scale(${C}, ${B});`}}}function es(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var ts=F('<span class="text-center text-xs font-semibold bg-purple-500/20 text-purple-400 rounded w-full h-full  items-center justify-center flex">1</span>'),rs=F('<span class="text-center text-xs font-semibold bg-red-500/20 text-red-400 rounded w-full h-full items-center justify-center flex">2</span>'),as=F('<span class="text-center text-xs font-semibold bg-yellow-500/20 text-yellow-400 rounded w-full h-full items-center justify-center flex">3</span>'),ns=F('<span class="text-center text-xs font-semibold bg-blue-500/20 text-blue-500 rounded w-full h-full items-center justify-center flex">4</span>'),os=F('<span class="text-center text-xs font-semibold bg-emerald-500/20 text-emerald-300 rounded w-full h-full items-center justify-center flex">5</span>');function Yr(e,t){var r=ue(),a=ne(r);{var i=s=>{var v=ts();A(s,v)},o=s=>{var v=ue(),f=ne(v);{var b=y=>{var c=rs();A(y,c)},u=y=>{var c=ue(),h=ne(c);{var g=m=>{var x=as();A(m,x)},p=m=>{var x=ue(),w=ne(x);{var D=S=>{var j=ns();A(S,j)},k=S=>{var j=os();A(S,j)};Z(w,S=>{t.level=="sev4"?S(D):S(k,!1)},!0)}A(m,x)};Z(h,m=>{t.level=="sev3"?m(g):m(p,!1)},!0)}A(y,c)};Z(f,y=>{t.level=="sev2"?y(b):y(u,!1)},!0)}A(s,v)};Z(a,s=>{t.level=="sev1"?s(i):s(o,!1)})}A(e,r)}var is=F('<div class="flex items-center gap-3 p-3 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content truncate"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div></div>'),ss=F('<div class="flex flex-col gap-2"></div>'),ls=F('<div class="h-1 bg-base-300"><div class="h-full bg-base-content/20 transition-all"></div></div>'),cs=F('<div class="bg-base-100 rounded-lg hover:bg-primary/20 cursor-pointer overflow-hidden" tabindex="0" role="button"><!> <div class="flex items-start gap-2 p-2"><span class="text-3xl"> </span> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content mb-1"> </p> <p class="text-xs"><span> </span> <span class="text-xs mx-0.5">â€¢</span> <span class="inline-flex size-5 mt-0.5"><!></span> <span class="text-xs mx-0.5">â€¢</span> <span class="text-base-content/50"> </span></p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),ds=F('<div class="flex flex-col gap-2"></div>'),us=F('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),vs=F('<div class="flex flex-col gap-2"><div class="flex justify-between items-center"><div class="text-xs tracking-wider text-base-content/50 uppercase">Assigned projects</div></div> <!></div>');function fs(e,t){we(t,!0);const r=200;let a=$(()=>t.assignedProjects.map(g=>({...g,id:g.project.id}))),i=$(()=>t.filterCompleted?n(a).filter(g=>!["completed","cancelled"].includes(g.project.status)):n(a)),o=J(_t([]));xt(()=>{O(o,n(i),!0)});async function s(g,p){g.stopPropagation(),await za(p,t.currentWeekOf)}function v(g){const p=mt.getByProject(g),m=p.filter(w=>w.status==="active").length,x=p.filter(w=>w.status==="completed").length;return{active:m,completed:x,total:m+x}}function f(g){O(o,g.detail.items,!0)}function b(g){O(o,g.detail.items,!0);const{info:p}=g.detail,m=p.id,x=n(o).findIndex(j=>j.id===m);if(x===-1)return;const w=x>0?n(o)[x-1]:null,D=x<n(o).length-1?n(o)[x+1]:null;let k=null,S=null;if(w){const j=n(a).findIndex(T=>T.id===w.id);k=w.assignment.order,S=j<n(a).length-1?n(a)[j+1].assignment.order:null}else if(D){const j=n(a).findIndex(T=>T.id===D.id);k=j>0?n(a)[j-1].assignment.order:null,S=D.assignment.order}no(t.currentWeekOf,m,k,S)}var u=vs(),y=_(d(u),2);{var c=g=>{var p=ue(),m=ne(p);{var x=D=>{var k=ss();Oe(k,29,()=>n(o),({id:S,project:j,area:T})=>S,(S,j)=>{let T=()=>n(j).project,I=()=>n(j).area;var E=is(),C=_(d(E),2),B=d(C),H=d(B,!0);l(B);var V=_(B,2),W=d(V,!0);l(V),l(C),l(E),K(()=>{z(H,T().name),z(W,I().name)}),Ya(E,()=>bn,()=>({duration:r})),A(S,E)}),l(k),Jr(k,(S,j)=>fn?.(S,j),()=>({items:n(o),flipDurationMs:r,dropTargetStyle:{}})),or("consider",k,f),or("finalize",k,b),A(D,k)},w=D=>{var k=ds();Oe(k,21,()=>n(i),Le,(S,j)=>{let T=()=>n(j).project,I=()=>n(j).area;const E=$(()=>v(T().id)),C=$(()=>n(E).total>0?n(E).completed/n(E).total*100:0);var B=cs();B.__click=()=>t.navigateToTasks(T());var H=d(B);{var V=be=>{var Ce=ls(),Fe=d(Ce);l(Ce),K(()=>Vt(Fe,`width: ${n(C)??""}%`)),A(be,Ce)};Z(H,be=>{n(E).total>0&&be(V)})}var W=_(H,2),R=d(W),P=d(R,!0);l(R);var G=_(R,2),Q=d(G),M=d(Q,!0);l(Q);var N=_(Q,2),L=d(N),U=d(L);l(L);var q=_(L,4),te=d(q);Yr(te,{get level(){return T().severity}}),l(q);var oe=_(q,4),se=d(oe,!0);l(oe),l(N),l(G);var ce=_(G,2);ce.__click=be=>s(be,T().id),l(W),l(B),K(()=>{z(P,I().icon),z(M,T().name),ae(L,1,`inline-flex w-16 justify-center text-base-content/50 ${n(E).active==0?"text-error":""}`),z(U,`${n(E).active??""} available`),z(se,I().name)}),A(S,B)}),l(k),A(D,k)};Z(m,D=>{t.reorderMode?D(x):D(w,!1)})}A(g,p)},h=g=>{var p=us();A(g,p)};Z(y,g=>{n(o).length>0?g(c):g(h,!1)})}l(u),A(e,u),ke()}_e(["click"]);var bs=F('<span class="text-xs text-primary-content px-2 py-1 bg-primary rounded"> </span>'),gs=F('<button class="text-start flex items-center gap-3 p-3 bg-base-100 rounded-lg transition-all hover:bg-primary/20 cursor-pointer"><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-base-content/50"> </p></div> <!></button>'),ps=F('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),ms=F('<div class="flex flex-col gap-2"></div>');function hs(e,t){we(t,!0);var r=ms();Oe(r,21,()=>t.weekTasks,Le,(a,i)=>{let o=()=>n(i).task,s=()=>n(i).project,v=()=>n(i).area;const f=$(()=>t.isTaskAssignedToDay(o().id));var b=gs();b.__click=x=>t.openDayPicker(x,o(),s(),v());var u=d(b),y=d(u),c=d(y,!0);l(y);var h=_(y,2),g=d(h);l(h),l(u);var p=_(u,2);{var m=x=>{var w=bs(),D=d(w,!0);l(w),K(k=>z(D,k),[()=>Wa(n(f))]),A(x,w)};Z(p,x=>{n(f)&&x(m)})}l(b),K(()=>{z(c,o().name),z(g,`${v().icon??""} ${s().name??""}`)}),A(a,b)},a=>{var i=ps();A(a,i)}),l(r),A(e,r),ke()}_e(["click"]);var _s=yt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg> Reorder',1),xs=F("<button><!></button>"),ys=F('<div class="flex flex-col h-full"><div class="bg-base-100 border-b border-b-base-content/10"><div class="flex ps-4 pe-2 pt-4 pb-2 flex-row justify-between items-center"><div><h2 class="text-lg font-medium">Week</h2> <p class="text-xs text-base-content/50"> </p></div> <div class="flex gap-2"><button> </button> <!></div></div> <div class="flex gap-1 px-4 pb-3"><button> </button> <button> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-4"><!></div></div> <!>',1);function ws(e,t){we(t,!0);let r=J(localStorage.getItem("filterAssignedProject")=="true"),a=J(!1),i=()=>O(r,!n(r)),o=()=>O(a,!n(a));xt(()=>{localStorage.setItem("filterAssignedProject",n(r)+"")});let s=J(_t(localStorage.getItem("weekTabView")||"projects"));xt(()=>{n(s)&&localStorage.setItem("weekTabView",n(s))});let v=_t(Ut());const f=$(()=>Ht.getWeek(v));let b;function u(M){return n(f)?n(f).tasksByDay.find(L=>L.taskId===M)?.date??null:null}let y=$(()=>n(f)?n(f).projectAssignments.map(M=>{const N=pt.getById(M.areaId);if(!N)return null;const U=et.getByArea(N.id).find(q=>q.id===M.projectId);return U?{assignment:M,project:U,area:N}:null}).filter(M=>M!==null):[]),c=$(()=>{const M=[];for(const{project:N,area:L}of n(y)){const U=mt.getByProject(N.id).filter(q=>q.status==="active");for(const q of U)M.push({task:q,project:N,area:L})}return M});var h=ys(),g=ne(h),p=d(g),m=d(p),x=d(m),w=_(d(x),2),D=d(w,!0);l(w),l(x);var k=_(x,2),S=d(k);S.__click=i;var j=d(S);l(S);var T=_(S,2);{var I=M=>{var N=xs();N.__click=o;var L=d(N);{var U=te=>{var oe=Ca("Done");A(te,oe)},q=te=>{var oe=_s();ir(),A(te,oe)};Z(L,te=>{n(a)?te(U):te(q,!1)})}l(N),K(()=>ae(N,1,`btn btn-xs w-20 ${n(a)?"btn-primary":"btn-secondary btn-soft"}`)),A(M,N)};Z(T,M=>{n(y).length>1&&M(I)})}l(k),l(m);var E=_(m,2),C=d(E);C.__click=()=>O(s,"projects");var B=d(C);l(C);var H=_(C,2);H.__click=()=>O(s,"tasks");var V=d(H);l(H),l(E),l(p);var W=_(p,2),R=d(W);{var P=M=>{fs(M,{get reorderMode(){return n(a)},get filterCompleted(){return n(r)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return v},get assignedProjects(){return n(y)}})},G=M=>{hs(M,{get openDayPicker(){return b.openDayPicker},get weekTasks(){return n(c)},isTaskAssignedToDay:u})};Z(R,M=>{n(s)==="projects"?M(P):M(G,!1)})}l(W),l(g);var Q=_(g,2);dt(zo(Q,{get currentWeekOf(){return v},isTaskAssignedToDay:u}),M=>b=M,()=>b),K(M=>{z(D,M),ae(S,1,`w-20 btn btn-xs ${n(r)?"btn-primary":"btn-secondary btn-soft"}`),z(j,`Filter :${n(r)?"ON":"OFF"}`),ae(C,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${n(s)==="projects"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),z(B,`Projects (${n(y).length??""})`),ae(H,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${n(s)==="tasks"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),z(V,`Tasks (${n(c).length??""})`)},[()=>oo(v)]),A(e,h),ke()}_e(["click"]);var ks=F('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),Ts=F('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),Ds=F('<div class="flex flex-col gap-2"></div>'),Es=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="py-4 px-2 border-b border-base-content/10"><p class="font-medium text-base-content"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-2 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="flex gap-2"><label><input type="radio" name="action" class="radio radio-success radio-sm"/> <span class="text-sm">Completed</span></label> <label><input type="radio" name="action" class="radio radio-error radio-sm"/> <span class="text-sm">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function As(e,t){we(t,!0);const r=[];let a=J("completed"),i=J(_t([]));xt(()=>{t.show&&(O(a,"completed"),O(i,[],!0))});function o(h,g){g&&setTimeout(()=>h.focus(),0)}function s(){O(i,[...n(i),""],!0)}function v(h){O(i,n(i).filter((g,p)=>p!==h),!0)}function f(h,g){O(i,n(i).map((p,m)=>m===h?g:p),!0)}async function b(){if(t.taskByDay){n(a)==="completed"?await Ga(t.taskByDay.taskId,t.taskByDay.projectId,t.weekOf,t.taskByDay.date):await io(t.taskByDay.taskId,t.taskByDay.projectId,t.weekOf,t.taskByDay.date);for(const h of n(i))h.trim()&&await Ua(t.taskByDay.projectId,t.taskByDay.areaId,h.trim());t.onClose()}}var u=ue(),y=ne(u);{var c=h=>{var g=Es(),p=d(g);p.__click=function(...U){t.onClose?.apply(this,U)},p.__keydown=U=>U.key==="Escape"&&t.onClose();var m=_(p,2),x=d(m),w=d(x),D=d(w,!0);l(w);var k=_(w,2),S=d(k);l(k),l(x);var j=_(x,2),T=d(j),I=_(d(T),2),E=d(I),C=d(E);lt(C),C.value=C.__value="completed",ir(2),l(E);var B=_(E,2),H=d(B);lt(H),H.value=H.__value="cancelled",ir(2),l(B),l(I),l(T);var V=_(T,2),W=d(V),R=_(d(W),2);R.__click=s,l(W);var P=_(W,2);{var G=U=>{var q=ks();A(U,q)},Q=U=>{var q=Ds();Oe(q,21,()=>n(i),Le,(te,oe,se)=>{var ce=Ts(),be=d(ce);lt(be),be.__input=Fe=>f(se,Fe.currentTarget.value),Jr(be,(Fe,Ge)=>o?.(Fe,Ge),()=>se===n(i).length-1);var Ce=_(be,2);Ce.__click=()=>v(se),l(ce),K(()=>jo(be,n(oe))),A(te,ce)}),l(q),A(U,q)};Z(P,U=>{n(i).length===0?U(G):U(Q,!1)})}l(V),l(j);var M=_(j,2),N=d(M);N.__click=function(...U){t.onClose?.apply(this,U)};var L=_(N,2);L.__click=b,l(M),l(m),l(g),K(()=>{z(D,t.taskByDay.name),z(S,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),ae(E,1,`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border border-base-content/10 cursor-pointer hover:border-success ${n(a)==="completed"?"border-success bg-success/10":""}`),ae(B,1,`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border border-base-content/10 cursor-pointer hover:border-error ${n(a)==="cancelled"?"border-error bg-error/10":""}`)}),Ve(3,p,()=>St,()=>({duration:200})),lr(r,[],C,()=>n(a),U=>O(a,U)),lr(r,[],H,()=>n(a),U=>O(a,U)),Ve(3,m,()=>jt,()=>({y:300,duration:300})),A(h,g)};Z(y,h=>{t.show&&t.taskByDay&&h(c)})}A(e,u),ke()}_e(["click","keydown","input"]);var Is=yt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg> Reorder',1),Os=F('<button type="button"><!></button>'),Ss=F('<div class="px-4 pb-3"><div class="flex items-center justify-between text-xs text-base-content/50 mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success transition-all rounded-full"></div></div></div>'),js=F('<div class="flex items-center gap-3 p-3 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate mb-2"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div></div>'),Cs=F('<div class="flex flex-col gap-2 mb-4"></div>'),Ms=F('<div class="flex items-start gap-3 p-3 bg-base-100 border border-transparent rounded-lg"><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm text-base-content mb-2"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),Ps=F('<div class="flex flex-col gap-2 mb-4"></div>'),Ns=F('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),Rs=F('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),Ls=yt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Fs=yt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Bs=F('<div class="flex items-center gap-3 p-3 opacity-50"><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),Ws=F('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),zs=F('<div class="flex flex-col h-full"><div class="px-4 pt-4 pb-2 flex justify-between items-start"><div><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-base-content/50"> </p></div> <div><!> <button>Tomorrow</button></div></div> <!> <div class="flex-1 overflow-y-auto px-3 pb-4"><!> <!></div></div> <!>',1);function Gs(e,t){we(t,!0);const r=Ut(),a=200,i=so(),o=lo();let s=J(!1),v=J(null),f=J(""),b=J(""),u=J(""),y=J(!1),c=J(!1),h=$(()=>n(c)?o:i);const g=()=>{O(y,!n(y))},p=()=>{O(c,!n(c))};let m=$(()=>{const Y=Ht.getWeek(r);return Y?Y.tasksByDay.filter(X=>X.date===n(h)).map(X=>{const de=mt.getById(X.taskId),le=pt.getById(X.areaId),re=(le?et.getByArea(le.id):[]).find(ee=>ee.id===X.projectId);return{id:X.taskId,taskByDay:X,task:de,areaIcon:le?.icon??"ðŸ“",areaName:le?.name??"Unknown",projectName:re?.name??"Unknown"}}):[]}),x=$(()=>n(m)),w=$(()=>n(m).filter(Y=>Y.taskByDay.status!=="completed"&&Y.taskByDay.status!=="cancelled")),D=$(()=>n(m).filter(Y=>Y.taskByDay.status==="completed"||Y.taskByDay.status==="cancelled")),k=J(_t([]));xt(()=>{O(k,n(w),!0)});function S(){const Y=n(D).length,X=n(m).length,de=X>0?Y/X*100:0;return{completed:Y,total:X,percent:de}}function j(Y){O(k,Y.detail.items,!0)}function T(Y){O(k,Y.detail.items,!0);const{info:X}=Y.detail,de=X.id,le=n(k).findIndex(ie=>ie.id===de);if(le===-1)return;const me=le>0?n(k)[le-1]:null,re=le<n(k).length-1?n(k)[le+1]:null;let ee=null,fe=null;if(me){const ie=n(x).findIndex(xe=>xe.id===me.id);ee=me.taskByDay.order,fe=ie<n(x).length-1?n(x)[ie+1].taskByDay.order:null}else if(re){const ie=n(x).findIndex(xe=>xe.id===re.id);ee=ie>0?n(x)[ie-1].taskByDay.order:null,fe=re.taskByDay.order}vo(r,n(h),de,ee,fe)}async function I(Y){await Ga(Y.taskId,Y.projectId,r,n(h))}async function E(Y){await uo(Y.taskId,Y.projectId,r,n(h))}async function C(Y){await rr(Y.taskId,Y.projectId,r,n(h))}function B(Y,X,de,le){O(v,Y,!0),O(f,X,!0),O(b,de,!0),O(u,le,!0),O(s,!0)}function H(){O(s,!1),O(v,null)}var V=zs(),W=ne(V),R=d(W),P=d(R),G=d(P),Q=d(G,!0);l(G);var M=_(G,2),N=d(M);l(M),l(P);var L=_(P,2),U=d(L);{var q=Y=>{var X=Os();X.__click=g;var de=d(X);{var le=re=>{var ee=Ca("Done");A(re,ee)},me=re=>{var ee=Is();ir(),A(re,ee)};Z(de,re=>{n(y)?re(le):re(me,!1)})}l(X),K(()=>ae(X,1,`btn btn-xs ${n(y)?"btn-primary":"btn-secondary btn-soft"}`)),A(Y,X)};Z(U,Y=>{n(w).length>1&&Y(q)})}var te=_(U,2);te.__click=p,l(L),l(R);var oe=_(R,2);{var se=Y=>{const X=$(S);var de=Ss(),le=d(de),me=d(le),re=d(me);l(me);var ee=_(me,2),fe=d(ee);l(ee),l(le);var ie=_(le,2),xe=d(ie);l(ie),l(de),K(Be=>{z(re,`${n(X).completed??""} of ${n(X).total??""} completed`),z(fe,`${Be??""}%`),Vt(xe,`width: ${n(X).percent??""}%`)},[()=>Math.round(n(X).percent)]),A(Y,de)};Z(oe,Y=>{S().total>0&&Y(se)})}var ce=_(oe,2),be=d(ce);{var Ce=Y=>{var X=ue(),de=ne(X);{var le=re=>{var ee=Cs();Oe(ee,29,()=>n(k),({id:fe,taskByDay:ie,areaIcon:xe,projectName:Be})=>fe,(fe,ie)=>{let xe=()=>n(ie).taskByDay,Be=()=>n(ie).areaIcon,at=()=>n(ie).projectName;var We=js(),ze=_(d(We),2),Se=d(ze),Ze=d(Se,!0);l(Se);var Ye=_(Se,2),nt=d(Ye);l(Ye),l(ze),l(We),K(()=>{z(Ze,xe().name),z(nt,`${Be()??""}  ${at()??""}`)}),Ya(We,()=>bn,()=>({duration:a})),A(fe,We)}),l(ee),Jr(ee,(fe,ie)=>fn?.(fe,ie),()=>({items:n(k),flipDurationMs:a,dropTargetStyle:{}})),or("consider",ee,j),or("finalize",ee,T),A(re,ee)},me=re=>{var ee=Ps();Oe(ee,21,()=>n(w),Le,(fe,ie)=>{let xe=()=>n(ie).taskByDay,Be=()=>n(ie).areaIcon,at=()=>n(ie).areaName,We=()=>n(ie).projectName;var ze=Ms(),Se=d(ze);Se.__click=()=>I(xe());var Ze=_(Se,2);Ze.__click=()=>B(xe(),Be(),at(),We());var Ye=d(Ze),nt=d(Ye,!0);l(Ye);var Xe=_(Ye,2),vt=d(Xe);l(Xe),l(Ze);var Te=_(Ze,2);Te.__click=()=>C(xe()),l(ze),K(()=>{z(nt,xe().name),z(vt,`${Be()??""}  ${We()??""}`)}),A(fe,ze)}),l(ee),A(re,ee)};Z(de,re=>{n(y)?re(le):re(me,!1)})}A(Y,X)},Fe=Y=>{var X=ue(),de=ne(X);{var le=re=>{var ee=Ns();A(re,ee)},me=re=>{var ee=Rs();A(re,ee)};Z(de,re=>{S().total===0?re(le):re(me,!1)},!0)}A(Y,X)};Z(be,Y=>{n(k).length>0?Y(Ce):Y(Fe,!1)})}var Ge=_(be,2);{var Kt=Y=>{var X=Ws(),de=d(X),le=d(de);l(de);var me=_(de,2);Oe(me,21,()=>n(D),Le,(re,ee)=>{let fe=()=>n(ee).taskByDay,ie=()=>n(ee).areaIcon,xe=()=>n(ee).areaName,Be=()=>n(ee).projectName;const at=$(()=>fe().status==="completed"),We=$(()=>fe().status==="cancelled");var ze=Bs(),Se=d(ze);Se.__click=()=>E(fe());var Ze=d(Se);{var Ye=wt=>{var Jt=Ls();A(wt,Jt)},nt=wt=>{var Jt=ue(),pn=ne(Jt);{var mn=Tr=>{var hn=Fs();A(Tr,hn)};Z(pn,Tr=>{fe().status==="cancelled"&&Tr(mn)},!0)}A(wt,Jt)};Z(Ze,wt=>{fe().status==="completed"?wt(Ye):wt(nt,!1)})}l(Se);var Xe=_(Se,2),vt=d(Xe),Te=d(vt,!0);l(vt);var oa=_(vt,2),gn=d(oa);l(oa),l(Xe),l(ze),K(()=>{ae(Se,1,`w-7 h-7 rounded-full ${n(at)?"bg-success border-success text-success-content":n(We)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),z(Te,fe().name),z(gn,`${ie()??""} ${xe()??""} Â· ${Be()??""}`)}),A(re,ze)}),l(me),l(X),K(()=>z(le,`Completed (${n(D).length??""})`)),A(Y,X)};Z(Ge,Y=>{n(D).length>0&&!n(y)&&Y(Kt)})}l(ce),l(W);var Xt=_(W,2);As(Xt,{get show(){return n(s)},get taskByDay(){return n(v)},get areaIcon(){return n(f)},get areaName(){return n(b)},get projectName(){return n(u)},get weekOf(){return r},onClose:H}),K(Y=>{z(Q,n(c)?"Tomorrow":"Today"),z(N,`${Y??""}, ${n(h)??""}`),ae(te,1,`btn btn-xs ${n(c)?"btn-primary":"btn-secondary btn-soft"}`)},[()=>co(n(h))]),A(e,V),ke()}_e(["click"]);const Nr=["none","reorder","edit","status"],Us=[{value:"active",label:"Active",color:"border-s-primary"},{value:"blocked",label:"Blocked",color:"border-s-warning"},{value:"someday",label:"Someday",color:"border-s-info"},{value:"completed",label:"Completed",color:"border-s-success"},{value:"cancelled",label:"Cancelled",color:"border-s-error"}],Hs=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var Vs=F('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function Zs(e,t){var r=Vs();r.__click=function(...a){t.handleClick?.apply(this,a)},A(e,r)}_e(["click"]);var Ys=F('<button type="button"> </button>'),qs=F('<button type="button" class="btn btn-outline btn-error btn-sm">Archive</button>'),Ks=F('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),Xs=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="grid grid-cols-8 gap-1"></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Js(e,t){we(t,!0);let r=J(!1),a=J(null),i=J(""),o=J("ðŸŽ¯"),s;function v(){O(a,null),O(i,""),O(o,"ðŸŽ¯"),O(r,!0),setTimeout(()=>s.focus(),100)}function f(w,D){w.stopPropagation(),O(a,D,!0),O(i,D.name,!0),O(o,D.icon,!0),O(r,!0),setTimeout(()=>s.focus(),100)}function b(){O(r,!1),O(a,null)}async function u(){!n(i).trim()||!n(o)||(n(a)?await fo(n(a).index,{name:n(i).trim(),icon:n(o)}):await bo(n(i).trim(),n(o)),b())}function y(w){return n(a)&&n(a).status=="archived"?!1:et.getByArea(w.id).filter(k=>k.status==="active").length===0}async function c(){!n(a)||!y(n(a))||(await go(n(a).index),b())}async function h(){n(a)&&(await po(n(a).index),b())}var g={openCreateAreaModal:v,openEditAreaModal:f},p=ue(),m=ne(p);{var x=w=>{var D=Xs(),k=d(D);k.__click=b,k.__keydown=L=>L.key==="Escape"&&b();var S=_(k,2),j=d(S),T=d(j),I=d(T,!0);l(T);var E=_(T,2);E.__click=b,l(j);var C=_(j,2),B=d(C),H=_(d(B),2);Oe(H,21,()=>Mo,Le,(L,U)=>{var q=Ys();q.__click=()=>O(o,n(U),!0);var te=d(q,!0);l(q),K(()=>{ae(q,1,`aspect-square flex items-center justify-center text-lg rounded-lg transition-colors ${n(o)===n(U)?"bg-primary text-primary-content":"hover:bg-base-200"}`),z(te,n(U))}),A(L,q)}),l(H),l(B);var V=_(B,2),W=_(d(V),2);lt(W),W.__keydown=L=>L.key==="Enter"&&u(),dt(W,L=>s=L,()=>s),l(V),l(C);var R=_(C,2),P=d(R);{var G=L=>{var U=ue(),q=ne(U);{var te=se=>{var ce=qs();ce.__click=c,K((be,Ce)=>{ce.disabled=be,Fr(ce,"title",Ce)},[()=>!y(n(a)),()=>y(n(a))?"Archive area":"Cannot archive: has active projects"]),A(se,ce)},oe=se=>{var ce=ue(),be=ne(ce);{var Ce=Fe=>{var Ge=Ks();Ge.__click=h,A(Fe,Ge)};Z(be,Fe=>{n(a).status=="archived"&&Fe(Ce)},!0)}A(se,ce)};Z(q,se=>{n(a).status=="active"?se(te):se(oe,!1)})}A(L,U)};Z(P,L=>{n(a)&&L(G)})}var Q=_(P,4);Q.__click=b;var M=_(Q,2);M.__click=u;var N=d(M,!0);l(M),l(R),l(S),l(D),K(L=>{z(I,n(a)?"Edit Area":"New Area"),M.disabled=L,z(N,n(a)?"Save":"Create")},[()=>!n(i).trim()||!n(o)]),Ve(3,k,()=>St,()=>({duration:200})),Qr(W,()=>n(i),L=>O(i,L)),Ve(3,S,()=>jt,()=>({y:300,duration:300})),A(w,D)};Z(m,w=>{n(r)&&w(x)})}return A(e,p),ke(g)}_e(["click","keydown"]);var Qs=F('<button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-6" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button>'),$s=F('<div class="flex flex-row gap-1"><button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†</button> <button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†’</button></div>'),el=F("<div> </div>"),tl=F('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm font-medium mb-0 pb-1 truncate"> </div> <p class="text-xs text-base-content/50"> </p></div></div></div></div>');function rl(e,t){we(t,!0);const r=$(()=>et.getByArea(t.area.id).filter(w=>w.status==="active").length),a=$(()=>{const w=Ut(),D=Ht.getWeek(w),k=et.getByArea(t.area.id),S=k.filter(E=>E.status==="active"||E.status==="blocked"||E.status==="someday");if(S.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};if(D?.projectAssignments.some(E=>S.some(C=>C.id===E.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"â—†"};const T=k.filter(E=>E.status==="completed"&&E.completedAt),I=T.length>0?Math.max(...T.map(E=>new Date(E.completedAt).getTime())):null;if(I){const E=Date.now()-12096e5,C=Date.now()-720*60*60*1e3;if(I>=E)return{level:"active",color:"badge-info",icon:"â—"};if(I>=C)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var i=tl();i.__click=()=>t.handleSelect(t.area);var o=d(i),s=d(o),v=d(s),f=d(v,!0);l(v);var b=_(v,2);{var u=w=>{var D=Qs();D.__click=k=>t.handleEdit(k,t.area),A(w,D)},y=w=>{var D=ue(),k=ne(D);{var S=T=>{var I=$s(),E=d(I);E.__click=B=>t.handleAreaMoveUp(B,t.index);var C=_(E,2);C.__click=B=>t.handleAreaMoveDown(B,t.index),l(I),K(()=>E.disabled=t.index==0),A(T,I)},j=T=>{var I=ue(),E=ne(I);{var C=B=>{var H=el(),V=d(H,!0);l(H),K(()=>{ae(H,1,`badge badge-sm rounded ${n(a).color??""} badge-soft`),z(V,n(a).level)}),A(B,H)};Z(E,B=>{t.viewMode=="status"&&B(C)},!0)}A(T,I)};Z(k,T=>{t.viewMode=="reorder"?T(S):T(j,!1)},!0)}A(w,D)};Z(b,w=>{t.viewMode=="edit"?w(u):w(y,!1)})}l(s);var c=_(s,2),h=d(c),g=d(h),p=d(g,!0);l(g);var m=_(g,2),x=d(m);l(m),l(h),l(c),l(o),l(i),K(()=>{ae(i,1,`rounded-lg bg-base-100 hover:bg-primary/20 transition-colors cursor-pointer w-full ${n(a).level==="avoiding"?"border border-error/20":n(a).level==="fading"?"border border-warning/20":n(a).level==="active"?"border border-info/20":n(a).level==="planned"?"border border-purple-500/20":""}`),Vt(i,n(a).level==="avoiding"?"background: rgba(248, 114, 114, 0.05); box-shadow: inset 0 0 20px rgba(248, 114, 114, 0.08); ":n(a).level==="fading"?"box-shadow: inset 0 0 30px rgba(251, 189, 35, 0.1);":n(a).level==="active"?"box-shadow: inset 0 0 30px rgba(58, 191, 248, 0.1);":n(a).level==="planned"?"box-shadow: inset 0 0 30px rgba(168, 85, 247, 0.1);":""),z(f,t.area.icon),z(p,t.area.name),z(x,`${n(r)??""} project${n(r)!==1?"s":""}`)}),A(e,i),ke()}_e(["click"]);var al=F('<button class="link text-base-content/50 text-sm capitalize"> </button>'),nl=F('<div class="flex flex-col h-full"><div class="px-3 pt-5 pb-4 flex flex-row justify-between items-center bg-base-100 border-b border-base-content/10"><a href="/" class="flex flex-row items-center text-base-content/80"><svg version="1.1" id="Icons" class="size-12 mt-1 me-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><style type="text/css">.st0{fill:none;stroke:currentColor;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}</style><path class="st0" d="M11,13H5c-1.1,0-2-0.9-2-2V5c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,12.1,12.1,13,11,13z"></path><path class="st0" d="M11,29H5c-1.1,0-2-0.9-2-2v-6c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,28.1,12.1,29,11,29z"></path><line class="st0" x1="17" y1="5" x2="29" y2="5"></line><line class="st0" x1="17" y1="9" x2="24" y2="9"></line><line class="st0" x1="17" y1="21" x2="29" y2="21"></line><line class="st0" x1="17" y1="25" x2="24" y2="25"></line><polyline class="st0" points="6,7 8,9 11,6 "></polyline></g></svg> <div class="flex flex-col"><div class="text-xl text-base-content/80 tracking-wider font-medium">Doable</div> <div class="text-sm text-base-content/50">Life areas at a glance</div></div></a> <div class="flex flex-row gap-4"><!> <button class="link text-base-content/50 text-sm"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function ol(e,t){we(t,!0);let r,a=J(_t(localStorage.getItem("areasViewMode")||"none"));xt(()=>localStorage.setItem("areasViewMode",n(a)));let i=J(!1),o=()=>O(a,Nr[(Nr.indexOf(n(a))+1)%Nr.length],!0),s=()=>O(i,!n(i));const v=$(()=>n(i)?pt.areas.filter(T=>T.status=="archived"):pt.areas.filter(T=>T.status=="active"));async function f(T,I){if(T.stopPropagation(),I===0)return;const E=pt.areas,C=n(v)[I],B=n(v)[I-1],H=E.findIndex(R=>R.id===B.id),V=H>0?E[H-1].index:null,W=B.index;await ca(C.index,V,W)}async function b(T,I){if(T.stopPropagation(),I===n(v).length-1)return;const E=pt.areas,C=n(v)[I],B=n(v)[I+1],H=E.findIndex(R=>R.id===B.id),V=B.index,W=H<E.length-1?E[H+1].index:null;await ca(C.index,V,W)}var u=nl(),y=d(u),c=_(d(y),2),h=d(c);{var g=T=>{var I=al();I.__click=o;var E=d(I,!0);l(I),K(()=>z(E,n(a))),A(T,I)};Z(h,T=>{n(i)||T(g)})}var p=_(h,2);p.__click=s;var m=d(p,!0);l(p),l(c),l(y);var x=_(y,2),w=d(x),D=d(w);Oe(D,17,()=>n(v),Le,(T,I,E)=>{rl(T,{get area(){return n(I)},get handleSelect(){return t.onSelectArea},index:E,handleAreaMoveUp:f,handleAreaMoveDown:b,get viewMode(){return n(a)},get handleEdit(){return r.openEditAreaModal}})});var k=_(D,2);{var S=T=>{Zs(T,{get handleClick(){return r.openCreateAreaModal}})};Z(k,T=>{n(i)||T(S)})}l(w),l(x);var j=_(x,2);dt(Js(j,{}),T=>r=T,()=>r),l(u),K(()=>z(m,n(i)?"Active":"Archived")),A(e,u),ke()}_e(["click"]);var il=F('<button aria-label="edit"> </button>'),sl=F('<div tabindex="0" role="button" class="flex flex-row gap-2 items-start text-left"><p class="px-2 flex flex-row gap-2 text-sm mb-1.5 w-full text-base-content"><span class="w-8 h-8 flex mt-0.5"><!></span> <span class="flex-1"> </span> <!></p></div>'),ll=F('<div class="h-full bg-primary/80 transition-all"></div>'),cl=F('<span class="text-xs mx-0.5">â€¢</span> ',1),dl=F('<button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),ul=F('<button aria-label="edit"> </button>'),vl=F('<div class="w-full transition-colors bg-base-100 cursor-pointer hover:bg-primary/20" role="button" tabindex="0"><div class="flex-1 min-w-0 p-2 pt-4"><div class="flex flex-row items-start gap-2 "><div class="shrink-0 size-8"><!></div> <p class="text-sm mb-1.5 text-base-content"> </p></div> <div class="mb-2 mt-3 w-full items-center flex h-1 bg-neutral"><!></div> <div class="flex flex-row justify-between items-center ms-2"><p class="text-xs font-semibold text-base-content/50 "> <!></p> <div class="flex flex-row gap-2 items-center mt-1"><!> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-5" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button> <!></div></div></div></div>'),fl=F("<div><!></div>");function bl(e,t){we(t,!0);const r=$(()=>mt.getByProject(t.project.id)),a=$(()=>n(r).filter(g=>g.status==="active").length),i=$(()=>n(r).filter(g=>g.status==="completed").length),o=$(()=>n(r).filter(g=>g.status==="active"||g.status==="completed").length),s=$(()=>n(o)>0?n(i)/n(o)*100:0);function v(g){for(const[p,m]of Object.entries(Ht.weeksByWeekOf))if(m.projectAssignments.some(x=>x.projectId===g))return p;return null}function f(g){const p=Ut();if(g===p)return"This week";const m=new Date(p),x=new Date(g),w=Math.round((x.getTime()-m.getTime())/(1e3*60*60*24)),D=Math.round(w/7);return D===1?"Next week":D>1?`In ${D} weeks`:D===-1?"Last week":g.slice(5)}const b=$(()=>v(t.project.id));var u=fl(),y=d(u);{var c=g=>{var p=sl();p.__click=()=>t.onclick(t.project);var m=d(p),x=d(m),w=d(x);Yr(w,{get level(){return t.project.severity}}),l(x);var D=_(x,2),k=d(D,!0);l(D);var S=_(D,2);{var j=T=>{var I=il();I.__click=C=>t.handleProjectAssign(C,t.project);var E=d(I,!0);l(I),K(C=>{ae(I,1,`badge badge-lg badge-soft ${n(b)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer justify-center rounded-lg items-center flex`),z(E,C)},[()=>f(n(b))]),A(T,I)};Z(S,T=>{n(b)&&T(j)})}l(m),l(p),K(()=>z(k,t.project.name)),A(g,p)},h=g=>{var p=vl();p.__click=()=>t.navigateToTasks(t.project),p.__keydown=N=>N.key==="Enter"&&t.navigateToTasks(t.project);var m=d(p),x=d(m),w=d(x),D=d(w);Yr(D,{get level(){return t.project.severity}}),l(w);var k=_(w,2),S=d(k,!0);l(k),l(x);var j=_(x,2),T=d(j);{var I=N=>{var L=ll();K(()=>Vt(L,`width: ${n(s)??""}%`)),A(N,L)};Z(T,N=>{n(o)>0&&N(I)})}l(j);var E=_(j,2),C=d(E),B=d(C),H=_(B);{var V=N=>{var L=cl(),U=_(ne(L));K(()=>z(U,` ${n(i)??""} done`)),A(N,L)};Z(H,N=>{n(i)>0&&N(V)})}l(C);var W=_(C,2),R=d(W);{var P=N=>{var L=dl(),U=ne(L);U.__click=te=>t.handleProjectMoveUp(te,t.index);var q=_(U,2);q.__click=te=>t.handleProjectMoveDown(te,t.index),A(N,L)};Z(R,N=>{t.allowReorder&&N(P)})}var G=_(R,2);G.__click=N=>t.handleEdit(N,t.project);var Q=_(G,2);{var M=N=>{var L=ul();L.__click=q=>t.handleProjectAssign(q,t.project);var U=d(L,!0);l(L),K(q=>{ae(L,1,`badge badge-lg badge-soft ${n(b)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer flex justify-center rounded-lg items-center`),z(U,q)},[()=>n(b)?f(n(b)):"Unassigned"]),A(N,L)};Z(Q,N=>{t.allowWeekAssignment&&N(M)})}l(W),l(E),l(m),l(p),K(()=>{z(S,t.project.name),z(B,`${n(a)??""} active `)}),A(g,p)};Z(y,g=>{t.isSelected?g(h,!1):g(c)})}l(u),A(e,u),ke()}_e(["click","keydown"]);var gl=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[650px] max-h-full bg-base-100 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-200 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">4</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">5</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="grid grid-cols-3 gap-1"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Someday</button> <button type="button">Cancelled</button> <button type="button">Done</button></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function pl(e,t){we(t,!0);const r=[];let a=J(!1),i=J(null),o=J(""),s=J("active"),v=J("regular"),f=J("sev3"),b;function u(){console.log("Creating.."),O(i,null),O(o,""),O(s,"active"),O(v,"regular"),O(f,"sev3"),O(a,!0),setTimeout(()=>b.focus(),100)}function y(w,D){w.stopPropagation(),O(i,D,!0),O(o,D.name,!0),O(s,D.status,!0),O(v,D.type||"regular",!0),O(f,D.severity||"sev1",!0),O(a,!0),setTimeout(()=>b.focus(),100)}function c(){O(a,!1),O(i,null)}async function h(){!n(o).trim()||!t.selectedArea||(n(i)?await Ha(t.selectedArea.id,n(i).index,{name:n(o).trim(),status:n(s),type:n(v),severity:n(f)}):await mo(t.selectedArea.id,n(o).trim(),n(v),n(f)),c())}var g={openCreateProjectModal:u,openEditProjectModal:y},p=ue(),m=ne(p);{var x=w=>{var D=gl(),k=d(D);k.__click=c,k.__keydown=Te=>Te.key==="Escape"&&c();var S=_(k,2),j=d(S),T=d(j),I=d(T),E=d(I,!0);l(I);var C=_(I,2);C.__click=c,l(T);var B=_(T,2),H=d(B),V=_(d(H),2);lt(V),V.__keydown=Te=>Te.key==="Enter"&&h(),dt(V,Te=>b=Te,()=>b),l(H);var W=_(H,2),R=_(d(W),2),P=d(R);lt(P),P.value=P.__value="regular";var G=_(P,2);lt(G),G.value=G.__value="maintenance",l(R),l(W);var Q=_(W,4),M=d(Q);let N;M.__click=()=>O(f,"sev1");var L=_(d(M),2),U=d(L,!0);l(L),l(M);var q=_(M,2);let te;q.__click=()=>O(f,"sev2");var oe=_(d(q),2),se=d(oe,!0);l(oe),l(q);var ce=_(q,2);let be;ce.__click=()=>O(f,"sev3");var Ce=_(d(ce),2),Fe=d(Ce,!0);l(Ce),l(ce);var Ge=_(ce,2);let Kt;Ge.__click=()=>O(f,"sev4");var Xt=_(d(Ge),2),Y=d(Xt,!0);l(Xt),l(Ge);var X=_(Ge,2);let de;X.__click=()=>O(f,"sev5");var le=_(d(X),2),me=d(le,!0);l(le),l(X),l(Q);var re=_(Q,4),ee=d(re);let fe;ee.__click=()=>O(s,"active");var ie=_(ee,2);let xe;ie.__click=()=>O(s,"blocked");var Be=_(ie,2);let at;Be.__click=()=>O(s,"someday");var We=_(Be,2);let ze;We.__click=()=>O(s,"cancelled");var Se=_(We,2);let Ze;Se.__click=()=>O(s,"completed"),l(re),l(B);var Ye=_(B,2),nt=_(d(Ye),2);nt.__click=c;var Xe=_(nt,2);Xe.__click=h;var vt=d(Xe,!0);l(Xe),l(Ye),l(j),l(S),l(D),K(Te=>{z(E,n(i)?"Edit Project":"New Project"),N=ae(M,1,"hover:bg-purple-600 btn btn-sm justify-start gap-2 transition-all",null,N,{"bg-purple-600":n(f)==="sev1","text-white":n(f)==="sev1"}),z(U,Mt[n(v)].sev1),te=ae(q,1,"hover:bg-red-500 btn btn-sm justify-start gap-2 transition-all",null,te,{"bg-red-500":n(f)==="sev2","text-white":n(f)==="sev2"}),z(se,Mt[n(v)].sev2),be=ae(ce,1,"hover:bg-yellow-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,be,{"bg-yellow-500":n(f)==="sev3","text-black":n(f)==="sev3"}),z(Fe,Mt[n(v)].sev3),Kt=ae(Ge,1,"hover:bg-sky-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,Kt,{"bg-sky-500":n(f)==="sev4","text-black":n(f)==="sev4"}),z(Y,Mt[n(v)].sev4),de=ae(X,1,"hover:bg-emerald-500 hover:text-black btn btn-sm justify-start gap-3 transition-all",null,de,{"bg-emerald-500":n(f)==="sev5","text-black":n(f)==="sev5"}),z(me,Mt[n(v)].sev5),fe=ae(ee,1,"btn btn-sm hover:bg-warning hover:text-warning-content",null,fe,{"btn-warning":n(s)==="active"}),xe=ae(ie,1,"btn btn-sm hover:btn-error",null,xe,{"btn-error":n(s)==="blocked"}),at=ae(Be,1,"btn btn-sm hover:btn-info",null,at,{"btn-info":n(s)==="someday"}),ze=ae(We,1,"btn btn-sm hover:btn-neutral",null,ze,{"btn-info":n(s)==="cancelled"}),Ze=ae(Se,1,"btn btn-sm hover:btn-success",null,Ze,{"btn-success":n(s)==="completed"}),Xe.disabled=Te,z(vt,n(i)?"Save":"Create")},[()=>!n(o).trim()]),Ve(3,k,()=>St,()=>({duration:200})),Qr(V,()=>n(o),Te=>O(o,Te)),lr(r,[],P,()=>{"regular";return n(v)},Te=>O(v,Te)),lr(r,[],G,()=>{"maintenance";return n(v)},Te=>O(v,Te)),Ve(3,S,()=>jt,()=>({y:300,duration:300})),A(w,D)};Z(m,w=>{n(a)&&w(x)})}return A(e,p),ke(g)}_e(["click","keydown"]);var ml=F('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),hl=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2"></div></div></div>');function _l(e,t){we(t,!0);let r=J(!1),a=J(null),i=J(void 0);function o(h,g,p){h.stopPropagation(),O(i,g,!0),O(a,p,!0),O(r,!0)}function s(){O(r,!1),O(a,null)}async function v(h,g){!n(a)||!n(i)||(g?await za(n(a).id,h):await _o(n(a).id,n(i).id,h),s())}function f(h,g){const p=g??Ut();return Ht.getWeek(p)?.projectAssignments.some(x=>x.projectId===h)??!1}var b={openWeekPicker:o},u=ue(),y=ne(u);{var c=h=>{var g=hl(),p=d(g);p.__click=s,p.__keydown=k=>k.key==="Escape"&&s();var m=_(p,2),x=d(m),w=_(d(x),2);w.__click=s,l(x);var D=_(x,2);Oe(D,21,ho,Le,(k,S)=>{const j=$(()=>f(n(a).id,n(S).weekOf));var T=ml();T.__click=()=>v(n(S).weekOf,n(j));var I=d(T),E=d(I,!0);l(I);var C=_(I,2),B=d(C,!0);l(C),l(T),K(()=>{ae(T,1,`w-full p-3 text-left rounded-lg border transition-colors ${n(j)?"bg-primary/20 text-primary-content border-primary":"border-base-content/10 hover:border-primary"}`),z(E,n(S).label),z(B,n(S).weekOf)}),A(k,T)}),l(D),l(m),l(g),Ve(3,p,()=>St,()=>({duration:200})),Ve(3,m,()=>jt,()=>({y:300,duration:300})),A(h,g)};Z(y,h=>{n(r)&&n(a)&&h(c)})}return A(e,u),ke(b)}_e(["click","keydown"]);var xl=F("<button> </button>"),yl=F('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),wl=F('<button type="button" class="flex items-center justify-center h-12 mx-3 border-2 border-dashed border-base-content/20 rounded-lg text-base-content/50 cursor-pointer transition-all hover:border-primary hover:text-primary"><span class="text-lg">+</span> <span class="text-sm">Add Project</span></button>'),kl=F('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2"><div class="h-12 flex items-center "><button class="gap-2 text-sm text-secondary flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>â†</span> <span>Back</span></button></div> <div class="flex items-center gap-3 pe-2"><span class="text-4xl"> </span> <h2 class="text-lg"> </h2></div></div> <div class="flex gap-1 mt-4 px-3 pb-2 overflow-x-auto"></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!> <!></div></div></div> <!> <!>',1);function Tl(e,t){we(t,!0);let r=J(void 0);const a=R=>O(r,R.id,!0);let i,o,s=J(_t(localStorage.getItem("projectTabView")||"active"));xt(()=>{n(s)&&localStorage.setItem("projectTabView",n(s))});let v=$(()=>!["completed","cancelled"].includes(n(s))),f=$(()=>et.getByArea(t.selectedArea.id).filter(R=>R.status===n(s)));function b(R){return et.getByArea(t.selectedArea.id).filter(P=>P.status===R).length}async function u(R,P){if(R.stopPropagation(),P===0||!t.selectedArea)return;const G=et.getByArea(t.selectedArea.id),Q=n(f)[P],M=n(f)[P-1],N=G.findIndex(q=>q.id===M.id),L=N>0?G[N-1].index:null,U=M.index;await da(t.selectedArea.id,Q.index,L,U)}async function y(R,P){if(R.stopPropagation(),!t.selectedArea||P===n(f).length-1)return;const G=et.getByArea(t.selectedArea.id),Q=n(f)[P],M=n(f)[P+1],N=G.findIndex(q=>q.id===M.id),L=M.index,U=N<G.length-1?G[N+1].index:null;console.log(L,U),await da(t.selectedArea.id,Q.index,L,U)}var c=kl(),h=ne(c),g=d(h),p=d(g),m=d(p),x=d(m);x.__click=function(...R){t.navigateBack?.apply(this,R)},l(m);var w=_(m,2),D=d(w),k=d(D,!0);l(D);var S=_(D,2),j=d(S,!0);l(S),l(w),l(p);var T=_(p,2);Oe(T,21,()=>Us,Le,(R,P)=>{const G=$(()=>n(s)===n(P).value),Q=$(()=>b(n(P).value));var M=xl();M.__click=()=>O(s,n(P).value,!0);var N=d(M);l(M),K(()=>{ae(M,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${n(G)?"bg-primary/40 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),z(N,`${n(P).label??""} (${n(Q)??""})`)}),A(R,M)}),l(T),l(g);var I=_(g,2),E=d(I),C=d(E);Oe(C,17,()=>n(f),Le,(R,P,G)=>{{let Q=$(()=>n(r)==n(P).id);bl(R,{get isSelected(){return n(Q)},onclick:a,handleProjectAssign:(M,N)=>o.openWeekPicker(M,t.selectedArea,N),index:G,get allowReorder(){return n(v)},get navigateToTasks(){return t.navigateToTasks},get project(){return n(P)},get allowWeekAssignment(){return n(v)},get handleEdit(){return i.openEditProjectModal},handleProjectMoveUp:u,handleProjectMoveDown:y})}},R=>{var P=yl(),G=d(P);l(P),K(()=>z(G,`No ${n(s)??""} projects`)),A(R,P)});var B=_(C,2);{var H=R=>{var P=wl();P.__click=function(...G){i.openCreateProjectModal?.apply(this,G)},A(R,P)};Z(B,R=>{n(s)=="active"&&R(H)})}l(E),l(I),l(h);var V=_(h,2);dt(pl(V,{get selectedArea(){return t.selectedArea}}),R=>i=R,()=>i);var W=_(V,2);dt(_l(W,{}),R=>o=R,()=>o),K(()=>{z(k,t.selectedArea.icon),z(j,t.selectedArea.name)}),A(e,c),ke()}_e(["click"]);var Dl=F('<button type="button"> </button>'),El=F('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),Al=F('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Il(e,t){we(t,!0);let r=J(!1),a=J(null),i=J(""),o=J("active"),s;function v(){O(a,null),O(i,""),O(o,"active"),O(r,!0),setTimeout(()=>s.focus(),100)}function f(p,m){p.stopPropagation(),O(a,m,!0),O(i,m.name,!0),O(o,m.status,!0),O(r,!0),setTimeout(()=>s.focus(),100)}function b(){O(r,!1),O(a,null)}async function u(){!n(i).trim()||!t.selectedProject||!t.selectedArea||(n(a)?await Va(t.selectedProject.id,n(a).index,{name:n(i).trim(),status:n(o)}):await Ua(t.selectedProject.id,t.selectedArea.id,n(i).trim()),b())}var y={openCreateTaskModal:v,openEditTaskModal:f},c=ue(),h=ne(c);{var g=p=>{var m=Al(),x=d(m);x.__click=b,x.__keydown=P=>P.key==="Escape"&&b();var w=_(x,2),D=d(w),k=d(D),S=d(k,!0);l(k);var j=_(k,2);j.__click=b,l(D);var T=_(D,2),I=d(T),E=_(d(I),2);lt(E),E.__keydown=P=>P.key==="Enter"&&u(),dt(E,P=>s=P,()=>s),l(I);var C=_(I,2);{var B=P=>{var G=El(),Q=_(d(G),2);Oe(Q,21,()=>Hs,Le,(M,N)=>{var L=Dl();L.__click=()=>O(o,n(N).value,!0);var U=d(L,!0);l(L),K(()=>{ae(L,1,`px-3 py-1.5 text-sm rounded-lg border transition-colors ${n(o)===n(N).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),z(U,n(N).label)}),A(M,L)}),l(Q),l(G),A(P,G)};Z(C,P=>{n(a)&&P(B)})}l(T);var H=_(T,2),V=_(d(H),2);V.__click=b;var W=_(V,2);W.__click=u;var R=d(W,!0);l(W),l(H),l(w),l(m),K(P=>{z(S,n(a)?"Edit Task":"New Task"),W.disabled=P,z(R,n(a)?"Save":"Create")},[()=>!n(i).trim()]),Ve(3,x,()=>St,()=>({duration:200})),Qr(E,()=>n(i),P=>O(i,P)),Ve(3,w,()=>jt,()=>({y:300,duration:300})),A(p,m)};Z(h,p=>{n(r)&&p(g)})}return A(e,c),ke(y)}_e(["click","keydown"]);var Ol=yt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Sl=yt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),jl=yt('<svg class="w-3 h-3 text-warning" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),Cl=F('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),Ml=F('<div tabindex="0" role="button" class="hover:bg-primary/20 cursor-pointer w-full flex flex-row items-start border-b border-b-base-content/10 p-2"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function Pl(e,t){we(t,!0);const r=$(()=>t.task.status==="completed"),a=$(()=>t.task.status==="cancelled"),i=$(()=>t.task.status==="blocked");var o=Ml();o.__click=g=>t.handleEdit(g,t.task);var s=d(o);s.__click=g=>t.toggleTaskComplete(g,t.task);var v=d(s);{var f=g=>{var p=Ol();A(g,p)},b=g=>{var p=ue(),m=ne(p);{var x=D=>{var k=Sl();A(D,k)},w=D=>{var k=ue(),S=ne(k);{var j=T=>{var I=jl();A(T,I)};Z(S,T=>{n(i)&&T(j)},!0)}A(D,k)};Z(m,D=>{n(a)?D(x):D(w,!1)},!0)}A(g,p)};Z(v,g=>{n(r)?g(f):g(b,!1)})}l(s);var u=_(s,2),y=d(u,!0);l(u);var c=_(u,2);{var h=g=>{var p=Cl(),m=ne(p);m.__click=w=>t.handleTaskMoveUp(w,t.index);var x=_(m,2);x.__click=w=>t.handleTaskMoveDown(w,t.index),A(g,p)};Z(c,g=>{t.reorderEnabled&&g(h)})}l(o),K(()=>{ae(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(r)?"bg-success border-success text-success-content":n(i)?"border-warning":n(a)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"}`),s.disabled=n(a),z(y,t.task.name)}),A(e,o),ke()}_e(["click"]);var Nl=F('<div class="flex flex-col h-full w-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col w-full items-start px-2"><div class="flex flex-row w-full justify-between h-12 items-center "><button class="gap-2 text-sm text-secondary flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>â†</span> <span>Back</span></button> <div class="badge badge-sm badge-secondary rounded"> </div></div> <div class="flex items-center gap-2"><svg class="size-10 inline shrink-0 text-base-content/40 align-text-bottom -mb-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg> <h2 class="text-base "> </h2></div> <div class="flex gap-1 overflow-x-auto my-2"><button class="text-base-content/50 bg-base-300 hover:bg-primary/50 hover:text-primary-content px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap">+ New</button> <button>Reorder</button> <button class="px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50">Complete project</button></div></div></div> <div class="flex-1 overflow-auto bg-base-200  min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0"></div></div></div> <!>',1);function Rl(e,t){we(t,!0);let r,a=$(()=>et.getById(t.selectedProject.id)?.status),i=$(()=>mt.getByProject(t.selectedProject.id)),o=J(!1),s=()=>O(o,!n(o));async function v(V){await Ha(t.selectedArea.id,t.selectedProject.index,{status:"completed"})}async function f(V,W){if(V.stopPropagation(),!t.selectedProject)return;const R=W.status==="completed"?"active":"completed";await Va(t.selectedProject.id,W.index,{status:R})}async function b(V,W){if(V.stopPropagation(),W===0||!t.selectedProject)return;const R=n(i),P=mt.getByProject(t.selectedProject.id),G=R[W],Q=R[W-1],M=P.findIndex(U=>U.id===Q.id),N=M>0?P[M-1].index:null,L=Q.index;await ua(t.selectedProject.id,G.index,N,L)}async function u(V,W){if(V.stopPropagation(),!t.selectedProject)return;const R=n(i);if(W===R.length-1)return;const P=mt.getByProject(t.selectedProject.id),G=R[W],Q=R[W+1],M=P.findIndex(U=>U.id===Q.id),N=Q.index,L=M<P.length-1?P[M+1].index:null;await ua(t.selectedProject.id,G.index,N,L)}var y=Nl(),c=ne(y),h=d(c),g=d(h),p=d(g),m=d(p);m.__click=function(...V){t.navigateBack?.apply(this,V)};var x=_(m,2),w=d(x,!0);l(x),l(p);var D=_(p,2),k=_(d(D),2),S=d(k,!0);l(k),l(D);var j=_(D,2),T=d(j);T.__click=function(...V){r.openCreateTaskModal?.apply(this,V)};var I=_(T,2);I.__click=s;var E=_(I,2);E.__click=v,l(j),l(g),l(h);var C=_(h,2),B=d(C);Oe(B,21,()=>n(i),Le,(V,W,R)=>{Pl(V,{get handleEdit(){return r.openEditTaskModal},handleTaskMoveUp:b,handleTaskMoveDown:u,index:R,get task(){return n(W)},toggleTaskComplete:f,get reorderEnabled(){return n(o)}})}),l(B),l(C),l(c);var H=_(c,2);dt(Il(H,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),V=>r=V,()=>r),K(()=>{z(w,n(a)),z(S,t.selectedProject.name),ae(I,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${n(o)?"bg-primary/40 text-primary-content":"text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50"}`)}),A(e,y),ke()}_e(["click"]);var Ll=F('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),Fl=F('<div class="h-screen flex flex-col bg-base-300"><div class="pb-22 h-full"><!></div> <!></div>');function Zl(e,t){we(t,!0);const r=()=>s("areas"),a=()=>s("projects");let i=J(void 0),o=J(void 0);s("areas");function s(p){eo("",{activeTab:p})}function v(p){O(i,p,!0),s("projects")}function f(p){O(o,p,!0),O(i,pt.getById(p.areaId),!0),s("tasks")}var b=Fl(),u=d(b),y=d(u);{var c=p=>{ol(p,{onSelectArea:v})},h=p=>{var m=ue(),x=ne(m);{var w=k=>{Tl(k,{navigateBack:r,navigateToTasks:f,get selectedArea(){return n(i)}})},D=k=>{var S=ue(),j=ne(S);{var T=E=>{Rl(E,{navigateBack:a,get selectedArea(){return n(i)},get selectedProject(){return n(o)}})},I=E=>{var C=ue(),B=ne(C);{var H=W=>{ws(W,{navigateToTasks:f})},V=W=>{var R=ue(),P=ne(R);{var G=M=>{Gs(M,{})},Q=M=>{var N=ue(),L=ne(N);{var U=q=>{var te=Ll();A(q,te)};Z(L,q=>{ft.state.activeTab==="review"&&q(U)},!0)}A(M,N)};Z(P,M=>{ft.state.activeTab==="today"?M(G):M(Q,!1)},!0)}A(W,R)};Z(B,W=>{ft.state.activeTab==="week"?W(H):W(V,!1)},!0)}A(E,C)};Z(j,E=>{ft.state.activeTab=="tasks"?E(T):E(I,!1)},!0)}A(k,S)};Z(x,k=>{ft.state.activeTab==="projects"?k(w):k(D,!1)},!0)}A(p,m)};Z(y,p=>{ft.state.activeTab==="areas"?p(c):p(h,!1)})}l(u);var g=_(u,2);Ro(g,{get activeTab(){return ft.state.activeTab},onTabChange:s}),l(b),A(e,b),ke()}export{Zl as component};
