import{b as _n,d as _e,f as L,a as E,s as z,c as ue,e as or,t as Ca,g as xt}from"../chunks/D3UQACKP.js";import{y as Er,E as xn,K as Ar,A as Ne,aq as yn,F as wn,g as n,T as kn,H as Tn,I as Dn,J as ia,L as Ir,B as Qt,aa as En,aE as An,ah as sa,o as kt,aG as rt,z as Lr,D as In,a8 as la,a4 as On,aC as qr,aH as Sn,aI as jn,aJ as Cn,aK as Mn,v as Ma,x as Pa,aL as Or,ay as Pn,aB as Nn,w as Rn,aM as Na,q as Bt,aN as Ln,W as Ra,G as Fn,aO as Bn,au as Wn,e as La,u as Kr,aP as zn,ap as Fa,aQ as Gn,aR as Ct,r as Xr,h as Un,aS as Hn,aT as Vn,aU as Zn,aV as Yn,aW as qn,aX as Kn,aY as Ba,a5 as Xn,aZ as Jn,a_ as Qn,ao as $n,p as we,k as ne,l as ke,n as l,s as _,m as v,t as K,O as J,N as O,a6 as $,U as ht,b as _t,ai as ir}from"../chunks/DALkzYGd.js";import{i as Z}from"../chunks/BH6s77UL.js";import{a as eo}from"../chunks/kwcbi6pI.js";import{p as vt}from"../chunks/CUADrqoq.js";import{a1 as rr,a2 as to,a3 as ro,a4 as ao,a5 as Wa,a6 as za,a7 as pt,a8 as no,a9 as Ut,aa as oo,ab as gt,ac as Qe,ad as Ht,ae as Ga,af as io,ag as Ua,ah as so,ai as lo,aj as co,ak as uo,al as vo,am as fo,an as bo,ao as go,ap as po,aq as ca,ar as Ha,as as mo,at as ho,au as _o,av as da,aw as Va,ax as ua}from"../chunks/87D7SCSB.js";import{b as ct}from"../chunks/CUJ0RYTV.js";function Ce(e,t){return t}function xo(e,t,r){for(var a=[],i=t.length,o,s=t.length,c=0;c<i;c++){let x=t[c];Pa(x,()=>{if(o){if(o.pending.delete(x),o.done.add(x),o.pending.size===0){var d=e.outrogroups;Fr(qr(o.done)),d.delete(o),d.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var u=a.length===0&&r!==null;if(u){var b=r,f=b.parentNode;Nn(f),f.append(b),e.items.clear()}Fr(t,!u)}else o={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(o)}function Fr(e,t=!0){for(var r=0;r<e.length;r++)Rn(e[r],t)}var va;function Ae(e,t,r,a,i,o=null){var s=e,c=new Map,u=(t&Na)!==0;if(u){var b=e;s=Ne?Ar(yn(b)):b.appendChild(Er())}Ne&&wn();var f=null,x=kn(()=>{var y=r();return Sn(y)?y:y==null?[]:qr(y)}),d,h=!0;function g(){m.fallback=f,yo(m,d,s,t,a),f!==null&&(d.length===0?(f.f&rt)===0?Ma(f):(f.f^=rt,Rt(f,null,s)):Pa(f,()=>{f=null}))}var p=xn(()=>{d=n(x);var y=d.length;let w=!1;if(Ne){var D=Tn(s)===Dn;D!==(y===0)&&(s=ia(),Ar(s),Ir(!1),w=!0)}for(var k=new Set,S=kt,C=In(),T=0;T<y;T+=1){Ne&&Qt.nodeType===En&&Qt.data===An&&(s=Qt,w=!0,Ir(!1));var I=d[T],A=a(I,T),j=h?null:c.get(A);j?(j.v&&sa(j.v,I),j.i&&sa(j.i,T),C&&S.skipped_effects.delete(j.e)):(j=wo(c,h?s:va??=Er(),I,A,T,i,t,r),h||(j.e.f|=rt),c.set(A,j)),k.add(A)}if(y===0&&o&&!f&&(h?f=Lr(()=>o(s)):(f=Lr(()=>o(va??=Er())),f.f|=rt)),Ne&&y>0&&Ar(ia()),!h)if(C){for(const[W,U]of c)k.has(W)||S.skipped_effects.add(U.e);S.oncommit(g),S.ondiscard(()=>{})}else g();w&&Ir(!0),n(x)}),m={effect:p,items:c,outrogroups:null,fallback:f};h=!1,Ne&&(s=Qt)}function yo(e,t,r,a,i){var o=(a&Ln)!==0,s=t.length,c=e.items,u=e.effect.first,b,f=null,x,d=[],h=[],g,p,m,y;if(o)for(y=0;y<s;y+=1)g=t[y],p=i(g,y),m=c.get(p).e,(m.f&rt)===0&&(m.nodes?.a?.measure(),(x??=new Set).add(m));for(y=0;y<s;y+=1){if(g=t[y],p=i(g,y),m=c.get(p).e,e.outrogroups!==null)for(const j of e.outrogroups)j.pending.delete(m),j.done.delete(m);if((m.f&rt)!==0)if(m.f^=rt,m===u)Rt(m,null,r);else{var w=f?f.next:u;m===e.effect.last&&(e.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),nt(e,f,m),nt(e,m,w),Rt(m,w,r),f=m,d=[],h=[],u=f.next;continue}if((m.f&Or)!==0&&(Ma(m),o&&(m.nodes?.a?.unfix(),(x??=new Set).delete(m))),m!==u){if(b!==void 0&&b.has(m)){if(d.length<h.length){var D=h[0],k;f=D.prev;var S=d[0],C=d[d.length-1];for(k=0;k<d.length;k+=1)Rt(d[k],D,r);for(k=0;k<h.length;k+=1)b.delete(h[k]);nt(e,S.prev,C.next),nt(e,f,S),nt(e,C,D),u=D,f=C,y-=1,d=[],h=[]}else b.delete(m),Rt(m,u,r),nt(e,m.prev,m.next),nt(e,m,f===null?e.effect.first:f.next),nt(e,f,m),f=m;continue}for(d=[],h=[];u!==null&&u!==m;)(b??=new Set).add(u),h.push(u),u=u.next;if(u===null)continue}(m.f&rt)===0&&d.push(m),f=m,u=m.next}if(e.outrogroups!==null){for(const j of e.outrogroups)j.pending.size===0&&(Fr(qr(j.done)),e.outrogroups?.delete(j));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||b!==void 0){var T=[];if(b!==void 0)for(m of b)(m.f&Or)===0&&T.push(m);for(;u!==null;)(u.f&Or)===0&&u!==e.fallback&&T.push(u),u=u.next;var I=T.length;if(I>0){var A=(a&Na)!==0&&s===0?r:null;if(o){for(y=0;y<I;y+=1)T[y].nodes?.a?.measure();for(y=0;y<I;y+=1)T[y].nodes?.a?.fix()}xo(e,T,A)}}o&&Bt(()=>{if(x!==void 0)for(m of x)m.nodes?.a?.apply()})}function wo(e,t,r,a,i,o,s,c){var u=(s&jn)!==0?(s&Cn)===0?On(r,!1,!1):la(r):null,b=(s&Mn)!==0?la(i):null;return{v:u,i:b,e:Lr(()=>(o(t,u??r,b??i,c),()=>{e.delete(a)}))}}function Rt(e,t,r){if(e.nodes)for(var a=e.nodes.start,i=e.nodes.end,o=t&&(t.f&rt)===0?t.nodes.start:r;a!==null;){var s=Pn(a);if(o.before(a),a===i)return;a=s}}function nt(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const ko=()=>performance.now(),tt={tick:e=>requestAnimationFrame(e),now:()=>ko(),tasks:new Set};function Za(){const e=tt.now();tt.tasks.forEach(t=>{t.c(e)||(tt.tasks.delete(t),t.f())}),tt.tasks.size!==0&&tt.tick(Za)}function To(e){let t;return tt.tasks.size===0&&tt.tick(Za),{promise:new Promise(r=>{tt.tasks.add(t={c:e,f:r})}),abort(){tt.tasks.delete(t)}}}function $t(e,t){Fa(()=>{e.dispatchEvent(new CustomEvent(t))})}function Do(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function fa(e){const t={},r=e.split(";");for(const a of r){const[i,o]=a.split(":");if(!i||o===void 0)break;const s=Do(i.trim());t[s]=o.trim()}return t}const Eo=e=>e;function Ya(e,t,r){var a=Ra,i=a.nodes,o,s,c,u=null;i.a??={element:e,measure(){o=this.element.getBoundingClientRect()},apply(){if(c?.abort(),s=this.element.getBoundingClientRect(),o.left!==s.left||o.right!==s.right||o.top!==s.top||o.bottom!==s.bottom){const b=t()(this.element,{from:o,to:s},r?.());c=sr(this.element,b,void 0,1,()=>{c?.abort(),c=void 0})}},fix(){if(!e.getAnimations().length){var{position:b,width:f,height:x}=getComputedStyle(e);if(b!=="absolute"&&b!=="fixed"){var d=e.style;u={position:d.position,width:d.width,height:d.height,transform:d.transform},d.position="absolute",d.width=f,d.height=x;var h=e.getBoundingClientRect();if(o.left!==h.left||o.top!==h.top){var g=`translate(${o.left-h.left}px, ${o.top-h.top}px)`;d.transform=d.transform?`${d.transform} ${g}`:g}}}},unfix(){if(u){var b=e.style;b.position=u.position,b.width=u.width,b.height=u.height,b.transform=u.transform}}},i.a.element=e}function Ue(e,t,r,a){var i=(e&zn)!==0,o="both",s,c=t.inert,u=t.style.overflow,b,f;function x(){return Fa(()=>s??=r()(t,a?.()??{},{direction:o}))}var d={is_global:i,in(){t.inert=c,$t(t,"introstart"),b=sr(t,x(),f,1,()=>{$t(t,"introend"),b?.abort(),b=s=void 0,t.style.overflow=u})},out(m){t.inert=!0,$t(t,"outrostart"),f=sr(t,x(),b,0,()=>{$t(t,"outroend"),m?.()})},stop:()=>{b?.abort(),f?.abort()}},h=Ra;if((h.nodes.t??=[]).push(d),_n){var g=i;if(!g){for(var p=h.parent;p&&(p.f&Fn)!==0;)for(;(p=p.parent)&&(p.f&Bn)===0;);g=!p||(p.f&Wn)!==0}g&&La(()=>{Kr(()=>d.in())})}}function sr(e,t,r,a,i){var o=a===1;if(Gn(t)){var s,c=!1;return Bt(()=>{if(!c){var m=t({direction:o?"in":"out"});s=sr(e,m,r,a,i)}}),{abort:()=>{c=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return i(),{abort:Ct,deactivate:Ct,reset:Ct,t:()=>a};const{delay:u=0,css:b,tick:f,easing:x=Eo}=t;var d=[];if(o&&r===void 0&&(f&&f(0,1),b)){var h=fa(b(0,1));d.push(h,h)}var g=()=>1-a,p=e.animate(d,{duration:u,fill:"forwards"});return p.onfinish=()=>{p.cancel();var m=r?.t()??1-a;r?.abort();var y=a-m,w=t.duration*Math.abs(y),D=[];if(w>0){var k=!1;if(b)for(var S=Math.ceil(w/16.666666666666668),C=0;C<=S;C+=1){var T=m+y*x(C/S),I=fa(b(T,1-T));D.push(I),k||=I.overflow==="hidden"}k&&(e.style.overflow="hidden"),g=()=>{var A=p.currentTime;return m+y*x(A/w)},f&&To(()=>{if(p.playState!=="running")return!1;var A=g();return f(A,1-A),!0})}p=e.animate(D,{duration:w,fill:"forwards"}),p.onfinish=()=>{g=()=>a,f?.(a,1-a),i()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=Ct)},deactivate:()=>{i=Ct},reset:()=>{a===0&&f?.(1,0)},t:()=>g()}}function Jr(e,t,r){La(()=>{var a=Kr(()=>t(e,r?.())||{});if(r&&a?.update){var i=!1,o={};Xr(()=>{var s=r();Un(s),i&&Hn(o,s)&&(o=s,a.update(s))}),i=!0}if(a?.destroy)return()=>a.destroy()})}const ba=[...` 	
\r\fÂ \v\uFEFF`];function Ao(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var i in r)if(r[i])a=a?a+" "+i:i;else if(a.length)for(var o=i.length,s=0;(s=a.indexOf(i,s))>=0;){var c=s+o;(s===0||ba.includes(a[s-1]))&&(c===a.length||ba.includes(a[c]))?a=(s===0?"":a.substring(0,s))+a.substring(c+1):s=c}}return a===""?null:a}function ga(e,t=!1){var r=t?" !important;":";",a="";for(var i in e){var o=e[i];o!=null&&o!==""&&(a+=" "+i+": "+o+r)}return a}function Sr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Io(e,t){if(t){var r="",a,i;if(Array.isArray(t)?(a=t[0],i=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,c=!1,u=[];a&&u.push(...Object.keys(a).map(Sr)),i&&u.push(...Object.keys(i).map(Sr));var b=0,f=-1;const p=e.length;for(var x=0;x<p;x++){var d=e[x];if(c?d==="/"&&e[x-1]==="*"&&(c=!1):o?o===d&&(o=!1):d==="/"&&e[x+1]==="*"?c=!0:d==='"'||d==="'"?o=d:d==="("?s++:d===")"&&s--,!c&&o===!1&&s===0){if(d===":"&&f===-1)f=x;else if(d===";"||x===p-1){if(f!==-1){var h=Sr(e.substring(b,f).trim());if(!u.includes(h)){d!==";"&&x++;var g=e.substring(b,x).trim();r+=" "+g+";"}}b=x+1,f=-1}}}}return a&&(r+=ga(a)),i&&(r+=ga(i,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function ae(e,t,r,a,i,o){var s=e.__className;if(Ne||s!==r||s===void 0){var c=Ao(r,a,o);(!Ne||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=r}else if(o&&i!==o)for(var u in o){var b=!!o[u];(i==null||b!==!!i[u])&&e.classList.toggle(u,b)}return o}function jr(e,t={},r,a){for(var i in r){var o=r[i];t[i]!==o&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,a))}}function Vt(e,t,r,a){var i=e.__style;if(Ne||i!==t){var o=Io(t,a);(!Ne||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}else a&&(Array.isArray(a)?(jr(e,r?.[0],a[0]),jr(e,r?.[1],a[1],"important")):jr(e,r,a));return a}const Oo=Symbol("is custom element"),So=Symbol("is html");function st(e){if(Ne){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;Br(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var i=e.checked;Br(e,"checked",null),e.checked=i}}};e.__on_r=r,Bt(r),Vn()}}function jo(e,t){var r=qa(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Br(e,t,r,a){var i=qa(e);Ne&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=r)&&(t==="loading"&&(e[Zn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Co(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function qa(e){return e.__attributes??={[Oo]:e.nodeName.includes("-"),[So]:e.namespaceURI===Yn}}var pa=new Map;function Co(e){var t=e.getAttribute("is")||e.nodeName,r=pa.get(t);if(r)return r;pa.set(t,r=[]);for(var a,i=e,o=Element.prototype;o!==i;){a=Kn(i);for(var s in a)a[s].set&&r.push(s);i=qn(i)}return r}function Qr(e,t,r=t){var a=new WeakSet;Ba(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=Mr(e)?Pr(o):o,r(o),kt!==null&&a.add(kt),await Xn(),o!==(o=t())){var s=e.selectionStart,c=e.selectionEnd,u=e.value.length;if(e.value=o??"",c!==null){var b=e.value.length;s===c&&c===u&&b>u?(e.selectionStart=b,e.selectionEnd=b):(e.selectionStart=s,e.selectionEnd=Math.min(c,b))}}}),(Ne&&e.defaultValue!==e.value||Kr(t)==null&&e.value)&&(r(Mr(e)?Pr(e.value):e.value),kt!==null&&a.add(kt)),Xr(()=>{var i=t();if(e===document.activeElement){var o=Jn??kt;if(a.has(o))return}Mr(e)&&i===Pr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const Cr=new Set;function lr(e,t,r,a,i=a){var o=r.getAttribute("type")==="checkbox",s=e;let c=!1;if(t!==null)for(var u of t)s=s[u]??=[];s.push(r),Ba(r,"change",()=>{var b=r.__value;o&&(b=ma(s,b,r.checked)),i(b)},()=>i(o?[]:null)),Xr(()=>{var b=a();if(Ne&&r.defaultChecked!==r.checked){c=!0;return}o?(b=b||[],r.checked=b.includes(r.__value)):r.checked=Qn(r.__value,b)}),$n(()=>{var b=s.indexOf(r);b!==-1&&s.splice(b,1)}),Cr.has(s)||(Cr.add(s),Bt(()=>{s.sort((b,f)=>b.compareDocumentPosition(f)===4?-1:1),Cr.delete(s)})),Bt(()=>{if(c){var b;if(o)b=ma(s,b,r.checked);else{var f=s.find(x=>x.checked);b=f?.__value}i(b)}})}function ma(e,t,r){for(var a=new Set,i=0;i<e.length;i+=1)e[i].checked&&a.add(e[i].__value);return r||a.delete(t),Array.from(a)}function Mr(e){var t=e.type;return t==="number"||t==="range"}function Pr(e){return e===""?null:+e}const Mt={regular:{sev1:"Core to who I am or want to become",sev2:"Significant progress toward a major goal",sev3:"Meaningful but not defining",sev4:"Nice to do, no real deadline",sev5:"Pure exploration or fun"},maintenance:{sev1:"Immediate risk if ignored (safety, legal, financial)",sev2:"Disrupts daily life if neglected",sev3:"Routine upkeep, flexible timing",sev4:"Minor improvement, no consequences",sev5:"Cosmetic or nice-to-have"}},Mo=["ðŸ’¼","ðŸ ","ðŸ’ª","ðŸ“š","ðŸ’°","â¤ï¸","ðŸŽ¯","ðŸš€","ðŸŽ¨","ðŸŽµ","âœˆï¸","ðŸŽ","ðŸ§˜","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ“±","ðŸ’»","ðŸ”§","ðŸ“","ðŸŽ“","ðŸƒ","ðŸ§ ","ðŸŒ±","â­","ðŸ”¥","ðŸ’¡","ðŸŽ®","ðŸ“¸","ðŸ›’","ðŸ¦","ðŸš—","ðŸ‹ï¸"];_e(["click","keydown"]);var Po=L('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),No=L('<button><span class="text-xl"> </span> <span class="text-xs font-medium"> </span></button>'),Ro=L('<nav class="md:hidden pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav> <nav class="hidden md:flex fixed left-0 top-0 bottom-0 w-20 bg-base-200 border-r border-base-content/10 flex-col items-center py-6 gap-2"></nav>',1);function Lo(e,t){we(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var a=Ro(),i=ne(a);Ae(i,21,()=>r,Ce,(s,c)=>{var u=Po();let b;u.__click=()=>t.onTabChange(n(c).id);let f;var x=v(u),d=v(x,!0);l(x);var h=_(x,2),g=v(h,!0);l(h),l(u),K(()=>{b=ae(u,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,b,{"text-primary":t.activeTab===n(c).id,"text-base-content":t.activeTab!==n(c).id}),f=Vt(u,"",f,{opacity:t.activeTab===n(c).id?1:.4}),z(d,n(c).icon),z(g,n(c).label)}),E(s,u)}),l(i);var o=_(i,2);Ae(o,21,()=>r,Ce,(s,c)=>{var u=No();u.__click=()=>t.onTabChange(n(c).id);var b=v(u),f=v(b,!0);l(b);var x=_(b,2),d=v(x,!0);l(x),l(u),K(()=>{ae(u,1,`flex flex-col ${t.activeTab==n(c).id?"bg-primary/20 text-primary":"text-base-content "} items-center gap-1 px-3 py-3 rounded-lg transition-colors w-16 `),z(f,n(c).icon),z(d,n(c).label)}),E(s,u)}),l(o),E(e,a),ke()}_e(["click"]);const Fo=e=>e;function Bo(e){const t=e-1;return t*t*t+1}function ha(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function St(e,{delay:t=0,duration:r=400,easing:a=Fo}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:o=>`opacity: ${o*i}`}}function jt(e,{delay:t=0,duration:r=400,easing:a=Bo,x:i=0,y:o=0,opacity:s=0}={}){const c=getComputedStyle(e),u=+c.opacity,b=c.transform==="none"?"":c.transform,f=u*(1-s),[x,d]=ha(i),[h,g]=ha(o);return{delay:t,duration:r,easing:a,css:(p,m)=>`
			transform: ${b} translate(${(1-p)*x}${d}, ${(1-p)*h}${g});
			opacity: ${u-f*m}`}}var Wo=L('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),zo=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function Go(e,t){we(t,!0);let r=J(!1),a=J(null);function i(d,h,g,p){d.stopPropagation(),O(a,{task:h,project:g,area:p},!0),O(r,!0)}function o(){O(r,!1),O(a,null)}function s(){return ro(t.currentWeekOf).map(d=>({date:d,dayName:Wa(d),isToday:ao(d)}))}async function c(d){if(!n(a))return;const{task:h,project:g,area:p}=n(a);o();const m=t.isTaskAssignedToDay(h.id);m===d?await rr(h.id,g.id,t.currentWeekOf,d):(m&&await rr(h.id,g.id,t.currentWeekOf,m),await to(h.id,g.id,p.id,h.name,t.currentWeekOf,d,!1))}var u={openDayPicker:i},b=ue(),f=ne(b);{var x=d=>{var h=zo(),g=v(h);g.__click=o,g.__keydown=I=>I.key==="Escape"&&o();var p=_(g,2),m=v(p),y=v(m),w=_(v(y),2),D=v(w,!0);l(w),l(y);var k=_(y,2);k.__click=o,l(m);var S=_(m,2);Ae(S,21,s,Ce,(I,A)=>{const j=$(()=>t.isTaskAssignedToDay(n(a).task.id)===n(A).date);var W=Wo();W.__click=()=>c(n(A).date);var U=v(W),V=v(U,!0);l(U);var B=_(U,2),N=v(B,!0);l(B),l(W),K(M=>{ae(W,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${n(j)?"bg-primary text-primary-content border-primary":n(A).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),z(V,n(A).dayName),z(N,M)},[()=>n(A).date.split("-")[2]]),E(I,W)}),l(S);var C=_(S,2),T=v(C);T.__click=()=>{const I=t.isTaskAssignedToDay(n(a).task.id);I&&rr(n(a).task.id,n(a).project.id,t.currentWeekOf,I),o()},l(C),l(p),l(h),K(()=>z(D,n(a).task.name)),Ue(3,g,()=>St,()=>({duration:200})),Ue(3,p,()=>jt,()=>({y:300,duration:300})),E(d,h)};Z(f,d=>{n(r)&&n(a)&&d(x)})}return E(e,b),ke(u)}_e(["click","keydown"]);function _a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_a(Object(r),!0).forEach(function(a){At(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tt(e){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(e)}function At(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uo(e,t){if(e==null)return{};var r={},a=Object.keys(e),i,o;for(o=0;o<a.length;o++)i=a[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ho(e,t){if(e==null)return{};var r=Uo(e,t),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Vo(e,t){return Yo(e)||Ko(e,t)||$r(e,t)||Jo()}function Ge(e){return Zo(e)||qo(e)||$r(e)||Xo()}function Zo(e){if(Array.isArray(e))return Wr(e)}function Yo(e){if(Array.isArray(e))return e}function qo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ko(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],i=!0,o=!1,s,c;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));i=!0);}catch(u){o=!0,c=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw c}}return a}}function $r(e,t){if(e){if(typeof e=="string")return Wr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wr(e,t)}}function Wr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Xo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=$r(e))||t){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,c;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return o=u.done,u},e:function(u){s=!0,c=u},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw c}}}}var Qo="finalize",$o="consider";function It(e,t,r){e.dispatchEvent(new CustomEvent(Qo,{detail:{items:t,info:r}}))}function dt(e,t,r){e.dispatchEvent(new CustomEvent($o,{detail:{items:t,info:r}}))}var mr="draggedEntered",Yt="draggedLeft",hr="draggedOverIndex",ea="draggedLeftDocument",dr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function ei(e,t,r){e.dispatchEvent(new CustomEvent(mr,{detail:{indexObj:t,draggedEl:r}}))}function ti(e,t,r){e.dispatchEvent(new CustomEvent(Yt,{detail:{draggedEl:t,type:dr.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function ri(e,t){e.dispatchEvent(new CustomEvent(Yt,{detail:{draggedEl:t,type:dr.OUTSIDE_OF_ANY}}))}function ai(e,t,r){e.dispatchEvent(new CustomEvent(hr,{detail:{indexObj:t,draggedEl:r}}))}function ni(e){window.dispatchEvent(new CustomEvent(ea,{detail:{draggedEl:e}}))}var je={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:mr,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:hr,DRAGGED_LEFT:Yt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Le={POINTER:"pointer",KEYBOARD:"keyboard"},_r="isDndShadowItem",xr="data-is-dnd-shadow-item-internal",oi="data-is-dnd-shadow-item-hint",Ka="id:dnd-shadow-placeholder-0000",ii="dnd-action-dragged-el",he="id",zr=0;function Xa(){zr++}function Ja(){if(zr===0)throw new Error("Bug! trying to decrement when there are no dropzones");zr--}var ta=typeof window>"u";function Gr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?ci(e):e.getBoundingClientRect(),i=getComputedStyle(e),o=i.transform;if(o){var s,c,u,b;if(o.startsWith("matrix3d("))r=o.slice(9,-1).split(/, /),s=+r[0],c=+r[5],u=+r[12],b=+r[13];else if(o.startsWith("matrix("))r=o.slice(7,-1).split(/, /),s=+r[0],c=+r[3],u=+r[4],b=+r[5];else return a;var f=i.transformOrigin,x=a.x-u-(1-s)*parseFloat(f),d=a.y-b-(1-c)*parseFloat(f.slice(f.indexOf(" ")+1)),h=s?a.width/s:e.offsetWidth,g=c?a.height/c:e.offsetHeight;return{x,y:d,width:h,height:g,top:d,right:x+h,bottom:d+g,left:x}}else return a}function Qa(e){var t=Gr(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function $a(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function en(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function si(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yr(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Wt(e){return en($a(e))}function xa(e,t){var r=Wt(e),a=Qa(t);return yr(r,a)}function ya(e,t){var r=Wt(e),a=Wt(t);return si(r,a)}function li(e){var t=$a(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function ci(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,i=!1,o=e.parentElement;o&&o!==document.body;){var s=window.getComputedStyle(o),c=s.overflowY,u=s.overflowX,b=c==="scroll"||c==="auto",f=u==="scroll"||u==="auto";if(b||f){var x=o.getBoundingClientRect();if(b){var d=Math.max(r.top,x.top),h=Math.min(r.bottom,x.bottom);(d!==r.top||h!==r.bottom)&&(a=!0),r.top=d,r.bottom=h}if(f){var g=Math.max(r.left,x.left),p=Math.min(r.right,x.right);(g!==r.left||p!==r.right)&&(i=!0),r.left=g,r.right=p}}o=o.parentElement}return a||i?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Dt;function ra(){Dt=new Map}ra();function di(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(xr)});if(t>=0)return Dt.has(e)||Dt.set(e,new Map),Dt.get(e).set(t,Qa(e.children[t])),t}function ui(e,t){if(!xa(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=di(t),i=0;i<r.length;i++)if(xa(e,r[i])){var o=Dt.has(t)&&Dt.get(t).get(i);return o&&!yr(Wt(e),o)?{index:a,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var s=Number.MAX_VALUE,c=void 0,u=0;u<r.length;u++){var b=ya(e,r[u]);b<s&&(s=b,c=u)}if(r.length>0){var f=r.length,x=r[f-1],d=x.cloneNode(!1);d.style.visibility="hidden",d.style.pointerEvents="none",t.appendChild(d);var h=ya(e,d);h<s&&(c=f),t.removeChild(d)}return{index:c,isProximityBased:!0}}function Pt(e){return JSON.stringify(e,null,2)}function ur(e){if(!e)throw new Error("cannot get depth of a falsy node");return tn(e,0)}function tn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?tn(e.parentElement,t+1):t-1}function vi(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function fi(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var bi=200,wa=10,Ur;function gi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bi,a=arguments.length>3?arguments[3]:void 0,i,o,s=!1,c,u=Array.from(t).sort(function(f,x){return ur(x)-ur(f)});function b(){var f=Wt(e),x=a.multiScrollIfNeeded();if(!x&&c&&Math.abs(c.x-f.x)<wa&&Math.abs(c.y-f.y)<wa){Ur=window.setTimeout(b,r);return}if(li(e)){ni(e);return}c=f;var d=!1,h=Zt(u),g;try{for(h.s();!(g=h.n()).done;){var p=g.value;x&&ra();var m=ui(e,p);if(m!==null){var y=m.index;d=!0,p!==i?(i&&ti(i,e,p),ei(p,m,e),i=p):y!==o&&(ai(p,m,e),o=y);break}}}catch(w){h.e(w)}finally{h.f()}!d&&s&&i?(ri(i,e),i=void 0,o=void 0,s=!1):s=!0,Ur=window.setTimeout(b,r)}b()}function pi(){clearTimeout(Ur),ra()}var Nt=30;function mi(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(o){var s=e,c=s.directionObj,u=s.stepPx;c&&(o.scrollBy(c.x*u,c.y*u),window.requestAnimationFrame(function(){return r(o)}))}function a(o){return Nt-o}function i(o,s){if(!s)return!1;var c=hi(o,s),u=!!e.directionObj;if(c===null)return u&&t(),!1;var b=!1,f=!1;return s.scrollHeight>s.clientHeight&&(c.bottom<Nt?(b=!0,e.directionObj={x:0,y:1},e.stepPx=a(c.bottom)):c.top<Nt&&(b=!0,e.directionObj={x:0,y:-1},e.stepPx=a(c.top)),!u&&b)||s.scrollWidth>s.clientWidth&&(c.right<Nt?(f=!0,e.directionObj={x:1,y:0},e.stepPx=a(c.right)):c.left<Nt&&(f=!0,e.directionObj={x:-1,y:0},e.stepPx=a(c.left)),!u&&f)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function hi(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return yr(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function _i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=yi(e),a=Array.from(r).sort(function(u,b){return ur(b)-ur(u)}),i=mi(),o=i.scrollIfNeeded,s=i.resetScrolling;function c(){var u=t();if(!u||!a)return!1;for(var b=a.filter(function(d){return yr(u,d.getBoundingClientRect())||d===document.scrollingElement}),f=0;f<b.length;f++){var x=o(u,b[f]);if(x)return!0}return!1}return{multiScrollIfNeeded:r.size>0?c:function(){return!1},destroy:function(){return s()}}}function xi(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),i=a.overflow;i.split(" ").some(function(o){return o.includes("auto")||o.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function yi(e){var t=new Set,r=Zt(e),a;try{for(r.s();!(a=r.n()).done;){var i=a.value;xi(i).forEach(function(o){return t.add(o)})}}catch(o){r.e(o)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function wi(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",i=a?[e]:Ge(e.querySelectorAll("select")),o=Zt(i),s;try{for(o.s();!(s=o.n()).done;){var c=s.value;r.push(c.value)}}catch(D){o.e(D)}finally{o.f()}if(i.length>0)for(var u=a?[t]:Ge(t.querySelectorAll("select")),b=0;b<u.length;b++){var f=u[b],x=r[b],d=f.querySelector('option[value="'.concat(x,'"'));d&&d.setAttribute("selected",!0)}var h=e.tagName==="CANVAS",g=h?[e]:Ge(e.querySelectorAll("canvas"));if(g.length>0)for(var p=h?[t]:Ge(t.querySelectorAll("canvas")),m=0;m<p.length;m++){var y=g[m],w=p[m];w.width=y.width,w.height=y.height,y.width>0&&y.height>0&&w.getContext("2d").drawImage(y,0,0)}return t}var zt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),ki=At({},zt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function rn(e){if(!zt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(zt)));return ki[e]}var Ti=.2;function ft(e){return"".concat(e," ").concat(Ti,"s ease")}function Di(e,t){var r=e.getBoundingClientRect(),a=wi(e);an(e,a),a.id=ii,a.style.position="fixed";var i=r.top,o=r.left;if(a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px"),t){var s=en(r);i-=s.y-t.y,o-=s.x-t.x,window.setTimeout(function(){a.style.top="".concat(i,"px"),a.style.left="".concat(o,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(ft("top"),", ").concat(ft("left"),", ").concat(ft("background-color"),", ").concat(ft("opacity"),", ").concat(ft("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(ft("width"),", ").concat(ft("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function Ei(e){e.style.cursor="grab"}function Ai(e,t,r,a){an(t,e);var i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),s=i.width-o.width,c=i.height-o.height;if(s||c){var u={left:(r-o.left)/o.width,top:(a-o.top)/o.height};rn(zt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-u.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-u.top*c,"px")}}function an(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||rn(zt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function Ii(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function nn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Oi(e){e.style.visibility="hidden",e.setAttribute(xr,"true")}function Si(e){e.style.visibility="",e.removeAttribute(xr)}function ar(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var i=t(a);Object.keys(i).forEach(function(o){a.style[o]=i[o]}),r(a).forEach(function(o){return a.classList.add(o)})})}function vr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var i=t(a);Object.keys(i).forEach(function(o){a.style[o]=""}),r(a).forEach(function(o){return a.classList.contains(o)&&a.classList.remove(o)})})}function ji(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Ci="--any--",Mi=100,Pi=20,er=3,Ni=80,ka={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ta="data-is-dnd-original-dragged-item",Pe,ye,Re,wr,ve,kr,lt,Ee,Ke,Oe,ot=!1,aa=!1,na,qt=!1,nr=[],Ft,Xe,Lt=!1,Ye=new Map,ge=new Map,Nr=new WeakMap;function Ri(e,t){Ye.has(t)||Ye.set(t,new Set),Ye.get(t).has(e)||(Ye.get(t).add(e),Xa())}function Da(e,t){Ye.get(t).delete(e),Ja(),Ye.get(t).size===0&&Ye.delete(t)}function Li(){var e=Ye.get(wr),t=Zt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(mr,on),a.addEventListener(Yt,sn),a.addEventListener(hr,ln)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(ea,Ot);var i=Math.max.apply(Math,Ge(Array.from(e.keys()).map(function(s){return ge.get(s).dropAnimationDurationMs}))),o=i===0?Pi:Math.max(i,Mi);Ft=_i(e,function(){return Oe}),gi(ye,e,o*1.07,Ft)}function Fi(){var e=Ye.get(wr),t=Zt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(mr,on),a.removeEventListener(Yt,sn),a.removeEventListener(hr,ln)}}catch(i){t.e(i)}finally{t.f()}window.removeEventListener(ea,Ot),Ft&&(Ft.destroy(),Ft=void 0),pi()}function Tr(e){return e.findIndex(function(t){return!!t[_r]})}function Bi(e){var t;return cr(cr({},e),{},(t={},At(t,_r,!0),At(t,he,Ka),t))}function on(e){var t=ge.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve)){if(qt=!1,r=r.filter(function(c){return c[he]!==lt[he]&&c[he]!==Ka}),ve!==e.currentTarget){var i=ge.get(ve).items,o=i.filter(function(c){return!c[_r]});dt(ve,o,{trigger:je.DRAGGED_ENTERED_ANOTHER,id:Re[he],source:Le.POINTER})}var s=e.detail.indexObj.index;Ee=e.currentTarget,r.splice(s,0,lt),dt(e.currentTarget,r,{trigger:je.DRAGGED_ENTERED,id:Re[he],source:Le.POINTER})}}function sn(e){if(ot){var t=ge.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve&&e.currentTarget!==Ee)){var i=Ge(r),o=Tr(i);o!==-1&&i.splice(o,1);var s=Ee;Ee=void 0;var c=e.detail,u=c.type,b=c.theOtherDz;if(u===dr.OUTSIDE_OF_ANY||u===dr.LEFT_FOR_ANOTHER&&b!==ve&&ge.get(b).dropFromOthersDisabled){qt=!0,Ee=ve;var f=s===ve?i:Ge(ge.get(ve).items);f.splice(kr,0,lt),dt(ve,f,{trigger:je.DRAGGED_LEFT_ALL,id:Re[he],source:Le.POINTER})}dt(e.currentTarget,i,{trigger:je.DRAGGED_LEFT,id:Re[he],source:Le.POINTER})}}}function ln(e){var t=ge.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ve)){var i=Ge(r);qt=!1;var o=e.detail.indexObj.index,s=Tr(i);s!==-1&&i.splice(s,1),i.splice(o,0,lt),dt(e.currentTarget,i,{trigger:je.DRAGGED_OVER_INDEX,id:Re[he],source:Le.POINTER})}}function fr(e){e.preventDefault();var t=e.touches?e.touches[0]:e;Oe={x:t.clientX,y:t.clientY},ye.style.transform="translate3d(".concat(Oe.x-Ke.x,"px, ").concat(Oe.y-Ke.y,"px, 0)")}function Ot(){aa=!0,window.removeEventListener("mousemove",fr),window.removeEventListener("touchmove",fr),window.removeEventListener("mouseup",Ot),window.removeEventListener("touchend",Ot),Fi(),Ei(ye),Ee||(Ee=ve);var e=ge.get(Ee),t=e.items,r=e.type;vr(Ye.get(r),function(o){return ge.get(o).dropTargetStyle},function(o){return ge.get(o).dropTargetClasses});var a=Tr(t);a===-1&&Ee===ve&&(a=kr),t=t.map(function(o){return o[_r]?Re:o});function i(){na(),It(Ee,t,{trigger:qt?je.DROPPED_OUTSIDE_OF_ANY:je.DROPPED_INTO_ZONE,id:Re[he],source:Le.POINTER}),Ee!==ve&&It(ve,ge.get(ve).items,{trigger:je.DROPPED_INTO_ANOTHER,id:Re[he],source:Le.POINTER});var o=Array.from(Ee.children).find(function(s){return s.getAttribute(xr)});o&&Si(o),Gi()}ge.get(Ee).dropAnimationDisabled?i():Wi(a,i)}function Wi(e,t){var r=e>-1?Gr(Ee.children[e],!1):Gr(Ee,!1),a={x:r.left-parseFloat(ye.style.left),y:r.top-parseFloat(ye.style.top)},i=ge.get(Ee),o=i.dropAnimationDurationMs,s="transform ".concat(o,"ms ease");ye.style.transition=ye.style.transition?ye.style.transition+","+s:s,ye.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,o)}function zi(e,t){nr.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){nn(e),document.body.appendChild(e)})}function Gi(){ye&&ye.remove&&ye.remove(),Pe&&Pe.remove&&Pe.remove(),ye=void 0,Pe=void 0,Re=void 0,wr=void 0,ve=void 0,kr=void 0,lt=void 0,Ee=void 0,Ke=void 0,Oe=void 0,ot=!1,aa=!1,na=void 0,qt=!1,Xe&&clearTimeout(Xe),Xe=void 0,Lt=!1,nr.length&&(nr.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),nr=[])}function Ui(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:ka,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function o(){window.addEventListener("mousemove",u,{passive:!1}),window.addEventListener("touchmove",u,{passive:!1,capture:!1}),window.addEventListener("mouseup",c,{passive:!1}),window.addEventListener("touchend",c,{passive:!1})}function s(){window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",c),window.removeEventListener("touchend",c),Xe&&(clearTimeout(Xe),Xe=void 0,Lt=!1)}function c(d){if(s(),Pe=void 0,Ke=void 0,Oe=void 0,d.type==="touchend"){var h=new Event("click",{bubbles:!0,cancelable:!0});d.target.dispatchEvent(h)}}function u(d){var h=!!d.touches,g=h?d.touches[0]:d;if(h&&a.delayTouchStartMs>0&&!Lt){Oe={x:g.clientX,y:g.clientY},(Math.abs(Oe.x-Ke.x)>=er||Math.abs(Oe.y-Ke.y)>=er)&&(Xe&&(clearTimeout(Xe),Xe=void 0),c(d));return}d.preventDefault(),Oe={x:g.clientX,y:g.clientY},(Math.abs(Oe.x-Ke.x)>=er||Math.abs(Oe.y-Ke.y)>=er)&&(s(),f())}function b(d){if(!(d.target!==d.currentTarget&&(d.target.value!==void 0||d.target.isContentEditable))&&!d.button&&!ot){var h=!!d.touches,g=h&&a.delayTouchStartMs>0;g||d.preventDefault(),d.stopPropagation();var p=h?d.touches[0]:d;Ke={x:p.clientX,y:p.clientY},Oe=cr({},Ke),Pe=d.currentTarget,g&&(Lt=!1,Xe=window.setTimeout(function(){Pe&&(Lt=!0,s(),f())},a.delayTouchStartMs)),o()}}function f(){ot=!0;var d=i.get(Pe);kr=d,ve=Pe.parentElement;var h=ve.closest("dialog")||ve.closest("[popover]")||ve.getRootNode(),g=h.body||h,p=a.items,m=a.type,y=a.centreDraggedOnCursor,w=Ge(p);Re=w[d],wr=m,lt=Bi(Re),ye=Di(Pe,y&&Oe),g.appendChild(ye);function D(){Pe.parentElement?window.requestAnimationFrame(D):(Pe.setAttribute(Ta,!0),g.appendChild(Pe),Li(),nn(Pe),lt[he]=Re[he],ye.focus())}window.requestAnimationFrame(D),ar(Array.from(Ye.get(a.type)).filter(function(k){return k===ve||!ge.get(k).dropFromOthersDisabled}),function(k){return ge.get(k).dropTargetStyle},function(k){return ge.get(k).dropTargetClasses}),w.splice(d,1,lt),na=ji(ve),dt(ve,w,{trigger:je.DRAG_STARTED,id:Re[he],source:Le.POINTER}),window.addEventListener("mousemove",fr,{passive:!1}),window.addEventListener("touchmove",fr,{passive:!1,capture:!1}),window.addEventListener("mouseup",Ot,{passive:!1}),window.addEventListener("touchend",Ot,{passive:!1})}function x(d){var h=d.items,g=h===void 0?void 0:h,p=d.flipDurationMs,m=p===void 0?0:p,y=d.type,w=y===void 0?Ci:y,D=d.dragDisabled,k=D===void 0?!1:D,S=d.morphDisabled,C=S===void 0?!1:S,T=d.dropFromOthersDisabled,I=T===void 0?!1:T,A=d.dropTargetStyle,j=A===void 0?ka:A,W=d.dropTargetClasses,U=W===void 0?[]:W,V=d.transformDraggedElement,B=V===void 0?function(){}:V,N=d.centreDraggedOnCursor,M=N===void 0?!1:N,G=d.dropAnimationDisabled,Q=G===void 0?!1:G,P=d.delayTouchStart,R=P===void 0?!1:P;a.dropAnimationDurationMs=m;var F=0;R===!0?F=Ni:typeof R=="number"&&isFinite(R)&&R>=0&&(F=R),a.delayTouchStartMs=F,a.type&&w!==a.type&&Da(e,a.type),a.type=w,a.items=Ge(g),a.dragDisabled=k,a.morphDisabled=C,a.transformDraggedElement=B,a.centreDraggedOnCursor=M,a.dropAnimationDisabled=Q,r&&ot&&!aa&&(!vi(j,a.dropTargetStyle)||!fi(U,a.dropTargetClasses))&&(vr([e],function(){return a.dropTargetStyle},function(){return U}),ar([e],function(){return j},function(){return U})),a.dropTargetStyle=j,a.dropTargetClasses=Ge(U);function H(ie,ce){return ge.get(ie)?ge.get(ie)[ce]:a[ce]}r&&ot&&a.dropFromOthersDisabled!==I&&(I?vr([e],function(ie){return H(ie,"dropTargetStyle")},function(ie){return H(ie,"dropTargetClasses")}):ar([e],function(ie){return H(ie,"dropTargetStyle")},function(ie){return H(ie,"dropTargetClasses")})),a.dropFromOthersDisabled=I,ge.set(e,a),Ri(e,w);for(var q=ot?Tr(a.items):-1,te=0;te<e.children.length;te++){var oe=e.children[te];if(Ii(oe,k),te===q){C||Ai(ye,oe,Oe.x,Oe.y),a.transformDraggedElement(ye,Re,te),Oi(oe);continue}oe.removeEventListener("mousedown",Nr.get(oe)),oe.removeEventListener("touchstart",Nr.get(oe)),k||(oe.addEventListener("mousedown",b),oe.addEventListener("touchstart",b),Nr.set(oe,b)),i.set(oe,te),r||(r=!0)}}return x(t),{update:function(h){x(h)},destroy:function(){function h(){Da(e,ge.get(e).type),ge.delete(e)}ot&&!e.closest("[".concat(Ta,"]"))?zi(e,h):h()}}}var tr,Hr={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},cn=(tr={},At(tr,Hr.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),At(tr,Hr.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),tr),Hi="dnd-action-aria-alert",pe;function Vr(){pe||(pe=document.createElement("div"),(function(){pe.id=Hi,pe.style.position="fixed",pe.style.bottom="0",pe.style.left="0",pe.style.zIndex="-5",pe.style.opacity="0",pe.style.height="0",pe.style.width="0",pe.setAttribute("role","alert")})(),document.body.prepend(pe),Object.entries(cn).forEach(function(e){var t=Vo(e,2),r=t[0],a=t[1];return document.body.prepend(Yi(r,a))}))}function Vi(){return ta?null:(document.readyState==="complete"?Vr():window.addEventListener("DOMContentLoaded",Vr),cr({},Hr))}function Zi(){ta||!pe||(Object.keys(cn).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),pe.remove(),pe=void 0)}function Yi(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Et(e){if(!ta){pe||Vr(),pe.innerHTML="";var t=document.createTextNode(e);pe.appendChild(t),pe.style.display="none",pe.style.display="inline"}}var qi="--any--",Ea={outline:"rgba(255, 255, 102, 0.7) solid 2px"},ze=!1,Zr,Se,mt="",bt,Je,it="",br=new WeakSet,Aa=new WeakMap,Ia=new WeakMap,Yr=new Map,De=new Map,Ze=new Map,gr;function Ki(e,t){Ze.size===0&&(gr=Vi(),window.addEventListener("keydown",dn),window.addEventListener("click",un)),Ze.has(t)||Ze.set(t,new Set),Ze.get(t).has(e)||(Ze.get(t).add(e),Xa())}function Oa(e,t){Se===e&&Gt(),Ze.get(t).delete(e),Ja(),Ze.get(t).size===0&&Ze.delete(t),Ze.size===0&&(window.removeEventListener("keydown",dn),window.removeEventListener("click",un),gr=void 0,Zi())}function dn(e){if(ze)switch(e.key){case"Escape":{Gt();break}}}function un(){ze&&(br.has(document.activeElement)||Gt())}function Xi(e){if(ze){var t=e.currentTarget;if(t!==Se){mt=t.getAttribute("aria-label")||"";var r=De.get(Se),a=r.items,i=a.find(function(x){return x[he]===Je}),o=a.indexOf(i),s=a.splice(o,1)[0],c=De.get(t),u=c.items,b=c.autoAriaDisabled;t.getBoundingClientRect().top<Se.getBoundingClientRect().top||t.getBoundingClientRect().left<Se.getBoundingClientRect().left?(u.push(s),b||Et("Moved item ".concat(it," to the end of the list ").concat(mt))):(u.unshift(s),b||Et("Moved item ".concat(it," to the beginning of the list ").concat(mt)));var f=Se;It(f,a,{trigger:je.DROPPED_INTO_ANOTHER,id:Je,source:Le.KEYBOARD}),It(t,u,{trigger:je.DROPPED_INTO_ZONE,id:Je,source:Le.KEYBOARD}),Se=t}}}function vn(){Yr.forEach(function(e,t){var r=e.update;return r(De.get(t))})}function Gt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;De.get(Se).autoAriaDisabled||Et("Stopped dragging item ".concat(it)),br.has(document.activeElement)&&document.activeElement.blur(),e&&dt(Se,De.get(Se).items,{trigger:je.DRAG_STOPPED,id:Je,source:Le.KEYBOARD}),vr(Ze.get(Zr),function(t){return De.get(t).dropTargetStyle},function(t){return De.get(t).dropTargetClasses}),bt=null,Je=null,it="",Zr=null,Se=null,mt="",ze=!1,vn()}function Ji(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Ea,dropTargetClasses:[],autoAriaDisabled:!1};function a(f,x,d){f.length<=1||f.splice(d,1,f.splice(x,1,f[d])[0])}function i(f){switch(f.key){case"Enter":case" ":{if((f.target.disabled!==void 0||f.target.href||f.target.isContentEditable)&&!br.has(f.target))return;f.preventDefault(),f.stopPropagation(),ze?Gt():o(f);break}case"ArrowDown":case"ArrowRight":{if(!ze)return;f.preventDefault(),f.stopPropagation();var x=De.get(e),d=x.items,h=Array.from(e.children),g=h.indexOf(f.currentTarget);g<h.length-1&&(r.autoAriaDisabled||Et("Moved item ".concat(it," to position ").concat(g+2," in the list ").concat(mt)),a(d,g,g+1),It(e,d,{trigger:je.DROPPED_INTO_ZONE,id:Je,source:Le.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!ze)return;f.preventDefault(),f.stopPropagation();var p=De.get(e),m=p.items,y=Array.from(e.children),w=y.indexOf(f.currentTarget);w>0&&(r.autoAriaDisabled||Et("Moved item ".concat(it," to position ").concat(w," in the list ").concat(mt)),a(m,w,w-1),It(e,m,{trigger:je.DROPPED_INTO_ZONE,id:Je,source:Le.KEYBOARD}));break}}}function o(f){c(f.currentTarget),Se=e,Zr=r.type,ze=!0;var x=Array.from(Ze.get(r.type)).filter(function(h){return h===Se||!De.get(h).dropFromOthersDisabled});if(ar(x,function(h){return De.get(h).dropTargetStyle},function(h){return De.get(h).dropTargetClasses}),!r.autoAriaDisabled){var d="Started dragging item ".concat(it,". Use the arrow keys to move it within its list ").concat(mt);x.length>1&&(d+=", or tab to another list in order to move the item into it"),Et(d)}dt(e,De.get(e).items,{trigger:je.DRAG_STARTED,id:Je,source:Le.KEYBOARD}),vn()}function s(f){ze&&f.currentTarget!==bt&&(f.stopPropagation(),Gt(!1),o(f))}function c(f){var x=De.get(e),d=x.items,h=Array.from(e.children),g=h.indexOf(f);bt=f,bt.tabIndex=r.zoneItemTabIndex,Je=d[g][he],it=h[g].getAttribute("aria-label")||""}function u(f){var x=f.items,d=x===void 0?[]:x,h=f.type,g=h===void 0?qi:h,p=f.dragDisabled,m=p===void 0?!1:p,y=f.zoneTabIndex,w=y===void 0?0:y,D=f.zoneItemTabIndex,k=D===void 0?0:D,S=f.dropFromOthersDisabled,C=S===void 0?!1:S,T=f.dropTargetStyle,I=T===void 0?Ea:T,A=f.dropTargetClasses,j=A===void 0?[]:A,W=f.autoAriaDisabled,U=W===void 0?!1:W;r.items=Ge(d),r.dragDisabled=m,r.dropFromOthersDisabled=C,r.zoneTabIndex=w,r.zoneItemTabIndex=k,r.dropTargetStyle=I,r.dropTargetClasses=j,r.autoAriaDisabled=U,r.type&&g!==r.type&&Oa(e,r.type),r.type=g,Ki(e,g),U||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",m?gr.DND_ZONE_DRAG_DISABLED:gr.DND_ZONE_ACTIVE)),De.set(e,r),ze?e.tabIndex=e===Se||bt.contains(e)||r.dropFromOthersDisabled||Se&&r.type!==De.get(Se).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Xi);for(var V=function(M){var G=e.children[M];br.add(G),G.tabIndex=ze?-1:r.zoneItemTabIndex,U||G.setAttribute("role","listitem"),G.removeEventListener("keydown",Aa.get(G)),G.removeEventListener("click",Ia.get(G)),m||(G.addEventListener("keydown",i),Aa.set(G,i),G.addEventListener("click",s),Ia.set(G,s)),ze&&r.items[M][he]===Je&&(bt=G,bt.tabIndex=r.zoneItemTabIndex,G.focus())},B=0;B<e.children.length;B++)V(B)}u(t);var b={update:function(x){u(x)},destroy:function(){Oa(e,r.type),De.delete(e),Yr.delete(e)}};return Yr.set(e,b),b}var Qi=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function fn(e,t){if($i(e))return{update:function(){},destroy:function(){}};Sa(t);var r=Ui(e,t),a=Ji(e,t);return{update:function(o){Sa(o),r.update(o),a.update(o)},destroy:function(){r.destroy(),a.destroy()}}}function $i(e){return!!e.closest("[".concat(oi,'="true"]'))}function Sa(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var i=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var o=e.delayTouchStart;e.dropAnimationDisabled;var s=Ho(e,Qi);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var c=t.find(function(f){return!{}.hasOwnProperty.call(f,he)});if(c)throw new Error("missing '".concat(he,"' property for item ").concat(Pt(c)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Tt(i),", ").concat(Pt(i)));if(r&&!ja(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Tt(r),", ").concat(Pt(r)));if(a&&!ja(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Tt(a),", ").concat(Pt(a)));if(o!==void 0&&o!==!1){var u=o===!0,b=typeof o=="number"&&isFinite(o)&&o>=0;if(!u&&!b)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(Tt(o),", ").concat(Pt(o)))}}function ja(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function es(e){const t=e-1;return t*t*t+1}function bn(e,{from:t,to:r},a={}){var{delay:i=0,duration:o=C=>Math.sqrt(C)*120,easing:s=es}=a,c=getComputedStyle(e),u=c.transform==="none"?"":c.transform,[b,f]=c.transformOrigin.split(" ").map(parseFloat);b/=e.clientWidth,f/=e.clientHeight;var x=ts(e),d=e.clientWidth/r.width/x,h=e.clientHeight/r.height/x,g=t.left+t.width*b,p=t.top+t.height*f,m=r.left+r.width*b,y=r.top+r.height*f,w=(g-m)*d,D=(p-y)*h,k=t.width/r.width,S=t.height/r.height;return{delay:i,duration:typeof o=="function"?o(Math.sqrt(w*w+D*D)):o,easing:s,css:(C,T)=>{var I=T*w,A=T*D,j=C+T*k,W=C+T*S;return`transform: ${u} translate(${I}px, ${A}px) scale(${j}, ${W});`}}}function ts(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var rs=L('<span class="text-center text-xs font-semibold bg-purple-500/20 text-purple-400 rounded w-full h-full  items-center justify-center flex">1</span>'),as=L('<span class="text-center text-xs font-semibold bg-red-500/20 text-red-400 rounded w-full h-full items-center justify-center flex">2</span>'),ns=L('<span class="text-center text-xs font-semibold bg-yellow-500/20 text-yellow-400 rounded w-full h-full items-center justify-center flex">3</span>'),os=L('<span class="text-center text-xs font-semibold bg-blue-500/20 text-blue-500 rounded w-full h-full items-center justify-center flex">4</span>'),is=L('<span class="text-center text-xs font-semibold bg-emerald-500/20 text-emerald-300 rounded w-full h-full items-center justify-center flex">5</span>');function pr(e,t){var r=ue(),a=ne(r);{var i=s=>{var c=rs();E(s,c)},o=s=>{var c=ue(),u=ne(c);{var b=x=>{var d=as();E(x,d)},f=x=>{var d=ue(),h=ne(d);{var g=m=>{var y=ns();E(m,y)},p=m=>{var y=ue(),w=ne(y);{var D=S=>{var C=os();E(S,C)},k=S=>{var C=is();E(S,C)};Z(w,S=>{t.level=="sev4"?S(D):S(k,!1)},!0)}E(m,y)};Z(h,m=>{t.level=="sev3"?m(g):m(p,!1)},!0)}E(x,d)};Z(u,x=>{t.level=="sev2"?x(b):x(f,!1)},!0)}E(s,c)};Z(a,s=>{t.level=="sev1"?s(i):s(o,!1)})}E(e,r)}var ss=L('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-2xl"> </div> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content truncate"> </p></div> <div><span class="inline-flex size-5 mt-0.5"><!></span></div></div>'),ls=L('<div class="flex flex-col gap-2"></div>'),cs=L('<div class="h-1 bg-base-300"><div class="h-full bg-base-content/20 transition-all"></div></div>'),ds=L('<div class="bg-base-100 rounded-lg hover:bg-primary/20 cursor-pointer overflow-hidden" tabindex="0" role="button"><!> <div class="flex items-start gap-2 p-2"><span class="text-3xl"> </span> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-base-content mb-1"> </p> <p class="text-xs"><span> </span> <span class="text-xs mx-0.5">â€¢</span> <span class="inline-flex size-5 mt-0.5"><!></span> <span class="text-xs mx-0.5">â€¢</span> <span class="text-base-content/50"> </span></p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),us=L('<div class="flex flex-col gap-2"></div>'),vs=L('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),fs=L('<div class="flex flex-col gap-2"><div class="flex justify-between items-center"><div class="text-xs tracking-wider text-base-content/50 uppercase">Assigned projects</div></div> <!></div>');function bs(e,t){we(t,!0);const r=200;let a=$(()=>t.assignedProjects.map(g=>({...g,id:g.project.id}))),i=$(()=>t.filterCompleted?n(a).filter(g=>!["completed","cancelled"].includes(g.project.status)):n(a)),o=J(ht([]));_t(()=>{O(o,n(i),!0)});async function s(g,p){g.stopPropagation(),await za(p,t.currentWeekOf)}function c(g){const p=pt.getByProject(g),m=p.filter(w=>w.status==="active").length,y=p.filter(w=>w.status==="completed").length;return{active:m,completed:y,total:m+y}}function u(g){O(o,g.detail.items,!0)}function b(g){O(o,g.detail.items,!0);const{info:p}=g.detail,m=p.id,y=n(o).findIndex(C=>C.id===m);if(y===-1)return;const w=y>0?n(o)[y-1]:null,D=y<n(o).length-1?n(o)[y+1]:null;let k=null,S=null;if(w){const C=n(a).findIndex(T=>T.id===w.id);k=w.assignment.order,S=C<n(a).length-1?n(a)[C+1].assignment.order:null}else if(D){const C=n(a).findIndex(T=>T.id===D.id);k=C>0?n(a)[C-1].assignment.order:null,S=D.assignment.order}no(t.currentWeekOf,m,k,S)}var f=fs(),x=_(v(f),2);{var d=g=>{var p=ue(),m=ne(p);{var y=D=>{var k=ls();Ae(k,29,()=>n(o),({id:S,project:C,area:T})=>S,(S,C)=>{let T=()=>n(C).project,I=()=>n(C).area;var A=ss(),j=v(A),W=v(j,!0);l(j);var U=_(j,2),V=v(U),B=v(V,!0);l(V),l(U);var N=_(U,2),M=v(N),G=v(M);pr(G,{get level(){return T().severity}}),l(M),l(N),l(A),K(()=>{z(W,I().icon),z(B,T().name)}),Ya(A,()=>bn,()=>({duration:r})),E(S,A)}),l(k),Jr(k,(S,C)=>fn?.(S,C),()=>({items:n(o),flipDurationMs:r,dropTargetStyle:{}})),or("consider",k,u),or("finalize",k,b),E(D,k)},w=D=>{var k=us();Ae(k,21,()=>n(i),Ce,(S,C)=>{let T=()=>n(C).project,I=()=>n(C).area;const A=$(()=>c(T().id)),j=$(()=>n(A).total>0?n(A).completed/n(A).total*100:0);var W=ds();W.__click=()=>t.navigateToTasks(T());var U=v(W);{var V=be=>{var Me=cs(),Fe=v(Me);l(Me),K(()=>Vt(Fe,`width: ${n(j)??""}%`)),E(be,Me)};Z(U,be=>{n(A).total>0&&be(V)})}var B=_(U,2),N=v(B),M=v(N,!0);l(N);var G=_(N,2),Q=v(G),P=v(Q,!0);l(Q);var R=_(Q,2),F=v(R),H=v(F);l(F);var q=_(F,4),te=v(q);pr(te,{get level(){return T().severity}}),l(q);var oe=_(q,4),ie=v(oe,!0);l(oe),l(R),l(G);var ce=_(G,2);ce.__click=be=>s(be,T().id),l(B),l(W),K(()=>{z(M,I().icon),z(P,T().name),ae(F,1,`inline-flex w-16 justify-center text-base-content/50 ${n(A).active==0?"text-error":""}`),z(H,`${n(A).active??""} available`),z(ie,I().name)}),E(S,W)}),l(k),E(D,k)};Z(m,D=>{t.reorderMode?D(y):D(w,!1)})}E(g,p)},h=g=>{var p=vs();E(g,p)};Z(x,g=>{n(o).length>0?g(d):g(h,!1)})}l(f),E(e,f),ke()}_e(["click"]);var gs=L('<span class="text-xs text-primary-content px-2 py-1 bg-primary rounded"> </span>'),ps=L('<button class="text-start flex items-center gap-3 p-3 bg-base-100 rounded-lg transition-all hover:bg-primary/20 cursor-pointer"><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-base-content/50"> </p></div> <!></button>'),ms=L('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),hs=L('<div class="flex flex-col gap-2"></div>');function _s(e,t){we(t,!0);var r=hs();Ae(r,21,()=>t.weekTasks,Ce,(a,i)=>{let o=()=>n(i).task,s=()=>n(i).project,c=()=>n(i).area;const u=$(()=>t.isTaskAssignedToDay(o().id));var b=ps();b.__click=y=>t.openDayPicker(y,o(),s(),c());var f=v(b),x=v(f),d=v(x,!0);l(x);var h=_(x,2),g=v(h);l(h),l(f);var p=_(f,2);{var m=y=>{var w=gs(),D=v(w,!0);l(w),K(k=>z(D,k),[()=>Wa(n(u))]),E(y,w)};Z(p,y=>{n(u)&&y(m)})}l(b),K(()=>{z(d,o().name),z(g,`${c().icon??""} ${s().name??""}`)}),E(a,b)},a=>{var i=ms();E(a,i)}),l(r),E(e,r),ke()}_e(["click"]);var xs=xt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg> Reorder',1),ys=L("<button><!></button>"),ws=L('<div class="flex flex-col h-full"><div class="bg-base-100 border-b border-b-base-content/10"><div class="flex ps-4 pe-2 pt-4 pb-2 flex-row justify-between items-center"><div><h2 class="text-lg font-medium">Week</h2> <p class="text-xs text-base-content/50"> </p></div> <div class="flex gap-2"><button> </button> <!></div></div> <div class="flex gap-1 px-4 pb-3"><button> </button> <button> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-4"><!></div></div> <!>',1);function ks(e,t){we(t,!0);let r=J(localStorage.getItem("filterAssignedProject")=="true"),a=J(!1),i=()=>O(r,!n(r)),o=()=>O(a,!n(a));_t(()=>{localStorage.setItem("filterAssignedProject",n(r)+"")});let s=J(ht(localStorage.getItem("weekTabView")||"projects"));_t(()=>{n(s)&&localStorage.setItem("weekTabView",n(s))});let c=ht(Ut());const u=$(()=>Ht.getWeek(c));let b;function f(P){return n(u)?n(u).tasksByDay.find(F=>F.taskId===P)?.date??null:null}let x=$(()=>n(u)?n(u).projectAssignments.map(P=>{const R=gt.getById(P.areaId);if(!R)return null;const H=Qe.getByArea(R.id).find(q=>q.id===P.projectId);return H?{assignment:P,project:H,area:R}:null}).filter(P=>P!==null):[]),d=$(()=>{const P=[];for(const{project:R,area:F}of n(x)){const H=pt.getByProject(R.id).filter(q=>q.status==="active");for(const q of H)P.push({task:q,project:R,area:F})}return P});var h=ws(),g=ne(h),p=v(g),m=v(p),y=v(m),w=_(v(y),2),D=v(w,!0);l(w),l(y);var k=_(y,2),S=v(k);S.__click=i;var C=v(S);l(S);var T=_(S,2);{var I=P=>{var R=ys();R.__click=o;var F=v(R);{var H=te=>{var oe=Ca("Done");E(te,oe)},q=te=>{var oe=xs();ir(),E(te,oe)};Z(F,te=>{n(a)?te(H):te(q,!1)})}l(R),K(()=>ae(R,1,`btn btn-xs w-20 ${n(a)?"btn-primary":"btn-secondary btn-soft"}`)),E(P,R)};Z(T,P=>{n(x).length>1&&P(I)})}l(k),l(m);var A=_(m,2),j=v(A);j.__click=()=>O(s,"projects");var W=v(j);l(j);var U=_(j,2);U.__click=()=>O(s,"tasks");var V=v(U);l(U),l(A),l(p);var B=_(p,2),N=v(B);{var M=P=>{bs(P,{get reorderMode(){return n(a)},get filterCompleted(){return n(r)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return c},get assignedProjects(){return n(x)}})},G=P=>{_s(P,{get openDayPicker(){return b.openDayPicker},get weekTasks(){return n(d)},isTaskAssignedToDay:f})};Z(N,P=>{n(s)==="projects"?P(M):P(G,!1)})}l(B),l(g);var Q=_(g,2);ct(Go(Q,{get currentWeekOf(){return c},isTaskAssignedToDay:f}),P=>b=P,()=>b),K(P=>{z(D,P),ae(S,1,`w-20 btn btn-xs ${n(r)?"btn-primary":"btn-secondary btn-soft"}`),z(C,`Filter :${n(r)?"ON":"OFF"}`),ae(j,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${n(s)==="projects"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),z(W,`Projects (${n(x).length??""})`),ae(U,1,`px-4 py-1.5 text-sm rounded-lg transition-colors ${n(s)==="tasks"?"bg-primary/20 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),z(V,`Tasks (${n(d).length??""})`)},[()=>oo(c)]),E(e,h),ke()}_e(["click"]);var Ts=L('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),Ds=L('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),Es=L('<div class="flex flex-col gap-2"></div>'),As=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="py-4 px-2 border-b border-base-content/10"><p class="font-medium text-base-content"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-2 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="flex gap-2"><label><input type="radio" name="action" class="radio radio-success radio-sm"/> <span class="text-sm">Completed</span></label> <label><input type="radio" name="action" class="radio radio-error radio-sm"/> <span class="text-sm">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function Is(e,t){we(t,!0);const r=[];let a=J("completed"),i=J(ht([]));_t(()=>{t.show&&(O(a,"completed"),O(i,[],!0))});function o(h,g){g&&setTimeout(()=>h.focus(),0)}function s(){O(i,[...n(i),""],!0)}function c(h){O(i,n(i).filter((g,p)=>p!==h),!0)}function u(h,g){O(i,n(i).map((p,m)=>m===h?g:p),!0)}async function b(){if(t.taskByDay){n(a)==="completed"?await Ga(t.taskByDay.taskId,t.taskByDay.projectId,t.weekOf,t.taskByDay.date):await io(t.taskByDay.taskId,t.taskByDay.projectId,t.weekOf,t.taskByDay.date);for(const h of n(i))h.trim()&&await Ua(t.taskByDay.projectId,t.taskByDay.areaId,h.trim());t.onClose()}}var f=ue(),x=ne(f);{var d=h=>{var g=As(),p=v(g);p.__click=function(...H){t.onClose?.apply(this,H)},p.__keydown=H=>H.key==="Escape"&&t.onClose();var m=_(p,2),y=v(m),w=v(y),D=v(w,!0);l(w);var k=_(w,2),S=v(k);l(k),l(y);var C=_(y,2),T=v(C),I=_(v(T),2),A=v(I),j=v(A);st(j),j.value=j.__value="completed",ir(2),l(A);var W=_(A,2),U=v(W);st(U),U.value=U.__value="cancelled",ir(2),l(W),l(I),l(T);var V=_(T,2),B=v(V),N=_(v(B),2);N.__click=s,l(B);var M=_(B,2);{var G=H=>{var q=Ts();E(H,q)},Q=H=>{var q=Es();Ae(q,21,()=>n(i),Ce,(te,oe,ie)=>{var ce=Ds(),be=v(ce);st(be),be.__input=Fe=>u(ie,Fe.currentTarget.value),Jr(be,(Fe,Be)=>o?.(Fe,Be),()=>ie===n(i).length-1);var Me=_(be,2);Me.__click=()=>c(ie),l(ce),K(()=>jo(be,n(oe))),E(te,ce)}),l(q),E(H,q)};Z(M,H=>{n(i).length===0?H(G):H(Q,!1)})}l(V),l(C);var P=_(C,2),R=v(P);R.__click=function(...H){t.onClose?.apply(this,H)};var F=_(R,2);F.__click=b,l(P),l(m),l(g),K(()=>{z(D,t.taskByDay.name),z(S,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),ae(A,1,`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border border-base-content/10 cursor-pointer hover:border-success ${n(a)==="completed"?"border-success bg-success/10":""}`),ae(W,1,`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border border-base-content/10 cursor-pointer hover:border-error ${n(a)==="cancelled"?"border-error bg-error/10":""}`)}),Ue(3,p,()=>St,()=>({duration:200})),lr(r,[],j,()=>n(a),H=>O(a,H)),lr(r,[],U,()=>n(a),H=>O(a,H)),Ue(3,m,()=>jt,()=>({y:300,duration:300})),E(h,g)};Z(x,h=>{t.show&&t.taskByDay&&h(d)})}E(e,f),ke()}_e(["click","keydown","input"]);var Os=xt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg> Reorder',1),Ss=L('<button type="button"><!></button>'),js=L('<div class="px-4 pb-3"><div class="flex items-center justify-between text-xs text-base-content/50 mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success transition-all rounded-full"></div></div></div>'),Cs=L('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate "> </p></div></div>'),Ms=L('<div class="flex flex-col gap-2 mb-4"></div>'),Ps=L('<div class="flex items-start gap-3 p-3 bg-base-100 border border-transparent rounded-lg hover:bg-primary/20 cursor-pointer"><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm text-base-content mb-2"> </p> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),Ns=L('<div class="flex flex-col gap-2 mb-4"></div>'),Rs=L('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),Ls=L('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),Fs=xt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Bs=xt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Ws=L('<div class="flex items-center gap-3 p-3 opacity-50"><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),zs=L('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),Gs=L('<div class="flex flex-col h-full"><div class="px-4 pt-4 pb-2 flex justify-between items-start"><div><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-base-content/50"> </p></div> <div><!> <button>Tomorrow</button></div></div> <!> <div class="flex-1 overflow-y-auto px-3 pb-4"><!> <!></div></div> <!>',1);function Us(e,t){we(t,!0);const r=Ut(),a=200,i=so(),o=lo();let s=J(!1),c=J(null),u=J(""),b=J(""),f=J(""),x=J(!1),d=J(!1),h=$(()=>n(d)?o:i);const g=()=>{O(x,!n(x))},p=()=>{O(d,!n(d))};let m=$(()=>{const Y=Ht.getWeek(r);return Y?Y.tasksByDay.filter(X=>X.date===n(h)).map(X=>{const de=pt.getById(X.taskId),se=gt.getById(X.areaId),re=(se?Qe.getByArea(se.id):[]).find(ee=>ee.id===X.projectId);return{id:X.taskId,taskByDay:X,task:de,areaIcon:se?.icon??"ðŸ“",areaName:se?.name??"Unknown",projectName:re?.name??"Unknown"}}):[]}),y=$(()=>n(m)),w=$(()=>n(m).filter(Y=>Y.taskByDay.status!=="completed"&&Y.taskByDay.status!=="cancelled")),D=$(()=>n(m).filter(Y=>Y.taskByDay.status==="completed"||Y.taskByDay.status==="cancelled")),k=J(ht([]));_t(()=>{O(k,n(w),!0)});function S(){const Y=n(D).length,X=n(m).length,de=X>0?Y/X*100:0;return{completed:Y,total:X,percent:de}}function C(Y){O(k,Y.detail.items,!0)}function T(Y){O(k,Y.detail.items,!0);const{info:X}=Y.detail,de=X.id,se=n(k).findIndex(le=>le.id===de);if(se===-1)return;const me=se>0?n(k)[se-1]:null,re=se<n(k).length-1?n(k)[se+1]:null;let ee=null,fe=null;if(me){const le=n(y).findIndex(xe=>xe.id===me.id);ee=me.taskByDay.order,fe=le<n(y).length-1?n(y)[le+1].taskByDay.order:null}else if(re){const le=n(y).findIndex(xe=>xe.id===re.id);ee=le>0?n(y)[le-1].taskByDay.order:null,fe=re.taskByDay.order}vo(r,n(h),de,ee,fe)}async function I(Y){await Ga(Y.taskId,Y.projectId,r,n(h))}async function A(Y){await uo(Y.taskId,Y.projectId,r,n(h))}async function j(Y){await rr(Y.taskId,Y.projectId,r,n(h))}function W(Y,X,de,se){O(c,Y,!0),O(u,X,!0),O(b,de,!0),O(f,se,!0),O(s,!0)}function U(){O(s,!1),O(c,null)}var V=Gs(),B=ne(V),N=v(B),M=v(N),G=v(M),Q=v(G,!0);l(G);var P=_(G,2),R=v(P);l(P),l(M);var F=_(M,2),H=v(F);{var q=Y=>{var X=Ss();X.__click=g;var de=v(X);{var se=re=>{var ee=Ca("Done");E(re,ee)},me=re=>{var ee=Os();ir(),E(re,ee)};Z(de,re=>{n(x)?re(se):re(me,!1)})}l(X),K(()=>ae(X,1,`btn btn-xs ${n(x)?"btn-primary":"btn-secondary btn-soft"}`)),E(Y,X)};Z(H,Y=>{n(w).length>1&&Y(q)})}var te=_(H,2);te.__click=p,l(F),l(N);var oe=_(N,2);{var ie=Y=>{const X=$(S);var de=js(),se=v(de),me=v(se),re=v(me);l(me);var ee=_(me,2),fe=v(ee);l(ee),l(se);var le=_(se,2),xe=v(le);l(le),l(de),K(Ie=>{z(re,`${n(X).completed??""} of ${n(X).total??""} completed`),z(fe,`${Ie??""}%`),Vt(xe,`width: ${n(X).percent??""}%`)},[()=>Math.round(n(X).percent)]),E(Y,de)};Z(oe,Y=>{S().total>0&&Y(ie)})}var ce=_(oe,2),be=v(ce);{var Me=Y=>{var X=ue(),de=ne(X);{var se=re=>{var ee=Ms();Ae(ee,29,()=>n(k),({id:fe,taskByDay:le,areaIcon:xe,projectName:Ie})=>fe,(fe,le)=>{let xe=()=>n(le).taskByDay;var Ie=Cs(),$e=_(v(Ie),2),He=v($e),We=v(He,!0);l(He),l($e),l(Ie),K(()=>z(We,xe().name)),Ya(Ie,()=>bn,()=>({duration:a})),E(fe,Ie)}),l(ee),Jr(ee,(fe,le)=>fn?.(fe,le),()=>({items:n(k),flipDurationMs:a,dropTargetStyle:{}})),or("consider",ee,C),or("finalize",ee,T),E(re,ee)},me=re=>{var ee=Ns();Ae(ee,21,()=>n(w),Ce,(fe,le)=>{let xe=()=>n(le).taskByDay,Ie=()=>n(le).areaIcon,$e=()=>n(le).areaName,He=()=>n(le).projectName;var We=Ps(),Ve=v(We);Ve.__click=()=>I(xe());var et=_(Ve,2);et.__click=()=>W(xe(),Ie(),$e(),He());var at=v(et),yt=v(at,!0);l(at);var qe=_(at,2),ut=v(qe);l(qe),l(et);var Te=_(et,2);Te.__click=()=>j(xe()),l(We),K(()=>{z(yt,xe().name),z(ut,`${Ie()??""}  ${He()??""}`)}),E(fe,We)}),l(ee),E(re,ee)};Z(de,re=>{n(x)?re(se):re(me,!1)})}E(Y,X)},Fe=Y=>{var X=ue(),de=ne(X);{var se=re=>{var ee=Rs();E(re,ee)},me=re=>{var ee=Ls();E(re,ee)};Z(de,re=>{S().total===0?re(se):re(me,!1)},!0)}E(Y,X)};Z(be,Y=>{n(k).length>0?Y(Me):Y(Fe,!1)})}var Be=_(be,2);{var Kt=Y=>{var X=zs(),de=v(X),se=v(de);l(de);var me=_(de,2);Ae(me,21,()=>n(D),Ce,(re,ee)=>{let fe=()=>n(ee).taskByDay,le=()=>n(ee).areaIcon,xe=()=>n(ee).areaName,Ie=()=>n(ee).projectName;const $e=$(()=>fe().status==="completed"),He=$(()=>fe().status==="cancelled");var We=Ws(),Ve=v(We);Ve.__click=()=>A(fe());var et=v(Ve);{var at=wt=>{var Jt=Fs();E(wt,Jt)},yt=wt=>{var Jt=ue(),pn=ne(Jt);{var mn=Dr=>{var hn=Bs();E(Dr,hn)};Z(pn,Dr=>{fe().status==="cancelled"&&Dr(mn)},!0)}E(wt,Jt)};Z(et,wt=>{fe().status==="completed"?wt(at):wt(yt,!1)})}l(Ve);var qe=_(Ve,2),ut=v(qe),Te=v(ut,!0);l(ut);var oa=_(ut,2),gn=v(oa);l(oa),l(qe),l(We),K(()=>{ae(Ve,1,`w-7 h-7 rounded-full ${n($e)?"bg-success border-success text-success-content":n(He)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),z(Te,fe().name),z(gn,`${le()??""} ${xe()??""} Â· ${Ie()??""}`)}),E(re,We)}),l(me),l(X),K(()=>z(se,`Completed (${n(D).length??""})`)),E(Y,X)};Z(Be,Y=>{n(D).length>0&&!n(x)&&Y(Kt)})}l(ce),l(B);var Xt=_(B,2);Is(Xt,{get show(){return n(s)},get taskByDay(){return n(c)},get areaIcon(){return n(u)},get areaName(){return n(b)},get projectName(){return n(f)},get weekOf(){return r},onClose:U}),K(Y=>{z(Q,n(d)?"Tomorrow":"Today"),z(R,`${Y??""}, ${n(h)??""}`),ae(te,1,`btn btn-xs ${n(d)?"btn-primary":"btn-secondary btn-soft"}`)},[()=>co(n(h))]),E(e,V),ke()}_e(["click"]);const Rr=["none","reorder","edit","status"],Hs=[{value:"active",label:"Active",color:"border-s-primary"},{value:"blocked",label:"Blocked",color:"border-s-warning"},{value:"someday",label:"Someday",color:"border-s-info"},{value:"completed",label:"Completed",color:"border-s-success"},{value:"cancelled",label:"Cancelled",color:"border-s-error"}],Vs=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var Zs=L('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function Ys(e,t){var r=Zs();r.__click=function(...a){t.handleClick?.apply(this,a)},E(e,r)}_e(["click"]);var qs=L('<button type="button"> </button>'),Ks=L('<button type="button" class="btn btn-outline btn-error btn-sm">Archive</button>'),Xs=L('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),Js=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="grid grid-cols-8 gap-1"></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Qs(e,t){we(t,!0);let r=J(!1),a=J(null),i=J(""),o=J("ðŸŽ¯"),s;function c(){O(a,null),O(i,""),O(o,"ðŸŽ¯"),O(r,!0),setTimeout(()=>s.focus(),100)}function u(w,D){w.stopPropagation(),O(a,D,!0),O(i,D.name,!0),O(o,D.icon,!0),O(r,!0),setTimeout(()=>s.focus(),100)}function b(){O(r,!1),O(a,null)}async function f(){!n(i).trim()||!n(o)||(n(a)?await fo(n(a).index,{name:n(i).trim(),icon:n(o)}):await bo(n(i).trim(),n(o)),b())}function x(w){return n(a)&&n(a).status=="archived"?!1:Qe.getByArea(w.id).filter(k=>k.status==="active").length===0}async function d(){!n(a)||!x(n(a))||(await go(n(a).index),b())}async function h(){n(a)&&(await po(n(a).index),b())}var g={openCreateAreaModal:c,openEditAreaModal:u},p=ue(),m=ne(p);{var y=w=>{var D=Js(),k=v(D);k.__click=b,k.__keydown=F=>F.key==="Escape"&&b();var S=_(k,2),C=v(S),T=v(C),I=v(T,!0);l(T);var A=_(T,2);A.__click=b,l(C);var j=_(C,2),W=v(j),U=_(v(W),2);Ae(U,21,()=>Mo,Ce,(F,H)=>{var q=qs();q.__click=()=>O(o,n(H),!0);var te=v(q,!0);l(q),K(()=>{ae(q,1,`aspect-square flex items-center justify-center text-lg rounded-lg transition-colors ${n(o)===n(H)?"bg-primary text-primary-content":"hover:bg-base-200"}`),z(te,n(H))}),E(F,q)}),l(U),l(W);var V=_(W,2),B=_(v(V),2);st(B),B.__keydown=F=>F.key==="Enter"&&f(),ct(B,F=>s=F,()=>s),l(V),l(j);var N=_(j,2),M=v(N);{var G=F=>{var H=ue(),q=ne(H);{var te=ie=>{var ce=Ks();ce.__click=d,K((be,Me)=>{ce.disabled=be,Br(ce,"title",Me)},[()=>!x(n(a)),()=>x(n(a))?"Archive area":"Cannot archive: has active projects"]),E(ie,ce)},oe=ie=>{var ce=ue(),be=ne(ce);{var Me=Fe=>{var Be=Xs();Be.__click=h,E(Fe,Be)};Z(be,Fe=>{n(a).status=="archived"&&Fe(Me)},!0)}E(ie,ce)};Z(q,ie=>{n(a).status=="active"?ie(te):ie(oe,!1)})}E(F,H)};Z(M,F=>{n(a)&&F(G)})}var Q=_(M,4);Q.__click=b;var P=_(Q,2);P.__click=f;var R=v(P,!0);l(P),l(N),l(S),l(D),K(F=>{z(I,n(a)?"Edit Area":"New Area"),P.disabled=F,z(R,n(a)?"Save":"Create")},[()=>!n(i).trim()||!n(o)]),Ue(3,k,()=>St,()=>({duration:200})),Qr(B,()=>n(i),F=>O(i,F)),Ue(3,S,()=>jt,()=>({y:300,duration:300})),E(w,D)};Z(m,w=>{n(r)&&w(y)})}return E(e,p),ke(g)}_e(["click","keydown"]);var $s=L('<button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-6" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button>'),el=L('<div class="flex flex-row gap-1"><button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†</button> <button aria-label="edit" class="size-8 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†’</button></div>'),tl=L("<div> </div>"),rl=L('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm font-medium mb-0 pb-1 truncate"> </div> <p class="text-xs text-base-content/50"> </p></div></div></div></div>');function al(e,t){we(t,!0);const r=$(()=>Qe.getByArea(t.area.id).filter(w=>w.status==="active").length),a=$(()=>{const w=Ut(),D=Ht.getWeek(w),k=Qe.getByArea(t.area.id),S=k.filter(A=>A.status==="active"||A.status==="blocked"||A.status==="someday");if(S.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};if(D?.projectAssignments.some(A=>S.some(j=>j.id===A.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"â—†"};const T=k.filter(A=>A.status==="completed"&&A.completedAt),I=T.length>0?Math.max(...T.map(A=>new Date(A.completedAt).getTime())):null;if(I){const A=Date.now()-12096e5,j=Date.now()-720*60*60*1e3;if(I>=A)return{level:"active",color:"badge-info",icon:"â—"};if(I>=j)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var i=rl();i.__click=()=>t.handleSelect(t.area);var o=v(i),s=v(o),c=v(s),u=v(c,!0);l(c);var b=_(c,2);{var f=w=>{var D=$s();D.__click=k=>t.handleEdit(k,t.area),E(w,D)},x=w=>{var D=ue(),k=ne(D);{var S=T=>{var I=el(),A=v(I);A.__click=W=>t.handleAreaMoveUp(W,t.index);var j=_(A,2);j.__click=W=>t.handleAreaMoveDown(W,t.index),l(I),K(()=>A.disabled=t.index==0),E(T,I)},C=T=>{var I=ue(),A=ne(I);{var j=W=>{var U=tl(),V=v(U,!0);l(U),K(()=>{ae(U,1,`badge badge-sm rounded ${n(a).color??""} badge-soft`),z(V,n(a).level)}),E(W,U)};Z(A,W=>{t.viewMode=="status"&&W(j)},!0)}E(T,I)};Z(k,T=>{t.viewMode=="reorder"?T(S):T(C,!1)},!0)}E(w,D)};Z(b,w=>{t.viewMode=="edit"?w(f):w(x,!1)})}l(s);var d=_(s,2),h=v(d),g=v(h),p=v(g,!0);l(g);var m=_(g,2),y=v(m);l(m),l(h),l(d),l(o),l(i),K(()=>{ae(i,1,`rounded-lg bg-base-100 hover:bg-primary/20 transition-colors cursor-pointer w-full ${n(a).level==="avoiding"?"border border-error/20":n(a).level==="fading"?"border border-warning/20":n(a).level==="active"?"border border-info/20":n(a).level==="planned"?"border border-purple-500/20":""}`),Vt(i,n(a).level==="avoiding"?"background: rgba(248, 114, 114, 0.05); box-shadow: inset 0 0 20px rgba(248, 114, 114, 0.08); ":n(a).level==="fading"?"box-shadow: inset 0 0 30px rgba(251, 189, 35, 0.1);":n(a).level==="active"?"box-shadow: inset 0 0 30px rgba(58, 191, 248, 0.1);":n(a).level==="planned"?"box-shadow: inset 0 0 30px rgba(168, 85, 247, 0.1);":""),z(u,t.area.icon),z(p,t.area.name),z(y,`${n(r)??""} project${n(r)!==1?"s":""}`)}),E(e,i),ke()}_e(["click"]);var nl=L('<button class="link text-base-content/50 text-sm capitalize"> </button>'),ol=L('<div class="flex flex-col h-full"><div class="px-3 pt-5 pb-4 flex flex-row justify-between items-center bg-base-100 border-b border-base-content/10"><a href="/" class="flex flex-row items-center text-base-content/80"><svg version="1.1" id="Icons" class="size-12 mt-1 me-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><style type="text/css">.st0{fill:none;stroke:currentColor;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}</style><path class="st0" d="M11,13H5c-1.1,0-2-0.9-2-2V5c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,12.1,12.1,13,11,13z"></path><path class="st0" d="M11,29H5c-1.1,0-2-0.9-2-2v-6c0-1.1,0.9-2,2-2h6c1.1,0,2,0.9,2,2v6C13,28.1,12.1,29,11,29z"></path><line class="st0" x1="17" y1="5" x2="29" y2="5"></line><line class="st0" x1="17" y1="9" x2="24" y2="9"></line><line class="st0" x1="17" y1="21" x2="29" y2="21"></line><line class="st0" x1="17" y1="25" x2="24" y2="25"></line><polyline class="st0" points="6,7 8,9 11,6 "></polyline></g></svg> <div class="flex flex-col"><div class="text-xl text-base-content/80 tracking-wider font-medium">Doable</div> <div class="text-sm text-base-content/50">Life areas at a glance</div></div></a> <div class="flex flex-row gap-4"><!> <button class="link text-base-content/50 text-sm"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function il(e,t){we(t,!0);let r,a=J(ht(localStorage.getItem("areasViewMode")||"none"));_t(()=>localStorage.setItem("areasViewMode",n(a)));let i=J(!1),o=()=>O(a,Rr[(Rr.indexOf(n(a))+1)%Rr.length],!0),s=()=>O(i,!n(i));const c=$(()=>n(i)?gt.areas.filter(T=>T.status=="archived"):gt.areas.filter(T=>T.status=="active"));async function u(T,I){if(T.stopPropagation(),I===0)return;const A=gt.areas,j=n(c)[I],W=n(c)[I-1],U=A.findIndex(N=>N.id===W.id),V=U>0?A[U-1].index:null,B=W.index;await ca(j.index,V,B)}async function b(T,I){if(T.stopPropagation(),I===n(c).length-1)return;const A=gt.areas,j=n(c)[I],W=n(c)[I+1],U=A.findIndex(N=>N.id===W.id),V=W.index,B=U<A.length-1?A[U+1].index:null;await ca(j.index,V,B)}var f=ol(),x=v(f),d=_(v(x),2),h=v(d);{var g=T=>{var I=nl();I.__click=o;var A=v(I,!0);l(I),K(()=>z(A,n(a))),E(T,I)};Z(h,T=>{n(i)||T(g)})}var p=_(h,2);p.__click=s;var m=v(p,!0);l(p),l(d),l(x);var y=_(x,2),w=v(y),D=v(w);Ae(D,17,()=>n(c),Ce,(T,I,A)=>{al(T,{get area(){return n(I)},get handleSelect(){return t.onSelectArea},index:A,handleAreaMoveUp:u,handleAreaMoveDown:b,get viewMode(){return n(a)},get handleEdit(){return r.openEditAreaModal}})});var k=_(D,2);{var S=T=>{Ys(T,{get handleClick(){return r.openCreateAreaModal}})};Z(k,T=>{n(i)||T(S)})}l(w),l(y);var C=_(y,2);ct(Qs(C,{}),T=>r=T,()=>r),l(f),K(()=>z(m,n(i)?"Active":"Archived")),E(e,f),ke()}_e(["click"]);var sl=L('<button aria-label="edit"> </button>'),ll=L('<div tabindex="0" role="button" class="flex flex-row gap-2 items-start text-left"><p class="px-2 flex flex-row gap-2 text-sm mb-1.5 w-full text-base-content"><span class="w-8 h-8 flex mt-0.5"><!></span> <span class="flex-1"> </span> <!></p></div>'),cl=L('<div class="h-full bg-primary/80 transition-all"></div>'),dl=L('<span class="text-xs mx-0.5">â€¢</span> ',1),ul=L('<button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),vl=L('<button aria-label="edit"> </button>'),fl=L('<div class="w-full transition-colors bg-base-100 cursor-pointer hover:bg-primary/20" role="button" tabindex="0"><div class="flex-1 min-w-0 p-2 pt-4"><div class="flex flex-row items-start gap-2 "><div class="shrink-0 size-8"><!></div> <p class="text-sm mb-1.5 text-base-content"> </p></div> <div class="mb-2 mt-3 w-full items-center flex h-1 bg-neutral"><!></div> <div class="flex flex-row justify-between items-center ms-2"><p class="text-xs font-semibold text-base-content/50 "> <!></p> <div class="flex flex-row gap-2 items-center mt-1"><!> <button aria-label="edit" class="size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center"><svg viewBox="0 0 24 24" class="size-5" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button> <!></div></div></div></div>'),bl=L("<div><!></div>");function gl(e,t){we(t,!0);const r=$(()=>pt.getByProject(t.project.id)),a=$(()=>n(r).filter(g=>g.status==="active").length),i=$(()=>n(r).filter(g=>g.status==="completed").length),o=$(()=>n(r).filter(g=>g.status==="active"||g.status==="completed").length),s=$(()=>n(o)>0?n(i)/n(o)*100:0);function c(g){for(const[p,m]of Object.entries(Ht.weeksByWeekOf))if(m.projectAssignments.some(y=>y.projectId===g))return p;return null}function u(g){const p=Ut();if(g===p)return"This week";const m=new Date(p),y=new Date(g),w=Math.round((y.getTime()-m.getTime())/(1e3*60*60*24)),D=Math.round(w/7);return D===1?"Next week":D>1?`In ${D} weeks`:D===-1?"Last week":g.slice(5)}const b=$(()=>c(t.project.id));var f=bl(),x=v(f);{var d=g=>{var p=ll();p.__click=()=>t.onclick(t.project);var m=v(p),y=v(m),w=v(y);pr(w,{get level(){return t.project.severity}}),l(y);var D=_(y,2),k=v(D,!0);l(D);var S=_(D,2);{var C=T=>{var I=sl();I.__click=j=>t.handleProjectAssign(j,t.project);var A=v(I,!0);l(I),K(j=>{ae(I,1,`badge badge-lg badge-soft ${n(b)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer justify-center rounded-lg items-center flex`),z(A,j)},[()=>u(n(b))]),E(T,I)};Z(S,T=>{n(b)&&T(C)})}l(m),l(p),K(()=>z(k,t.project.name)),E(g,p)},h=g=>{var p=fl();p.__click=()=>t.navigateToTasks(t.project),p.__keydown=R=>R.key==="Enter"&&t.navigateToTasks(t.project);var m=v(p),y=v(m),w=v(y),D=v(w);pr(D,{get level(){return t.project.severity}}),l(w);var k=_(w,2),S=v(k,!0);l(k),l(y);var C=_(y,2),T=v(C);{var I=R=>{var F=cl();K(()=>Vt(F,`width: ${n(s)??""}%`)),E(R,F)};Z(T,R=>{n(o)>0&&R(I)})}l(C);var A=_(C,2),j=v(A),W=v(j),U=_(W);{var V=R=>{var F=dl(),H=_(ne(F));K(()=>z(H,` ${n(i)??""} done`)),E(R,F)};Z(U,R=>{n(i)>0&&R(V)})}l(j);var B=_(j,2),N=v(B);{var M=R=>{var F=ul(),H=ne(F);H.__click=te=>t.handleProjectMoveUp(te,t.index);var q=_(H,2);q.__click=te=>t.handleProjectMoveDown(te,t.index),E(R,F)};Z(N,R=>{t.allowReorder&&R(M)})}var G=_(N,2);G.__click=R=>t.handleEdit(R,t.project);var Q=_(G,2);{var P=R=>{var F=vl();F.__click=q=>t.handleProjectAssign(q,t.project);var H=v(F,!0);l(F),K(q=>{ae(F,1,`badge badge-lg badge-soft ${n(b)?"badge-accent":"badge-ghost text-base-content/40"} text-xs p-1.5 w-20 cursor-pointer flex justify-center rounded-lg items-center`),z(H,q)},[()=>n(b)?u(n(b)):"Unassigned"]),E(R,F)};Z(Q,R=>{t.allowWeekAssignment&&R(P)})}l(B),l(A),l(m),l(p),K(()=>{z(S,t.project.name),z(W,`${n(a)??""} active `)}),E(g,p)};Z(x,g=>{t.isSelected?g(h,!1):g(d)})}l(f),E(e,f),ke()}_e(["click","keydown"]);var pl=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[650px] max-h-full bg-base-100 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-200 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">4</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">5</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="grid grid-cols-3 gap-1"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Someday</button> <button type="button">Cancelled</button> <button type="button">Done</button></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function ml(e,t){we(t,!0);const r=[];let a=J(!1),i=J(null),o=J(""),s=J("active"),c=J("regular"),u=J("sev3"),b;function f(){console.log("Creating.."),O(i,null),O(o,""),O(s,"active"),O(c,"regular"),O(u,"sev3"),O(a,!0),setTimeout(()=>b.focus(),100)}function x(w,D){w.stopPropagation(),O(i,D,!0),O(o,D.name,!0),O(s,D.status,!0),O(c,D.type||"regular",!0),O(u,D.severity||"sev1",!0),O(a,!0),setTimeout(()=>b.focus(),100)}function d(){O(a,!1),O(i,null)}async function h(){!n(o).trim()||!t.selectedArea||(n(i)?await Ha(t.selectedArea.id,n(i).index,{name:n(o).trim(),status:n(s),type:n(c),severity:n(u)}):await mo(t.selectedArea.id,n(o).trim(),n(c),n(u)),d())}var g={openCreateProjectModal:f,openEditProjectModal:x},p=ue(),m=ne(p);{var y=w=>{var D=pl(),k=v(D);k.__click=d,k.__keydown=Te=>Te.key==="Escape"&&d();var S=_(k,2),C=v(S),T=v(C),I=v(T),A=v(I,!0);l(I);var j=_(I,2);j.__click=d,l(T);var W=_(T,2),U=v(W),V=_(v(U),2);st(V),V.__keydown=Te=>Te.key==="Enter"&&h(),ct(V,Te=>b=Te,()=>b),l(U);var B=_(U,2),N=_(v(B),2),M=v(N);st(M),M.value=M.__value="regular";var G=_(M,2);st(G),G.value=G.__value="maintenance",l(N),l(B);var Q=_(B,4),P=v(Q);let R;P.__click=()=>O(u,"sev1");var F=_(v(P),2),H=v(F,!0);l(F),l(P);var q=_(P,2);let te;q.__click=()=>O(u,"sev2");var oe=_(v(q),2),ie=v(oe,!0);l(oe),l(q);var ce=_(q,2);let be;ce.__click=()=>O(u,"sev3");var Me=_(v(ce),2),Fe=v(Me,!0);l(Me),l(ce);var Be=_(ce,2);let Kt;Be.__click=()=>O(u,"sev4");var Xt=_(v(Be),2),Y=v(Xt,!0);l(Xt),l(Be);var X=_(Be,2);let de;X.__click=()=>O(u,"sev5");var se=_(v(X),2),me=v(se,!0);l(se),l(X),l(Q);var re=_(Q,4),ee=v(re);let fe;ee.__click=()=>O(s,"active");var le=_(ee,2);let xe;le.__click=()=>O(s,"blocked");var Ie=_(le,2);let $e;Ie.__click=()=>O(s,"someday");var He=_(Ie,2);let We;He.__click=()=>O(s,"cancelled");var Ve=_(He,2);let et;Ve.__click=()=>O(s,"completed"),l(re),l(W);var at=_(W,2),yt=_(v(at),2);yt.__click=d;var qe=_(yt,2);qe.__click=h;var ut=v(qe,!0);l(qe),l(at),l(C),l(S),l(D),K(Te=>{z(A,n(i)?"Edit Project":"New Project"),R=ae(P,1,"hover:bg-purple-600 btn btn-sm justify-start gap-2 transition-all",null,R,{"bg-purple-600":n(u)==="sev1","text-white":n(u)==="sev1"}),z(H,Mt[n(c)].sev1),te=ae(q,1,"hover:bg-red-500 btn btn-sm justify-start gap-2 transition-all",null,te,{"bg-red-500":n(u)==="sev2","text-white":n(u)==="sev2"}),z(ie,Mt[n(c)].sev2),be=ae(ce,1,"hover:bg-yellow-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,be,{"bg-yellow-500":n(u)==="sev3","text-black":n(u)==="sev3"}),z(Fe,Mt[n(c)].sev3),Kt=ae(Be,1,"hover:bg-sky-500 hover:text-black btn btn-sm justify-start gap-2 transition-all",null,Kt,{"bg-sky-500":n(u)==="sev4","text-black":n(u)==="sev4"}),z(Y,Mt[n(c)].sev4),de=ae(X,1,"hover:bg-emerald-500 hover:text-black btn btn-sm justify-start gap-3 transition-all",null,de,{"bg-emerald-500":n(u)==="sev5","text-black":n(u)==="sev5"}),z(me,Mt[n(c)].sev5),fe=ae(ee,1,"btn btn-sm hover:bg-warning hover:text-warning-content",null,fe,{"btn-warning":n(s)==="active"}),xe=ae(le,1,"btn btn-sm hover:btn-error",null,xe,{"btn-error":n(s)==="blocked"}),$e=ae(Ie,1,"btn btn-sm hover:btn-info",null,$e,{"btn-info":n(s)==="someday"}),We=ae(He,1,"btn btn-sm hover:btn-neutral",null,We,{"btn-info":n(s)==="cancelled"}),et=ae(Ve,1,"btn btn-sm hover:btn-success",null,et,{"btn-success":n(s)==="completed"}),qe.disabled=Te,z(ut,n(i)?"Save":"Create")},[()=>!n(o).trim()]),Ue(3,k,()=>St,()=>({duration:200})),Qr(V,()=>n(o),Te=>O(o,Te)),lr(r,[],M,()=>{"regular";return n(c)},Te=>O(c,Te)),lr(r,[],G,()=>{"maintenance";return n(c)},Te=>O(c,Te)),Ue(3,S,()=>jt,()=>({y:300,duration:300})),E(w,D)};Z(m,w=>{n(a)&&w(y)})}return E(e,p),ke(g)}_e(["click","keydown"]);var hl=L('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),_l=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2"></div></div></div>');function xl(e,t){we(t,!0);let r=J(!1),a=J(null),i=J(void 0);function o(h,g,p){h.stopPropagation(),O(i,g,!0),O(a,p,!0),O(r,!0)}function s(){O(r,!1),O(a,null)}async function c(h,g){!n(a)||!n(i)||(g?await za(n(a).id,h):await _o(n(a).id,n(i).id,h),s())}function u(h,g){const p=g??Ut();return Ht.getWeek(p)?.projectAssignments.some(y=>y.projectId===h)??!1}var b={openWeekPicker:o},f=ue(),x=ne(f);{var d=h=>{var g=_l(),p=v(g);p.__click=s,p.__keydown=k=>k.key==="Escape"&&s();var m=_(p,2),y=v(m),w=_(v(y),2);w.__click=s,l(y);var D=_(y,2);Ae(D,21,ho,Ce,(k,S)=>{const C=$(()=>u(n(a).id,n(S).weekOf));var T=hl();T.__click=()=>c(n(S).weekOf,n(C));var I=v(T),A=v(I,!0);l(I);var j=_(I,2),W=v(j,!0);l(j),l(T),K(()=>{ae(T,1,`w-full p-3 text-left rounded-lg border transition-colors ${n(C)?"bg-primary/20 text-primary-content border-primary":"border-base-content/10 hover:border-primary"}`),z(A,n(S).label),z(W,n(S).weekOf)}),E(k,T)}),l(D),l(m),l(g),Ue(3,p,()=>St,()=>({duration:200})),Ue(3,m,()=>jt,()=>({y:300,duration:300})),E(h,g)};Z(x,h=>{n(r)&&n(a)&&h(d)})}return E(e,f),ke(b)}_e(["click","keydown"]);var yl=L("<button> </button>"),wl=L('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),kl=L('<button type="button" class="flex items-center justify-center h-12 mx-3 border-2 border-dashed border-base-content/20 rounded-lg text-base-content/50 cursor-pointer transition-all hover:border-primary hover:text-primary"><span class="text-lg">+</span> <span class="text-sm">Add Project</span></button>'),Tl=L('<div class="flex flex-col h-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col items-start px-2"><div class="h-12 flex items-center "><button class="gap-2 text-sm text-secondary flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>â†</span> <span>Back</span></button></div> <div class="flex items-center gap-3 pe-2"><span class="text-4xl"> </span> <h2 class="text-lg"> </h2></div></div> <div class="flex gap-1 mt-4 px-3 pb-2 overflow-x-auto"></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"><!> <!></div></div></div> <!> <!>',1);function Dl(e,t){we(t,!0);let r=J(void 0);const a=N=>O(r,N.id,!0);let i,o,s=J(ht(localStorage.getItem("projectTabView")||"active"));_t(()=>{n(s)&&localStorage.setItem("projectTabView",n(s))});let c=$(()=>!["completed","cancelled"].includes(n(s))),u=$(()=>Qe.getByArea(t.selectedArea.id).filter(N=>N.status===n(s)));function b(N){return Qe.getByArea(t.selectedArea.id).filter(M=>M.status===N).length}async function f(N,M){if(N.stopPropagation(),M===0||!t.selectedArea)return;const G=Qe.getByArea(t.selectedArea.id),Q=n(u)[M],P=n(u)[M-1],R=G.findIndex(q=>q.id===P.id),F=R>0?G[R-1].index:null,H=P.index;await da(t.selectedArea.id,Q.index,F,H)}async function x(N,M){if(N.stopPropagation(),!t.selectedArea||M===n(u).length-1)return;const G=Qe.getByArea(t.selectedArea.id),Q=n(u)[M],P=n(u)[M+1],R=G.findIndex(q=>q.id===P.id),F=P.index,H=R<G.length-1?G[R+1].index:null;console.log(F,H),await da(t.selectedArea.id,Q.index,F,H)}var d=Tl(),h=ne(d),g=v(h),p=v(g),m=v(p),y=v(m);y.__click=function(...N){t.navigateBack?.apply(this,N)},l(m);var w=_(m,2),D=v(w),k=v(D,!0);l(D);var S=_(D,2),C=v(S,!0);l(S),l(w),l(p);var T=_(p,2);Ae(T,21,()=>Hs,Ce,(N,M)=>{const G=$(()=>n(s)===n(M).value),Q=$(()=>b(n(M).value));var P=yl();P.__click=()=>O(s,n(M).value,!0);var R=v(P);l(P),K(()=>{ae(P,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${n(G)?"bg-primary/40 text-primary-content":"text-base-content/50 hover:text-base-content hover:bg-base-100"}`),z(R,`${n(M).label??""} (${n(Q)??""})`)}),E(N,P)}),l(T),l(g);var I=_(g,2),A=v(I),j=v(A);Ae(j,17,()=>n(u),Ce,(N,M,G)=>{{let Q=$(()=>n(r)==n(M).id);gl(N,{get isSelected(){return n(Q)},onclick:a,handleProjectAssign:(P,R)=>o.openWeekPicker(P,t.selectedArea,R),index:G,get allowReorder(){return n(c)},get navigateToTasks(){return t.navigateToTasks},get project(){return n(M)},get allowWeekAssignment(){return n(c)},get handleEdit(){return i.openEditProjectModal},handleProjectMoveUp:f,handleProjectMoveDown:x})}},N=>{var M=wl(),G=v(M);l(M),K(()=>z(G,`No ${n(s)??""} projects`)),E(N,M)});var W=_(j,2);{var U=N=>{var M=kl();M.__click=function(...G){i.openCreateProjectModal?.apply(this,G)},E(N,M)};Z(W,N=>{n(s)=="active"&&N(U)})}l(A),l(I),l(h);var V=_(h,2);ct(ml(V,{get selectedArea(){return t.selectedArea}}),N=>i=N,()=>i);var B=_(V,2);ct(xl(B,{}),N=>o=N,()=>o),K(()=>{z(k,t.selectedArea.icon),z(C,t.selectedArea.name)}),E(e,d),ke()}_e(["click"]);var El=L('<button type="button"> </button>'),Al=L('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),Il=L('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-100 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Ol(e,t){we(t,!0);let r=J(!1),a=J(null),i=J(""),o=J("active"),s;function c(){O(a,null),O(i,""),O(o,"active"),O(r,!0),setTimeout(()=>s.focus(),100)}function u(p,m){p.stopPropagation(),O(a,m,!0),O(i,m.name,!0),O(o,m.status,!0),O(r,!0),setTimeout(()=>s.focus(),100)}function b(){O(r,!1),O(a,null)}async function f(){!n(i).trim()||!t.selectedProject||!t.selectedArea||(n(a)?await Va(t.selectedProject.id,n(a).index,{name:n(i).trim(),status:n(o)}):await Ua(t.selectedProject.id,t.selectedArea.id,n(i).trim()),b())}var x={openCreateTaskModal:c,openEditTaskModal:u},d=ue(),h=ne(d);{var g=p=>{var m=Il(),y=v(m);y.__click=b,y.__keydown=M=>M.key==="Escape"&&b();var w=_(y,2),D=v(w),k=v(D),S=v(k,!0);l(k);var C=_(k,2);C.__click=b,l(D);var T=_(D,2),I=v(T),A=_(v(I),2);st(A),A.__keydown=M=>M.key==="Enter"&&f(),ct(A,M=>s=M,()=>s),l(I);var j=_(I,2);{var W=M=>{var G=Al(),Q=_(v(G),2);Ae(Q,21,()=>Vs,Ce,(P,R)=>{var F=El();F.__click=()=>O(o,n(R).value,!0);var H=v(F,!0);l(F),K(()=>{ae(F,1,`px-3 py-1.5 text-sm rounded-lg border transition-colors ${n(o)===n(R).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),z(H,n(R).label)}),E(P,F)}),l(Q),l(G),E(M,G)};Z(j,M=>{n(a)&&M(W)})}l(T);var U=_(T,2),V=_(v(U),2);V.__click=b;var B=_(V,2);B.__click=f;var N=v(B,!0);l(B),l(U),l(w),l(m),K(M=>{z(S,n(a)?"Edit Task":"New Task"),B.disabled=M,z(N,n(a)?"Save":"Create")},[()=>!n(i).trim()]),Ue(3,y,()=>St,()=>({duration:200})),Qr(A,()=>n(i),M=>O(i,M)),Ue(3,w,()=>jt,()=>({y:300,duration:300})),E(p,m)};Z(h,p=>{n(r)&&p(g)})}return E(e,d),ke(x)}_e(["click","keydown"]);var Sl=xt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),jl=xt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Cl=xt('<svg class="w-3 h-3 text-warning" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),Ml=L('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),Pl=L('<div tabindex="0" role="button" class="hover:bg-primary/20 cursor-pointer w-full flex flex-row items-start border-b border-b-base-content/10 p-2"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function Nl(e,t){we(t,!0);const r=$(()=>t.task.status==="completed"),a=$(()=>t.task.status==="cancelled"),i=$(()=>t.task.status==="blocked");var o=Pl();o.__click=g=>t.handleEdit(g,t.task);var s=v(o);s.__click=g=>t.toggleTaskComplete(g,t.task);var c=v(s);{var u=g=>{var p=Sl();E(g,p)},b=g=>{var p=ue(),m=ne(p);{var y=D=>{var k=jl();E(D,k)},w=D=>{var k=ue(),S=ne(k);{var C=T=>{var I=Cl();E(T,I)};Z(S,T=>{n(i)&&T(C)},!0)}E(D,k)};Z(m,D=>{n(a)?D(y):D(w,!1)},!0)}E(g,p)};Z(c,g=>{n(r)?g(u):g(b,!1)})}l(s);var f=_(s,2),x=v(f,!0);l(f);var d=_(f,2);{var h=g=>{var p=Ml(),m=ne(p);m.__click=w=>t.handleTaskMoveUp(w,t.index);var y=_(m,2);y.__click=w=>t.handleTaskMoveDown(w,t.index),E(g,p)};Z(d,g=>{t.reorderEnabled&&g(h)})}l(o),K(()=>{ae(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(r)?"bg-success border-success text-success-content":n(i)?"border-warning":n(a)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"}`),s.disabled=n(a),z(x,t.task.name)}),E(e,o),ke()}_e(["click"]);var Rl=L('<div class="flex flex-col h-full w-full"><div class="flex flex-col border-b border-base-content/10 bg-base-100"><div class="flex flex-col w-full items-start px-2"><div class="flex flex-row w-full justify-between h-12 items-center "><button class="gap-2 text-sm text-secondary flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/70"><span>â†</span> <span>Back</span></button> <div class="badge badge-sm badge-secondary rounded"> </div></div> <div class="flex items-center gap-2"><svg class="size-10 inline shrink-0 text-base-content/40 align-text-bottom -mb-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg> <h2 class="text-base "> </h2></div> <div class="flex gap-1 overflow-x-auto my-2"><button class="text-base-content/50 bg-base-300 hover:bg-primary/50 hover:text-primary-content px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap">+ New</button> <button>Reorder</button> <button class="px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50">Complete project</button></div></div></div> <div class="flex-1 overflow-auto bg-base-200  min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0"></div></div></div> <!>',1);function Ll(e,t){we(t,!0);let r,a=$(()=>Qe.getById(t.selectedProject.id)?.status),i=$(()=>pt.getByProject(t.selectedProject.id)),o=J(!1),s=()=>O(o,!n(o));async function c(V){await Ha(t.selectedArea.id,t.selectedProject.index,{status:"completed"})}async function u(V,B){if(V.stopPropagation(),!t.selectedProject)return;const N=B.status==="completed"?"active":"completed";await Va(t.selectedProject.id,B.index,{status:N})}async function b(V,B){if(V.stopPropagation(),B===0||!t.selectedProject)return;const N=n(i),M=pt.getByProject(t.selectedProject.id),G=N[B],Q=N[B-1],P=M.findIndex(H=>H.id===Q.id),R=P>0?M[P-1].index:null,F=Q.index;await ua(t.selectedProject.id,G.index,R,F)}async function f(V,B){if(V.stopPropagation(),!t.selectedProject)return;const N=n(i);if(B===N.length-1)return;const M=pt.getByProject(t.selectedProject.id),G=N[B],Q=N[B+1],P=M.findIndex(H=>H.id===Q.id),R=Q.index,F=P<M.length-1?M[P+1].index:null;await ua(t.selectedProject.id,G.index,R,F)}var x=Rl(),d=ne(x),h=v(d),g=v(h),p=v(g),m=v(p);m.__click=function(...V){t.navigateBack?.apply(this,V)};var y=_(m,2),w=v(y,!0);l(y),l(p);var D=_(p,2),k=_(v(D),2),S=v(k,!0);l(k),l(D);var C=_(D,2),T=v(C);T.__click=function(...V){r.openCreateTaskModal?.apply(this,V)};var I=_(T,2);I.__click=s;var A=_(I,2);A.__click=c,l(C),l(g),l(h);var j=_(h,2),W=v(j);Ae(W,21,()=>n(i),Ce,(V,B,N)=>{Nl(V,{get handleEdit(){return r.openEditTaskModal},handleTaskMoveUp:b,handleTaskMoveDown:f,index:N,get task(){return n(B)},toggleTaskComplete:u,get reorderEnabled(){return n(o)}})}),l(W),l(j),l(d);var U=_(d,2);ct(Ol(U,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),V=>r=V,()=>r),K(()=>{z(w,n(a)),z(S,t.selectedProject.name),ae(I,1,`px-3 py-1.5 text-sm rounded-lg transition-colors cursor-pointer whitespace-nowrap ${n(o)?"bg-primary/40 text-primary-content":"text-base-content/50 bg-base-300 hover:text-base-content hover:bg-primary/50"}`)}),E(e,x),ke()}_e(["click"]);var Fl=L('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),Bl=L('<div class="h-screen flex flex-col bg-base-300 md:ml-20"><div class="max-md:pb-22 h-full"><!></div> <!></div>');function Yl(e,t){we(t,!0);const r=()=>s("areas"),a=()=>s("projects");let i=J(void 0),o=J(void 0);s("areas");function s(p){eo("",{activeTab:p})}function c(p){O(i,p,!0),s("projects")}function u(p){O(o,p,!0),O(i,gt.getById(p.areaId),!0),s("tasks")}var b=Bl(),f=v(b),x=v(f);{var d=p=>{il(p,{onSelectArea:c})},h=p=>{var m=ue(),y=ne(m);{var w=k=>{Dl(k,{navigateBack:r,navigateToTasks:u,get selectedArea(){return n(i)}})},D=k=>{var S=ue(),C=ne(S);{var T=A=>{Ll(A,{navigateBack:a,get selectedArea(){return n(i)},get selectedProject(){return n(o)}})},I=A=>{var j=ue(),W=ne(j);{var U=B=>{ks(B,{navigateToTasks:u})},V=B=>{var N=ue(),M=ne(N);{var G=P=>{Us(P,{})},Q=P=>{var R=ue(),F=ne(R);{var H=q=>{var te=Fl();E(q,te)};Z(F,q=>{vt.state.activeTab==="review"&&q(H)},!0)}E(P,R)};Z(M,P=>{vt.state.activeTab==="today"?P(G):P(Q,!1)},!0)}E(B,N)};Z(W,B=>{vt.state.activeTab==="week"?B(U):B(V,!1)},!0)}E(A,j)};Z(C,A=>{vt.state.activeTab=="tasks"?A(T):A(I,!1)},!0)}E(k,S)};Z(y,k=>{vt.state.activeTab==="projects"?k(w):k(D,!1)},!0)}E(p,m)};Z(x,p=>{vt.state.activeTab==="areas"?p(d):p(h,!1)})}l(f);var g=_(f,2);Lo(g,{get activeTab(){return vt.state.activeTab},onTabChange:s}),l(b),E(e,b),ke()}export{Yl as component};
