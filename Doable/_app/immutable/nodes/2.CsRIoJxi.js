import{b as Nn,d as _e,f as z,a as C,s as B,c as ue,e as gt,g as Zt}from"../chunks/BNJSKDXj.js";import{y as Rr,E as Ln,K as Nr,A as Ce,aq as Fn,F as Bn,g as n,T as zn,H as Wn,I as Gn,J as xa,L as Lr,B as ir,aa as Hn,aE as Vn,ah as ya,o as kt,aG as Je,z as Kr,D as Un,a8 as wa,a4 as Zn,aC as ia,aH as Yn,aI as Kn,aJ as qn,aK as Xn,v as Ya,x as Ka,aL as Fr,ay as Jn,aB as Qn,w as $n,aM as qa,q as Gt,aN as eo,W as Xa,aO as to,aP as Nt,G as ro,aQ as ao,au as no,e as Ja,u as sa,aR as oo,ap as Qa,r as la,h as io,aS as so,aT as lo,aU as co,aV as uo,aW as vo,aX as fo,aY as $a,a5 as en,aZ as go,a_ as bo,ao as po,p as ge,k as ae,l as be,n as c,s as _,m as v,t as $,O as X,N as I,a6 as J,U as Qe,b as mt,M as tn,ai as ka}from"../chunks/DvQ4DuZU.js";import{i as Q}from"../chunks/zkvLNOss.js";import{a as mo}from"../chunks/CMGSnZBi.js";import{p as dt}from"../chunks/BYFdjFcw.js";import{a1 as dr,a2 as ho,a3 as _o,a4 as rn,a5 as an,a6 as xo,a7 as nn,a8 as bt,a9 as Yt,aa as yo,ab as ft,ac as nt,ad as Kt,ae as on,af as wo,ag as sn,ah as ko,ai as To,aj as Do,ak as Eo,al as Ao,am as Io,an as So,ao as Co,ap as Oo,aq as jo,ar as Ta,as as Mo,at as Po,au as Ro,av as No,aw as Da,ax as ln,ay as Ea}from"../chunks/D4_CaV2L.js";import{b as Re}from"../chunks/CYvY_5F1.js";function Be(e,t){return t}function Lo(e,t,r){for(var a=[],o=t.length,i,s=t.length,u=0;u<o;u++){let x=t[u];Ka(x,()=>{if(i){if(i.pending.delete(x),i.done.add(x),i.pending.size===0){var f=e.outrogroups;qr(ia(i.done)),f.delete(i),f.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var g=a.length===0&&r!==null;if(g){var l=r,d=l.parentNode;Qn(d),d.append(l),e.items.clear()}qr(t,!g)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function qr(e,t=!0){for(var r=0;r<e.length;r++)$n(e[r],t)}var Aa;function we(e,t,r,a,o,i=null){var s=e,u=new Map,g=(t&qa)!==0;if(g){var l=e;s=Ce?Nr(Fn(l)):l.appendChild(Rr())}Ce&&Bn();var d=null,x=zn(()=>{var y=r();return Yn(y)?y:y==null?[]:ia(y)}),f,p=!0;function b(){h.fallback=d,Fo(h,f,s,t,a),d!==null&&(f.length===0?(d.f&Je)===0?Ya(d):(d.f^=Je,Bt(d,null,s)):Ka(d,()=>{d=null}))}var m=Ln(()=>{f=n(x);var y=f.length;let k=!1;if(Ce){var T=Wn(s)===Gn;T!==(y===0)&&(s=xa(),Nr(s),Lr(!1),k=!0)}for(var D=new Set,O=kt,S=Un(),w=0;w<y;w+=1){Ce&&ir.nodeType===Hn&&ir.data===Vn&&(s=ir,k=!0,Lr(!1));var j=f[w],A=a(j,w),M=p?null:u.get(A);M?(M.v&&ya(M.v,j),M.i&&ya(M.i,w),S&&O.skipped_effects.delete(M.e)):(M=Bo(u,p?s:Aa??=Rr(),j,A,w,o,t,r),p||(M.e.f|=Je),u.set(A,M)),D.add(A)}if(y===0&&i&&!d&&(p?d=Kr(()=>i(s)):(d=Kr(()=>i(Aa??=Rr())),d.f|=Je)),Ce&&y>0&&Nr(xa()),!p)if(S){for(const[P,F]of u)D.has(P)||O.skipped_effects.add(F.e);O.oncommit(b),O.ondiscard(()=>{})}else b();k&&Lr(!0),n(x)}),h={effect:m,items:u,outrogroups:null,fallback:d};p=!1,Ce&&(s=ir)}function Fo(e,t,r,a,o){var i=(a&eo)!==0,s=t.length,u=e.items,g=e.effect.first,l,d=null,x,f=[],p=[],b,m,h,y;if(i)for(y=0;y<s;y+=1)b=t[y],m=o(b,y),h=u.get(m).e,(h.f&Je)===0&&(h.nodes?.a?.measure(),(x??=new Set).add(h));for(y=0;y<s;y+=1){if(b=t[y],m=o(b,y),h=u.get(m).e,e.outrogroups!==null)for(const M of e.outrogroups)M.pending.delete(h),M.done.delete(h);if((h.f&Je)!==0)if(h.f^=Je,h===g)Bt(h,null,r);else{var k=d?d.next:g;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),tt(e,d,h),tt(e,h,k),Bt(h,k,r),d=h,f=[],p=[],g=d.next;continue}if((h.f&Fr)!==0&&(Ya(h),i&&(h.nodes?.a?.unfix(),(x??=new Set).delete(h))),h!==g){if(l!==void 0&&l.has(h)){if(f.length<p.length){var T=p[0],D;d=T.prev;var O=f[0],S=f[f.length-1];for(D=0;D<f.length;D+=1)Bt(f[D],T,r);for(D=0;D<p.length;D+=1)l.delete(p[D]);tt(e,O.prev,S.next),tt(e,d,O),tt(e,S,T),g=T,d=S,y-=1,f=[],p=[]}else l.delete(h),Bt(h,g,r),tt(e,h.prev,h.next),tt(e,h,d===null?e.effect.first:d.next),tt(e,d,h),d=h;continue}for(f=[],p=[];g!==null&&g!==h;)(l??=new Set).add(g),p.push(g),g=g.next;if(g===null)continue}(h.f&Je)===0&&f.push(h),d=h,g=h.next}if(e.outrogroups!==null){for(const M of e.outrogroups)M.pending.size===0&&(qr(ia(M.done)),e.outrogroups?.delete(M));e.outrogroups.size===0&&(e.outrogroups=null)}if(g!==null||l!==void 0){var w=[];if(l!==void 0)for(h of l)(h.f&Fr)===0&&w.push(h);for(;g!==null;)(g.f&Fr)===0&&g!==e.fallback&&w.push(g),g=g.next;var j=w.length;if(j>0){var A=(a&qa)!==0&&s===0?r:null;if(i){for(y=0;y<j;y+=1)w[y].nodes?.a?.measure();for(y=0;y<j;y+=1)w[y].nodes?.a?.fix()}Lo(e,w,A)}}i&&Gt(()=>{if(x!==void 0)for(h of x)h.nodes?.a?.apply()})}function Bo(e,t,r,a,o,i,s,u){var g=(s&Kn)!==0?(s&qn)===0?Zn(r,!1,!1):wa(r):null,l=(s&Xn)!==0?wa(o):null;return{v:g,i:l,e:Kr(()=>(i(t,g??r,l??o,u),()=>{e.delete(a)}))}}function Bt(e,t,r){if(e.nodes)for(var a=e.nodes.start,o=e.nodes.end,i=t&&(t.f&Je)===0?t.nodes.start:r;a!==null;){var s=Jn(a);if(i.before(a),a===o)return;a=s}}function tt(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const zo=()=>performance.now(),Xe={tick:e=>requestAnimationFrame(e),now:()=>zo(),tasks:new Set};function cn(){const e=Xe.now();Xe.tasks.forEach(t=>{t.c(e)||(Xe.tasks.delete(t),t.f())}),Xe.tasks.size!==0&&Xe.tick(cn)}function Wo(e){let t;return Xe.tasks.size===0&&Xe.tick(cn),{promise:new Promise(r=>{Xe.tasks.add(t={c:e,f:r})}),abort(){Xe.tasks.delete(t)}}}function sr(e,t){Qa(()=>{e.dispatchEvent(new CustomEvent(t))})}function Go(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Ia(e){const t={},r=e.split(";");for(const a of r){const[o,i]=a.split(":");if(!o||i===void 0)break;const s=Go(o.trim());t[s]=i.trim()}return t}const Ho=e=>e;function qt(e,t,r){var a=Xa,o=a.nodes,i,s,u,g=null;o.a??={element:e,measure(){i=this.element.getBoundingClientRect()},apply(){if(u?.abort(),s=this.element.getBoundingClientRect(),i.left!==s.left||i.right!==s.right||i.top!==s.top||i.bottom!==s.bottom){const l=t()(this.element,{from:i,to:s},r?.());u=fr(this.element,l,void 0,1,()=>{u?.abort(),u=void 0})}},fix(){if(!e.getAnimations().length){var{position:l,width:d,height:x}=getComputedStyle(e);if(l!=="absolute"&&l!=="fixed"){var f=e.style;g={position:f.position,width:f.width,height:f.height,transform:f.transform},f.position="absolute",f.width=d,f.height=x;var p=e.getBoundingClientRect();if(i.left!==p.left||i.top!==p.top){var b=`translate(${i.left-p.left}px, ${i.top-p.top}px)`;f.transform=f.transform?`${f.transform} ${b}`:b}}}},unfix(){if(g){var l=e.style;l.position=g.position,l.width=g.width,l.height=g.height,l.transform=g.transform}}},o.a.element=e}function ze(e,t,r,a){var o=(e&oo)!==0,i="both",s,u=t.inert,g=t.style.overflow,l,d;function x(){return Qa(()=>s??=r()(t,a?.()??{},{direction:i}))}var f={is_global:o,in(){t.inert=u,sr(t,"introstart"),l=fr(t,x(),d,1,()=>{sr(t,"introend"),l?.abort(),l=s=void 0,t.style.overflow=g})},out(h){t.inert=!0,sr(t,"outrostart"),d=fr(t,x(),l,0,()=>{sr(t,"outroend"),h?.()})},stop:()=>{l?.abort(),d?.abort()}},p=Xa;if((p.nodes.t??=[]).push(f),Nn){var b=o;if(!b){for(var m=p.parent;m&&(m.f&ro)!==0;)for(;(m=m.parent)&&(m.f&ao)===0;);b=!m||(m.f&no)!==0}b&&Ja(()=>{sa(()=>f.in())})}}function fr(e,t,r,a,o){var i=a===1;if(to(t)){var s,u=!1;return Gt(()=>{if(!u){var h=t({direction:i?"in":"out"});s=fr(e,h,r,a,o)}}),{abort:()=>{u=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return o(),{abort:Nt,deactivate:Nt,reset:Nt,t:()=>a};const{delay:g=0,css:l,tick:d,easing:x=Ho}=t;var f=[];if(i&&r===void 0&&(d&&d(0,1),l)){var p=Ia(l(0,1));f.push(p,p)}var b=()=>1-a,m=e.animate(f,{duration:g,fill:"forwards"});return m.onfinish=()=>{m.cancel();var h=r?.t()??1-a;r?.abort();var y=a-h,k=t.duration*Math.abs(y),T=[];if(k>0){var D=!1;if(l)for(var O=Math.ceil(k/16.666666666666668),S=0;S<=O;S+=1){var w=h+y*x(S/O),j=Ia(l(w,1-w));T.push(j),D||=j.overflow==="hidden"}D&&(e.style.overflow="hidden"),b=()=>{var A=m.currentTime;return h+y*x(A/k)},d&&Wo(()=>{if(m.playState!=="running")return!1;var A=b();return d(A,1-A),!0})}m=e.animate(T,{duration:k,fill:"forwards"}),m.onfinish=()=>{b=()=>a,d?.(a,1-a),o()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Nt)},deactivate:()=>{o=Nt},reset:()=>{a===0&&d?.(1,0)},t:()=>b()}}function ca(e,t,r){Ja(()=>{var a=sa(()=>t(e,r?.())||{});if(r&&a?.update){var o=!1,i={};la(()=>{var s=r();io(s),o&&so(i,s)&&(i=s,a.update(s))}),o=!0}if(a?.destroy)return()=>a.destroy()})}const Sa=[...` 	
\r\fÂ \v\uFEFF`];function Vo(e,t,r){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),r){for(var o in r)if(r[o])a=a?a+" "+o:o;else if(a.length)for(var i=o.length,s=0;(s=a.indexOf(o,s))>=0;){var u=s+i;(s===0||Sa.includes(a[s-1]))&&(u===a.length||Sa.includes(a[u]))?a=(s===0?"":a.substring(0,s))+a.substring(u+1):s=u}}return a===""?null:a}function Ca(e,t=!1){var r=t?" !important;":";",a="";for(var o in e){var i=e[o];i!=null&&i!==""&&(a+=" "+o+": "+i+r)}return a}function Br(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Uo(e,t){if(t){var r="",a,o;if(Array.isArray(t)?(a=t[0],o=t[1]):a=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,u=!1,g=[];a&&g.push(...Object.keys(a).map(Br)),o&&g.push(...Object.keys(o).map(Br));var l=0,d=-1;const m=e.length;for(var x=0;x<m;x++){var f=e[x];if(u?f==="/"&&e[x-1]==="*"&&(u=!1):i?i===f&&(i=!1):f==="/"&&e[x+1]==="*"?u=!0:f==='"'||f==="'"?i=f:f==="("?s++:f===")"&&s--,!u&&i===!1&&s===0){if(f===":"&&d===-1)d=x;else if(f===";"||x===m-1){if(d!==-1){var p=Br(e.substring(l,d).trim());if(!g.includes(p)){f!==";"&&x++;var b=e.substring(l,x).trim();r+=" "+b+";"}}l=x+1,d=-1}}}}return a&&(r+=Ca(a)),o&&(r+=Ca(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function re(e,t,r,a,o,i){var s=e.__className;if(Ce||s!==r||s===void 0){var u=Vo(r,a,i);(!Ce||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=r}else if(i&&o!==i)for(var g in i){var l=!!i[g];(o==null||l!==!!o[g])&&e.classList.toggle(g,l)}return i}function zr(e,t={},r,a){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,a))}}function da(e,t,r,a){var o=e.__style;if(Ce||o!==t){var i=Uo(t,a);(!Ce||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else a&&(Array.isArray(a)?(zr(e,r?.[0],a[0]),zr(e,r?.[1],a[1],"important")):zr(e,r,a));return a}const Zo=Symbol("is custom element"),Yo=Symbol("is html");function ot(e){if(Ce){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;Xr(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var o=e.checked;Xr(e,"checked",null),e.checked=o}}};e.__on_r=r,Gt(r),lo()}}function Ko(e,t){var r=dn(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Xr(e,t,r,a){var o=dn(e);Ce&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="loading"&&(e[co]=r),r==null?e.removeAttribute(t):typeof r!="string"&&qo(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function dn(e){return e.__attributes??={[Zo]:e.nodeName.includes("-"),[Yo]:e.namespaceURI===uo}}var Oa=new Map;function qo(e){var t=e.getAttribute("is")||e.nodeName,r=Oa.get(t);if(r)return r;Oa.set(t,r=[]);for(var a,o=e,i=Element.prototype;i!==o;){a=fo(o);for(var s in a)a[s].set&&r.push(s);o=vo(o)}return r}function ua(e,t,r=t){var a=new WeakSet;$a(e,"input",async o=>{var i=o?e.defaultValue:e.value;if(i=Gr(e)?Hr(i):i,r(i),kt!==null&&a.add(kt),await en(),i!==(i=t())){var s=e.selectionStart,u=e.selectionEnd,g=e.value.length;if(e.value=i??"",u!==null){var l=e.value.length;s===u&&u===g&&l>g?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=s,e.selectionEnd=Math.min(u,l))}}}),(Ce&&e.defaultValue!==e.value||sa(t)==null&&e.value)&&(r(Gr(e)?Hr(e.value):e.value),kt!==null&&a.add(kt)),la(()=>{var o=t();if(e===document.activeElement){var i=go??kt;if(a.has(i))return}Gr(e)&&o===Hr(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const Wr=new Set;function gr(e,t,r,a,o=a){var i=r.getAttribute("type")==="checkbox",s=e;let u=!1;if(t!==null)for(var g of t)s=s[g]??=[];s.push(r),$a(r,"change",()=>{var l=r.__value;i&&(l=ja(s,l,r.checked)),o(l)},()=>o(i?[]:null)),la(()=>{var l=a();if(Ce&&r.defaultChecked!==r.checked){u=!0;return}i?(l=l||[],r.checked=l.includes(r.__value)):r.checked=bo(r.__value,l)}),po(()=>{var l=s.indexOf(r);l!==-1&&s.splice(l,1)}),Wr.has(s)||(Wr.add(s),Gt(()=>{s.sort((l,d)=>l.compareDocumentPosition(d)===4?-1:1),Wr.delete(s)})),Gt(()=>{if(u){var l;if(i)l=ja(s,l,r.checked);else{var d=s.find(x=>x.checked);l=d?.__value}o(l)}})}function ja(e,t,r){for(var a=new Set,o=0;o<e.length;o+=1)e[o].checked&&a.add(e[o].__value);return r||a.delete(t),Array.from(a)}function Gr(e){var t=e.type;return t==="number"||t==="range"}function Hr(e){return e===""?null:+e}const Vr={regular:{sev1:"I do this because it's who I am",sev2:"I do this to become better",sev3:"I do this because I enjoy it"},maintenance:{sev1:"Life breaks without this",sev2:"Keeps things running smooth",sev3:"Can wait or be skipped"}},Xo={regular:{sev1:"Core",sev2:"Growth",sev3:"Enrichment"},maintenance:{sev1:"Essential",sev2:"Routine",sev3:"Optional"}},Jo=["ðŸ’¼","ðŸ ","ðŸ’ª","ðŸ“š","ðŸ’°","â¤ï¸","ðŸŽ¯","ðŸš€","ðŸŽ¨","ðŸŽµ","âœˆï¸","ðŸŽ","ðŸ§˜","ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦","ðŸ¤","ðŸ“±","ðŸ’»","ðŸ”§","ðŸ“","ðŸŽ“","ðŸƒ","ðŸ§ ","ðŸŒ±","â­","ðŸ”¥","ðŸ’¡","ðŸŽ®","ðŸ“¸","ðŸ›’","ðŸ¦","ðŸš—","ðŸ‹ï¸"];var Qo=z('<button><span class="text-lg"> </span> <span class="text-[10px] font-medium truncate"> </span></button>'),$o=z('<button><span class="text-xl"> </span> <span class="text-xs font-medium"> </span></button>'),ei=z('<nav class="md:hidden pb-6 fixed bottom-0 left-0 right-0 bg-base-200 border-t border-base-content/10 flex justify-around pt-2 px-1 safe-bottom"></nav> <nav class="hidden md:flex fixed left-0 top-0 bottom-0 w-20 bg-base-200 border-r border-base-content/10 flex-col items-center py-6 gap-2"></nav>',1);function ti(e,t){ge(t,!0);const r=[{id:"areas",icon:"ðŸ“",label:"Areas"},{id:"week",icon:"ðŸ“…",label:"Week"},{id:"today",icon:"â˜€ï¸",label:"Today"}];var a=ei(),o=ae(a);we(o,21,()=>r,Be,(s,u)=>{var g=Qo();let l;g.__click=()=>t.onTabChange(n(u).id);let d;var x=v(g),f=v(x,!0);c(x);var p=_(x,2),b=v(p,!0);c(p),c(g),$(()=>{l=re(g,1,"flex flex-col items-center gap-1 px-3 py-1 rounded-lg transition-colors min-w-0 flex-1",null,l,{"text-primary":t.activeTab===n(u).id,"text-base-content":t.activeTab!==n(u).id}),d=da(g,"",d,{opacity:t.activeTab===n(u).id?1:.4}),B(f,n(u).icon),B(b,n(u).label)}),C(s,g)}),c(o);var i=_(o,2);we(i,21,()=>r,Be,(s,u)=>{var g=$o();g.__click=()=>t.onTabChange(n(u).id);var l=v(g),d=v(l,!0);c(l);var x=_(l,2),f=v(x,!0);c(x),c(g),$(()=>{re(g,1,`flex flex-col ${t.activeTab==n(u).id?"bg-primary/20 text-primary":"text-base-content "} items-center gap-1 px-3 py-3 rounded-lg transition-colors w-16 `),B(d,n(u).icon),B(f,n(u).label)}),C(s,g)}),c(i),C(e,a),be()}_e(["click"]);const ri=e=>e;function ai(e){const t=e-1;return t*t*t+1}function Ma(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Ct(e,{delay:t=0,duration:r=400,easing:a=ri}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:i=>`opacity: ${i*o}`}}function Ot(e,{delay:t=0,duration:r=400,easing:a=ai,x:o=0,y:i=0,opacity:s=0}={}){const u=getComputedStyle(e),g=+u.opacity,l=u.transform==="none"?"":u.transform,d=g*(1-s),[x,f]=Ma(o),[p,b]=Ma(i);return{delay:t,duration:r,easing:a,css:(m,h)=>`
			transform: ${l} translate(${(1-m)*x}${f}, ${(1-m)*p}${b});
			opacity: ${g-d*h}`}}var ni=z('<button type="button"><span class="text-xs font-medium"> </span> <span class="text-lg"> </span></button>'),oi=z('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><div><h2 class="text-lg font-semibold">Assign to Day</h2> <p class="text-xs text-base-content/50 truncate"> </p></div> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 grid grid-cols-7 gap-1"></div> <div class="p-4 pt-0"><button type="button" class="w-full p-3 text-sm text-base-content/50 hover:text-base-content rounded-lg border border-base-content/10 hover:border-primary transition-colors">Remove from all days</button></div></div></div>');function ii(e,t){ge(t,!0);let r=X(!1),a=X(null);function o(f,p,b,m){f.stopPropagation(),I(a,{task:p,project:b,area:m},!0),I(r,!0)}function i(){I(r,!1),I(a,null)}function s(){return _o(t.currentWeekOf).map(f=>({date:f,dayName:an(f),isToday:rn(f)}))}async function u(f){if(!n(a))return;const{task:p,project:b,area:m}=n(a);i();const h=t.isTaskAssignedToDay(p.id);h===f?await dr(p.id,b.id,t.currentWeekOf,f):(h&&await dr(p.id,b.id,t.currentWeekOf,h),await ho(p.id,b.id,m.id,p.name,t.currentWeekOf,f,!1))}var g={openDayPicker:o},l=ue(),d=ae(l);{var x=f=>{var p=oi(),b=v(p);b.__click=i,b.__keydown=j=>j.key==="Escape"&&i();var m=_(b,2),h=v(m),y=v(h),k=_(v(y),2),T=v(k,!0);c(k),c(y);var D=_(y,2);D.__click=i,c(h);var O=_(h,2);we(O,21,s,Be,(j,A)=>{const M=J(()=>t.isTaskAssignedToDay(n(a).task.id)===n(A).date);var P=ni();P.__click=()=>u(n(A).date);var F=v(P),U=v(F,!0);c(F);var W=_(F,2),Y=v(W,!0);c(W),c(P),$(G=>{re(P,1,`flex flex-col items-center p-2 rounded-lg border transition-colors ${n(M)?"bg-primary/10 text-primary border-primary":n(A).isToday?"border-primary/50 hover:border-primary":"border-base-content/10 hover:border-primary"}`),B(U,n(A).dayName),B(Y,G)},[()=>n(A).date.split("-")[2]]),C(j,P)}),c(O);var S=_(O,2),w=v(S);w.__click=()=>{const j=t.isTaskAssignedToDay(n(a).task.id);j&&dr(n(a).task.id,n(a).project.id,t.currentWeekOf,j),i()},c(S),c(m),c(p),$(()=>B(T,n(a).task.name)),ze(3,b,()=>Ct,()=>({duration:200})),ze(3,m,()=>Ot,()=>({y:300,duration:300})),C(f,p)};Q(d,f=>{n(r)&&n(a)&&f(x)})}return C(e,l),be(g)}_e(["click","keydown"]);function Pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pa(Object(r),!0).forEach(function(a){At(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pa(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tt(e){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(e)}function At(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function si(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,i;for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function li(e,t){if(e==null)return{};var r=si(e,t),a,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ci(e,t){return ui(e)||fi(e,t)||va(e,t)||bi()}function Fe(e){return di(e)||vi(e)||va(e)||gi()}function di(e){if(Array.isArray(e))return Jr(e)}function ui(e){if(Array.isArray(e))return e}function vi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fi(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],o=!0,i=!1,s,u;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));o=!0);}catch(g){i=!0,u=g}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw u}}return a}}function va(e,t){if(e){if(typeof e=="string")return Jr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jr(e,t)}}function Jr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function gi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=va(e))||t){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(g){throw g},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,u;return{s:function(){r=r.call(e)},n:function(){var g=r.next();return i=g.done,g},e:function(g){s=!0,u=g},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(s)throw u}}}}var pi="finalize",mi="consider";function It(e,t,r){e.dispatchEvent(new CustomEvent(pi,{detail:{items:t,info:r}}))}function st(e,t,r){e.dispatchEvent(new CustomEvent(mi,{detail:{items:t,info:r}}))}var kr="draggedEntered",Jt="draggedLeft",Tr="draggedOverIndex",fa="draggedLeftDocument",pr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function hi(e,t,r){e.dispatchEvent(new CustomEvent(kr,{detail:{indexObj:t,draggedEl:r}}))}function _i(e,t,r){e.dispatchEvent(new CustomEvent(Jt,{detail:{draggedEl:t,type:pr.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function xi(e,t){e.dispatchEvent(new CustomEvent(Jt,{detail:{draggedEl:t,type:pr.OUTSIDE_OF_ANY}}))}function yi(e,t,r){e.dispatchEvent(new CustomEvent(Tr,{detail:{indexObj:t,draggedEl:r}}))}function wi(e){window.dispatchEvent(new CustomEvent(fa,{detail:{draggedEl:e}}))}var Ie={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:kr,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Tr,DRAGGED_LEFT:Jt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},je={POINTER:"pointer",KEYBOARD:"keyboard"},Dr="isDndShadowItem",Er="data-is-dnd-shadow-item-internal",ki="data-is-dnd-shadow-item-hint",un="id:dnd-shadow-placeholder-0000",Ti="dnd-action-dragged-el",fe="id",Qr=0;function vn(){Qr++}function fn(){if(Qr===0)throw new Error("Bug! trying to decrement when there are no dropzones");Qr--}var ga=typeof window>"u";function $r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,a=t?Ai(e):e.getBoundingClientRect(),o=getComputedStyle(e),i=o.transform;if(i){var s,u,g,l;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],u=+r[5],g=+r[12],l=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],u=+r[3],g=+r[4],l=+r[5];else return a;var d=o.transformOrigin,x=a.x-g-(1-s)*parseFloat(d),f=a.y-l-(1-u)*parseFloat(d.slice(d.indexOf(" ")+1)),p=s?a.width/s:e.offsetWidth,b=u?a.height/u:e.offsetHeight;return{x,y:f,width:p,height:b,top:f,right:x+p,bottom:f+b,left:x}}else return a}function gn(e){var t=$r(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function bn(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function pn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Di(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ar(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Ht(e){return pn(bn(e))}function Ra(e,t){var r=Ht(e),a=gn(t);return Ar(r,a)}function Na(e,t){var r=Ht(e),a=Ht(t);return Di(r,a)}function Ei(e){var t=bn(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Ai(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},a=!1,o=!1,i=e.parentElement;i&&i!==document.body;){var s=window.getComputedStyle(i),u=s.overflowY,g=s.overflowX,l=u==="scroll"||u==="auto",d=g==="scroll"||g==="auto";if(l||d){var x=i.getBoundingClientRect();if(l){var f=Math.max(r.top,x.top),p=Math.min(r.bottom,x.bottom);(f!==r.top||p!==r.bottom)&&(a=!0),r.top=f,r.bottom=p}if(d){var b=Math.max(r.left,x.left),m=Math.min(r.right,x.right);(b!==r.left||m!==r.right)&&(o=!0),r.left=b,r.right=m}}i=i.parentElement}return a||o?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Dt;function ba(){Dt=new Map}ba();function Ii(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Er)});if(t>=0)return Dt.has(e)||Dt.set(e,new Map),Dt.get(e).set(t,gn(e.children[t])),t}function Si(e,t){if(!Ra(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var a=Ii(t),o=0;o<r.length;o++)if(Ra(e,r[o])){var i=Dt.has(t)&&Dt.get(t).get(o);return i&&!Ar(Ht(e),i)?{index:a,isProximityBased:!1}:{index:o,isProximityBased:!1}}for(var s=Number.MAX_VALUE,u=void 0,g=0;g<r.length;g++){var l=Na(e,r[g]);l<s&&(s=l,u=g)}if(r.length>0){var d=r.length,x=r[d-1],f=x.cloneNode(!1);f.style.visibility="hidden",f.style.pointerEvents="none",t.appendChild(f);var p=Na(e,f);p<s&&(u=d),t.removeChild(f)}return{index:u,isProximityBased:!0}}function Lt(e){return JSON.stringify(e,null,2)}function mr(e){if(!e)throw new Error("cannot get depth of a falsy node");return mn(e,0)}function mn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?mn(e.parentElement,t+1):t-1}function Ci(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function Oi(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var ji=200,La=10,ea;function Mi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ji,a=arguments.length>3?arguments[3]:void 0,o,i,s=!1,u,g=Array.from(t).sort(function(d,x){return mr(x)-mr(d)});function l(){var d=Ht(e),x=a.multiScrollIfNeeded();if(!x&&u&&Math.abs(u.x-d.x)<La&&Math.abs(u.y-d.y)<La){ea=window.setTimeout(l,r);return}if(Ei(e)){wi(e);return}u=d;var f=!1,p=Xt(g),b;try{for(p.s();!(b=p.n()).done;){var m=b.value;x&&ba();var h=Si(e,m);if(h!==null){var y=h.index;f=!0,m!==o?(o&&_i(o,e,m),hi(m,h,e),o=m):y!==i&&(yi(m,h,e),i=y);break}}}catch(k){p.e(k)}finally{p.f()}!f&&s&&o?(xi(o,e),o=void 0,i=void 0,s=!1):s=!0,ea=window.setTimeout(l,r)}l()}function Pi(){clearTimeout(ea),ba()}var Ft=30;function Ri(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(i){var s=e,u=s.directionObj,g=s.stepPx;u&&(i.scrollBy(u.x*g,u.y*g),window.requestAnimationFrame(function(){return r(i)}))}function a(i){return Ft-i}function o(i,s){if(!s)return!1;var u=Ni(i,s),g=!!e.directionObj;if(u===null)return g&&t(),!1;var l=!1,d=!1;return s.scrollHeight>s.clientHeight&&(u.bottom<Ft?(l=!0,e.directionObj={x:0,y:1},e.stepPx=a(u.bottom)):u.top<Ft&&(l=!0,e.directionObj={x:0,y:-1},e.stepPx=a(u.top)),!g&&l)||s.scrollWidth>s.clientWidth&&(u.right<Ft?(d=!0,e.directionObj={x:1,y:0},e.stepPx=a(u.right)):u.left<Ft&&(d=!0,e.directionObj={x:-1,y:0},e.stepPx=a(u.left)),!g&&d)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:o,resetScrolling:t}}function Ni(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Ar(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function Li(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Bi(e),a=Array.from(r).sort(function(g,l){return mr(l)-mr(g)}),o=Ri(),i=o.scrollIfNeeded,s=o.resetScrolling;function u(){var g=t();if(!g||!a)return!1;for(var l=a.filter(function(f){return Ar(g,f.getBoundingClientRect())||f===document.scrollingElement}),d=0;d<l.length;d++){var x=i(g,l[d]);if(x)return!0}return!1}return{multiScrollIfNeeded:r.size>0?u:function(){return!1},destroy:function(){return s()}}}function Fi(e){if(!e)return[];for(var t=[],r=e;r;){var a=window.getComputedStyle(r),o=a.overflow;o.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Bi(e){var t=new Set,r=Xt(e),a;try{for(r.s();!(a=r.n()).done;){var o=a.value;Fi(o).forEach(function(i){return t.add(i)})}}catch(i){r.e(i)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function zi(e){var t=e.cloneNode(!0),r=[],a=e.tagName==="SELECT",o=a?[e]:Fe(e.querySelectorAll("select")),i=Xt(o),s;try{for(i.s();!(s=i.n()).done;){var u=s.value;r.push(u.value)}}catch(T){i.e(T)}finally{i.f()}if(o.length>0)for(var g=a?[t]:Fe(t.querySelectorAll("select")),l=0;l<g.length;l++){var d=g[l],x=r[l],f=d.querySelector('option[value="'.concat(x,'"'));f&&f.setAttribute("selected",!0)}var p=e.tagName==="CANVAS",b=p?[e]:Fe(e.querySelectorAll("canvas"));if(b.length>0)for(var m=p?[t]:Fe(t.querySelectorAll("canvas")),h=0;h<m.length;h++){var y=b[h],k=m[h];k.width=y.width,k.height=y.height,y.width>0&&y.height>0&&k.getContext("2d").drawImage(y,0,0)}return t}var Vt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Wi=At({},Vt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function hn(e){if(!Vt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Vt)));return Wi[e]}var Gi=.2;function ut(e){return"".concat(e," ").concat(Gi,"s ease")}function Hi(e,t){var r=e.getBoundingClientRect(),a=zi(e);_n(e,a),a.id=Ti,a.style.position="fixed";var o=r.top,i=r.left;if(a.style.top="".concat(o,"px"),a.style.left="".concat(i,"px"),t){var s=pn(r);o-=s.y-t.y,i-=s.x-t.x,window.setTimeout(function(){a.style.top="".concat(o,"px"),a.style.left="".concat(i,"px")},0)}return a.style.margin="0",a.style.boxSizing="border-box",a.style.height="".concat(r.height,"px"),a.style.width="".concat(r.width,"px"),a.style.transition="".concat(ut("top"),", ").concat(ut("left"),", ").concat(ut("background-color"),", ").concat(ut("opacity"),", ").concat(ut("color")," "),window.setTimeout(function(){return a.style.transition+=", ".concat(ut("width"),", ").concat(ut("height"))},0),a.style.zIndex="9999",a.style.cursor="grabbing",a}function Vi(e){e.style.cursor="grab"}function Ui(e,t,r,a){_n(t,e);var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=o.width-i.width,u=o.height-i.height;if(s||u){var g={left:(r-i.left)/i.width,top:(a-i.top)/i.height};hn(Vt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(o.height,"px"),e.style.width="".concat(o.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-g.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-g.top*u,"px")}}function _n(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(a){return a.startsWith("background")||a.startsWith("padding")||a.startsWith("font")||a.startsWith("text")||a.startsWith("align")||a.startsWith("justify")||a.startsWith("display")||a.startsWith("flex")||a.startsWith("border")||a==="opacity"||a==="color"||a==="list-style-type"||hn(Vt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(a==="width"||a==="height")}).forEach(function(a){return t.style.setProperty(a,r.getPropertyValue(a),r.getPropertyPriority(a))})}function Zi(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function xn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Yi(e){e.style.visibility="hidden",e.setAttribute(Er,"true")}function Ki(e){e.style.visibility="",e.removeAttribute(Er)}function ur(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var o=t(a);Object.keys(o).forEach(function(i){a.style[i]=o[i]}),r(a).forEach(function(i){return a.classList.add(i)})})}function hr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(a){var o=t(a);Object.keys(o).forEach(function(i){a.style[i]=""}),r(a).forEach(function(i){return a.classList.contains(i)&&a.classList.remove(i)})})}function qi(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Xi="--any--",Ji=100,Qi=20,lr=3,$i=80,Fa={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ba="data-is-dnd-original-dragged-item",Se,he,Oe,Ir,ie,Sr,it,ye,Ze,De,rt=!1,pa=!1,ma,Qt=!1,vr=[],Wt,Ye,zt=!1,Ve=new Map,ce=new Map,Ur=new WeakMap;function es(e,t){Ve.has(t)||Ve.set(t,new Set),Ve.get(t).has(e)||(Ve.get(t).add(e),vn())}function za(e,t){Ve.get(t).delete(e),fn(),Ve.get(t).size===0&&Ve.delete(t)}function ts(){var e=Ve.get(Ir),t=Xt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.addEventListener(kr,yn),a.addEventListener(Jt,wn),a.addEventListener(Tr,kn)}}catch(s){t.e(s)}finally{t.f()}window.addEventListener(fa,St);var o=Math.max.apply(Math,Fe(Array.from(e.keys()).map(function(s){return ce.get(s).dropAnimationDurationMs}))),i=o===0?Qi:Math.max(o,Ji);Wt=Li(e,function(){return De}),Mi(he,e,i*1.07,Wt)}function rs(){var e=Ve.get(Ir),t=Xt(e),r;try{for(t.s();!(r=t.n()).done;){var a=r.value;a.removeEventListener(kr,yn),a.removeEventListener(Jt,wn),a.removeEventListener(Tr,kn)}}catch(o){t.e(o)}finally{t.f()}window.removeEventListener(fa,St),Wt&&(Wt.destroy(),Wt=void 0),Pi()}function Cr(e){return e.findIndex(function(t){return!!t[Dr]})}function as(e){var t;return br(br({},e),{},(t={},At(t,Dr,!0),At(t,fe,un),t))}function yn(e){var t=ce.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ie)){if(Qt=!1,r=r.filter(function(u){return u[fe]!==it[fe]&&u[fe]!==un}),ie!==e.currentTarget){var o=ce.get(ie).items,i=o.filter(function(u){return!u[Dr]});st(ie,i,{trigger:Ie.DRAGGED_ENTERED_ANOTHER,id:Oe[fe],source:je.POINTER})}var s=e.detail.indexObj.index;ye=e.currentTarget,r.splice(s,0,it),st(e.currentTarget,r,{trigger:Ie.DRAGGED_ENTERED,id:Oe[fe],source:je.POINTER})}}function wn(e){if(rt){var t=ce.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ie&&e.currentTarget!==ye)){var o=Fe(r),i=Cr(o);i!==-1&&o.splice(i,1);var s=ye;ye=void 0;var u=e.detail,g=u.type,l=u.theOtherDz;if(g===pr.OUTSIDE_OF_ANY||g===pr.LEFT_FOR_ANOTHER&&l!==ie&&ce.get(l).dropFromOthersDisabled){Qt=!0,ye=ie;var d=s===ie?o:Fe(ce.get(ie).items);d.splice(Sr,0,it),st(ie,d,{trigger:Ie.DRAGGED_LEFT_ALL,id:Oe[fe],source:je.POINTER})}st(e.currentTarget,o,{trigger:Ie.DRAGGED_LEFT,id:Oe[fe],source:je.POINTER})}}}function kn(e){var t=ce.get(e.currentTarget),r=t.items,a=t.dropFromOthersDisabled;if(!(a&&e.currentTarget!==ie)){var o=Fe(r);Qt=!1;var i=e.detail.indexObj.index,s=Cr(o);s!==-1&&o.splice(s,1),o.splice(i,0,it),st(e.currentTarget,o,{trigger:Ie.DRAGGED_OVER_INDEX,id:Oe[fe],source:je.POINTER})}}function _r(e){e.preventDefault();var t=e.touches?e.touches[0]:e;De={x:t.clientX,y:t.clientY},he.style.transform="translate3d(".concat(De.x-Ze.x,"px, ").concat(De.y-Ze.y,"px, 0)")}function St(){pa=!0,window.removeEventListener("mousemove",_r),window.removeEventListener("touchmove",_r),window.removeEventListener("mouseup",St),window.removeEventListener("touchend",St),rs(),Vi(he),ye||(ye=ie);var e=ce.get(ye),t=e.items,r=e.type;hr(Ve.get(r),function(i){return ce.get(i).dropTargetStyle},function(i){return ce.get(i).dropTargetClasses});var a=Cr(t);a===-1&&ye===ie&&(a=Sr),t=t.map(function(i){return i[Dr]?Oe:i});function o(){ma(),It(ye,t,{trigger:Qt?Ie.DROPPED_OUTSIDE_OF_ANY:Ie.DROPPED_INTO_ZONE,id:Oe[fe],source:je.POINTER}),ye!==ie&&It(ie,ce.get(ie).items,{trigger:Ie.DROPPED_INTO_ANOTHER,id:Oe[fe],source:je.POINTER});var i=Array.from(ye.children).find(function(s){return s.getAttribute(Er)});i&&Ki(i),is()}ce.get(ye).dropAnimationDisabled?o():ns(a,o)}function ns(e,t){var r=e>-1?$r(ye.children[e],!1):$r(ye,!1),a={x:r.left-parseFloat(he.style.left),y:r.top-parseFloat(he.style.top)},o=ce.get(ye),i=o.dropAnimationDurationMs,s="transform ".concat(i,"ms ease");he.style.transition=he.style.transition?he.style.transition+","+s:s,he.style.transform="translate3d(".concat(a.x,"px, ").concat(a.y,"px, 0)"),window.setTimeout(t,i)}function os(e,t){vr.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){xn(e),document.body.appendChild(e)})}function is(){he&&he.remove&&he.remove(),Se&&Se.remove&&Se.remove(),he=void 0,Se=void 0,Oe=void 0,Ir=void 0,ie=void 0,Sr=void 0,it=void 0,ye=void 0,Ze=void 0,De=void 0,rt=!1,pa=!1,ma=void 0,Qt=!1,Ye&&clearTimeout(Ye),Ye=void 0,zt=!1,vr.length&&(vr.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),vr=[])}function ss(e,t){var r=!1,a={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Fa,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},o=new Map;function i(){window.addEventListener("mousemove",g,{passive:!1}),window.addEventListener("touchmove",g,{passive:!1,capture:!1}),window.addEventListener("mouseup",u,{passive:!1}),window.addEventListener("touchend",u,{passive:!1})}function s(){window.removeEventListener("mousemove",g),window.removeEventListener("touchmove",g),window.removeEventListener("mouseup",u),window.removeEventListener("touchend",u),Ye&&(clearTimeout(Ye),Ye=void 0,zt=!1)}function u(f){if(s(),Se=void 0,Ze=void 0,De=void 0,f.type==="touchend"){var p=new Event("click",{bubbles:!0,cancelable:!0});f.target.dispatchEvent(p)}}function g(f){var p=!!f.touches,b=p?f.touches[0]:f;if(p&&a.delayTouchStartMs>0&&!zt){De={x:b.clientX,y:b.clientY},(Math.abs(De.x-Ze.x)>=lr||Math.abs(De.y-Ze.y)>=lr)&&(Ye&&(clearTimeout(Ye),Ye=void 0),u(f));return}f.preventDefault(),De={x:b.clientX,y:b.clientY},(Math.abs(De.x-Ze.x)>=lr||Math.abs(De.y-Ze.y)>=lr)&&(s(),d())}function l(f){if(!(f.target!==f.currentTarget&&(f.target.value!==void 0||f.target.isContentEditable))&&!f.button&&!rt){var p=!!f.touches,b=p&&a.delayTouchStartMs>0;b||f.preventDefault(),f.stopPropagation();var m=p?f.touches[0]:f;Ze={x:m.clientX,y:m.clientY},De=br({},Ze),Se=f.currentTarget,b&&(zt=!1,Ye=window.setTimeout(function(){Se&&(zt=!0,s(),d())},a.delayTouchStartMs)),i()}}function d(){rt=!0;var f=o.get(Se);Sr=f,ie=Se.parentElement;var p=ie.closest("dialog")||ie.closest("[popover]")||ie.getRootNode(),b=p.body||p,m=a.items,h=a.type,y=a.centreDraggedOnCursor,k=Fe(m);Oe=k[f],Ir=h,it=as(Oe),he=Hi(Se,y&&De),b.appendChild(he);function T(){Se.parentElement?window.requestAnimationFrame(T):(Se.setAttribute(Ba,!0),b.appendChild(Se),ts(),xn(Se),it[fe]=Oe[fe],he.focus())}window.requestAnimationFrame(T),ur(Array.from(Ve.get(a.type)).filter(function(D){return D===ie||!ce.get(D).dropFromOthersDisabled}),function(D){return ce.get(D).dropTargetStyle},function(D){return ce.get(D).dropTargetClasses}),k.splice(f,1,it),ma=qi(ie),st(ie,k,{trigger:Ie.DRAG_STARTED,id:Oe[fe],source:je.POINTER}),window.addEventListener("mousemove",_r,{passive:!1}),window.addEventListener("touchmove",_r,{passive:!1,capture:!1}),window.addEventListener("mouseup",St,{passive:!1}),window.addEventListener("touchend",St,{passive:!1})}function x(f){var p=f.items,b=p===void 0?void 0:p,m=f.flipDurationMs,h=m===void 0?0:m,y=f.type,k=y===void 0?Xi:y,T=f.dragDisabled,D=T===void 0?!1:T,O=f.morphDisabled,S=O===void 0?!1:O,w=f.dropFromOthersDisabled,j=w===void 0?!1:w,A=f.dropTargetStyle,M=A===void 0?Fa:A,P=f.dropTargetClasses,F=P===void 0?[]:P,U=f.transformDraggedElement,W=U===void 0?function(){}:U,Y=f.centreDraggedOnCursor,G=Y===void 0?!1:Y,V=f.dropAnimationDisabled,L=V===void 0?!1:V,N=f.delayTouchStart,H=N===void 0?!1:N;a.dropAnimationDurationMs=h;var E=0;H===!0?E=$i:typeof H=="number"&&isFinite(H)&&H>=0&&(E=H),a.delayTouchStartMs=E,a.type&&k!==a.type&&za(e,a.type),a.type=k,a.items=Fe(b),a.dragDisabled=D,a.morphDisabled=S,a.transformDraggedElement=W,a.centreDraggedOnCursor=G,a.dropAnimationDisabled=L,r&&rt&&!pa&&(!Ci(M,a.dropTargetStyle)||!Oi(F,a.dropTargetClasses))&&(hr([e],function(){return a.dropTargetStyle},function(){return F}),ur([e],function(){return M},function(){return F})),a.dropTargetStyle=M,a.dropTargetClasses=Fe(F);function R(te,se){return ce.get(te)?ce.get(te)[se]:a[se]}r&&rt&&a.dropFromOthersDisabled!==j&&(j?hr([e],function(te){return R(te,"dropTargetStyle")},function(te){return R(te,"dropTargetClasses")}):ur([e],function(te){return R(te,"dropTargetStyle")},function(te){return R(te,"dropTargetClasses")})),a.dropFromOthersDisabled=j,ce.set(e,a),es(e,k);for(var Z=rt?Cr(a.items):-1,ee=0;ee<e.children.length;ee++){var q=e.children[ee];if(Zi(q,D),ee===Z){S||Ui(he,q,De.x,De.y),a.transformDraggedElement(he,Oe,ee),Yi(q);continue}q.removeEventListener("mousedown",Ur.get(q)),q.removeEventListener("touchstart",Ur.get(q)),D||(q.addEventListener("mousedown",l),q.addEventListener("touchstart",l),Ur.set(q,l)),o.set(q,ee),r||(r=!0)}}return x(t),{update:function(p){x(p)},destroy:function(){function p(){za(e,ce.get(e).type),ce.delete(e)}rt&&!e.closest("[".concat(Ba,"]"))?os(e,p):p()}}}var cr,ta={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Tn=(cr={},At(cr,ta.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),At(cr,ta.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),cr),ls="dnd-action-aria-alert",de;function ra(){de||(de=document.createElement("div"),(function(){de.id=ls,de.style.position="fixed",de.style.bottom="0",de.style.left="0",de.style.zIndex="-5",de.style.opacity="0",de.style.height="0",de.style.width="0",de.setAttribute("role","alert")})(),document.body.prepend(de),Object.entries(Tn).forEach(function(e){var t=ci(e,2),r=t[0],a=t[1];return document.body.prepend(us(r,a))}))}function cs(){return ga?null:(document.readyState==="complete"?ra():window.addEventListener("DOMContentLoaded",ra),br({},ta))}function ds(){ga||!de||(Object.keys(Tn).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),de.remove(),de=void 0)}function us(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Et(e){if(!ga){de||ra(),de.innerHTML="";var t=document.createTextNode(e);de.appendChild(t),de.style.display="none",de.style.display="inline"}}var vs="--any--",Wa={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Le=!1,aa,Ee,pt="",vt,Ke,at="",xr=new WeakSet,Ga=new WeakMap,Ha=new WeakMap,na=new Map,xe=new Map,He=new Map,yr;function fs(e,t){He.size===0&&(yr=cs(),window.addEventListener("keydown",Dn),window.addEventListener("click",En)),He.has(t)||He.set(t,new Set),He.get(t).has(e)||(He.get(t).add(e),vn())}function Va(e,t){Ee===e&&Ut(),He.get(t).delete(e),fn(),He.get(t).size===0&&He.delete(t),He.size===0&&(window.removeEventListener("keydown",Dn),window.removeEventListener("click",En),yr=void 0,ds())}function Dn(e){if(Le)switch(e.key){case"Escape":{Ut();break}}}function En(){Le&&(xr.has(document.activeElement)||Ut())}function gs(e){if(Le){var t=e.currentTarget;if(t!==Ee){pt=t.getAttribute("aria-label")||"";var r=xe.get(Ee),a=r.items,o=a.find(function(x){return x[fe]===Ke}),i=a.indexOf(o),s=a.splice(i,1)[0],u=xe.get(t),g=u.items,l=u.autoAriaDisabled;t.getBoundingClientRect().top<Ee.getBoundingClientRect().top||t.getBoundingClientRect().left<Ee.getBoundingClientRect().left?(g.push(s),l||Et("Moved item ".concat(at," to the end of the list ").concat(pt))):(g.unshift(s),l||Et("Moved item ".concat(at," to the beginning of the list ").concat(pt)));var d=Ee;It(d,a,{trigger:Ie.DROPPED_INTO_ANOTHER,id:Ke,source:je.KEYBOARD}),It(t,g,{trigger:Ie.DROPPED_INTO_ZONE,id:Ke,source:je.KEYBOARD}),Ee=t}}}function An(){na.forEach(function(e,t){var r=e.update;return r(xe.get(t))})}function Ut(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;xe.get(Ee).autoAriaDisabled||Et("Stopped dragging item ".concat(at)),xr.has(document.activeElement)&&document.activeElement.blur(),e&&st(Ee,xe.get(Ee).items,{trigger:Ie.DRAG_STOPPED,id:Ke,source:je.KEYBOARD}),hr(He.get(aa),function(t){return xe.get(t).dropTargetStyle},function(t){return xe.get(t).dropTargetClasses}),vt=null,Ke=null,at="",aa=null,Ee=null,pt="",Le=!1,An()}function bs(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Wa,dropTargetClasses:[],autoAriaDisabled:!1};function a(d,x,f){d.length<=1||d.splice(f,1,d.splice(x,1,d[f])[0])}function o(d){switch(d.key){case"Enter":case" ":{if((d.target.disabled!==void 0||d.target.href||d.target.isContentEditable)&&!xr.has(d.target))return;d.preventDefault(),d.stopPropagation(),Le?Ut():i(d);break}case"ArrowDown":case"ArrowRight":{if(!Le)return;d.preventDefault(),d.stopPropagation();var x=xe.get(e),f=x.items,p=Array.from(e.children),b=p.indexOf(d.currentTarget);b<p.length-1&&(r.autoAriaDisabled||Et("Moved item ".concat(at," to position ").concat(b+2," in the list ").concat(pt)),a(f,b,b+1),It(e,f,{trigger:Ie.DROPPED_INTO_ZONE,id:Ke,source:je.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Le)return;d.preventDefault(),d.stopPropagation();var m=xe.get(e),h=m.items,y=Array.from(e.children),k=y.indexOf(d.currentTarget);k>0&&(r.autoAriaDisabled||Et("Moved item ".concat(at," to position ").concat(k," in the list ").concat(pt)),a(h,k,k-1),It(e,h,{trigger:Ie.DROPPED_INTO_ZONE,id:Ke,source:je.KEYBOARD}));break}}}function i(d){u(d.currentTarget),Ee=e,aa=r.type,Le=!0;var x=Array.from(He.get(r.type)).filter(function(p){return p===Ee||!xe.get(p).dropFromOthersDisabled});if(ur(x,function(p){return xe.get(p).dropTargetStyle},function(p){return xe.get(p).dropTargetClasses}),!r.autoAriaDisabled){var f="Started dragging item ".concat(at,". Use the arrow keys to move it within its list ").concat(pt);x.length>1&&(f+=", or tab to another list in order to move the item into it"),Et(f)}st(e,xe.get(e).items,{trigger:Ie.DRAG_STARTED,id:Ke,source:je.KEYBOARD}),An()}function s(d){Le&&d.currentTarget!==vt&&(d.stopPropagation(),Ut(!1),i(d))}function u(d){var x=xe.get(e),f=x.items,p=Array.from(e.children),b=p.indexOf(d);vt=d,vt.tabIndex=r.zoneItemTabIndex,Ke=f[b][fe],at=p[b].getAttribute("aria-label")||""}function g(d){var x=d.items,f=x===void 0?[]:x,p=d.type,b=p===void 0?vs:p,m=d.dragDisabled,h=m===void 0?!1:m,y=d.zoneTabIndex,k=y===void 0?0:y,T=d.zoneItemTabIndex,D=T===void 0?0:T,O=d.dropFromOthersDisabled,S=O===void 0?!1:O,w=d.dropTargetStyle,j=w===void 0?Wa:w,A=d.dropTargetClasses,M=A===void 0?[]:A,P=d.autoAriaDisabled,F=P===void 0?!1:P;r.items=Fe(f),r.dragDisabled=h,r.dropFromOthersDisabled=S,r.zoneTabIndex=k,r.zoneItemTabIndex=D,r.dropTargetStyle=j,r.dropTargetClasses=M,r.autoAriaDisabled=F,r.type&&b!==r.type&&Va(e,r.type),r.type=b,fs(e,b),F||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",h?yr.DND_ZONE_DRAG_DISABLED:yr.DND_ZONE_ACTIVE)),xe.set(e,r),Le?e.tabIndex=e===Ee||vt.contains(e)||r.dropFromOthersDisabled||Ee&&r.type!==xe.get(Ee).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",gs);for(var U=function(G){var V=e.children[G];xr.add(V),V.tabIndex=Le?-1:r.zoneItemTabIndex,F||V.setAttribute("role","listitem"),V.removeEventListener("keydown",Ga.get(V)),V.removeEventListener("click",Ha.get(V)),h||(V.addEventListener("keydown",o),Ga.set(V,o),V.addEventListener("click",s),Ha.set(V,s)),Le&&r.items[G][fe]===Ke&&(vt=V,vt.tabIndex=r.zoneItemTabIndex,V.focus())},W=0;W<e.children.length;W++)U(W)}g(t);var l={update:function(x){g(x)},destroy:function(){Va(e,r.type),xe.delete(e),na.delete(e)}};return na.set(e,l),l}var ps=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function In(e,t){if(ms(e))return{update:function(){},destroy:function(){}};Ua(t);var r=ss(e,t),a=bs(e,t);return{update:function(i){Ua(i),r.update(i),a.update(i)},destroy:function(){r.destroy(),a.destroy()}}}function ms(e){return!!e.closest("[".concat(ki,'="true"]'))}function Ua(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,a=e.zoneItemTabIndex;e.dropTargetStyle;var o=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var i=e.delayTouchStart;e.dropAnimationDisabled;var s=li(e,ps);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!t)throw new Error("no 'items' key provided to dndzone");var u=t.find(function(d){return!{}.hasOwnProperty.call(d,fe)});if(u)throw new Error("missing '".concat(fe,"' property for item ").concat(Lt(u)));if(o&&!Array.isArray(o))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Tt(o),", ").concat(Lt(o)));if(r&&!Za(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Tt(r),", ").concat(Lt(r)));if(a&&!Za(a))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Tt(a),", ").concat(Lt(a)));if(i!==void 0&&i!==!1){var g=i===!0,l=typeof i=="number"&&isFinite(i)&&i>=0;if(!g&&!l)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(Tt(i),", ").concat(Lt(i)))}}function Za(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function hs(e){const t=e-1;return t*t*t+1}function ha(e){return--e*e*e*e*e+1}function $t(e,{from:t,to:r},a={}){var{delay:o=0,duration:i=S=>Math.sqrt(S)*120,easing:s=hs}=a,u=getComputedStyle(e),g=u.transform==="none"?"":u.transform,[l,d]=u.transformOrigin.split(" ").map(parseFloat);l/=e.clientWidth,d/=e.clientHeight;var x=_s(e),f=e.clientWidth/r.width/x,p=e.clientHeight/r.height/x,b=t.left+t.width*l,m=t.top+t.height*d,h=r.left+r.width*l,y=r.top+r.height*d,k=(b-h)*f,T=(m-y)*p,D=t.width/r.width,O=t.height/r.height;return{delay:o,duration:typeof i=="function"?i(Math.sqrt(k*k+T*T)):i,easing:s,css:(S,w)=>{var j=w*k,A=w*T,M=S+w*D,P=S+w*O;return`transform: ${g} translate(${j}px, ${A}px) scale(${M}, ${P});`}}}function _s(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var xs=z("<span> </span>");function wr(e,t){ge(t,!0);const r={regular:{sev1:"bg-purple-500/20 text-purple-400",sev2:"bg-teal-500/20 text-teal-400",sev3:"bg-sky-500/20 text-sky-400"},maintenance:{sev1:"bg-rose-400/20 text-rose-400",sev2:"bg-lime-500/20 text-lime-400",sev3:"bg-slate-400/20 text-slate-400"}},a=J(()=>Xo[t.type][t.level]),o=J(()=>r[t.type][t.level]||"bg-slate-400/20 text-slate-400");var i=xs(),s=v(i,!0);c(i),$(()=>{re(i,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${n(o)??""}`),B(s,n(a))}),C(e,i),be()}var ys=z("<span> </span>");function Sn(e,t){var r=ys(),a=v(r,!0);c(r),$(()=>{re(r,1,`inline-flex items-center px-2 py-0.5 rounded font-medium text-2xs tracking-wide ${t.classes??""}`),B(a,t.label)}),C(e,r)}var ws=z('<div class="flex items-center gap-2 p-2 bg-base-200 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-2xl"> </div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate"> </p></div> <div><!></div></div>'),ks=z('<div class="flex flex-col gap-2"></div>'),Ts=z('<div class="bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer overflow-hidden" tabindex="0" role="button"><div class="flex items-start p-3"><div class="flex-1 min-w-0"><div class="flex flex-col gap-3"><p class="text-sm text-base-content"><span class="text-base"> </span> </p> <div class="h-1 bg-base-300/50"><div class="h-full bg-primary/50 transition-all"></div></div> <p class="text-xs gap-1 flex items-center"><!> <!></p></div></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from week">âœ•</button></div></div>'),Ds=z('<div class="flex flex-col gap-2"></div>'),Es=z('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No projects assigned to this week</p> <p class="text-base-content/30 text-xs">Go to Areas and assign projects</p></div>'),As=z('<div class="flex flex-col "><!></div>');function Is(e,t){ge(t,!0);const r=200;let a=J(()=>t.assignedProjects.map(b=>({...b,id:b.project.id}))),o=J(()=>t.filterCompleted?n(a).filter(b=>["completed","cancelled"].includes(b.project.status)):n(a).filter(b=>!["completed","cancelled"].includes(b.project.status))),i=X(Qe([]));mt(()=>{I(i,n(o),!0)});async function s(b,m){b.stopPropagation(),await nn(m,t.currentWeekOf)}function u(b){const m=bt.getByProject(b),h=m.filter(k=>k.status==="active").length,y=m.filter(k=>k.status==="completed").length;return{active:h,completed:y,total:h+y}}function g(b){I(i,b.detail.items,!0)}function l(b){I(i,b.detail.items,!0);const{info:m}=b.detail,h=m.id,y=n(i).findIndex(S=>S.id===h);if(y===-1)return;const k=y>0?n(i)[y-1]:null,T=y<n(i).length-1?n(i)[y+1]:null;let D=null,O=null;if(k){const S=n(a).findIndex(w=>w.id===k.id);D=k.assignment.order,O=S<n(a).length-1?n(a)[S+1].assignment.order:null}else if(T){const S=n(a).findIndex(w=>w.id===T.id);D=S>0?n(a)[S-1].assignment.order:null,O=T.assignment.order}xo(t.currentWeekOf,h,D,O)}var d=As(),x=v(d);{var f=b=>{var m=ue(),h=ae(m);{var y=T=>{var D=ks();we(D,29,()=>n(i),({id:O,project:S,area:w})=>O,(O,S)=>{let w=()=>n(S).project,j=()=>n(S).area;var A=ws(),M=v(A),P=v(M,!0);c(M);var F=_(M,2),U=v(F),W=v(U,!0);c(U),c(F);var Y=_(F,2),G=v(Y);wr(G,{get level(){return w().severity},get type(){return w().type}}),c(Y),c(A),$(()=>{B(P,j().icon),B(W,w().name)}),qt(A,()=>$t,()=>({duration:r})),C(O,A)}),c(D),ca(D,(O,S)=>In?.(O,S),()=>({items:n(i),flipDurationMs:r,dropTargetStyle:{}})),gt("consider",D,g),gt("finalize",D,l),C(T,D)},k=T=>{var D=Ds();we(D,21,()=>n(o),Be,(O,S)=>{let w=()=>n(S).project,j=()=>n(S).area;const A=J(()=>u(w().id)),M=J(()=>n(A).total>0?n(A).completed/n(A).total*100:0);var P=Ts();P.__click=()=>t.navigateToTasks(w());var F=v(P),U=v(F),W=v(U),Y=v(W),G=v(Y),V=v(G,!0);c(G);var L=_(G);c(Y);var N=_(Y,2),H=v(N);c(N);var E=_(N,2),R=v(E);wr(R,{get level(){return w().severity},get type(){return w().type}});var Z=_(R,2);{let q=J(()=>n(A).active==0?"text-error bg-error/10 border-error/10 border":"bg-base-100 text-base-content/50");Sn(Z,{get classes(){return n(q)},get label(){return`${n(A).active??""} available`}})}c(E),c(W),c(U);var ee=_(U,2);ee.__click=q=>s(q,w().id),c(F),c(P),$(()=>{B(V,j().icon),B(L,` ${w().name??""}`),da(H,`width: ${n(M)??""}%`)}),C(O,P)}),c(D),C(T,D)};Q(h,T=>{t.reorderMode?T(y):T(k,!1)})}C(b,m)},p=b=>{var m=Es();C(b,m)};Q(x,b=>{n(i).length>0?b(f):b(p,!1)})}c(d),C(e,d),be()}_e(["click"]);var Ss=z('<span class="text-xs text-primary px-2 py-1 bg-primary/10 border-primary/20 border rounded"> </span>'),Cs=z('<button class="text-start flex items-center gap-3 p-3 bg-base-200 rounded-lg transition-all hover:bg-base-100 cursor-pointer"><div class="flex-1 min-w-0 "><p class="text-sm text-base-content truncate mb-1"> </p> <p class="text-xs text-muted"> </p></div> <!></button>'),Os=z('<div class="text-center py-12"><p class="text-base-content/50 text-sm mb-2">No tasks available</p> <p class="text-base-content/30 text-xs">Assigned projects have no active tasks</p></div>'),js=z('<div class="flex flex-col gap-2"></div>');function Ms(e,t){ge(t,!0);var r=js();we(r,21,()=>t.weekTasks,Be,(a,o)=>{let i=()=>n(o).task,s=()=>n(o).project,u=()=>n(o).area;const g=J(()=>t.isTaskAssignedToDay(i().id));var l=Cs();l.__click=y=>t.openDayPicker(y,i(),s(),u());var d=v(l),x=v(d),f=v(x,!0);c(x);var p=_(x,2),b=v(p);c(p),c(d);var m=_(d,2);{var h=y=>{var k=Ss(),T=v(k,!0);c(k),$(D=>B(T,D),[()=>an(n(g))]),C(y,k)};Q(m,y=>{n(g)&&y(h)})}c(l),$(()=>{B(f,i().name),B(b,`${u().icon??""} ${s().name??""}`)}),C(a,l)},a=>{var o=Os();C(a,o)}),c(r),C(e,r),be()}_e(["click"]);let Zr=Qe({});class oa{scrollTimeout;#e=X();get scrollContainer(){return n(this.#e)}set scrollContainer(t){I(this.#e,t,!0)}pageKey="default"+Math.random();get positions(){return Zr}save(t,r){Zr[t]=r}get(t){return Zr[t]||0}handleScroll=()=>{clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.scrollContainer&&(console.log("Saving scroll top for ",this.pageKey,this.scrollContainer.scrollTop),this.save(this.pageKey,this.scrollContainer.scrollTop))},100)};restoreScroll=async(t,r)=>{if(await en(),this.scrollContainer=t,this.pageKey=r,this.scrollContainer){const a=this.get(this.pageKey);console.log("Restoring scroll top for ",this.pageKey,a),a&&(this.scrollContainer.scrollTop=a,console.log(this.scrollContainer.scrollTop))}}}var Ps=z('<button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button>'),Rs=z('<div class="flex flex-col h-full"><div class="bg-base-300 ps-4 pe-2 pt-4 pb-0 flex flex-col gap-4 border-b border-b-base-content/10"><div class="flex flex-row justify-between items-center"><div class="text-center w-full"><h2 class="text-lg font-medium">This Week</h2> <p class="text-xs text-base-content/50"> </p></div></div> <div class="flex items-center justify-between h-8"><div class="flex gap-1"><button>Active</button> <button>Completed</button> <button>Tasks</button></div> <!></div></div> <div><!></div> <div><!></div></div> <!>',1);function Ns(e,t){ge(t,!0);let r,a;const o=new oa,i=new oa;tn(()=>{o.restoreScroll(r,"weekview_projects"),i.restoreScroll(a,"weekview_tasks")});let s=localStorage.getItem("filterAssignedProject")=="true",u=X(!1),g=()=>I(u,!n(u));mt(()=>{localStorage.setItem("filterAssignedProject",s+"")});let l=X(Qe(localStorage.getItem("weekTabView")||"active_projects"));mt(()=>{n(l)&&localStorage.setItem("weekTabView",n(l))});let d=Qe(Yt());const x=J(()=>Kt.getWeek(d));let f;function p(E){return n(x)?n(x).tasksByDay.find(Z=>Z.taskId===E)?.date??null:null}let b=J(()=>n(x)?n(x).projectAssignments.map(E=>{const R=ft.getById(E.areaId);if(!R)return null;const ee=nt.getByArea(R.id).find(q=>q.id===E.projectId);return ee?{assignment:E,project:ee,area:R}:null}).filter(E=>E!==null):[]),m=J(()=>{const E=[];for(const{project:R,area:Z}of n(b)){const ee=bt.getByProject(R.id).filter(q=>q.status==="active");for(const q of ee)E.push({task:q,project:R,area:Z})}return E});var h=Rs(),y=ae(h),k=v(y),T=v(k),D=v(T),O=_(v(D),2),S=v(O,!0);c(O),c(D),c(T);var w=_(T,2),j=v(w),A=v(j);A.__click=()=>I(l,"active_projects");var M=_(A,2);M.__click=()=>I(l,"completed_projects");var P=_(M,2);P.__click=()=>I(l,"tasks"),c(j);var F=_(j,2);{var U=E=>{var R=Ps();R.__click=g;var Z=_(v(R));c(R),$(()=>{re(R,1,`btn mb-2 ${n(u)?"btn-success":"btn-ghost"} btn-xs`),B(Z,` ${n(u)?"Done":"Reorder"}`)}),C(E,R)};Q(F,E=>{n(l)=="active_projects"&&n(b).length>1&&E(U)})}c(w),c(k);var W=_(k,2),Y=v(W);{var G=E=>{{let R=J(()=>n(u)&&n(l)=="active_projects"),Z=J(()=>n(l)=="completed_projects");Is(E,{get reorderMode(){return n(R)},get filterCompleted(){return n(Z)},get navigateToTasks(){return t.navigateToTasks},get currentWeekOf(){return d},get assignedProjects(){return n(b)}})}};Q(Y,E=>{(n(l)==="active_projects"||n(l)==="completed_projects")&&E(G)})}c(W),Re(W,E=>r=E,()=>r);var V=_(W,2),L=v(V);{var N=E=>{Ms(E,{get openDayPicker(){return f.openDayPicker},get weekTasks(){return n(m)},isTaskAssignedToDay:p})};Q(L,E=>{n(l)=="tasks"&&E(N)})}c(V),Re(V,E=>a=E,()=>a),c(y);var H=_(y,2);Re(ii(H,{get currentWeekOf(){return d},isTaskAssignedToDay:p}),E=>f=E,()=>f),$((E,R)=>{B(S,E),re(A,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(l)=="active_projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),re(M,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(l)=="completed_projects"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),re(P,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(l)=="tasks"?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),re(W,1,`${R??""} flex-1 overflow-y-auto px-3 py-4`),re(V,1,`${n(l)=="tasks"?"":"hidden"} flex-1 overflow-y-auto px-3 py-4`)},[()=>yo(d),()=>n(l).match(/projects/)?"":"hidden"]),gt("scroll",W,function(...E){o.handleScroll?.apply(this,E)}),gt("scroll",V,function(...E){i.handleScroll?.apply(this,E)}),C(e,h),be()}_e(["click"]);var Ls=z('<p class="text-sm italic text-base-content/30 text-center py-2">No follow-ups added</p>'),Fs=z('<div class="flex items-center gap-1"><input type="text" class="input input-bordered flex-1 focus:outline-none focus:border-primary" placeholder="Follow-up task name..."/> <button type="button" class="btn btn-ghost btn-sm btn-square text-error">âœ•</button></div>'),Bs=z('<div class="flex flex-col gap-2"></div>'),zs=z('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="p-4 border-b border-base-content/10"><p class="font-medium text-base-content mb-2"> </p> <p class="text-xs text-base-content/50"> </p></div> <div class="py-4 px-2 space-y-4"><div><p class="text-xs uppercase tracking-wider text-base-content/50 mb-2">What happened?</p> <div class="flex gap-2"><label><input type="radio" name="action" class="radio radio-success radio-sm"/> <span class="text-sm">Completed</span></label> <label><input type="radio" name="action" class="radio radio-error radio-sm"/> <span class="text-sm">Cancelled</span></label></div></div> <div><div class="flex items-center justify-between mb-2"><p class="text-xs uppercase tracking-wider text-base-content/50">Follow-up tasks</p> <button type="button" class="btn btn-sm btn-ghost text-primary">+ Add</button></div> <!></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><button type="button" class="btn btn-ghost btn-sm flex-1">Cancel</button> <button type="button" class="btn btn-primary btn-sm flex-1">Done</button></div></div></div>');function Ws(e,t){ge(t,!0);const r=[];let a=X("completed"),o=X(Qe([]));mt(()=>{t.show&&(I(a,"completed"),I(o,[],!0))});function i(p,b){b&&setTimeout(()=>p.focus(),0)}function s(){I(o,[...n(o),""],!0)}function u(p){I(o,n(o).filter((b,m)=>m!==p),!0)}function g(p,b){I(o,n(o).map((m,h)=>h===p?b:m),!0)}async function l(){if(t.taskByDay){n(a)==="completed"?await on(t.taskByDay.taskId,t.taskByDay.projectId,t.weekOf,t.taskByDay.date):await wo(t.taskByDay.taskId,t.taskByDay.projectId,t.weekOf,t.taskByDay.date);for(const p of n(o))p.trim()&&await sn(t.taskByDay.projectId,t.taskByDay.areaId,p.trim());t.onClose()}}var d=ue(),x=ae(d);{var f=p=>{var b=zs(),m=v(b);m.__click=function(...R){t.onClose?.apply(this,R)},m.__keydown=R=>R.key==="Escape"&&t.onClose();var h=_(m,2),y=v(h),k=v(y),T=v(k,!0);c(k);var D=_(k,2),O=v(D);c(D),c(y);var S=_(y,2),w=v(S),j=_(v(w),2),A=v(j),M=v(A);ot(M),M.value=M.__value="completed",ka(2),c(A);var P=_(A,2),F=v(P);ot(F),F.value=F.__value="cancelled",ka(2),c(P),c(j),c(w);var U=_(w,2),W=v(U),Y=_(v(W),2);Y.__click=s,c(W);var G=_(W,2);{var V=R=>{var Z=Ls();C(R,Z)},L=R=>{var Z=Bs();we(Z,21,()=>n(o),Be,(ee,q,te)=>{var se=Fs(),ke=v(se);ot(ke),ke.__input=Ne=>g(te,Ne.currentTarget.value),ca(ke,(Ne,We)=>i?.(Ne,We),()=>te===n(o).length-1);var Me=_(ke,2);Me.__click=()=>u(te),c(se),$(()=>Ko(ke,n(q))),C(ee,se)}),c(Z),C(R,Z)};Q(G,R=>{n(o).length===0?R(V):R(L,!1)})}c(U),c(S);var N=_(S,2),H=v(N);H.__click=function(...R){t.onClose?.apply(this,R)};var E=_(H,2);E.__click=l,c(N),c(h),c(b),$(()=>{B(T,t.taskByDay.name),B(O,`${t.areaIcon??""} ${t.areaName??""} Â· ${t.projectName??""}`),re(A,1,`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border border-base-content/10 cursor-pointer hover:border-success ${n(a)==="completed"?"border-success bg-success/10":""}`),re(P,1,`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border border-base-content/10 cursor-pointer hover:border-error ${n(a)==="cancelled"?"border-error bg-error/10":""}`)}),ze(3,m,()=>Ct,()=>({duration:200})),gr(r,[],M,()=>n(a),R=>I(a,R)),gr(r,[],F,()=>n(a),R=>I(a,R)),ze(3,h,()=>Ot,()=>({y:300,duration:300})),C(p,b)};Q(x,p=>{t.show&&t.taskByDay&&p(f)})}C(e,d),be()}_e(["click","keydown","input"]);var Gs=z('<div class="flex items-center gap-2 p-2 bg-base-100 border border-primary/30 rounded-lg cursor-grab active:cursor-grabbing"><div class="text-base-content/30"><svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm text-base-content truncate "> </p></div></div>'),Hs=z('<div class="flex flex-col gap-2 mb-4"></div>'),Vs=z('<div class="flex items-start gap-2 p-3 bg-base-200 rounded-lg hover:bg-base-100 cursor-pointer"><button type="button" aria-label="check" class="size-7 rounded-full border-2 border-base-content/30 flex items-center justify-center flex-shrink-0 hover:border-success hover:bg-success/10 transition-colors"></button> <div class="flex-1 min-w-0" tabindex="0" role="button"><p class="text-sm mb-2"> </p> <p class="text-xs text-muted truncate"> </p></div> <button type="button" class="w-7 h-7 flex items-center justify-center rounded text-base-content/30 hover:text-error hover:bg-error/10 transition-colors" title="Remove from the day">âœ•</button></div>'),Us=z('<div class="flex flex-col gap-2 mb-4"></div>'),Zs=z('<div class="text-center py-12"><span class="text-4xl block mb-3">ðŸ“‹</span> <p class="text-base-content/50 text-sm mb-2">No tasks for this day</p> <p class="text-base-content/30 text-xs">Go to Week tab and assign tasks</p></div>'),Ys=z('<div class="text-center mb-5 py-12 border-2 border-dashed border-success/30 rounded-lg bg-success/5"><span class="text-4xl block mb-3">ðŸŽ‰</span> <p class="text-sm font-medium text-success">All done for this day!</p> <p class="text-xs text-base-content/50 mt-1">Great work!</p></div>'),Ks=Zt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),qs=Zt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Xs=z('<div class="flex items-center gap-3 p-3 opacity-50"><button type="button" title="Mark as incomplete"><!></button> <div class="flex-1 min-w-0"><p class="text-sm text-base-content line-through truncate"> </p> <p class="text-xs text-base-content/50"> </p></div></div>'),Js=z('<div><p class="text-xs font-medium uppercase tracking-wider text-base-content/40 mb-2"> </p> <div class="flex flex-col gap-1"></div></div>'),Qs=z('<div class="flex flex-col h-full "><div class="flex flex-col gap-4 pt-4 pb-0 border-b border-base-content/10"><div class="flex flex-row justify-between items-center px-2"><button aria-label="prev" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button> <button class="cursor-pointer text-center w-full "><h2 class="text-lg font-medium"> </h2> <p class="text-xs text-muted"> </p></button> <button aria-label="next" class="cursor-pointer size-5 m-2"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="transform:rotate(180deg)" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><polyline fill="none" stroke="currentColor" stroke-width="2" points="7 2 17 12 7 22" transform="matrix(-1 0 0 1 24 0)"></polyline></g></svg></button></div> <div class="flex items-center px-2"><div class="flex-1"><div class="px-4 pb-3 flex flex-col"><div class="flex items-center justify-between text-xs text-muted mb-1"><span> </span> <span> </span></div> <div class="h-2 bg-base-100 rounded-full overflow-hidden"><div class="h-full bg-success/85 transition-all rounded-full"></div></div></div></div> <button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button></div></div> <div class="flex-1 overflow-y-auto px-2 py-3"><!> <!></div></div> <!>',1);function $s(e,t){ge(t,!0);let r;const a=new oa;tn(()=>a.restoreScroll(r,"todayview"));const o=Yt(),i=200,s=()=>I(g,To(n(l)),!0),u=()=>I(g,Do(n(l)),!0);let g=X(Qe(new Date));const l=J(()=>Eo(n(g)));let d=J(()=>{const K=Kt.getWeek(o);return K?K.tasksByDay.filter(ne=>ne.date===n(l)).map(ne=>{const Te=bt.getById(ne.taskId),pe=ft.getById(ne.areaId),le=(pe?nt.getByArea(pe.id):[]).find(oe=>oe.id===ne.projectId);return{id:ne.taskId,taskByDay:ne,task:Te,areaIcon:pe?.icon??"ðŸ“",areaName:pe?.name??"Unknown",projectName:le?.name??"Unknown"}}):[]}),x=J(()=>n(d)),f=J(()=>n(d).filter(K=>K.taskByDay.status!=="completed"&&K.taskByDay.status!=="cancelled")),p=J(()=>n(d).filter(K=>K.taskByDay.status==="completed"||K.taskByDay.status==="cancelled")),b=X(!1),m=X(null),h=X(""),y=X(""),k=X(""),T=X(!1);const D=()=>{I(T,!n(T))};let O=X(Qe([]));mt(()=>{I(O,n(f),!0)});let S=J(()=>{const K=n(p).length,ne=n(d).length,Te=ne>0?K/ne*100:0;return{completed:K,total:ne,percent:Te}});function w(K){I(O,K.detail.items,!0)}function j(K){I(O,K.detail.items,!0);const{info:ne}=K.detail,Te=ne.id,pe=n(O).findIndex(ve=>ve.id===Te);if(pe===-1)return;const Ge=pe>0?n(O)[pe-1]:null,le=pe<n(O).length-1?n(O)[pe+1]:null;let oe=null,me=null;if(Ge){const ve=n(x).findIndex(Pe=>Pe.id===Ge.id);oe=Ge.taskByDay.order,me=ve<n(x).length-1?n(x)[ve+1].taskByDay.order:null}else if(le){const ve=n(x).findIndex(Pe=>Pe.id===le.id);oe=ve>0?n(x)[ve-1].taskByDay.order:null,me=le.taskByDay.order}Io(o,n(l),Te,oe,me)}async function A(K){await on(K.taskId,K.projectId,o,n(l))}async function M(K){await Ao(K.taskId,K.projectId,o,n(l))}async function P(K){await dr(K.taskId,K.projectId,o,n(l))}function F(K,ne,Te,pe){I(m,K,!0),I(h,ne,!0),I(y,Te,!0),I(k,pe,!0),I(b,!0)}function U(){I(b,!1),I(m,null)}var W=Qs(),Y=ae(W),G=v(Y),V=v(G),L=v(V);L.__click=u;var N=_(L,2);N.__click=()=>I(g,new Date,!0);var H=v(N),E=v(H,!0);c(H);var R=_(H,2),Z=v(R,!0);c(R),c(N);var ee=_(N,2);ee.__click=s,c(V);var q=_(V,2),te=v(q),se=v(te),ke=v(se),Me=v(ke),Ne=v(Me);c(Me);var We=_(Me,2),er=v(We);c(We),c(ke);var ht=_(ke,2),tr=v(ht);c(ht),c(se),c(te);var $e=_(te,2);$e.__click=D;var rr=_(v($e));c($e),c(q),c(G);var lt=_(G,2),jt=v(lt);{var ar=K=>{var ne=ue(),Te=ae(ne);{var pe=le=>{var oe=Hs();we(oe,29,()=>n(O),({id:me,taskByDay:ve,areaIcon:Pe,projectName:Ue})=>me,(me,ve)=>{let Pe=()=>n(ve).taskByDay;var Ue=Gs(),xt=_(v(Ue),2),ct=v(xt),qe=v(ct,!0);c(ct),c(xt),c(Ue),$(()=>B(qe,Pe().name)),qt(Ue,()=>$t,()=>({duration:i})),C(me,Ue)}),c(oe),ca(oe,(me,ve)=>In?.(me,ve),()=>({items:n(O),flipDurationMs:i,dropTargetStyle:{}})),gt("consider",oe,w),gt("finalize",oe,j),C(le,oe)},Ge=le=>{var oe=Us();we(oe,21,()=>n(f),Be,(me,ve)=>{let Pe=()=>n(ve).taskByDay,Ue=()=>n(ve).areaIcon,xt=()=>n(ve).areaName,ct=()=>n(ve).projectName;var qe=Vs(),et=v(qe);et.__click=()=>A(Pe());var yt=_(et,2);yt.__click=()=>F(Pe(),Ue(),xt(),ct());var Mt=v(yt),jr=v(Mt,!0);c(Mt);var Pt=_(Mt,2),Rt=v(Pt);c(Pt),c(yt);var Mr=_(yt,2);Mr.__click=()=>P(Pe()),c(qe),$(()=>{B(jr,Pe().name),B(Rt,`${Ue()??""}  ${ct()??""}`)}),C(me,qe)}),c(oe),C(le,oe)};Q(Te,le=>{n(T)?le(pe):le(Ge,!1)})}C(K,ne)},nr=K=>{var ne=ue(),Te=ae(ne);{var pe=le=>{var oe=Zs();C(le,oe)},Ge=le=>{var oe=Ys();C(le,oe)};Q(Te,le=>{n(S).total===0?le(pe):le(Ge,!1)},!0)}C(K,ne)};Q(jt,K=>{n(O).length>0?K(ar):K(nr,!1)})}var _t=_(jt,2);{var Or=K=>{var ne=Js(),Te=v(ne),pe=v(Te);c(Te);var Ge=_(Te,2);we(Ge,21,()=>n(p),Be,(le,oe)=>{let me=()=>n(oe).taskByDay,ve=()=>n(oe).areaIcon,Pe=()=>n(oe).areaName,Ue=()=>n(oe).projectName;const xt=J(()=>me().status==="completed"),ct=J(()=>me().status==="cancelled");var qe=Xs(),et=v(qe);et.__click=()=>M(me());var yt=v(et);{var Mt=wt=>{var or=Ks();C(wt,or)},jr=wt=>{var or=ue(),Mn=ae(or);{var Pn=Pr=>{var Rn=qs();C(Pr,Rn)};Q(Mn,Pr=>{me().status==="cancelled"&&Pr(Pn)},!0)}C(wt,or)};Q(yt,wt=>{me().status==="completed"?wt(Mt):wt(jr,!1)})}c(et);var Pt=_(et,2),Rt=v(Pt),Mr=v(Rt,!0);c(Rt);var _a=_(Rt,2),jn=v(_a);c(_a),c(Pt),c(qe),$(()=>{re(et,1,`w-7 h-7 rounded-full ${n(xt)?"bg-success border-success text-success-content":n(ct)?"bg-error border-error text-error-content":"border-base-content/30 hover:border-success"} border-2 flex items-center justify-center flex-shrink-0`),B(Mr,me().name),B(jn,`${ve()??""} ${Pe()??""} Â· ${Ue()??""}`)}),C(le,qe)}),c(Ge),c(ne),$(()=>B(pe,`Completed (${n(p).length??""})`)),C(K,ne)};Q(_t,K=>{n(p).length>0&&!n(T)&&K(Or)})}c(lt),Re(lt,K=>r=K,()=>r),c(Y);var Ae=_(Y,2);Ws(Ae,{get show(){return n(b)},get taskByDay(){return n(m)},get areaIcon(){return n(h)},get areaName(){return n(y)},get projectName(){return n(k)},get weekOf(){return o},onClose:U}),$((K,ne)=>{B(E,K),B(Z,n(l)),B(Ne,`${n(S).completed??""} of ${n(S).total??""} completed`),B(er,`${ne??""}%`),da(tr,`width: ${n(S).percent??""}%`),re($e,1,`btn w-20 ${n(T)?"btn-success":"btn-ghost"} btn-xs`),B(rr,` ${n(T)?"Done":"Reorder"}`)},[()=>rn(n(l))?"Today":ko(n(l)),()=>Math.round(n(S).percent)]),gt("scroll",lt,function(...K){a.handleScroll?.apply(this,K)}),C(e,W),be()}_e(["click"]);const Yr=["reorder","status"],el=[{value:"active",label:"Active"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];var tl=z('<button class="rounded-lg border border-dashed min-h-30 border-base-content/20 bg-transparent hover:bg-primary/20 transition-colors cursor-pointer w-full"><div class="card-body p-3 items-center justify-center text-center min-h-[88px]"><span class="text-xl text-base-content/50">+</span> <span class="text-xs text-base-content/50">Add Area</span></div></button>');function rl(e,t){var r=tl();r.__click=function(...a){t.handleClick?.apply(this,a)},C(e,r)}_e(["click"]);var al=z('<button type="button"> </button>'),nl=z('<button type="button" class="btn btn-outline btn-error btn-sm">Archive</button>'),ol=z('<button type="button" class="btn btn-outline btn-primary btn-sm">Unarchive</button>'),il=z('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60" role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Icon</label> <div class="grid grid-cols-8 gap-1"></div></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Health, Work, Learning"/></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><!> <div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Cn(e,t){ge(t,!0);let r=X(!1),a=X(null),o=X(""),i=X("ðŸŽ¯"),s;function u(){I(a,null),I(o,""),I(i,"ðŸŽ¯"),I(r,!0),setTimeout(()=>s.focus(),100)}function g(k,T){k.stopPropagation(),I(a,T,!0),I(o,T.name,!0),I(i,T.icon,!0),I(r,!0),setTimeout(()=>s.focus(),100)}function l(){I(r,!1),I(a,null)}async function d(){!n(o).trim()||!n(i)||(n(a)?(await So(n(a).index,{name:n(o).trim(),icon:n(i)}),n(a).name=n(o).trim(),n(a).icon=n(i)):await Co(n(o).trim(),n(i)),l())}function x(k){return n(a)&&n(a).status=="archived"?!1:nt.getByArea(k.id).filter(D=>D.status==="active").length===0}async function f(){!n(a)||!x(n(a))||(await Oo(n(a).index),l())}async function p(){n(a)&&(await jo(n(a).index),l())}var b={openCreateAreaModal:u,openEditAreaModal:g},m=ue(),h=ae(m);{var y=k=>{var T=il(),D=v(T);D.__click=l,D.__keydown=E=>E.key==="Escape"&&l();var O=_(D,2),S=v(O),w=v(S),j=v(w,!0);c(w);var A=_(w,2);A.__click=l,c(S);var M=_(S,2),P=v(M),F=_(v(P),2);we(F,21,()=>Jo,Be,(E,R)=>{var Z=al();Z.__click=()=>I(i,n(R),!0);var ee=v(Z,!0);c(Z),$(()=>{re(Z,1,`aspect-square cursor-pointer flex items-center justify-center text-lg rounded-lg transition-colors ${n(i)===n(R)?"bg-base-100 ":"hover:bg-base-200"}`),B(ee,n(R))}),C(E,Z)}),c(F),c(P);var U=_(P,2),W=_(v(U),2);ot(W),W.__keydown=E=>E.key==="Enter"&&d(),Re(W,E=>s=E,()=>s),c(U),c(M);var Y=_(M,2),G=v(Y);{var V=E=>{var R=ue(),Z=ae(R);{var ee=te=>{var se=nl();se.__click=f,$((ke,Me)=>{se.disabled=ke,Xr(se,"title",Me)},[()=>!x(n(a)),()=>x(n(a))?"Archive area":"Cannot archive: has active projects"]),C(te,se)},q=te=>{var se=ue(),ke=ae(se);{var Me=Ne=>{var We=ol();We.__click=p,C(Ne,We)};Q(ke,Ne=>{n(a).status=="archived"&&Ne(Me)},!0)}C(te,se)};Q(Z,te=>{n(a).status=="active"?te(ee):te(q,!1)})}C(E,R)};Q(G,E=>{n(a)&&E(V)})}var L=_(G,4);L.__click=l;var N=_(L,2);N.__click=d;var H=v(N,!0);c(N),c(Y),c(O),c(T),$(E=>{B(j,n(a)?"Edit Area":"New Area"),N.disabled=E,B(H,n(a)?"Save":"Create")},[()=>!n(o).trim()||!n(i)]),ze(3,D,()=>Ct,()=>({duration:200})),ua(W,()=>n(o),E=>I(o,E)),ze(3,O,()=>Ot,()=>({y:300,duration:300})),C(k,T)};Q(h,k=>{n(r)&&k(y)})}return C(e,m),be(b)}_e(["click","keydown"]);var sl=z("<span> </span>");function ll(e,t){const r={clear:"badge-success",planned:"badge-primary",active:"badge-info",fading:"badge-warning",avoiding:"badge-error"},a=J(()=>r[t.status]||"badge-neutral");var o=sl(),i=v(o,!0);c(o),$(()=>{re(o,1,`rounded badge badge-sm badge-soft ${n(a)??""} font-semibold uppercase tracking-wide text-[10px]`),B(i,t.status)}),C(e,o)}var cl=z('<div class="flex flex-row gap-1"><button aria-label="edit" class="btn btn-sm btn-ghost">â†</button> <button aria-label="edit" class="btn btn-sm btn-ghost">â†’</button></div>'),dl=z('<div tabindex="0" role="button"><div class="flex flex-col py-4 px-3 items-start text-left"><div class="w-full flex flex-row justify-between items-start"><span class="text-4xl mb-2"> </span> <!></div> <div class="flex flex-row justify-between items-end w-full"><div class="flex flex-col w-full"><div class="text-sm tracking-wide mb-0 pb-1 truncate"> </div> <p class="text-muted text-xs text-base-content/50"> </p></div></div></div></div>');function ul(e,t){ge(t,!0);const r=J(()=>nt.getByArea(t.area.id).filter(k=>k.status==="active").length),a=J(()=>{const k=Yt(),T=Kt.getWeek(k),D=nt.getByArea(t.area.id),O=D.filter(A=>A.status==="active"||A.status==="blocked"||A.status==="someday");if(O.length===0)return{level:"clear",color:"badge-success",icon:"âœ“"};if(T?.projectAssignments.some(A=>O.some(M=>M.id===A.projectId))??!1)return{level:"planned",color:"text-purple-500",icon:"â—†"};const w=D.filter(A=>A.status==="completed"&&A.completedAt),j=w.length>0?Math.max(...w.map(A=>new Date(A.completedAt).getTime())):null;if(j){const A=Date.now()-12096e5,M=Date.now()-720*60*60*1e3;if(j>=A)return{level:"active",color:"badge-info",icon:"â—"};if(j>=M)return{level:"fading",color:"badge-warning",icon:"â—‹"}}return{level:"avoiding",color:"badge-error",icon:"!"}});var o=dl();o.__click=()=>t.handleSelect(t.area);var i=v(o),s=v(i),u=v(s),g=v(u,!0);c(u);var l=_(u,2);{var d=k=>{var T=cl(),D=v(T);D.__click=S=>t.handleAreaMoveUp(S,t.index);var O=_(D,2);O.__click=S=>t.handleAreaMoveDown(S,t.index),c(T),$(()=>D.disabled=t.index==0),C(k,T)},x=k=>{var T=ue(),D=ae(T);{var O=S=>{ll(S,{get status(){return n(a).level}})};Q(D,S=>{t.viewMode=="status"&&S(O)},!0)}C(k,T)};Q(l,k=>{t.viewMode=="reorder"?k(d):k(x,!1)})}c(s);var f=_(s,2),p=v(f),b=v(p),m=v(b,!0);c(b);var h=_(b,2),y=v(h);c(h),c(p),c(f),c(i),c(o),$(()=>{re(o,1,`rounded-lg bg-base-200 hover:bg-base-100 transition-colors cursor-pointer w-full ${n(a).level==="avoiding"?"border border-error/20":n(a).level==="fading"?"border border-warning/20":n(a).level==="active"?"border border-info/20":n(a).level==="planned"?"border border-purple-500/20":""}`),B(g,t.area.icon),B(m,t.area.name),B(y,`${n(r)??""} project${n(r)!==1?"s":""}`)}),C(e,o),be()}_e(["click"]);var vl=z("<button> </button>"),fl=z("<div><!></div>"),gl=z('<div class="flex flex-col h-full bg-base-300"><div class="px-3 pt-5 pb-4 flex flex-row justify-between items-center border-b border-base-content/10"><a href="/" class="flex text-base-content/80 flex-row items-center "><div class="flex flex-col"><div class="text-xl tracking-wider font-medium">Doable</div> <div class="text-sm text-muted"> </div></div></a> <div class="flex flex-row gap-4"><!> <button class="btn btn-sm btn-ghost"> </button></div></div> <div class="flex-1 min-h-0 overflow-auto"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3"><!> <!></div></div> <!></div>');function bl(e,t){ge(t,!0);let r,a=X(Qe(localStorage.getItem("areasViewMode")||"none"));mt(()=>localStorage.setItem("areasViewMode",n(a)));let o=X(!1),i=()=>I(a,Yr[(Yr.indexOf(n(a))+1)%Yr.length],!0),s=()=>I(o,!n(o));const u=J(()=>n(o)?ft.areas.filter(P=>P.status=="archived"):ft.areas.filter(P=>P.status=="active"));async function g(P,F){if(P.stopPropagation(),F===0)return;const U=ft.areas,W=n(u)[F],Y=n(u)[F-1],G=U.findIndex(N=>N.id===Y.id),V=G>0?U[G-1].index:null,L=Y.index;await Ta(W.index,V,L)}async function l(P,F){if(P.stopPropagation(),F===n(u).length-1)return;const U=ft.areas,W=n(u)[F],Y=n(u)[F+1],G=U.findIndex(N=>N.id===Y.id),V=Y.index,L=G<U.length-1?U[G+1].index:null;await Ta(W.index,V,L)}var d=gl(),x=v(d),f=v(x),p=v(f),b=_(v(p),2),m=v(b);c(b),c(p),c(f);var h=_(f,2),y=v(h);{var k=P=>{var F=vl();F.__click=i;var U=v(F,!0);c(F),$(()=>{re(F,1,`btn btn-sm capitalize ${n(a)=="reorder"?"btn-success":"btn-ghost"}`),B(U,n(a)=="reorder"?"Done":"Reorder")}),C(P,F)};Q(y,P=>{n(o)||P(k)})}var T=_(y,2);T.__click=s;var D=v(T,!0);c(T),c(h),c(x);var O=_(x,2),S=v(O),w=v(S);we(w,27,()=>n(u),P=>P.id,(P,F,U)=>{var W=fl(),Y=v(W);ul(Y,{get area(){return n(F)},get handleSelect(){return t.onSelectArea},get index(){return n(U)},handleAreaMoveUp:g,handleAreaMoveDown:l,get viewMode(){return n(a)}}),c(W),qt(W,()=>$t,()=>({duration:250,easing:ha})),C(P,W)});var j=_(w,2);{var A=P=>{rl(P,{get handleClick(){return r.openCreateAreaModal}})};Q(j,P=>{n(o)||P(A)})}c(S),c(O);var M=_(O,2);Re(Cn(M,{}),P=>r=P,()=>r),c(d),$(()=>{B(m,`${n(u).length??""} areas`),B(D,n(o)?"Active":"Archived")}),C(e,d),be()}_e(["click"]);var pl=z('<span class="text-xs mx-0.5">â€¢</span> ',1),ml=z('<button aria-label="edit" class="btn btn-ghost btn-xs">â†‘</button> <button aria-label="edit" class="btn btn-ghost btn-xs">â†“</button>',1),hl=z('<button class="cursor-pointer flex items-center"><!></button>'),_l=z('<div class="px-3 "><div role="button" tabindex="0"><div class="flex text-sm "> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <p class="text-2xs text-muted font-medium text-base-content/50 "> <!></p></div> <div class="flex flex-row gap-1 items-center"><!></div></div></div></div>');function xl(e,t){ge(t,!0);const r=J(()=>bt.getByProject(t.project.id)),a=J(()=>n(r).filter(w=>w.status==="active").length),o=J(()=>n(r).filter(w=>w.status==="completed").length);function i(w){for(const[j,A]of Object.entries(Kt.weeksByWeekOf))if(A.projectAssignments.some(M=>M.projectId===w))return j;return null}function s(w){const j=Yt();if(w===j)return"This week";const A=new Date(j),M=new Date(w),P=Math.round((M.getTime()-A.getTime())/(1e3*60*60*24)),F=Math.round(P/7);return F===1?"Next week":F>1?`In ${F} weeks`:F===-1?"Last week":w.slice(5)}const u=J(()=>i(t.project.id));var g=_l(),l=v(g);l.__click=()=>t.navigateToTasks(t.project),l.__keydown=w=>w.key==="Enter"&&t.navigateToTasks(t.project);var d=v(l),x=v(d,!0);c(d);var f=_(d,2),p=v(f),b=v(p);wr(b,{get type(){return t.project.type},get level(){return t.project.severity}});var m=_(b,2),h=v(m),y=_(h);{var k=w=>{var j=pl(),A=_(ae(j));$(()=>B(A,` ${n(o)??""} done`)),C(w,j)};Q(y,w=>{n(o)>0&&w(k)})}c(m),c(p);var T=_(p,2),D=v(T);{var O=w=>{var j=ml(),A=ae(j);A.__click=P=>t.handleProjectMoveUp(P,t.index);var M=_(A,2);M.__click=P=>t.handleProjectMoveDown(P,t.index),C(w,j)},S=w=>{var j=hl();j.__click=M=>t.handleProjectAssign(M,t.project);var A=v(j);{let M=J(()=>n(u)?"bg-accent/20 text-accent":"bg-slate-400/20 text-slate-400"),P=J(()=>n(u)?s(n(u)):"Unassigned");Sn(A,{get classes(){return n(M)},get label(){return n(P)}})}c(j),C(w,j)};Q(D,w=>{t.reorderMode?w(O):w(S,!1)})}c(T),c(f),c(l),c(g),$(()=>{re(l,1,`flex ${t.project.status=="blocked"?"glow-error":""} flex-col p-3 gap-2 transition-colors bg-base-200 cursor-pointer hover:bg-base-100 rounded-lg `),B(x,t.project.name),B(h,`${n(a)??""} active `)}),C(e,g),be()}_e(["click","keydown"]);var yl=z('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 h-[575px] max-h-full bg-base-300 rounded-t-2xl "><div class="flex flex-col h-full"><div class="flex justify-between bg-base-300 items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="flex-1 overflow-auto min-h-0 p-4 space-y-4 "><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Learn Spanish, Build Website"/></div> <div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Type</label> <div class="join w-full"><input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Regular"/> <input type="radio" name="type" class="join-item btn btn-sm flex-1" aria-label="Maintenance"/></div></div> <span class="text-xs text-base-content/50 mb-2 block">Severity</span> <div class="flex flex-col gap-1"><button type="button"><span class="font-bold w-4">1</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">2</span> <span class="font-normal text-left flex-1"> </span></button> <button type="button"><span class="font-bold w-4">3</span> <span class="font-normal text-left flex-1"> </span></button></div> <span class="text-xs text-base-content/50 mb-2 block">Status</span> <div class="grid grid-cols-3 gap-1"><button type="button">Active</button> <button type="button">Blocked</button> <button type="button">Someday</button> <button type="button">Cancelled</button> <button type="button">Done</button></div></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div></div>');function On(e,t){ge(t,!0);const r=[];let a=X(!1),o=X(null),i=X(""),s=X("active"),u=X("regular"),g=X("sev3"),l;function d(){console.log("Creating.."),I(o,null),I(i,""),I(s,"active"),I(u,"regular"),I(g,"sev3"),I(a,!0),setTimeout(()=>l.focus(),100)}function x(k,T){k.stopPropagation(),I(o,T,!0),I(i,T.name,!0),I(s,T.status,!0),I(u,T.type||"regular",!0),I(g,T.severity||"sev1",!0),I(a,!0),setTimeout(()=>l.focus(),100)}function f(){I(a,!1),I(o,null)}async function p(){!n(i).trim()||!t.selectedArea||(n(o)?(await Mo(t.selectedArea.id,n(o).index,{name:n(i).trim(),status:n(s),type:n(u),severity:n(g)}),n(o).name=n(i).trim(),n(o).status=n(s),n(o).type=n(u),n(o).severity=n(g)):await Po(t.selectedArea.id,n(i).trim(),n(u),n(g)),f())}var b={openCreateProjectModal:d,openEditProjectModal:x},m=ue(),h=ae(m);{var y=k=>{var T=yl(),D=v(T);D.__click=f,D.__keydown=Ae=>Ae.key==="Escape"&&f();var O=_(D,2),S=v(O),w=v(S),j=v(w),A=v(j,!0);c(j);var M=_(j,2);M.__click=f,c(w);var P=_(w,2),F=v(P),U=_(v(F),2);ot(U),U.__keydown=Ae=>Ae.key==="Enter"&&p(),Re(U,Ae=>l=Ae,()=>l),c(F);var W=_(F,2),Y=_(v(W),2),G=v(Y);ot(G),G.value=G.__value="regular";var V=_(G,2);ot(V),V.value=V.__value="maintenance",c(Y),c(W);var L=_(W,4),N=v(L);N.__click=()=>I(g,"sev1");var H=_(v(N),2),E=v(H,!0);c(H),c(N);var R=_(N,2);R.__click=()=>I(g,"sev2");var Z=_(v(R),2),ee=v(Z,!0);c(Z),c(R);var q=_(R,2);q.__click=()=>I(g,"sev3");var te=_(v(q),2),se=v(te,!0);c(te),c(q),c(L);var ke=_(L,4),Me=v(ke);let Ne;Me.__click=()=>I(s,"active");var We=_(Me,2);let er;We.__click=()=>I(s,"blocked");var ht=_(We,2);let tr;ht.__click=()=>I(s,"someday");var $e=_(ht,2);let rr;$e.__click=()=>I(s,"cancelled");var lt=_($e,2);let jt;lt.__click=()=>I(s,"completed"),c(ke),c(P);var ar=_(P,2),nr=_(v(ar),2);nr.__click=f;var _t=_(nr,2);_t.__click=p;var Or=v(_t,!0);c(_t),c(ar),c(S),c(O),c(T),$(Ae=>{B(A,n(o)?"Edit Project":"New Project"),re(N,1,`hover:bg-purple-500 btn justify-start gap-2 transition-all ${n(g)==="sev1"?"bg-purple-600 text-white":""}`),B(E,Vr[n(u)].sev1),re(R,1,`hover:bg-emerald-500 hover:text-white btn justify-start gap-2 ${n(g)==="sev2"?"bg-emerald-600 text-white":""} transition-all`),B(ee,Vr[n(u)].sev2),re(q,1,`hover:bg-slate-500 hover:text-slate-300 ${n(g)==="sev3"?"bg-slate-500 text-white":""} btn justify-start gap-2 transition-all`),B(se,Vr[n(u)].sev3),Ne=re(Me,1,"btn btn-sm hover:bg-warning hover:text-warning-content",null,Ne,{"btn-warning":n(s)==="active"}),er=re(We,1,"btn btn-sm hover:btn-error",null,er,{"btn-error":n(s)==="blocked"}),tr=re(ht,1,"btn btn-sm hover:btn-info",null,tr,{"btn-info":n(s)==="someday"}),rr=re($e,1,"btn btn-sm hover:btn-neutral",null,rr,{"btn-info":n(s)==="cancelled"}),jt=re(lt,1,"btn btn-sm hover:btn-success",null,jt,{"btn-success":n(s)==="completed"}),_t.disabled=Ae,B(Or,n(o)?"Save":"Create")},[()=>!n(i).trim()]),ze(3,D,()=>Ct,()=>({duration:200})),ua(U,()=>n(i),Ae=>I(i,Ae)),gr(r,[],G,()=>{"regular";return n(u)},Ae=>I(u,Ae)),gr(r,[],V,()=>{"maintenance";return n(u)},Ae=>I(u,Ae)),ze(3,O,()=>Ot,()=>({y:300,duration:300})),C(k,T)};Q(h,k=>{n(a)&&k(y)})}return C(e,m),be(b)}_e(["click","keydown"]);var wl=z('<button type="button"><div class="font-medium"> </div> <div class="text-xs opacity-70"> </div></button>'),kl=z('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-sm sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold">Assign to Week</h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-100 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-2"></div></div></div>');function Tl(e,t){ge(t,!0);let r=X(!1),a=X(null),o=X(void 0);function i(p,b,m){p.stopPropagation(),I(o,b,!0),I(a,m,!0),I(r,!0)}function s(){I(r,!1),I(a,null)}async function u(p,b){!n(a)||!n(o)||(b?await nn(n(a).id,p):await No(n(a).id,n(o).id,p),s())}function g(p,b){const m=b??Yt();return Kt.getWeek(m)?.projectAssignments.some(y=>y.projectId===p)??!1}var l={openWeekPicker:i},d=ue(),x=ae(d);{var f=p=>{var b=kl(),m=v(b);m.__click=s,m.__keydown=D=>D.key==="Escape"&&s();var h=_(m,2),y=v(h),k=_(v(y),2);k.__click=s,c(y);var T=_(y,2);we(T,21,Ro,Be,(D,O)=>{const S=J(()=>g(n(a).id,n(O).weekOf));var w=wl();w.__click=()=>u(n(O).weekOf,n(S));var j=v(w),A=v(j,!0);c(j);var M=_(j,2),P=v(M,!0);c(M),c(w),$(()=>{re(w,1,`w-full p-3 text-left rounded-lg border transition-colors ${n(S)?"bg-base-200 text-primary border-primary":"border-base-content/10 hover:border-primary"}`),B(A,n(O).label),B(P,n(O).weekOf)}),C(D,w)}),c(T),c(h),c(b),ze(3,m,()=>Ct,()=>({duration:200})),ze(3,h,()=>Ot,()=>({y:300,duration:300})),C(p,b)};Q(x,p=>{n(r)&&n(a)&&p(f)})}return C(e,d),be(l)}_e(["click","keydown"]);var Dl=z("<button> </button>"),El=z('<button type="button" class="text-xs flex items-center cursor-pointer mb-1 text-primary"><span class="me-1 text-base">+</span> <span>Add Project</span></button>'),Al=z("<div><!></div>"),Il=z('<div class="text-center py-8 text-base-content/50 text-sm"> </div>'),Sl=z('<div class="flex flex-col h-full bg-base-300"><div class="flex flex-col border-b border-base-content/10 gap-3 p-3 pb-0"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row gap-3 items-center"><div class="text-3xl"> </div> <h2 class="text-lg tracking-wide"> </h2></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="flex justify-between items-center"><div class="flex gap-1 flex-row"></div> <!></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col gap-2.5 py-0"></div></div></div> <!> <!> <!>',1);function Cl(e,t){ge(t,!0);let r,a,o;const i=["active","someday","resolved"];let s=X(Qe(localStorage.getItem("projectTabView")||"active"));mt(()=>{n(s)&&localStorage.setItem("projectTabView",n(s))});let u=X(!1),g=()=>I(u,!n(u)),l=J(()=>nt.getByArea(t.selectedArea.id).filter(L=>n(s)=="active"?["active","blocked"].includes(L.status):n(s)=="resolved"?["completed","cancelled"].includes(L.status):L.status=="someday"));async function d(L,N){if(L.stopPropagation(),N===0||!t.selectedArea)return;const H=nt.getByArea(t.selectedArea.id),E=n(l)[N],R=n(l)[N-1],Z=H.findIndex(te=>te.id===R.id),ee=Z>0?H[Z-1].index:null,q=R.index;await Da(t.selectedArea.id,E.index,ee,q)}async function x(L,N){if(L.stopPropagation(),!t.selectedArea||N===n(l).length-1)return;const H=nt.getByArea(t.selectedArea.id),E=n(l)[N],R=n(l)[N+1],Z=H.findIndex(te=>te.id===R.id),ee=R.index,q=Z<H.length-1?H[Z+1].index:null;console.log(ee,q),await Da(t.selectedArea.id,E.index,ee,q)}var f=Sl(),p=ae(f),b=v(p),m=v(b),h=v(m),y=v(h),k=v(y,!0);c(y);var T=_(y,2),D=v(T,!0);c(T),c(h);var O=_(h,2),S=v(O);S.__click=g;var w=_(v(S));c(S);var j=_(S,2);j.__click=L=>r.openEditAreaModal(L,t.selectedArea),c(O),c(m);var A=_(m,2),M=v(A);we(M,21,()=>i,Be,(L,N)=>{const H=J(()=>n(s)===n(N));var E=Dl();E.__click=()=>I(s,n(N),!0);var R=v(E,!0);c(E),$(()=>{re(E,1,`capitalize px-3 py-2 border-b border-b-2 text-xs tracking-wider rounded-t-sm transition-colors cursor-pointer whitespace-nowrap ${n(H)?"border-primary bg-base-100 ":"border-transparent hover:border-base-100 text-muted hover:text-base-content hover:bg-base-100 "}`),B(R,n(N))}),C(L,E)}),c(M);var P=_(M,2);{var F=L=>{var N=El();N.__click=function(...H){a.openCreateProjectModal?.apply(this,H)},C(L,N)};Q(P,L=>{n(s)=="active"&&L(F)})}c(A),c(b);var U=_(b,2),W=v(U);we(W,31,()=>n(l),L=>L.id,(L,N,H)=>{var E=Al(),R=v(E);xl(R,{get index(){return n(H)},get reorderMode(){return n(u)},handleProjectAssign:(Z,ee)=>o.openWeekPicker(Z,t.selectedArea,ee),get navigateToTasks(){return t.navigateToTasks},get project(){return n(N)},handleProjectMoveUp:d,handleProjectMoveDown:x}),c(E),qt(E,()=>$t,()=>({duration:250,easing:ha})),C(L,E)},L=>{var N=Il(),H=v(N);c(N),$(()=>B(H,`No ${n(s)??""} projects`)),C(L,N)}),c(W),c(U),c(p);var Y=_(p,2);Re(On(Y,{get selectedArea(){return t.selectedArea}}),L=>a=L,()=>a);var G=_(Y,2);Re(Tl(G,{}),L=>o=L,()=>o);var V=_(G,2);Re(Cn(V,{}),L=>r=L,()=>r),$(()=>{B(k,t.selectedArea.icon),B(D,t.selectedArea.name),re(S,1,`btn ${n(u)?"btn-success":"btn-ghost"} btn-xs`),B(w,` ${n(u)?"Done":"Reorder"}`)}),C(e,f),be()}_e(["click"]);var Ol=z('<button type="button"> </button>'),jl=z('<div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Status</label> <div class="flex flex-wrap gap-2"></div></div>'),Ml=z('<div class="fixed inset-0 z-50"><div class="absolute inset-0 bg-black/60 " role="button" tabindex="0"></div> <div class="absolute bottom-0 left-0 right-0 bg-base-300 rounded-t-2xl sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-md sm:rounded-xl sm:border sm:border-base-content/10"><div class="flex justify-between items-center p-4 border-b border-base-content/10"><h2 class="text-lg font-semibold"> </h2> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-lg hover:bg-base-200 text-base-content/50 hover:text-base-content">âœ•</button></div> <div class="p-4 space-y-4"><div><label class="block text-xs uppercase tracking-wider text-base-content/50 mb-2">Name</label> <input type="text" class="input input-bordered w-full" placeholder="e.g., Read chapter 1, Write blog post"/></div> <!></div> <div class="flex gap-3 p-4 border-t border-base-content/10"><div class="flex-1"></div> <button type="button" class="btn btn-ghost btn-sm">Cancel</button> <button type="button" class="btn btn-primary btn-sm"> </button></div></div></div>');function Pl(e,t){ge(t,!0);let r=X(!1),a=X(null),o=X(""),i=X("active"),s;function u(){I(a,null),I(o,""),I(i,"active"),I(r,!0),setTimeout(()=>s.focus(),100)}function g(m,h){m.stopPropagation(),I(a,h,!0),I(o,h.name,!0),I(i,h.status,!0),I(r,!0),setTimeout(()=>s.focus(),100)}function l(){I(r,!1),I(a,null)}async function d(){!n(o).trim()||!t.selectedProject||!t.selectedArea||(n(a)?await ln(t.selectedProject.id,n(a).index,{name:n(o).trim(),status:n(i)}):await sn(t.selectedProject.id,t.selectedArea.id,n(o).trim()),l())}var x={openCreateTaskModal:u,openEditTaskModal:g},f=ue(),p=ae(f);{var b=m=>{var h=Ml(),y=v(h);y.__click=l,y.__keydown=G=>G.key==="Escape"&&l();var k=_(y,2),T=v(k),D=v(T),O=v(D,!0);c(D);var S=_(D,2);S.__click=l,c(T);var w=_(T,2),j=v(w),A=_(v(j),2);ot(A),A.__keydown=G=>G.key==="Enter"&&d(),Re(A,G=>s=G,()=>s),c(j);var M=_(j,2);{var P=G=>{var V=jl(),L=_(v(V),2);we(L,21,()=>el,Be,(N,H)=>{var E=Ol();E.__click=()=>I(i,n(H).value,!0);var R=v(E,!0);c(E),$(()=>{re(E,1,`px-2 py-1.5 text-sm rounded-lg border transition-colors ${n(i)===n(H).value?"bg-primary text-primary-content border-primary":"border-base-content/20 hover:border-primary"}`),B(R,n(H).label)}),C(N,E)}),c(L),c(V),C(G,V)};Q(M,G=>{n(a)&&G(P)})}c(w);var F=_(w,2),U=_(v(F),2);U.__click=l;var W=_(U,2);W.__click=d;var Y=v(W,!0);c(W),c(F),c(k),c(h),$(G=>{B(O,n(a)?"Edit Task":"New Task"),W.disabled=G,B(Y,n(a)?"Save":"Create")},[()=>!n(o).trim()]),ze(3,y,()=>Ct,()=>({duration:200})),ua(A,()=>n(o),G=>I(o,G)),ze(3,k,()=>Ot,()=>({y:300,duration:300})),C(m,h)};Q(p,m=>{n(r)&&m(b)})}return C(e,f),be(x)}_e(["click","keydown"]);var Rl=Zt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>'),Nl=Zt('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>'),Ll=Zt('<svg class="w-3 h-3 text-warning" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"></rect><rect x="14" y="4" width="4" height="16" rx="1"></rect></svg>'),Fl=z('<button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†‘</button> <button aria-label="edit" class="me-1 size-7 bg-base-300 hover:bg-base-100 cursor-pointer flex justify-center rounded-lg text-base-content/50 items-center">â†“</button>',1),Bl=z('<div tabindex="0" role="button" class="hover:bg-base-100 cursor-pointer w-full flex flex-row items-start py-4 px-3 bg-base-200 rounded-md"><button type="button"><!></button> <div class="text-sm text-base-content/80 flex-1 "> </div> <!></div>');function zl(e,t){ge(t,!0);const r=J(()=>t.task.status==="completed"),a=J(()=>t.task.status==="cancelled"),o=J(()=>t.task.status==="blocked");var i=Bl();i.__click=b=>t.handleEdit(b,t.task);var s=v(i);s.__click=b=>t.toggleTaskComplete(b,t.task);var u=v(s);{var g=b=>{var m=Rl();C(b,m)},l=b=>{var m=ue(),h=ae(m);{var y=T=>{var D=Nl();C(T,D)},k=T=>{var D=ue(),O=ae(D);{var S=w=>{var j=Ll();C(w,j)};Q(O,w=>{n(o)&&w(S)},!0)}C(T,D)};Q(h,T=>{n(a)?T(y):T(k,!1)},!0)}C(b,m)};Q(u,b=>{n(r)?b(g):b(l,!1)})}c(s);var d=_(s,2),x=v(d,!0);c(d);var f=_(d,2);{var p=b=>{var m=Fl(),h=ae(m);h.__click=k=>t.handleTaskMoveUp(k,t.index);var y=_(h,2);y.__click=k=>t.handleTaskMoveDown(k,t.index),C(b,m)};Q(f,b=>{t.reorderEnabled&&b(p)})}c(i),$(()=>{re(s,1,`w-6 h-6 cursor-pointer rounded-full border-2 flex me-2 items-center justify-center text-xs transition-colors flex-shrink-0 ${n(r)?"bg-success/70 border-success/10 text-success-content":n(o)?"border-warning":n(a)?"bg-error/80 border-error/30 text-error-content":"border-base-content/30 hover:border-success/70"}`),s.disabled=n(a),B(x,t.task.name)}),C(e,i),be()}_e(["click"]);var Wl=z("<span> </span>");function Gl(e,t){const r={active:{label:"Active",class:"bg-info/20 text-info"},blocked:{label:"Blocked",class:"bg-error/20 text-error"},someday:{label:"Someday",class:"bg-base-content/10 text-base-content/50"},completed:{label:"Completed",class:"bg-success/20 text-success"},cancelled:{label:"Cancelled",class:"bg-base-content/10 text-base-content/40"}},a=J(()=>r[t.status]||r.active);var o=Wl(),i=v(o,!0);c(o),$(()=>{re(o,1,`inline-flex items-center px-2 py-0.5 rounded text-2xs font-medium ${n(a).class??""}`),B(i,n(a).label)}),C(e,o)}var Hl=z("<div><!></div>"),Vl=z('<div class="flex flex-col h-full w-full bg-base-300"><div class="flex flex-col p-3 gap-3 border-b border-base-content/10"><div class="flex flex-row items-center justify-between h-9"><div class="flex flex-row items-center gap-1 text-xs  text-muted"><div class="text-base"> </div> <div> </div></div> <div class="flex flex-row gap-2"><button aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M2 11h21V6H2zm1-4h19v3H3zM2 18h21v-5H2zm1-4h19v3H3zm7 6h5l-2.5 2.574zm0-16l2.5-2.574L15 4z"></path><path fill="none" d="M0 0h24v24H0z"></path></g></svg> </button> <button class="btn btn-ghost btn-xs" aria-label="edit"><svg viewBox="0 0 24 24" class="size-4" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg></button></div></div> <div class="mb-1"> </div> <div class="flex flex-row items-center justify-between"><div class="flex flex-row gap-2 items-center"><!> <!></div> <button type="button" class="text-xs flex items-center cursor-pointer mb-1 text-primary"><span class="me-1 text-base">+</span> <span>Add Task</span></button></div></div> <div class="flex-1 overflow-auto min-h-0 pb-5 pt-2.5"><div class="flex flex-col px-2 py-0 gap-2"></div></div></div> <!> <!>',1);function Ul(e,t){ge(t,!0);let r,a,o=J(()=>bt.getByProject(t.selectedProject.id)),i=X(!1),s=()=>I(i,!n(i));async function u(L,N){if(L.stopPropagation(),!t.selectedProject)return;const H=N.status==="completed"?"active":"completed";await ln(t.selectedProject.id,N.index,{status:H})}async function g(L,N){if(L.stopPropagation(),N===0||!t.selectedProject)return;const H=n(o),E=bt.getByProject(t.selectedProject.id),R=H[N],Z=H[N-1],ee=E.findIndex(se=>se.id===Z.id),q=ee>0?E[ee-1].index:null,te=Z.index;await Ea(t.selectedProject.id,R.index,q,te)}async function l(L,N){if(L.stopPropagation(),!t.selectedProject)return;const H=n(o);if(N===H.length-1)return;const E=bt.getByProject(t.selectedProject.id),R=H[N],Z=H[N+1],ee=E.findIndex(se=>se.id===Z.id),q=Z.index,te=ee<E.length-1?E[ee+1].index:null;await Ea(t.selectedProject.id,R.index,q,te)}var d=Vl(),x=ae(d),f=v(x),p=v(f),b=v(p),m=v(b),h=v(m,!0);c(m);var y=_(m,2),k=v(y,!0);c(y),c(b);var T=_(b,2),D=v(T);D.__click=s;var O=_(v(D));c(D);var S=_(D,2);S.__click=L=>r.openEditProjectModal(L,t.selectedProject),c(T),c(p);var w=_(p,2),j=v(w,!0);c(w);var A=_(w,2),M=v(A),P=v(M);Gl(P,{get status(){return t.selectedProject.status}});var F=_(P,2);wr(F,{get level(){return t.selectedProject.severity},get type(){return t.selectedProject.type}}),c(M);var U=_(M,2);U.__click=function(...L){a.openCreateTaskModal?.apply(this,L)},c(A),c(f);var W=_(f,2),Y=v(W);we(Y,31,()=>n(o),L=>L.id,(L,N,H)=>{var E=Hl(),R=v(E);zl(R,{get handleEdit(){return a.openEditTaskModal},handleTaskMoveUp:g,handleTaskMoveDown:l,get index(){return n(H)},get task(){return n(N)},toggleTaskComplete:u,get reorderEnabled(){return n(i)}}),c(E),qt(E,()=>$t,()=>({duration:250,easing:ha})),C(L,E)}),c(Y),c(W),c(x);var G=_(x,2);Re(Pl(G,{get selectedArea(){return t.selectedArea},get selectedProject(){return t.selectedProject}}),L=>a=L,()=>a);var V=_(G,2);Re(On(V,{get selectedArea(){return t.selectedArea}}),L=>r=L,()=>r),$(()=>{B(h,t.selectedArea.icon),B(k,t.selectedArea.name),re(D,1,`btn ${n(i)?"btn-success":"btn-ghost"} btn-xs`),B(O,` ${n(i)?"Done":"Reorder"}`),B(j,t.selectedProject.name)}),C(e,d),be()}_e(["click"]);var Zl=z('<div class="flex items-center justify-center h-full text-base-content/50"><p>Review - Coming soon</p></div>'),Yl=z('<div class="h-screen flex flex-col bg-base-300 md:ml-20"><div class="max-md:pb-22 h-full"><!></div> <!></div>');function tc(e,t){ge(t,!0);const r=()=>s("areas"),a=()=>s("projects");let o=X(void 0),i=X(void 0);s("areas");function s(m){mo("",{activeTab:m})}function u(m){I(o,m,!0),s("projects")}function g(m){I(i,m,!0),I(o,ft.getById(m.areaId),!0),s("tasks")}var l=Yl(),d=v(l),x=v(d);{var f=m=>{bl(m,{onSelectArea:u})},p=m=>{var h=ue(),y=ae(h);{var k=D=>{Cl(D,{navigateBack:r,navigateToTasks:g,get selectedArea(){return n(o)}})},T=D=>{var O=ue(),S=ae(O);{var w=A=>{Ul(A,{navigateBack:a,get selectedArea(){return n(o)},get selectedProject(){return n(i)}})},j=A=>{var M=ue(),P=ae(M);{var F=W=>{Ns(W,{navigateToTasks:g})},U=W=>{var Y=ue(),G=ae(Y);{var V=N=>{$s(N,{})},L=N=>{var H=ue(),E=ae(H);{var R=Z=>{var ee=Zl();C(Z,ee)};Q(E,Z=>{dt.state.activeTab==="review"&&Z(R)},!0)}C(N,H)};Q(G,N=>{dt.state.activeTab==="today"?N(V):N(L,!1)},!0)}C(W,Y)};Q(P,W=>{dt.state.activeTab==="week"?W(F):W(U,!1)},!0)}C(A,M)};Q(S,A=>{dt.state.activeTab=="tasks"?A(w):A(j,!1)},!0)}C(D,O)};Q(y,D=>{dt.state.activeTab==="projects"?D(k):D(T,!1)},!0)}C(m,h)};Q(x,m=>{dt.state.activeTab==="areas"?m(f):m(p,!1)})}c(d);var b=_(d,2);ti(b,{get activeTab(){return dt.state.activeTab},onTabChange:s}),c(l),C(e,l),be()}export{tc as component};
